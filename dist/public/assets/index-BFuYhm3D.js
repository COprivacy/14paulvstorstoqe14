var Ale=Object.defineProperty;var JD=e=>{throw TypeError(e)};var Cle=(e,t,r)=>t in e?Ale(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Oe=(e,t,r)=>Cle(e,typeof t!="symbol"?t+"":t,r),k4=(e,t,r)=>t.has(e)||JD("Cannot "+r);var Fe=(e,t,r)=>(k4(e,t,"read from private field"),r?r.call(e):t.get(e)),fr=(e,t,r)=>t.has(e)?JD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),qt=(e,t,r,n)=>(k4(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Wr=(e,t,r)=>(k4(e,t,"access private method"),r);var P2=(e,t,r,n)=>({set _(a){qt(e,t,a,r)},get _(){return Fe(e,t,n)}});function Ele(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var k2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var QU={exports:{}},V5={},ZU={exports:{}},Xr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb=Symbol.for("react.element"),Ple=Symbol.for("react.portal"),kle=Symbol.for("react.fragment"),Tle=Symbol.for("react.strict_mode"),Ole=Symbol.for("react.profiler"),Dle=Symbol.for("react.provider"),Ile=Symbol.for("react.context"),Fle=Symbol.for("react.forward_ref"),Rle=Symbol.for("react.suspense"),Mle=Symbol.for("react.memo"),Lle=Symbol.for("react.lazy"),e8=Symbol.iterator;function $le(e){return e===null||typeof e!="object"?null:(e=e8&&e[e8]||e["@@iterator"],typeof e=="function"?e:null)}var JU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eV=Object.assign,tV={};function ox(e,t,r){this.props=e,this.context=t,this.refs=tV,this.updater=r||JU}ox.prototype.isReactComponent={};ox.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ox.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rV(){}rV.prototype=ox.prototype;function _k(e,t,r){this.props=e,this.context=t,this.refs=tV,this.updater=r||JU}var Sk=_k.prototype=new rV;Sk.constructor=_k;eV(Sk,ox.prototype);Sk.isPureReactComponent=!0;var t8=Array.isArray,nV=Object.prototype.hasOwnProperty,Ak={current:null},aV={key:!0,ref:!0,__self:!0,__source:!0};function iV(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)nV.call(t,n)&&!aV.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:pb,type:e,key:s,ref:o,props:a,_owner:Ak.current}}function Ble(e,t){return{$$typeof:pb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ck(e){return typeof e=="object"&&e!==null&&e.$$typeof===pb}function zle(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var r8=/\/+/g;function T4(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zle(""+e.key):t.toString(36)}function $w(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case pb:case Ple:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+T4(o,0):n,t8(a)?(r="",e!=null&&(r=e.replace(r8,"$&/")+"/"),$w(a,t,r,"",function(u){return u})):a!=null&&(Ck(a)&&(a=Ble(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(r8,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",t8(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+T4(s,l);o+=$w(s,t,r,c,a)}else if(c=$le(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+T4(s,l++),o+=$w(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function T2(e,t,r){if(e==null)return e;var n=[],a=0;return $w(e,n,"","",function(s){return t.call(r,s,a++)}),n}function qle(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ao={current:null},Bw={transition:null},Ule={ReactCurrentDispatcher:ao,ReactCurrentBatchConfig:Bw,ReactCurrentOwner:Ak};function sV(){throw Error("act(...) is not supported in production builds of React.")}Xr.Children={map:T2,forEach:function(e,t,r){T2(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return T2(e,function(){t++}),t},toArray:function(e){return T2(e,function(t){return t})||[]},only:function(e){if(!Ck(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xr.Component=ox;Xr.Fragment=kle;Xr.Profiler=Ole;Xr.PureComponent=_k;Xr.StrictMode=Tle;Xr.Suspense=Rle;Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ule;Xr.act=sV;Xr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=eV({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ak.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)nV.call(t,c)&&!aV.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:pb,type:e.type,key:a,ref:s,props:n,_owner:o}};Xr.createContext=function(e){return e={$$typeof:Ile,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dle,_context:e},e.Consumer=e};Xr.createElement=iV;Xr.createFactory=function(e){var t=iV.bind(null,e);return t.type=e,t};Xr.createRef=function(){return{current:null}};Xr.forwardRef=function(e){return{$$typeof:Fle,render:e}};Xr.isValidElement=Ck;Xr.lazy=function(e){return{$$typeof:Lle,_payload:{_status:-1,_result:e},_init:qle}};Xr.memo=function(e,t){return{$$typeof:Mle,type:e,compare:t===void 0?null:t}};Xr.startTransition=function(e){var t=Bw.transition;Bw.transition={};try{e()}finally{Bw.transition=t}};Xr.unstable_act=sV;Xr.useCallback=function(e,t){return ao.current.useCallback(e,t)};Xr.useContext=function(e){return ao.current.useContext(e)};Xr.useDebugValue=function(){};Xr.useDeferredValue=function(e){return ao.current.useDeferredValue(e)};Xr.useEffect=function(e,t){return ao.current.useEffect(e,t)};Xr.useId=function(){return ao.current.useId()};Xr.useImperativeHandle=function(e,t,r){return ao.current.useImperativeHandle(e,t,r)};Xr.useInsertionEffect=function(e,t){return ao.current.useInsertionEffect(e,t)};Xr.useLayoutEffect=function(e,t){return ao.current.useLayoutEffect(e,t)};Xr.useMemo=function(e,t){return ao.current.useMemo(e,t)};Xr.useReducer=function(e,t,r){return ao.current.useReducer(e,t,r)};Xr.useRef=function(e){return ao.current.useRef(e)};Xr.useState=function(e){return ao.current.useState(e)};Xr.useSyncExternalStore=function(e,t,r){return ao.current.useSyncExternalStore(e,t,r)};Xr.useTransition=function(){return ao.current.useTransition()};Xr.version="18.3.1";ZU.exports=Xr;var N=ZU.exports;const he=Nn(N),oV=Ele({__proto__:null,default:he},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vle=N,Wle=Symbol.for("react.element"),Hle=Symbol.for("react.fragment"),Gle=Object.prototype.hasOwnProperty,Kle=Vle.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yle={key:!0,ref:!0,__self:!0,__source:!0};function lV(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Gle.call(t,n)&&!Yle.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Wle,type:e,key:s,ref:o,props:a,_owner:Kle.current}}V5.Fragment=Hle;V5.jsx=lV;V5.jsxs=lV;QU.exports=V5;var i=QU.exports,cV={exports:{}},ml={},uV={exports:{}},dV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,K){var ae=q.length;q.push(K);e:for(;0<ae;){var ie=ae-1>>>1,O=q[ie];if(0<a(O,K))q[ie]=K,q[ae]=O,ae=ie;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var K=q[0],ae=q.pop();if(ae!==K){q[0]=ae;e:for(var ie=0,O=q.length,V=O>>>1;ie<V;){var D=2*(ie+1)-1,B=q[D],Q=D+1,Y=q[Q];if(0>a(B,ae))Q<O&&0>a(Y,B)?(q[ie]=Y,q[Q]=ae,ie=Q):(q[ie]=B,q[D]=ae,ie=D);else if(Q<O&&0>a(Y,ae))q[ie]=Y,q[Q]=ae,ie=Q;else break e}}return K}function a(q,K){var ae=q.sortIndex-K.sortIndex;return ae!==0?ae:q.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(q){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=q)n(u),K.sortIndex=K.expirationTime,t(c,K);else break;K=r(u)}}function j(q){if(p=!1,b(q),!g)if(r(c)!==null)g=!0,G(_);else{var K=r(u);K!==null&&W(j,K.startTime-q)}}function _(q,K){g=!1,p&&(p=!1,v(S),S=-1),m=!0;var ae=h;try{for(b(K),f=r(c);f!==null&&(!(f.expirationTime>K)||q&&!T());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,h=f.priorityLevel;var O=ie(f.expirationTime<=K);K=e.unstable_now(),typeof O=="function"?f.callback=O:f===r(c)&&n(c),b(K)}else n(c);f=r(c)}if(f!==null)var V=!0;else{var D=r(u);D!==null&&W(j,D.startTime-K),V=!1}return V}finally{f=null,h=ae,m=!1}}var P=!1,k=null,S=-1,E=5,M=-1;function T(){return!(e.unstable_now()-M<E)}function C(){if(k!==null){var q=e.unstable_now();M=q;var K=!0;try{K=k(!0,q)}finally{K?I():(P=!1,k=null)}}else P=!1}var I;if(typeof y=="function")I=function(){y(C)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=C,I=function(){z.postMessage(null)}}else I=function(){x(C,0)};function G(q){k=q,P||(P=!0,I())}function W(q,K){S=x(function(){q(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,G(_))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var ae=h;h=K;try{return q()}finally{h=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ae=h;h=q;try{return K()}finally{h=ae}},e.unstable_scheduleCallback=function(q,K,ae){var ie=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ie+ae:ie):ae=ie,q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ae+O,q={id:d++,callback:K,priorityLevel:q,startTime:ae,expirationTime:O,sortIndex:-1},ae>ie?(q.sortIndex=ae,t(u,q),r(c)===null&&q===r(u)&&(p?(v(S),S=-1):p=!0,W(j,ae-ie))):(q.sortIndex=O,t(c,q),g||m||(g=!0,G(_))),q},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(q){var K=h;return function(){var ae=h;h=K;try{return q.apply(this,arguments)}finally{h=ae}}}})(dV);uV.exports=dV;var Xle=uV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qle=N,fl=Xle;function _t(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fV=new Set,k1={};function dp(e,t){yg(e,t),yg(e+"Capture",t)}function yg(e,t){for(k1[e]=t,e=0;e<t.length;e++)fV.add(t[e])}var yd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),L3=Object.prototype.hasOwnProperty,Zle=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n8={},a8={};function Jle(e){return L3.call(a8,e)?!0:L3.call(n8,e)?!1:Zle.test(e)?a8[e]=!0:(n8[e]=!0,!1)}function ece(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tce(e,t,r,n){if(t===null||typeof t>"u"||ece(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function io(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var cs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cs[e]=new io(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cs[t]=new io(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cs[e]=new io(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cs[e]=new io(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cs[e]=new io(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cs[e]=new io(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cs[e]=new io(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cs[e]=new io(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cs[e]=new io(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ek=/[\-:]([a-z])/g;function Pk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ek,Pk);cs[t]=new io(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ek,Pk);cs[t]=new io(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ek,Pk);cs[t]=new io(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cs[e]=new io(e,1,!1,e.toLowerCase(),null,!1,!1)});cs.xlinkHref=new io("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cs[e]=new io(e,1,!1,e.toLowerCase(),null,!0,!0)});function kk(e,t,r,n){var a=cs.hasOwnProperty(t)?cs[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tce(t,r,a,n)&&(r=null),n||a===null?Jle(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Fd=Qle.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O2=Symbol.for("react.element"),h0=Symbol.for("react.portal"),m0=Symbol.for("react.fragment"),Tk=Symbol.for("react.strict_mode"),$3=Symbol.for("react.profiler"),hV=Symbol.for("react.provider"),mV=Symbol.for("react.context"),Ok=Symbol.for("react.forward_ref"),B3=Symbol.for("react.suspense"),z3=Symbol.for("react.suspense_list"),Dk=Symbol.for("react.memo"),xf=Symbol.for("react.lazy"),pV=Symbol.for("react.offscreen"),i8=Symbol.iterator;function fv(e){return e===null||typeof e!="object"?null:(e=i8&&e[i8]||e["@@iterator"],typeof e=="function"?e:null)}var xa=Object.assign,O4;function $v(e){if(O4===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);O4=t&&t[1]||""}return`
`+O4+e}var D4=!1;function I4(e,t){if(!e||D4)return"";D4=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{D4=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$v(e):""}function rce(e){switch(e.tag){case 5:return $v(e.type);case 16:return $v("Lazy");case 13:return $v("Suspense");case 19:return $v("SuspenseList");case 0:case 2:case 15:return e=I4(e.type,!1),e;case 11:return e=I4(e.type.render,!1),e;case 1:return e=I4(e.type,!0),e;default:return""}}function q3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case m0:return"Fragment";case h0:return"Portal";case $3:return"Profiler";case Tk:return"StrictMode";case B3:return"Suspense";case z3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mV:return(e.displayName||"Context")+".Consumer";case hV:return(e._context.displayName||"Context")+".Provider";case Ok:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dk:return t=e.displayName||null,t!==null?t:q3(e.type)||"Memo";case xf:t=e._payload,e=e._init;try{return q3(e(t))}catch{}}return null}function nce(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q3(t);case 8:return t===Tk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gV(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ace(e){var t=gV(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function D2(e){e._valueTracker||(e._valueTracker=ace(e))}function xV(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=gV(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function gj(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function U3(e,t){var r=t.checked;return xa({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function s8(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vV(e,t){t=t.checked,t!=null&&kk(e,"checked",t,!1)}function V3(e,t){vV(e,t);var r=Jf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?W3(e,t.type,r):t.hasOwnProperty("defaultValue")&&W3(e,t.type,Jf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function o8(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function W3(e,t,r){(t!=="number"||gj(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Bv=Array.isArray;function D0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jf(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function H3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_t(91));return xa({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function l8(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_t(92));if(Bv(r)){if(1<r.length)throw Error(_t(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jf(r)}}function yV(e,t){var r=Jf(t.value),n=Jf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function c8(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bV(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bV(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var I2,wV=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(I2=I2||document.createElement("div"),I2.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=I2.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function T1(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Qv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ice=["Webkit","ms","Moz","O"];Object.keys(Qv).forEach(function(e){ice.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qv[t]=Qv[e]})});function jV(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Qv.hasOwnProperty(e)&&Qv[e]?(""+t).trim():t+"px"}function NV(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=jV(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var sce=xa({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function K3(e,t){if(t){if(sce[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_t(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_t(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_t(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_t(62))}}function Y3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X3=null;function Ik(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Q3=null,I0=null,F0=null;function u8(e){if(e=vb(e)){if(typeof Q3!="function")throw Error(_t(280));var t=e.stateNode;t&&(t=Y5(t),Q3(e.stateNode,e.type,t))}}function _V(e){I0?F0?F0.push(e):F0=[e]:I0=e}function SV(){if(I0){var e=I0,t=F0;if(F0=I0=null,u8(e),t)for(e=0;e<t.length;e++)u8(t[e])}}function AV(e,t){return e(t)}function CV(){}var F4=!1;function EV(e,t,r){if(F4)return e(t,r);F4=!0;try{return AV(e,t,r)}finally{F4=!1,(I0!==null||F0!==null)&&(CV(),SV())}}function O1(e,t){var r=e.stateNode;if(r===null)return null;var n=Y5(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_t(231,t,typeof r));return r}var Z3=!1;if(yd)try{var hv={};Object.defineProperty(hv,"passive",{get:function(){Z3=!0}}),window.addEventListener("test",hv,hv),window.removeEventListener("test",hv,hv)}catch{Z3=!1}function oce(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Zv=!1,xj=null,vj=!1,J3=null,lce={onError:function(e){Zv=!0,xj=e}};function cce(e,t,r,n,a,s,o,l,c){Zv=!1,xj=null,oce.apply(lce,arguments)}function uce(e,t,r,n,a,s,o,l,c){if(cce.apply(this,arguments),Zv){if(Zv){var u=xj;Zv=!1,xj=null}else throw Error(_t(198));vj||(vj=!0,J3=u)}}function fp(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function PV(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d8(e){if(fp(e)!==e)throw Error(_t(188))}function dce(e){var t=e.alternate;if(!t){if(t=fp(e),t===null)throw Error(_t(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return d8(a),e;if(s===n)return d8(a),t;s=s.sibling}throw Error(_t(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(_t(189))}}if(r.alternate!==n)throw Error(_t(190))}if(r.tag!==3)throw Error(_t(188));return r.stateNode.current===r?e:t}function kV(e){return e=dce(e),e!==null?TV(e):null}function TV(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=TV(e);if(t!==null)return t;e=e.sibling}return null}var OV=fl.unstable_scheduleCallback,f8=fl.unstable_cancelCallback,fce=fl.unstable_shouldYield,hce=fl.unstable_requestPaint,$a=fl.unstable_now,mce=fl.unstable_getCurrentPriorityLevel,Fk=fl.unstable_ImmediatePriority,DV=fl.unstable_UserBlockingPriority,yj=fl.unstable_NormalPriority,pce=fl.unstable_LowPriority,IV=fl.unstable_IdlePriority,W5=null,uu=null;function gce(e){if(uu&&typeof uu.onCommitFiberRoot=="function")try{uu.onCommitFiberRoot(W5,e,void 0,(e.current.flags&128)===128)}catch{}}var bc=Math.clz32?Math.clz32:yce,xce=Math.log,vce=Math.LN2;function yce(e){return e>>>=0,e===0?32:31-(xce(e)/vce|0)|0}var F2=64,R2=4194304;function zv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bj(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=zv(l):(s&=o,s!==0&&(n=zv(s)))}else o=r&~a,o!==0?n=zv(o):s!==0&&(n=zv(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-bc(t),a=1<<r,n|=e[r],t&=~a;return n}function bce(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wce(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-bc(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=bce(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function eC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function FV(){var e=F2;return F2<<=1,!(F2&4194240)&&(F2=64),e}function R4(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gb(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bc(t),e[t]=r}function jce(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-bc(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function Rk(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-bc(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var On=0;function RV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var MV,Mk,LV,$V,BV,tC=!1,M2=[],qf=null,Uf=null,Vf=null,D1=new Map,I1=new Map,bf=[],Nce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h8(e,t){switch(e){case"focusin":case"focusout":qf=null;break;case"dragenter":case"dragleave":Uf=null;break;case"mouseover":case"mouseout":Vf=null;break;case"pointerover":case"pointerout":D1.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":I1.delete(t.pointerId)}}function mv(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=vb(t),t!==null&&Mk(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function _ce(e,t,r,n,a){switch(t){case"focusin":return qf=mv(qf,e,t,r,n,a),!0;case"dragenter":return Uf=mv(Uf,e,t,r,n,a),!0;case"mouseover":return Vf=mv(Vf,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return D1.set(s,mv(D1.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,I1.set(s,mv(I1.get(s)||null,e,t,r,n,a)),!0}return!1}function zV(e){var t=cm(e.target);if(t!==null){var r=fp(t);if(r!==null){if(t=r.tag,t===13){if(t=PV(r),t!==null){e.blockedOn=t,BV(e.priority,function(){LV(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);X3=n,r.target.dispatchEvent(n),X3=null}else return t=vb(r),t!==null&&Mk(t),e.blockedOn=r,!1;t.shift()}return!0}function m8(e,t,r){zw(e)&&r.delete(t)}function Sce(){tC=!1,qf!==null&&zw(qf)&&(qf=null),Uf!==null&&zw(Uf)&&(Uf=null),Vf!==null&&zw(Vf)&&(Vf=null),D1.forEach(m8),I1.forEach(m8)}function pv(e,t){e.blockedOn===t&&(e.blockedOn=null,tC||(tC=!0,fl.unstable_scheduleCallback(fl.unstable_NormalPriority,Sce)))}function F1(e){function t(a){return pv(a,e)}if(0<M2.length){pv(M2[0],e);for(var r=1;r<M2.length;r++){var n=M2[r];n.blockedOn===e&&(n.blockedOn=null)}}for(qf!==null&&pv(qf,e),Uf!==null&&pv(Uf,e),Vf!==null&&pv(Vf,e),D1.forEach(t),I1.forEach(t),r=0;r<bf.length;r++)n=bf[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<bf.length&&(r=bf[0],r.blockedOn===null);)zV(r),r.blockedOn===null&&bf.shift()}var R0=Fd.ReactCurrentBatchConfig,wj=!0;function Ace(e,t,r,n){var a=On,s=R0.transition;R0.transition=null;try{On=1,Lk(e,t,r,n)}finally{On=a,R0.transition=s}}function Cce(e,t,r,n){var a=On,s=R0.transition;R0.transition=null;try{On=4,Lk(e,t,r,n)}finally{On=a,R0.transition=s}}function Lk(e,t,r,n){if(wj){var a=rC(e,t,r,n);if(a===null)H4(e,t,n,jj,r),h8(e,n);else if(_ce(a,e,t,r,n))n.stopPropagation();else if(h8(e,n),t&4&&-1<Nce.indexOf(e)){for(;a!==null;){var s=vb(a);if(s!==null&&MV(s),s=rC(e,t,r,n),s===null&&H4(e,t,n,jj,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else H4(e,t,n,null,r)}}var jj=null;function rC(e,t,r,n){if(jj=null,e=Ik(n),e=cm(e),e!==null)if(t=fp(e),t===null)e=null;else if(r=t.tag,r===13){if(e=PV(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jj=e,null}function qV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mce()){case Fk:return 1;case DV:return 4;case yj:case pce:return 16;case IV:return 536870912;default:return 16}default:return 16}}var Df=null,$k=null,qw=null;function UV(){if(qw)return qw;var e,t=$k,r=t.length,n,a="value"in Df?Df.value:Df.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return qw=a.slice(e,1<n?1-n:void 0)}function Uw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function L2(){return!0}function p8(){return!1}function pl(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?L2:p8,this.isPropagationStopped=p8,this}return xa(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=L2)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=L2)},persist:function(){},isPersistent:L2}),t}var lx={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bk=pl(lx),xb=xa({},lx,{view:0,detail:0}),Ece=pl(xb),M4,L4,gv,H5=xa({},xb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gv&&(gv&&e.type==="mousemove"?(M4=e.screenX-gv.screenX,L4=e.screenY-gv.screenY):L4=M4=0,gv=e),M4)},movementY:function(e){return"movementY"in e?e.movementY:L4}}),g8=pl(H5),Pce=xa({},H5,{dataTransfer:0}),kce=pl(Pce),Tce=xa({},xb,{relatedTarget:0}),$4=pl(Tce),Oce=xa({},lx,{animationName:0,elapsedTime:0,pseudoElement:0}),Dce=pl(Oce),Ice=xa({},lx,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fce=pl(Ice),Rce=xa({},lx,{data:0}),x8=pl(Rce),Mce={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lce={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$ce={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bce(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$ce[e])?!!t[e]:!1}function zk(){return Bce}var zce=xa({},xb,{key:function(e){if(e.key){var t=Mce[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Uw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lce[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zk,charCode:function(e){return e.type==="keypress"?Uw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qce=pl(zce),Uce=xa({},H5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v8=pl(Uce),Vce=xa({},xb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zk}),Wce=pl(Vce),Hce=xa({},lx,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gce=pl(Hce),Kce=xa({},H5,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yce=pl(Kce),Xce=[9,13,27,32],qk=yd&&"CompositionEvent"in window,Jv=null;yd&&"documentMode"in document&&(Jv=document.documentMode);var Qce=yd&&"TextEvent"in window&&!Jv,VV=yd&&(!qk||Jv&&8<Jv&&11>=Jv),y8=" ",b8=!1;function WV(e,t){switch(e){case"keyup":return Xce.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HV(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var p0=!1;function Zce(e,t){switch(e){case"compositionend":return HV(t);case"keypress":return t.which!==32?null:(b8=!0,y8);case"textInput":return e=t.data,e===y8&&b8?null:e;default:return null}}function Jce(e,t){if(p0)return e==="compositionend"||!qk&&WV(e,t)?(e=UV(),qw=$k=Df=null,p0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return VV&&t.locale!=="ko"?null:t.data;default:return null}}var eue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eue[e.type]:t==="textarea"}function GV(e,t,r,n){_V(n),t=Nj(t,"onChange"),0<t.length&&(r=new Bk("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var e1=null,R1=null;function tue(e){aW(e,0)}function G5(e){var t=v0(e);if(xV(t))return e}function rue(e,t){if(e==="change")return t}var KV=!1;if(yd){var B4;if(yd){var z4="oninput"in document;if(!z4){var j8=document.createElement("div");j8.setAttribute("oninput","return;"),z4=typeof j8.oninput=="function"}B4=z4}else B4=!1;KV=B4&&(!document.documentMode||9<document.documentMode)}function N8(){e1&&(e1.detachEvent("onpropertychange",YV),R1=e1=null)}function YV(e){if(e.propertyName==="value"&&G5(R1)){var t=[];GV(t,R1,e,Ik(e)),EV(tue,t)}}function nue(e,t,r){e==="focusin"?(N8(),e1=t,R1=r,e1.attachEvent("onpropertychange",YV)):e==="focusout"&&N8()}function aue(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return G5(R1)}function iue(e,t){if(e==="click")return G5(t)}function sue(e,t){if(e==="input"||e==="change")return G5(t)}function oue(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ac=typeof Object.is=="function"?Object.is:oue;function M1(e,t){if(Ac(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!L3.call(t,a)||!Ac(e[a],t[a]))return!1}return!0}function _8(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function S8(e,t){var r=_8(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_8(r)}}function XV(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?XV(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function QV(){for(var e=window,t=gj();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=gj(e.document)}return t}function Uk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lue(e){var t=QV(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&XV(r.ownerDocument.documentElement,r)){if(n!==null&&Uk(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=S8(r,s);var o=S8(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cue=yd&&"documentMode"in document&&11>=document.documentMode,g0=null,nC=null,t1=null,aC=!1;function A8(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;aC||g0==null||g0!==gj(n)||(n=g0,"selectionStart"in n&&Uk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),t1&&M1(t1,n)||(t1=n,n=Nj(nC,"onSelect"),0<n.length&&(t=new Bk("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=g0)))}function $2(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var x0={animationend:$2("Animation","AnimationEnd"),animationiteration:$2("Animation","AnimationIteration"),animationstart:$2("Animation","AnimationStart"),transitionend:$2("Transition","TransitionEnd")},q4={},ZV={};yd&&(ZV=document.createElement("div").style,"AnimationEvent"in window||(delete x0.animationend.animation,delete x0.animationiteration.animation,delete x0.animationstart.animation),"TransitionEvent"in window||delete x0.transitionend.transition);function K5(e){if(q4[e])return q4[e];if(!x0[e])return e;var t=x0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ZV)return q4[e]=t[r];return e}var JV=K5("animationend"),eW=K5("animationiteration"),tW=K5("animationstart"),rW=K5("transitionend"),nW=new Map,C8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mh(e,t){nW.set(e,t),dp(t,[e])}for(var U4=0;U4<C8.length;U4++){var V4=C8[U4],uue=V4.toLowerCase(),due=V4[0].toUpperCase()+V4.slice(1);mh(uue,"on"+due)}mh(JV,"onAnimationEnd");mh(eW,"onAnimationIteration");mh(tW,"onAnimationStart");mh("dblclick","onDoubleClick");mh("focusin","onFocus");mh("focusout","onBlur");mh(rW,"onTransitionEnd");yg("onMouseEnter",["mouseout","mouseover"]);yg("onMouseLeave",["mouseout","mouseover"]);yg("onPointerEnter",["pointerout","pointerover"]);yg("onPointerLeave",["pointerout","pointerover"]);dp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dp("onBeforeInput",["compositionend","keypress","textInput","paste"]);dp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fue=new Set("cancel close invalid load scroll toggle".split(" ").concat(qv));function E8(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,uce(n,t,void 0,e),e.currentTarget=null}function aW(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;E8(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;E8(a,l,u),s=c}}}if(vj)throw e=J3,vj=!1,J3=null,e}function Jn(e,t){var r=t[cC];r===void 0&&(r=t[cC]=new Set);var n=e+"__bubble";r.has(n)||(iW(t,e,2,!1),r.add(n))}function W4(e,t,r){var n=0;t&&(n|=4),iW(r,e,n,t)}var B2="_reactListening"+Math.random().toString(36).slice(2);function L1(e){if(!e[B2]){e[B2]=!0,fV.forEach(function(r){r!=="selectionchange"&&(fue.has(r)||W4(r,!1,e),W4(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[B2]||(t[B2]=!0,W4("selectionchange",!1,t))}}function iW(e,t,r,n){switch(qV(t)){case 1:var a=Ace;break;case 4:a=Cce;break;default:a=Lk}r=a.bind(null,t,r,e),a=void 0,!Z3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function H4(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=cm(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}EV(function(){var u=s,d=Ik(r),f=[];e:{var h=nW.get(e);if(h!==void 0){var m=Bk,g=e;switch(e){case"keypress":if(Uw(r)===0)break e;case"keydown":case"keyup":m=qce;break;case"focusin":g="focus",m=$4;break;case"focusout":g="blur",m=$4;break;case"beforeblur":case"afterblur":m=$4;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=g8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kce;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Wce;break;case JV:case eW:case tW:m=Dce;break;case rW:m=Gce;break;case"scroll":m=Ece;break;case"wheel":m=Yce;break;case"copy":case"cut":case"paste":m=Fce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=v8}var p=(t&4)!==0,x=!p&&e==="scroll",v=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,b;y!==null;){b=y;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,v!==null&&(j=O1(y,v),j!=null&&p.push($1(y,j,b)))),x)break;y=y.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==X3&&(g=r.relatedTarget||r.fromElement)&&(cm(g)||g[bd]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?cm(g):null,g!==null&&(x=fp(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=g8,j="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=v8,j="onPointerLeave",v="onPointerEnter",y="pointer"),x=m==null?h:v0(m),b=g==null?h:v0(g),h=new p(j,y+"leave",m,r,d),h.target=x,h.relatedTarget=b,j=null,cm(d)===u&&(p=new p(v,y+"enter",g,r,d),p.target=b,p.relatedTarget=x,j=p),x=j,m&&g)t:{for(p=m,v=g,y=0,b=p;b;b=Bp(b))y++;for(b=0,j=v;j;j=Bp(j))b++;for(;0<y-b;)p=Bp(p),y--;for(;0<b-y;)v=Bp(v),b--;for(;y--;){if(p===v||v!==null&&p===v.alternate)break t;p=Bp(p),v=Bp(v)}p=null}else p=null;m!==null&&P8(f,h,m,p,!1),g!==null&&x!==null&&P8(f,x,g,p,!0)}}e:{if(h=u?v0(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=rue;else if(w8(h))if(KV)_=sue;else{_=aue;var P=nue}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=iue);if(_&&(_=_(e,u))){GV(f,_,r,d);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&W3(h,"number",h.value)}switch(P=u?v0(u):window,e){case"focusin":(w8(P)||P.contentEditable==="true")&&(g0=P,nC=u,t1=null);break;case"focusout":t1=nC=g0=null;break;case"mousedown":aC=!0;break;case"contextmenu":case"mouseup":case"dragend":aC=!1,A8(f,r,d);break;case"selectionchange":if(cue)break;case"keydown":case"keyup":A8(f,r,d)}var k;if(qk)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else p0?WV(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(VV&&r.locale!=="ko"&&(p0||S!=="onCompositionStart"?S==="onCompositionEnd"&&p0&&(k=UV()):(Df=d,$k="value"in Df?Df.value:Df.textContent,p0=!0)),P=Nj(u,S),0<P.length&&(S=new x8(S,e,null,r,d),f.push({event:S,listeners:P}),k?S.data=k:(k=HV(r),k!==null&&(S.data=k)))),(k=Qce?Zce(e,r):Jce(e,r))&&(u=Nj(u,"onBeforeInput"),0<u.length&&(d=new x8("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}aW(f,t)})}function $1(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Nj(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=O1(e,r),s!=null&&n.unshift($1(e,s,a)),s=O1(e,t),s!=null&&n.push($1(e,s,a))),e=e.return}return n}function Bp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function P8(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=O1(r,s),c!=null&&o.unshift($1(r,c,l))):a||(c=O1(r,s),c!=null&&o.push($1(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var hue=/\r\n?/g,mue=/\u0000|\uFFFD/g;function k8(e){return(typeof e=="string"?e:""+e).replace(hue,`
`).replace(mue,"")}function z2(e,t,r){if(t=k8(t),k8(e)!==t&&r)throw Error(_t(425))}function _j(){}var iC=null,sC=null;function oC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lC=typeof setTimeout=="function"?setTimeout:void 0,pue=typeof clearTimeout=="function"?clearTimeout:void 0,T8=typeof Promise=="function"?Promise:void 0,gue=typeof queueMicrotask=="function"?queueMicrotask:typeof T8<"u"?function(e){return T8.resolve(null).then(e).catch(xue)}:lC;function xue(e){setTimeout(function(){throw e})}function G4(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),F1(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);F1(t)}function Wf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function O8(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var cx=Math.random().toString(36).slice(2),eu="__reactFiber$"+cx,B1="__reactProps$"+cx,bd="__reactContainer$"+cx,cC="__reactEvents$"+cx,vue="__reactListeners$"+cx,yue="__reactHandles$"+cx;function cm(e){var t=e[eu];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bd]||r[eu]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=O8(e);e!==null;){if(r=e[eu])return r;e=O8(e)}return t}e=r,r=e.parentNode}return null}function vb(e){return e=e[eu]||e[bd],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function v0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_t(33))}function Y5(e){return e[B1]||null}var uC=[],y0=-1;function ph(e){return{current:e}}function na(e){0>y0||(e.current=uC[y0],uC[y0]=null,y0--)}function Yn(e,t){y0++,uC[y0]=e.current,e.current=t}var eh={},Os=ph(eh),vo=ph(!1),$m=eh;function bg(e,t){var r=e.type.contextTypes;if(!r)return eh;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yo(e){return e=e.childContextTypes,e!=null}function Sj(){na(vo),na(Os)}function D8(e,t,r){if(Os.current!==eh)throw Error(_t(168));Yn(Os,t),Yn(vo,r)}function sW(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(_t(108,nce(e)||"Unknown",a));return xa({},r,n)}function Aj(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||eh,$m=Os.current,Yn(Os,e),Yn(vo,vo.current),!0}function I8(e,t,r){var n=e.stateNode;if(!n)throw Error(_t(169));r?(e=sW(e,t,$m),n.__reactInternalMemoizedMergedChildContext=e,na(vo),na(Os),Yn(Os,e)):na(vo),Yn(vo,r)}var Ku=null,X5=!1,K4=!1;function oW(e){Ku===null?Ku=[e]:Ku.push(e)}function bue(e){X5=!0,oW(e)}function gh(){if(!K4&&Ku!==null){K4=!0;var e=0,t=On;try{var r=Ku;for(On=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ku=null,X5=!1}catch(a){throw Ku!==null&&(Ku=Ku.slice(e+1)),OV(Fk,gh),a}finally{On=t,K4=!1}}return null}var b0=[],w0=0,Cj=null,Ej=0,Tl=[],Ol=0,Bm=null,ed=1,td="";function Qh(e,t){b0[w0++]=Ej,b0[w0++]=Cj,Cj=e,Ej=t}function lW(e,t,r){Tl[Ol++]=ed,Tl[Ol++]=td,Tl[Ol++]=Bm,Bm=e;var n=ed;e=td;var a=32-bc(n)-1;n&=~(1<<a),r+=1;var s=32-bc(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,ed=1<<32-bc(t)+a|r<<a|n,td=s+e}else ed=1<<s|r<<a|n,td=e}function Vk(e){e.return!==null&&(Qh(e,1),lW(e,1,0))}function Wk(e){for(;e===Cj;)Cj=b0[--w0],b0[w0]=null,Ej=b0[--w0],b0[w0]=null;for(;e===Bm;)Bm=Tl[--Ol],Tl[Ol]=null,td=Tl[--Ol],Tl[Ol]=null,ed=Tl[--Ol],Tl[Ol]=null}var il=null,tl=null,sa=!1,uc=null;function cW(e,t){var r=Il(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function F8(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,il=e,tl=Wf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,il=e,tl=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Bm!==null?{id:ed,overflow:td}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Il(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,il=e,tl=null,!0):!1;default:return!1}}function dC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fC(e){if(sa){var t=tl;if(t){var r=t;if(!F8(e,t)){if(dC(e))throw Error(_t(418));t=Wf(r.nextSibling);var n=il;t&&F8(e,t)?cW(n,r):(e.flags=e.flags&-4097|2,sa=!1,il=e)}}else{if(dC(e))throw Error(_t(418));e.flags=e.flags&-4097|2,sa=!1,il=e}}}function R8(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;il=e}function q2(e){if(e!==il)return!1;if(!sa)return R8(e),sa=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oC(e.type,e.memoizedProps)),t&&(t=tl)){if(dC(e))throw uW(),Error(_t(418));for(;t;)cW(e,t),t=Wf(t.nextSibling)}if(R8(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_t(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){tl=Wf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}tl=null}}else tl=il?Wf(e.stateNode.nextSibling):null;return!0}function uW(){for(var e=tl;e;)e=Wf(e.nextSibling)}function wg(){tl=il=null,sa=!1}function Hk(e){uc===null?uc=[e]:uc.push(e)}var wue=Fd.ReactCurrentBatchConfig;function xv(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_t(309));var n=r.stateNode}if(!n)throw Error(_t(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(_t(284));if(!r._owner)throw Error(_t(290,e))}return e}function U2(e,t){throw e=Object.prototype.toString.call(t),Error(_t(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function M8(e){var t=e._init;return t(e._payload)}function dW(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=Yf(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,b,j){return y===null||y.tag!==6?(y=tA(b,v.mode,j),y.return=v,y):(y=a(y,b),y.return=v,y)}function c(v,y,b,j){var _=b.type;return _===m0?d(v,y,b.props.children,j,b.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===xf&&M8(_)===y.type)?(j=a(y,b.props),j.ref=xv(v,y,b),j.return=v,j):(j=Xw(b.type,b.key,b.props,null,v.mode,j),j.ref=xv(v,y,b),j.return=v,j)}function u(v,y,b,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=rA(b,v.mode,j),y.return=v,y):(y=a(y,b.children||[]),y.return=v,y)}function d(v,y,b,j,_){return y===null||y.tag!==7?(y=Pm(b,v.mode,j,_),y.return=v,y):(y=a(y,b),y.return=v,y)}function f(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=tA(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case O2:return b=Xw(y.type,y.key,y.props,null,v.mode,b),b.ref=xv(v,null,y),b.return=v,b;case h0:return y=rA(y,v.mode,b),y.return=v,y;case xf:var j=y._init;return f(v,j(y._payload),b)}if(Bv(y)||fv(y))return y=Pm(y,v.mode,b,null),y.return=v,y;U2(v,y)}return null}function h(v,y,b,j){var _=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(v,y,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case O2:return b.key===_?c(v,y,b,j):null;case h0:return b.key===_?u(v,y,b,j):null;case xf:return _=b._init,h(v,y,_(b._payload),j)}if(Bv(b)||fv(b))return _!==null?null:d(v,y,b,j,null);U2(v,b)}return null}function m(v,y,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(b)||null,l(y,v,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case O2:return v=v.get(j.key===null?b:j.key)||null,c(y,v,j,_);case h0:return v=v.get(j.key===null?b:j.key)||null,u(y,v,j,_);case xf:var P=j._init;return m(v,y,b,P(j._payload),_)}if(Bv(j)||fv(j))return v=v.get(b)||null,d(y,v,j,_,null);U2(y,j)}return null}function g(v,y,b,j){for(var _=null,P=null,k=y,S=y=0,E=null;k!==null&&S<b.length;S++){k.index>S?(E=k,k=null):E=k.sibling;var M=h(v,k,b[S],j);if(M===null){k===null&&(k=E);break}e&&k&&M.alternate===null&&t(v,k),y=s(M,y,S),P===null?_=M:P.sibling=M,P=M,k=E}if(S===b.length)return r(v,k),sa&&Qh(v,S),_;if(k===null){for(;S<b.length;S++)k=f(v,b[S],j),k!==null&&(y=s(k,y,S),P===null?_=k:P.sibling=k,P=k);return sa&&Qh(v,S),_}for(k=n(v,k);S<b.length;S++)E=m(k,v,S,b[S],j),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?S:E.key),y=s(E,y,S),P===null?_=E:P.sibling=E,P=E);return e&&k.forEach(function(T){return t(v,T)}),sa&&Qh(v,S),_}function p(v,y,b,j){var _=fv(b);if(typeof _!="function")throw Error(_t(150));if(b=_.call(b),b==null)throw Error(_t(151));for(var P=_=null,k=y,S=y=0,E=null,M=b.next();k!==null&&!M.done;S++,M=b.next()){k.index>S?(E=k,k=null):E=k.sibling;var T=h(v,k,M.value,j);if(T===null){k===null&&(k=E);break}e&&k&&T.alternate===null&&t(v,k),y=s(T,y,S),P===null?_=T:P.sibling=T,P=T,k=E}if(M.done)return r(v,k),sa&&Qh(v,S),_;if(k===null){for(;!M.done;S++,M=b.next())M=f(v,M.value,j),M!==null&&(y=s(M,y,S),P===null?_=M:P.sibling=M,P=M);return sa&&Qh(v,S),_}for(k=n(v,k);!M.done;S++,M=b.next())M=m(k,v,S,M.value,j),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?S:M.key),y=s(M,y,S),P===null?_=M:P.sibling=M,P=M);return e&&k.forEach(function(C){return t(v,C)}),sa&&Qh(v,S),_}function x(v,y,b,j){if(typeof b=="object"&&b!==null&&b.type===m0&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case O2:e:{for(var _=b.key,P=y;P!==null;){if(P.key===_){if(_=b.type,_===m0){if(P.tag===7){r(v,P.sibling),y=a(P,b.props.children),y.return=v,v=y;break e}}else if(P.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===xf&&M8(_)===P.type){r(v,P.sibling),y=a(P,b.props),y.ref=xv(v,P,b),y.return=v,v=y;break e}r(v,P);break}else t(v,P);P=P.sibling}b.type===m0?(y=Pm(b.props.children,v.mode,j,b.key),y.return=v,v=y):(j=Xw(b.type,b.key,b.props,null,v.mode,j),j.ref=xv(v,y,b),j.return=v,v=j)}return o(v);case h0:e:{for(P=b.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(v,y.sibling),y=a(y,b.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=rA(b,v.mode,j),y.return=v,v=y}return o(v);case xf:return P=b._init,x(v,y,P(b._payload),j)}if(Bv(b))return g(v,y,b,j);if(fv(b))return p(v,y,b,j);U2(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(v,y.sibling),y=a(y,b),y.return=v,v=y):(r(v,y),y=tA(b,v.mode,j),y.return=v,v=y),o(v)):r(v,y)}return x}var jg=dW(!0),fW=dW(!1),Pj=ph(null),kj=null,j0=null,Gk=null;function Kk(){Gk=j0=kj=null}function Yk(e){var t=Pj.current;na(Pj),e._currentValue=t}function hC(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function M0(e,t){kj=e,Gk=j0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(go=!0),e.firstContext=null)}function $l(e){var t=e._currentValue;if(Gk!==e)if(e={context:e,memoizedValue:t,next:null},j0===null){if(kj===null)throw Error(_t(308));j0=e,kj.dependencies={lanes:0,firstContext:e}}else j0=j0.next=e;return t}var um=null;function Xk(e){um===null?um=[e]:um.push(e)}function hW(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Xk(t)):(r.next=a.next,a.next=r),t.interleaved=r,wd(e,n)}function wd(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var vf=!1;function Qk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mW(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cd(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,cn&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,wd(e,r)}return a=n.interleaved,a===null?(t.next=t,Xk(n)):(t.next=a.next,a.next=t),n.interleaved=t,wd(e,r)}function Vw(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Rk(e,r)}}function L8(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Tj(e,t,r,n){var a=e.updateQueue;vf=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=xa({},f,h);break e;case 2:vf=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);qm|=o,e.lanes=o,e.memoizedState=f}}function $8(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(_t(191,a));a.call(n)}}}var yb={},du=ph(yb),z1=ph(yb),q1=ph(yb);function dm(e){if(e===yb)throw Error(_t(174));return e}function Zk(e,t){switch(Yn(q1,t),Yn(z1,e),Yn(du,yb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:G3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=G3(t,e)}na(du),Yn(du,t)}function Ng(){na(du),na(z1),na(q1)}function pW(e){dm(q1.current);var t=dm(du.current),r=G3(t,e.type);t!==r&&(Yn(z1,e),Yn(du,r))}function Jk(e){z1.current===e&&(na(du),na(z1))}var pa=ph(0);function Oj(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Y4=[];function eT(){for(var e=0;e<Y4.length;e++)Y4[e]._workInProgressVersionPrimary=null;Y4.length=0}var Ww=Fd.ReactCurrentDispatcher,X4=Fd.ReactCurrentBatchConfig,zm=0,ga=null,bi=null,Oi=null,Dj=!1,r1=!1,U1=0,jue=0;function ps(){throw Error(_t(321))}function tT(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ac(e[r],t[r]))return!1;return!0}function rT(e,t,r,n,a,s){if(zm=s,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ww.current=e===null||e.memoizedState===null?Aue:Cue,e=r(n,a),r1){s=0;do{if(r1=!1,U1=0,25<=s)throw Error(_t(301));s+=1,Oi=bi=null,t.updateQueue=null,Ww.current=Eue,e=r(n,a)}while(r1)}if(Ww.current=Ij,t=bi!==null&&bi.next!==null,zm=0,Oi=bi=ga=null,Dj=!1,t)throw Error(_t(300));return e}function nT(){var e=U1!==0;return U1=0,e}function Yc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oi===null?ga.memoizedState=Oi=e:Oi=Oi.next=e,Oi}function Bl(){if(bi===null){var e=ga.alternate;e=e!==null?e.memoizedState:null}else e=bi.next;var t=Oi===null?ga.memoizedState:Oi.next;if(t!==null)Oi=t,bi=e;else{if(e===null)throw Error(_t(310));bi=e,e={memoizedState:bi.memoizedState,baseState:bi.baseState,baseQueue:bi.baseQueue,queue:bi.queue,next:null},Oi===null?ga.memoizedState=Oi=e:Oi=Oi.next=e}return Oi}function V1(e,t){return typeof t=="function"?t(e):t}function Q4(e){var t=Bl(),r=t.queue;if(r===null)throw Error(_t(311));r.lastRenderedReducer=e;var n=bi,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((zm&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,ga.lanes|=d,qm|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,Ac(n,t.memoizedState)||(go=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,ga.lanes|=s,qm|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Z4(e){var t=Bl(),r=t.queue;if(r===null)throw Error(_t(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Ac(s,t.memoizedState)||(go=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function gW(){}function xW(e,t){var r=ga,n=Bl(),a=t(),s=!Ac(n.memoizedState,a);if(s&&(n.memoizedState=a,go=!0),n=n.queue,aT(bW.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Oi!==null&&Oi.memoizedState.tag&1){if(r.flags|=2048,W1(9,yW.bind(null,r,n,a,t),void 0,null),Li===null)throw Error(_t(349));zm&30||vW(r,t,a)}return a}function vW(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ga.updateQueue,t===null?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yW(e,t,r,n){t.value=r,t.getSnapshot=n,wW(t)&&jW(e)}function bW(e,t,r){return r(function(){wW(t)&&jW(e)})}function wW(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ac(e,r)}catch{return!0}}function jW(e){var t=wd(e,1);t!==null&&wc(t,e,1,-1)}function B8(e){var t=Yc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:V1,lastRenderedState:e},t.queue=e,e=e.dispatch=Sue.bind(null,ga,e),[t.memoizedState,e]}function W1(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ga.updateQueue,t===null?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function NW(){return Bl().memoizedState}function Hw(e,t,r,n){var a=Yc();ga.flags|=e,a.memoizedState=W1(1|t,r,void 0,n===void 0?null:n)}function Q5(e,t,r,n){var a=Bl();n=n===void 0?null:n;var s=void 0;if(bi!==null){var o=bi.memoizedState;if(s=o.destroy,n!==null&&tT(n,o.deps)){a.memoizedState=W1(t,r,s,n);return}}ga.flags|=e,a.memoizedState=W1(1|t,r,s,n)}function z8(e,t){return Hw(8390656,8,e,t)}function aT(e,t){return Q5(2048,8,e,t)}function _W(e,t){return Q5(4,2,e,t)}function SW(e,t){return Q5(4,4,e,t)}function AW(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function CW(e,t,r){return r=r!=null?r.concat([e]):null,Q5(4,4,AW.bind(null,t,e),r)}function iT(){}function EW(e,t){var r=Bl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tT(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function PW(e,t){var r=Bl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tT(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function kW(e,t,r){return zm&21?(Ac(r,t)||(r=FV(),ga.lanes|=r,qm|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,go=!0),e.memoizedState=r)}function Nue(e,t){var r=On;On=r!==0&&4>r?r:4,e(!0);var n=X4.transition;X4.transition={};try{e(!1),t()}finally{On=r,X4.transition=n}}function TW(){return Bl().memoizedState}function _ue(e,t,r){var n=Kf(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},OW(e))DW(t,r);else if(r=hW(e,t,r,n),r!==null){var a=Js();wc(r,e,n,a),IW(r,t,n)}}function Sue(e,t,r){var n=Kf(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(OW(e))DW(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ac(l,o)){var c=t.interleaved;c===null?(a.next=a,Xk(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=hW(e,t,a,n),r!==null&&(a=Js(),wc(r,e,n,a),IW(r,t,n))}}function OW(e){var t=e.alternate;return e===ga||t!==null&&t===ga}function DW(e,t){r1=Dj=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function IW(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Rk(e,r)}}var Ij={readContext:$l,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Aue={readContext:$l,useCallback:function(e,t){return Yc().memoizedState=[e,t===void 0?null:t],e},useContext:$l,useEffect:z8,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Hw(4194308,4,AW.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Hw(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hw(4,2,e,t)},useMemo:function(e,t){var r=Yc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Yc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_ue.bind(null,ga,e),[n.memoizedState,e]},useRef:function(e){var t=Yc();return e={current:e},t.memoizedState=e},useState:B8,useDebugValue:iT,useDeferredValue:function(e){return Yc().memoizedState=e},useTransition:function(){var e=B8(!1),t=e[0];return e=Nue.bind(null,e[1]),Yc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ga,a=Yc();if(sa){if(r===void 0)throw Error(_t(407));r=r()}else{if(r=t(),Li===null)throw Error(_t(349));zm&30||vW(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,z8(bW.bind(null,n,s,e),[e]),n.flags|=2048,W1(9,yW.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Yc(),t=Li.identifierPrefix;if(sa){var r=td,n=ed;r=(n&~(1<<32-bc(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=U1++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jue++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cue={readContext:$l,useCallback:EW,useContext:$l,useEffect:aT,useImperativeHandle:CW,useInsertionEffect:_W,useLayoutEffect:SW,useMemo:PW,useReducer:Q4,useRef:NW,useState:function(){return Q4(V1)},useDebugValue:iT,useDeferredValue:function(e){var t=Bl();return kW(t,bi.memoizedState,e)},useTransition:function(){var e=Q4(V1)[0],t=Bl().memoizedState;return[e,t]},useMutableSource:gW,useSyncExternalStore:xW,useId:TW,unstable_isNewReconciler:!1},Eue={readContext:$l,useCallback:EW,useContext:$l,useEffect:aT,useImperativeHandle:CW,useInsertionEffect:_W,useLayoutEffect:SW,useMemo:PW,useReducer:Z4,useRef:NW,useState:function(){return Z4(V1)},useDebugValue:iT,useDeferredValue:function(e){var t=Bl();return bi===null?t.memoizedState=e:kW(t,bi.memoizedState,e)},useTransition:function(){var e=Z4(V1)[0],t=Bl().memoizedState;return[e,t]},useMutableSource:gW,useSyncExternalStore:xW,useId:TW,unstable_isNewReconciler:!1};function ic(e,t){if(e&&e.defaultProps){t=xa({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function mC(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:xa({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Z5={isMounted:function(e){return(e=e._reactInternals)?fp(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Js(),a=Kf(e),s=cd(n,a);s.payload=t,r!=null&&(s.callback=r),t=Hf(e,s,a),t!==null&&(wc(t,e,a,n),Vw(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Js(),a=Kf(e),s=cd(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Hf(e,s,a),t!==null&&(wc(t,e,a,n),Vw(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Js(),n=Kf(e),a=cd(r,n);a.tag=2,t!=null&&(a.callback=t),t=Hf(e,a,n),t!==null&&(wc(t,e,n,r),Vw(t,e,n))}};function q8(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!M1(r,n)||!M1(a,s):!0}function FW(e,t,r){var n=!1,a=eh,s=t.contextType;return typeof s=="object"&&s!==null?s=$l(s):(a=yo(t)?$m:Os.current,n=t.contextTypes,s=(n=n!=null)?bg(e,a):eh),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Z5,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function U8(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Z5.enqueueReplaceState(t,t.state,null)}function pC(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Qk(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=$l(s):(s=yo(t)?$m:Os.current,a.context=bg(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(mC(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Z5.enqueueReplaceState(a,a.state,null),Tj(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function _g(e,t){try{var r="",n=t;do r+=rce(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function J4(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gC(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Pue=typeof WeakMap=="function"?WeakMap:Map;function RW(e,t,r){r=cd(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Rj||(Rj=!0,AC=n),gC(e,t)},r}function MW(e,t,r){r=cd(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){gC(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){gC(e,t),typeof n!="function"&&(Gf===null?Gf=new Set([this]):Gf.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function V8(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Pue;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Uue.bind(null,e,t,r),t.then(e,e))}function W8(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function H8(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=cd(-1,1),t.tag=2,Hf(r,t,1))),r.lanes|=1),e)}var kue=Fd.ReactCurrentOwner,go=!1;function Us(e,t,r,n){t.child=e===null?fW(t,null,r,n):jg(t,e.child,r,n)}function G8(e,t,r,n,a){r=r.render;var s=t.ref;return M0(t,a),n=rT(e,t,r,n,s,a),r=nT(),e!==null&&!go?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,jd(e,t,a)):(sa&&r&&Vk(t),t.flags|=1,Us(e,t,n,a),t.child)}function K8(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!hT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,LW(e,t,s,n,a)):(e=Xw(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:M1,r(o,n)&&e.ref===t.ref)return jd(e,t,a)}return t.flags|=1,e=Yf(s,n),e.ref=t.ref,e.return=t,t.child=e}function LW(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(M1(s,n)&&e.ref===t.ref)if(go=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(go=!0);else return t.lanes=e.lanes,jd(e,t,a)}return xC(e,t,r,n,a)}function $W(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(_0,Vo),Vo|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yn(_0,Vo),Vo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Yn(_0,Vo),Vo|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Yn(_0,Vo),Vo|=n;return Us(e,t,a,r),t.child}function BW(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xC(e,t,r,n,a){var s=yo(r)?$m:Os.current;return s=bg(t,s),M0(t,a),r=rT(e,t,r,n,s,a),n=nT(),e!==null&&!go?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,jd(e,t,a)):(sa&&n&&Vk(t),t.flags|=1,Us(e,t,r,a),t.child)}function Y8(e,t,r,n,a){if(yo(r)){var s=!0;Aj(t)}else s=!1;if(M0(t,a),t.stateNode===null)Gw(e,t),FW(t,r,n),pC(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=$l(u):(u=yo(r)?$m:Os.current,u=bg(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&U8(t,o,n,u),vf=!1;var h=t.memoizedState;o.state=h,Tj(t,n,o,a),c=t.memoizedState,l!==n||h!==c||vo.current||vf?(typeof d=="function"&&(mC(t,r,d,n),c=t.memoizedState),(l=vf||q8(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,mW(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ic(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=$l(c):(c=yo(r)?$m:Os.current,c=bg(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&U8(t,o,n,c),vf=!1,h=t.memoizedState,o.state=h,Tj(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||vo.current||vf?(typeof m=="function"&&(mC(t,r,m,n),g=t.memoizedState),(u=vf||q8(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return vC(e,t,r,n,s,a)}function vC(e,t,r,n,a,s){BW(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&I8(t,r,!1),jd(e,t,s);n=t.stateNode,kue.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=jg(t,e.child,null,s),t.child=jg(t,null,l,s)):Us(e,t,l,s),t.memoizedState=n.state,a&&I8(t,r,!0),t.child}function zW(e){var t=e.stateNode;t.pendingContext?D8(e,t.pendingContext,t.pendingContext!==t.context):t.context&&D8(e,t.context,!1),Zk(e,t.containerInfo)}function X8(e,t,r,n,a){return wg(),Hk(a),t.flags|=256,Us(e,t,r,n),t.child}var yC={dehydrated:null,treeContext:null,retryLane:0};function bC(e){return{baseLanes:e,cachePool:null,transitions:null}}function qW(e,t,r){var n=t.pendingProps,a=pa.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Yn(pa,a&1),e===null)return fC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=t_(o,n,0,null),e=Pm(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=bC(r),t.memoizedState=yC,e):sT(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Tue(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Yf(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Yf(l,s):(s=Pm(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?bC(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=yC,n}return s=e.child,e=s.sibling,n=Yf(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function sT(e,t){return t=t_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function V2(e,t,r,n){return n!==null&&Hk(n),jg(t,e.child,null,r),e=sT(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tue(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=J4(Error(_t(422))),V2(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=t_({mode:"visible",children:n.children},a,0,null),s=Pm(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&jg(t,e.child,null,o),t.child.memoizedState=bC(o),t.memoizedState=yC,s);if(!(t.mode&1))return V2(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(_t(419)),n=J4(s,n,void 0),V2(e,t,o,n)}if(l=(o&e.childLanes)!==0,go||l){if(n=Li,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,wd(e,a),wc(n,e,a,-1))}return fT(),n=J4(Error(_t(421))),V2(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Vue.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,tl=Wf(a.nextSibling),il=t,sa=!0,uc=null,e!==null&&(Tl[Ol++]=ed,Tl[Ol++]=td,Tl[Ol++]=Bm,ed=e.id,td=e.overflow,Bm=t),t=sT(t,n.children),t.flags|=4096,t)}function Q8(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hC(e.return,t,r)}function eA(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function UW(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Us(e,t,n.children,r),n=pa.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Q8(e,r,t);else if(e.tag===19)Q8(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Yn(pa,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Oj(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),eA(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Oj(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}eA(t,!0,r,null,s);break;case"together":eA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jd(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),qm|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_t(153));if(t.child!==null){for(e=t.child,r=Yf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Oue(e,t,r){switch(t.tag){case 3:zW(t),wg();break;case 5:pW(t);break;case 1:yo(t.type)&&Aj(t);break;case 4:Zk(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Yn(Pj,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Yn(pa,pa.current&1),t.flags|=128,null):r&t.child.childLanes?qW(e,t,r):(Yn(pa,pa.current&1),e=jd(e,t,r),e!==null?e.sibling:null);Yn(pa,pa.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return UW(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Yn(pa,pa.current),n)break;return null;case 22:case 23:return t.lanes=0,$W(e,t,r)}return jd(e,t,r)}var VW,wC,WW,HW;VW=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wC=function(){};WW=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,dm(du.current);var s=null;switch(r){case"input":a=U3(e,a),n=U3(e,n),s=[];break;case"select":a=xa({},a,{value:void 0}),n=xa({},n,{value:void 0}),s=[];break;case"textarea":a=H3(e,a),n=H3(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_j)}K3(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(k1.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(k1.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Jn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};HW=function(e,t,r,n){r!==n&&(t.flags|=4)};function vv(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function gs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Due(e,t,r){var n=t.pendingProps;switch(Wk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(t),null;case 1:return yo(t.type)&&Sj(),gs(t),null;case 3:return n=t.stateNode,Ng(),na(vo),na(Os),eT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(q2(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,uc!==null&&(PC(uc),uc=null))),wC(e,t),gs(t),null;case 5:Jk(t);var a=dm(q1.current);if(r=t.type,e!==null&&t.stateNode!=null)WW(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(_t(166));return gs(t),null}if(e=dm(du.current),q2(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[eu]=t,n[B1]=s,e=(t.mode&1)!==0,r){case"dialog":Jn("cancel",n),Jn("close",n);break;case"iframe":case"object":case"embed":Jn("load",n);break;case"video":case"audio":for(a=0;a<qv.length;a++)Jn(qv[a],n);break;case"source":Jn("error",n);break;case"img":case"image":case"link":Jn("error",n),Jn("load",n);break;case"details":Jn("toggle",n);break;case"input":s8(n,s),Jn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Jn("invalid",n);break;case"textarea":l8(n,s),Jn("invalid",n)}K3(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&z2(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&z2(n.textContent,l,e),a=["children",""+l]):k1.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Jn("scroll",n)}switch(r){case"input":D2(n),o8(n,s,!0);break;case"textarea":D2(n),c8(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=_j)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bV(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[eu]=t,e[B1]=n,VW(e,t,!1,!1),t.stateNode=e;e:{switch(o=Y3(r,n),r){case"dialog":Jn("cancel",e),Jn("close",e),a=n;break;case"iframe":case"object":case"embed":Jn("load",e),a=n;break;case"video":case"audio":for(a=0;a<qv.length;a++)Jn(qv[a],e);a=n;break;case"source":Jn("error",e),a=n;break;case"img":case"image":case"link":Jn("error",e),Jn("load",e),a=n;break;case"details":Jn("toggle",e),a=n;break;case"input":s8(e,n),a=U3(e,n),Jn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=xa({},n,{value:void 0}),Jn("invalid",e);break;case"textarea":l8(e,n),a=H3(e,n),Jn("invalid",e);break;default:a=n}K3(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?NV(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wV(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&T1(e,c):typeof c=="number"&&T1(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(k1.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Jn("scroll",e):c!=null&&kk(e,s,c,o))}switch(r){case"input":D2(e),o8(e,n,!1);break;case"textarea":D2(e),c8(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jf(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?D0(e,!!n.multiple,s,!1):n.defaultValue!=null&&D0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=_j)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gs(t),null;case 6:if(e&&t.stateNode!=null)HW(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(_t(166));if(r=dm(q1.current),dm(du.current),q2(t)){if(n=t.stateNode,r=t.memoizedProps,n[eu]=t,(s=n.nodeValue!==r)&&(e=il,e!==null))switch(e.tag){case 3:z2(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&z2(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[eu]=t,t.stateNode=n}return gs(t),null;case 13:if(na(pa),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sa&&tl!==null&&t.mode&1&&!(t.flags&128))uW(),wg(),t.flags|=98560,s=!1;else if(s=q2(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(_t(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_t(317));s[eu]=t}else wg(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gs(t),s=!1}else uc!==null&&(PC(uc),uc=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pa.current&1?_i===0&&(_i=3):fT())),t.updateQueue!==null&&(t.flags|=4),gs(t),null);case 4:return Ng(),wC(e,t),e===null&&L1(t.stateNode.containerInfo),gs(t),null;case 10:return Yk(t.type._context),gs(t),null;case 17:return yo(t.type)&&Sj(),gs(t),null;case 19:if(na(pa),s=t.memoizedState,s===null)return gs(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)vv(s,!1);else{if(_i!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Oj(e),o!==null){for(t.flags|=128,vv(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Yn(pa,pa.current&1|2),t.child}e=e.sibling}s.tail!==null&&$a()>Sg&&(t.flags|=128,n=!0,vv(s,!1),t.lanes=4194304)}else{if(!n)if(e=Oj(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vv(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!sa)return gs(t),null}else 2*$a()-s.renderingStartTime>Sg&&r!==1073741824&&(t.flags|=128,n=!0,vv(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$a(),t.sibling=null,r=pa.current,Yn(pa,n?r&1|2:r&1),t):(gs(t),null);case 22:case 23:return dT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Vo&1073741824&&(gs(t),t.subtreeFlags&6&&(t.flags|=8192)):gs(t),null;case 24:return null;case 25:return null}throw Error(_t(156,t.tag))}function Iue(e,t){switch(Wk(t),t.tag){case 1:return yo(t.type)&&Sj(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ng(),na(vo),na(Os),eT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jk(t),null;case 13:if(na(pa),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_t(340));wg()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return na(pa),null;case 4:return Ng(),null;case 10:return Yk(t.type._context),null;case 22:case 23:return dT(),null;case 24:return null;default:return null}}var W2=!1,Ns=!1,Fue=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function N0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Sa(e,t,n)}else r.current=null}function jC(e,t,r){try{r()}catch(n){Sa(e,t,n)}}var Z8=!1;function Rue(e,t){if(iC=wj,e=QV(),Uk(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(sC={focusedElem:e,selectionRange:r},wj=!1,Gt=t;Gt!==null;)if(t=Gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Gt=e;else for(;Gt!==null;){t=Gt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:ic(t.type,p),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_t(163))}}catch(j){Sa(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Gt=e;break}Gt=t.return}return g=Z8,Z8=!1,g}function n1(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&jC(t,r,s)}a=a.next}while(a!==n)}}function J5(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function NC(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function GW(e){var t=e.alternate;t!==null&&(e.alternate=null,GW(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[eu],delete t[B1],delete t[cC],delete t[vue],delete t[yue])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function KW(e){return e.tag===5||e.tag===3||e.tag===4}function J8(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||KW(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _C(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_j));else if(n!==4&&(e=e.child,e!==null))for(_C(e,t,r),e=e.sibling;e!==null;)_C(e,t,r),e=e.sibling}function SC(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(SC(e,t,r),e=e.sibling;e!==null;)SC(e,t,r),e=e.sibling}var Ji=null,oc=!1;function of(e,t,r){for(r=r.child;r!==null;)YW(e,t,r),r=r.sibling}function YW(e,t,r){if(uu&&typeof uu.onCommitFiberUnmount=="function")try{uu.onCommitFiberUnmount(W5,r)}catch{}switch(r.tag){case 5:Ns||N0(r,t);case 6:var n=Ji,a=oc;Ji=null,of(e,t,r),Ji=n,oc=a,Ji!==null&&(oc?(e=Ji,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ji.removeChild(r.stateNode));break;case 18:Ji!==null&&(oc?(e=Ji,r=r.stateNode,e.nodeType===8?G4(e.parentNode,r):e.nodeType===1&&G4(e,r),F1(e)):G4(Ji,r.stateNode));break;case 4:n=Ji,a=oc,Ji=r.stateNode.containerInfo,oc=!0,of(e,t,r),Ji=n,oc=a;break;case 0:case 11:case 14:case 15:if(!Ns&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&jC(r,t,o),a=a.next}while(a!==n)}of(e,t,r);break;case 1:if(!Ns&&(N0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Sa(r,t,l)}of(e,t,r);break;case 21:of(e,t,r);break;case 22:r.mode&1?(Ns=(n=Ns)||r.memoizedState!==null,of(e,t,r),Ns=n):of(e,t,r);break;default:of(e,t,r)}}function eI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Fue),t.forEach(function(n){var a=Wue.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Jl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ji=l.stateNode,oc=!1;break e;case 3:Ji=l.stateNode.containerInfo,oc=!0;break e;case 4:Ji=l.stateNode.containerInfo,oc=!0;break e}l=l.return}if(Ji===null)throw Error(_t(160));YW(s,o,a),Ji=null,oc=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Sa(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)XW(t,e),t=t.sibling}function XW(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jl(t,e),Vc(e),n&4){try{n1(3,e,e.return),J5(3,e)}catch(p){Sa(e,e.return,p)}try{n1(5,e,e.return)}catch(p){Sa(e,e.return,p)}}break;case 1:Jl(t,e),Vc(e),n&512&&r!==null&&N0(r,r.return);break;case 5:if(Jl(t,e),Vc(e),n&512&&r!==null&&N0(r,r.return),e.flags&32){var a=e.stateNode;try{T1(a,"")}catch(p){Sa(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&vV(a,s),Y3(l,o);var u=Y3(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?NV(a,f):d==="dangerouslySetInnerHTML"?wV(a,f):d==="children"?T1(a,f):kk(a,d,f,u)}switch(l){case"input":V3(a,s);break;case"textarea":yV(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?D0(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?D0(a,!!s.multiple,s.defaultValue,!0):D0(a,!!s.multiple,s.multiple?[]:"",!1))}a[B1]=s}catch(p){Sa(e,e.return,p)}}break;case 6:if(Jl(t,e),Vc(e),n&4){if(e.stateNode===null)throw Error(_t(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(p){Sa(e,e.return,p)}}break;case 3:if(Jl(t,e),Vc(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{F1(t.containerInfo)}catch(p){Sa(e,e.return,p)}break;case 4:Jl(t,e),Vc(e);break;case 13:Jl(t,e),Vc(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(cT=$a())),n&4&&eI(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ns=(u=Ns)||d,Jl(t,e),Ns=u):Jl(t,e),Vc(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Gt=e,d=e.child;d!==null;){for(f=Gt=d;Gt!==null;){switch(h=Gt,m=h.child,h.tag){case 0:case 11:case 14:case 15:n1(4,h,h.return);break;case 1:N0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Sa(n,r,p)}}break;case 5:N0(h,h.return);break;case 22:if(h.memoizedState!==null){rI(f);continue}}m!==null?(m.return=h,Gt=m):rI(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jV("display",o))}catch(p){Sa(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Sa(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jl(t,e),Vc(e),n&4&&eI(e);break;case 21:break;default:Jl(t,e),Vc(e)}}function Vc(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(KW(r)){var n=r;break e}r=r.return}throw Error(_t(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(T1(a,""),n.flags&=-33);var s=J8(e);SC(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=J8(e);_C(e,l,o);break;default:throw Error(_t(161))}}catch(c){Sa(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mue(e,t,r){Gt=e,QW(e)}function QW(e,t,r){for(var n=(e.mode&1)!==0;Gt!==null;){var a=Gt,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||W2;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ns;l=W2;var u=Ns;if(W2=o,(Ns=c)&&!u)for(Gt=a;Gt!==null;)o=Gt,c=o.child,o.tag===22&&o.memoizedState!==null?nI(a):c!==null?(c.return=o,Gt=c):nI(a);for(;s!==null;)Gt=s,QW(s),s=s.sibling;Gt=a,W2=l,Ns=u}tI(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Gt=s):tI(e)}}function tI(e){for(;Gt!==null;){var t=Gt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ns||J5(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ns)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ic(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&$8(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$8(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&F1(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_t(163))}Ns||t.flags&512&&NC(t)}catch(h){Sa(t,t.return,h)}}if(t===e){Gt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Gt=r;break}Gt=t.return}}function rI(e){for(;Gt!==null;){var t=Gt;if(t===e){Gt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Gt=r;break}Gt=t.return}}function nI(e){for(;Gt!==null;){var t=Gt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{J5(4,t)}catch(c){Sa(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Sa(t,a,c)}}var s=t.return;try{NC(t)}catch(c){Sa(t,s,c)}break;case 5:var o=t.return;try{NC(t)}catch(c){Sa(t,o,c)}}}catch(c){Sa(t,t.return,c)}if(t===e){Gt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Gt=l;break}Gt=t.return}}var Lue=Math.ceil,Fj=Fd.ReactCurrentDispatcher,oT=Fd.ReactCurrentOwner,Ml=Fd.ReactCurrentBatchConfig,cn=0,Li=null,ni=null,os=0,Vo=0,_0=ph(0),_i=0,H1=null,qm=0,e_=0,lT=0,a1=null,mo=null,cT=0,Sg=1/0,Wu=null,Rj=!1,AC=null,Gf=null,H2=!1,If=null,Mj=0,i1=0,CC=null,Kw=-1,Yw=0;function Js(){return cn&6?$a():Kw!==-1?Kw:Kw=$a()}function Kf(e){return e.mode&1?cn&2&&os!==0?os&-os:wue.transition!==null?(Yw===0&&(Yw=FV()),Yw):(e=On,e!==0||(e=window.event,e=e===void 0?16:qV(e.type)),e):1}function wc(e,t,r,n){if(50<i1)throw i1=0,CC=null,Error(_t(185));gb(e,r,n),(!(cn&2)||e!==Li)&&(e===Li&&(!(cn&2)&&(e_|=r),_i===4&&wf(e,os)),bo(e,n),r===1&&cn===0&&!(t.mode&1)&&(Sg=$a()+500,X5&&gh()))}function bo(e,t){var r=e.callbackNode;wce(e,t);var n=bj(e,e===Li?os:0);if(n===0)r!==null&&f8(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&f8(r),t===1)e.tag===0?bue(aI.bind(null,e)):oW(aI.bind(null,e)),gue(function(){!(cn&6)&&gh()}),r=null;else{switch(RV(n)){case 1:r=Fk;break;case 4:r=DV;break;case 16:r=yj;break;case 536870912:r=IV;break;default:r=yj}r=iH(r,ZW.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ZW(e,t){if(Kw=-1,Yw=0,cn&6)throw Error(_t(327));var r=e.callbackNode;if(L0()&&e.callbackNode!==r)return null;var n=bj(e,e===Li?os:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Lj(e,n);else{t=n;var a=cn;cn|=2;var s=eH();(Li!==e||os!==t)&&(Wu=null,Sg=$a()+500,Em(e,t));do try{zue();break}catch(l){JW(e,l)}while(!0);Kk(),Fj.current=s,cn=a,ni!==null?t=0:(Li=null,os=0,t=_i)}if(t!==0){if(t===2&&(a=eC(e),a!==0&&(n=a,t=EC(e,a))),t===1)throw r=H1,Em(e,0),wf(e,n),bo(e,$a()),r;if(t===6)wf(e,n);else{if(a=e.current.alternate,!(n&30)&&!$ue(a)&&(t=Lj(e,n),t===2&&(s=eC(e),s!==0&&(n=s,t=EC(e,s))),t===1))throw r=H1,Em(e,0),wf(e,n),bo(e,$a()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(_t(345));case 2:Zh(e,mo,Wu);break;case 3:if(wf(e,n),(n&130023424)===n&&(t=cT+500-$a(),10<t)){if(bj(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Js(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=lC(Zh.bind(null,e,mo,Wu),t);break}Zh(e,mo,Wu);break;case 4:if(wf(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-bc(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=$a()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Lue(n/1960))-n,10<n){e.timeoutHandle=lC(Zh.bind(null,e,mo,Wu),n);break}Zh(e,mo,Wu);break;case 5:Zh(e,mo,Wu);break;default:throw Error(_t(329))}}}return bo(e,$a()),e.callbackNode===r?ZW.bind(null,e):null}function EC(e,t){var r=a1;return e.current.memoizedState.isDehydrated&&(Em(e,t).flags|=256),e=Lj(e,t),e!==2&&(t=mo,mo=r,t!==null&&PC(t)),e}function PC(e){mo===null?mo=e:mo.push.apply(mo,e)}function $ue(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Ac(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wf(e,t){for(t&=~lT,t&=~e_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bc(t),n=1<<r;e[r]=-1,t&=~n}}function aI(e){if(cn&6)throw Error(_t(327));L0();var t=bj(e,0);if(!(t&1))return bo(e,$a()),null;var r=Lj(e,t);if(e.tag!==0&&r===2){var n=eC(e);n!==0&&(t=n,r=EC(e,n))}if(r===1)throw r=H1,Em(e,0),wf(e,t),bo(e,$a()),r;if(r===6)throw Error(_t(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zh(e,mo,Wu),bo(e,$a()),null}function uT(e,t){var r=cn;cn|=1;try{return e(t)}finally{cn=r,cn===0&&(Sg=$a()+500,X5&&gh())}}function Um(e){If!==null&&If.tag===0&&!(cn&6)&&L0();var t=cn;cn|=1;var r=Ml.transition,n=On;try{if(Ml.transition=null,On=1,e)return e()}finally{On=n,Ml.transition=r,cn=t,!(cn&6)&&gh()}}function dT(){Vo=_0.current,na(_0)}function Em(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,pue(r)),ni!==null)for(r=ni.return;r!==null;){var n=r;switch(Wk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sj();break;case 3:Ng(),na(vo),na(Os),eT();break;case 5:Jk(n);break;case 4:Ng();break;case 13:na(pa);break;case 19:na(pa);break;case 10:Yk(n.type._context);break;case 22:case 23:dT()}r=r.return}if(Li=e,ni=e=Yf(e.current,null),os=Vo=t,_i=0,H1=null,lT=e_=qm=0,mo=a1=null,um!==null){for(t=0;t<um.length;t++)if(r=um[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}um=null}return e}function JW(e,t){do{var r=ni;try{if(Kk(),Ww.current=Ij,Dj){for(var n=ga.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Dj=!1}if(zm=0,Oi=bi=ga=null,r1=!1,U1=0,oT.current=null,r===null||r.return===null){_i=1,H1=t,ni=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=os,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=W8(o);if(m!==null){m.flags&=-257,H8(m,o,l,s,t),m.mode&1&&V8(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){V8(s,u,t),fT();break e}c=Error(_t(426))}}else if(sa&&l.mode&1){var x=W8(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),H8(x,o,l,s,t),Hk(_g(c,l));break e}}s=c=_g(c,l),_i!==4&&(_i=2),a1===null?a1=[s]:a1.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=RW(s,c,t);L8(s,v);break e;case 1:l=c;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Gf===null||!Gf.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=MW(s,l,t);L8(s,j);break e}}s=s.return}while(s!==null)}rH(r)}catch(_){t=_,ni===r&&r!==null&&(ni=r=r.return);continue}break}while(!0)}function eH(){var e=Fj.current;return Fj.current=Ij,e===null?Ij:e}function fT(){(_i===0||_i===3||_i===2)&&(_i=4),Li===null||!(qm&268435455)&&!(e_&268435455)||wf(Li,os)}function Lj(e,t){var r=cn;cn|=2;var n=eH();(Li!==e||os!==t)&&(Wu=null,Em(e,t));do try{Bue();break}catch(a){JW(e,a)}while(!0);if(Kk(),cn=r,Fj.current=n,ni!==null)throw Error(_t(261));return Li=null,os=0,_i}function Bue(){for(;ni!==null;)tH(ni)}function zue(){for(;ni!==null&&!fce();)tH(ni)}function tH(e){var t=aH(e.alternate,e,Vo);e.memoizedProps=e.pendingProps,t===null?rH(e):ni=t,oT.current=null}function rH(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Iue(r,t),r!==null){r.flags&=32767,ni=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_i=6,ni=null;return}}else if(r=Due(r,t,Vo),r!==null){ni=r;return}if(t=t.sibling,t!==null){ni=t;return}ni=t=e}while(t!==null);_i===0&&(_i=5)}function Zh(e,t,r){var n=On,a=Ml.transition;try{Ml.transition=null,On=1,que(e,t,r,n)}finally{Ml.transition=a,On=n}return null}function que(e,t,r,n){do L0();while(If!==null);if(cn&6)throw Error(_t(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_t(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(jce(e,s),e===Li&&(ni=Li=null,os=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||H2||(H2=!0,iH(yj,function(){return L0(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ml.transition,Ml.transition=null;var o=On;On=1;var l=cn;cn|=4,oT.current=null,Rue(e,r),XW(r,e),lue(sC),wj=!!iC,sC=iC=null,e.current=r,Mue(r),hce(),cn=l,On=o,Ml.transition=s}else e.current=r;if(H2&&(H2=!1,If=e,Mj=a),s=e.pendingLanes,s===0&&(Gf=null),gce(r.stateNode),bo(e,$a()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Rj)throw Rj=!1,e=AC,AC=null,e;return Mj&1&&e.tag!==0&&L0(),s=e.pendingLanes,s&1?e===CC?i1++:(i1=0,CC=e):i1=0,gh(),null}function L0(){if(If!==null){var e=RV(Mj),t=Ml.transition,r=On;try{if(Ml.transition=null,On=16>e?16:e,If===null)var n=!1;else{if(e=If,If=null,Mj=0,cn&6)throw Error(_t(331));var a=cn;for(cn|=4,Gt=e.current;Gt!==null;){var s=Gt,o=s.child;if(Gt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Gt=u;Gt!==null;){var d=Gt;switch(d.tag){case 0:case 11:case 15:n1(8,d,s)}var f=d.child;if(f!==null)f.return=d,Gt=f;else for(;Gt!==null;){d=Gt;var h=d.sibling,m=d.return;if(GW(d),d===u){Gt=null;break}if(h!==null){h.return=m,Gt=h;break}Gt=m}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}Gt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Gt=o;else e:for(;Gt!==null;){if(s=Gt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:n1(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Gt=v;break e}Gt=s.return}}var y=e.current;for(Gt=y;Gt!==null;){o=Gt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Gt=b;else e:for(o=y;Gt!==null;){if(l=Gt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:J5(9,l)}}catch(_){Sa(l,l.return,_)}if(l===o){Gt=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Gt=j;break e}Gt=l.return}}if(cn=a,gh(),uu&&typeof uu.onPostCommitFiberRoot=="function")try{uu.onPostCommitFiberRoot(W5,e)}catch{}n=!0}return n}finally{On=r,Ml.transition=t}}return!1}function iI(e,t,r){t=_g(r,t),t=RW(e,t,1),e=Hf(e,t,1),t=Js(),e!==null&&(gb(e,1,t),bo(e,t))}function Sa(e,t,r){if(e.tag===3)iI(e,e,r);else for(;t!==null;){if(t.tag===3){iI(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gf===null||!Gf.has(n))){e=_g(r,e),e=MW(t,e,1),t=Hf(t,e,1),e=Js(),t!==null&&(gb(t,1,e),bo(t,e));break}}t=t.return}}function Uue(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Js(),e.pingedLanes|=e.suspendedLanes&r,Li===e&&(os&r)===r&&(_i===4||_i===3&&(os&130023424)===os&&500>$a()-cT?Em(e,0):lT|=r),bo(e,t)}function nH(e,t){t===0&&(e.mode&1?(t=R2,R2<<=1,!(R2&130023424)&&(R2=4194304)):t=1);var r=Js();e=wd(e,t),e!==null&&(gb(e,t,r),bo(e,r))}function Vue(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),nH(e,r)}function Wue(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(_t(314))}n!==null&&n.delete(t),nH(e,r)}var aH;aH=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||vo.current)go=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return go=!1,Oue(e,t,r);go=!!(e.flags&131072)}else go=!1,sa&&t.flags&1048576&&lW(t,Ej,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gw(e,t),e=t.pendingProps;var a=bg(t,Os.current);M0(t,r),a=rT(null,t,n,e,a,r);var s=nT();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yo(n)?(s=!0,Aj(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Qk(t),a.updater=Z5,t.stateNode=a,a._reactInternals=t,pC(t,n,e,r),t=vC(null,t,n,!0,s,r)):(t.tag=0,sa&&s&&Vk(t),Us(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Gw(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Gue(n),e=ic(n,e),a){case 0:t=xC(null,t,n,e,r);break e;case 1:t=Y8(null,t,n,e,r);break e;case 11:t=G8(null,t,n,e,r);break e;case 14:t=K8(null,t,n,ic(n.type,e),r);break e}throw Error(_t(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ic(n,a),xC(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ic(n,a),Y8(e,t,n,a,r);case 3:e:{if(zW(t),e===null)throw Error(_t(387));n=t.pendingProps,s=t.memoizedState,a=s.element,mW(e,t),Tj(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=_g(Error(_t(423)),t),t=X8(e,t,n,r,a);break e}else if(n!==a){a=_g(Error(_t(424)),t),t=X8(e,t,n,r,a);break e}else for(tl=Wf(t.stateNode.containerInfo.firstChild),il=t,sa=!0,uc=null,r=fW(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wg(),n===a){t=jd(e,t,r);break e}Us(e,t,n,r)}t=t.child}return t;case 5:return pW(t),e===null&&fC(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,oC(n,a)?o=null:s!==null&&oC(n,s)&&(t.flags|=32),BW(e,t),Us(e,t,o,r),t.child;case 6:return e===null&&fC(t),null;case 13:return qW(e,t,r);case 4:return Zk(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=jg(t,null,n,r):Us(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ic(n,a),G8(e,t,n,a,r);case 7:return Us(e,t,t.pendingProps,r),t.child;case 8:return Us(e,t,t.pendingProps.children,r),t.child;case 12:return Us(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Yn(Pj,n._currentValue),n._currentValue=o,s!==null)if(Ac(s.value,o)){if(s.children===a.children&&!vo.current){t=jd(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=cd(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),hC(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(_t(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),hC(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Us(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,M0(t,r),a=$l(a),n=n(a),t.flags|=1,Us(e,t,n,r),t.child;case 14:return n=t.type,a=ic(n,t.pendingProps),a=ic(n.type,a),K8(e,t,n,a,r);case 15:return LW(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ic(n,a),Gw(e,t),t.tag=1,yo(n)?(e=!0,Aj(t)):e=!1,M0(t,r),FW(t,n,a),pC(t,n,a,r),vC(null,t,n,!0,e,r);case 19:return UW(e,t,r);case 22:return $W(e,t,r)}throw Error(_t(156,t.tag))};function iH(e,t){return OV(e,t)}function Hue(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Il(e,t,r,n){return new Hue(e,t,r,n)}function hT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gue(e){if(typeof e=="function")return hT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ok)return 11;if(e===Dk)return 14}return 2}function Yf(e,t){var r=e.alternate;return r===null?(r=Il(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Xw(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")hT(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case m0:return Pm(r.children,a,s,t);case Tk:o=8,a|=8;break;case $3:return e=Il(12,r,t,a|2),e.elementType=$3,e.lanes=s,e;case B3:return e=Il(13,r,t,a),e.elementType=B3,e.lanes=s,e;case z3:return e=Il(19,r,t,a),e.elementType=z3,e.lanes=s,e;case pV:return t_(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hV:o=10;break e;case mV:o=9;break e;case Ok:o=11;break e;case Dk:o=14;break e;case xf:o=16,n=null;break e}throw Error(_t(130,e==null?e:typeof e,""))}return t=Il(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Pm(e,t,r,n){return e=Il(7,e,n,t),e.lanes=r,e}function t_(e,t,r,n){return e=Il(22,e,n,t),e.elementType=pV,e.lanes=r,e.stateNode={isHidden:!1},e}function tA(e,t,r){return e=Il(6,e,null,t),e.lanes=r,e}function rA(e,t,r){return t=Il(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kue(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R4(0),this.expirationTimes=R4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R4(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function mT(e,t,r,n,a,s,o,l,c){return e=new Kue(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Il(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qk(s),e}function Yue(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function sH(e){if(!e)return eh;e=e._reactInternals;e:{if(fp(e)!==e||e.tag!==1)throw Error(_t(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_t(171))}if(e.tag===1){var r=e.type;if(yo(r))return sW(e,r,t)}return t}function oH(e,t,r,n,a,s,o,l,c){return e=mT(r,n,!0,e,a,s,o,l,c),e.context=sH(null),r=e.current,n=Js(),a=Kf(r),s=cd(n,a),s.callback=t??null,Hf(r,s,a),e.current.lanes=a,gb(e,a,n),bo(e,n),e}function r_(e,t,r,n){var a=t.current,s=Js(),o=Kf(a);return r=sH(r),t.context===null?t.context=r:t.pendingContext=r,t=cd(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Hf(a,t,o),e!==null&&(wc(e,a,o,s),Vw(e,a,o)),o}function $j(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function pT(e,t){sI(e,t),(e=e.alternate)&&sI(e,t)}function Xue(){return null}var lH=typeof reportError=="function"?reportError:function(e){console.error(e)};function gT(e){this._internalRoot=e}n_.prototype.render=gT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_t(409));r_(e,t,null,null)};n_.prototype.unmount=gT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Um(function(){r_(null,e,null,null)}),t[bd]=null}};function n_(e){this._internalRoot=e}n_.prototype.unstable_scheduleHydration=function(e){if(e){var t=$V();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bf.length&&t!==0&&t<bf[r].priority;r++);bf.splice(r,0,e),r===0&&zV(e)}};function xT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function a_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oI(){}function Que(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=$j(o);s.call(u)}}var o=oH(t,n,e,0,null,!1,!1,"",oI);return e._reactRootContainer=o,e[bd]=o.current,L1(e.nodeType===8?e.parentNode:e),Um(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=$j(c);l.call(u)}}var c=mT(e,0,!1,null,null,!1,!1,"",oI);return e._reactRootContainer=c,e[bd]=c.current,L1(e.nodeType===8?e.parentNode:e),Um(function(){r_(t,c,r,n)}),c}function i_(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=$j(o);l.call(c)}}r_(t,o,e,a)}else o=Que(r,t,e,a,n);return $j(o)}MV=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zv(t.pendingLanes);r!==0&&(Rk(t,r|1),bo(t,$a()),!(cn&6)&&(Sg=$a()+500,gh()))}break;case 13:Um(function(){var n=wd(e,1);if(n!==null){var a=Js();wc(n,e,1,a)}}),pT(e,1)}};Mk=function(e){if(e.tag===13){var t=wd(e,134217728);if(t!==null){var r=Js();wc(t,e,134217728,r)}pT(e,134217728)}};LV=function(e){if(e.tag===13){var t=Kf(e),r=wd(e,t);if(r!==null){var n=Js();wc(r,e,t,n)}pT(e,t)}};$V=function(){return On};BV=function(e,t){var r=On;try{return On=e,t()}finally{On=r}};Q3=function(e,t,r){switch(t){case"input":if(V3(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Y5(n);if(!a)throw Error(_t(90));xV(n),V3(n,a)}}}break;case"textarea":yV(e,r);break;case"select":t=r.value,t!=null&&D0(e,!!r.multiple,t,!1)}};AV=uT;CV=Um;var Zue={usingClientEntryPoint:!1,Events:[vb,v0,Y5,_V,SV,uT]},yv={findFiberByHostInstance:cm,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jue={bundleType:yv.bundleType,version:yv.version,rendererPackageName:yv.rendererPackageName,rendererConfig:yv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kV(e),e===null?null:e.stateNode},findFiberByHostInstance:yv.findFiberByHostInstance||Xue,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var G2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!G2.isDisabled&&G2.supportsFiber)try{W5=G2.inject(Jue),uu=G2}catch{}}ml.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zue;ml.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xT(t))throw Error(_t(200));return Yue(e,t,null,r)};ml.createRoot=function(e,t){if(!xT(e))throw Error(_t(299));var r=!1,n="",a=lH;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=mT(e,1,!1,null,null,r,!1,n,a),e[bd]=t.current,L1(e.nodeType===8?e.parentNode:e),new gT(t)};ml.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_t(188)):(e=Object.keys(e).join(","),Error(_t(268,e)));return e=kV(t),e=e===null?null:e.stateNode,e};ml.flushSync=function(e){return Um(e)};ml.hydrate=function(e,t,r){if(!a_(t))throw Error(_t(200));return i_(null,e,t,!0,r)};ml.hydrateRoot=function(e,t,r){if(!xT(e))throw Error(_t(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=lH;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=oH(t,null,e,1,r??null,a,!1,s,o),e[bd]=t.current,L1(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new n_(t)};ml.render=function(e,t,r){if(!a_(t))throw Error(_t(200));return i_(null,e,t,!1,r)};ml.unmountComponentAtNode=function(e){if(!a_(e))throw Error(_t(40));return e._reactRootContainer?(Um(function(){i_(null,null,e,!1,function(){e._reactRootContainer=null,e[bd]=null})}),!0):!1};ml.unstable_batchedUpdates=uT;ml.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!a_(r))throw Error(_t(200));if(e==null||e._reactInternals===void 0)throw Error(_t(38));return i_(e,t,r,!1,n)};ml.version="18.3.1-next-f1338f8080-20240426";function cH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cH)}catch(e){console.error(e)}}cH(),cV.exports=ml;var hp=cV.exports;const ede=Nn(hp);var uH,lI=hp;uH=lI.createRoot,lI.hydrateRoot;function tde(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,s,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),s=a.indexOf(".",1),o.push(a.substring(1,~n?n:~s?s:a.length)),l+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~n?"?":"")+"\\"+a.substring(s))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var dH={exports:{}},fH={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag=N;function rde(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nde=typeof Object.is=="function"?Object.is:rde,ade=Ag.useState,ide=Ag.useEffect,sde=Ag.useLayoutEffect,ode=Ag.useDebugValue;function lde(e,t){var r=t(),n=ade({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return sde(function(){a.value=r,a.getSnapshot=t,nA(a)&&s({inst:a})},[e,r,t]),ide(function(){return nA(a)&&s({inst:a}),e(function(){nA(a)&&s({inst:a})})},[e]),ode(r),r}function nA(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nde(e,r)}catch{return!0}}function cde(e,t){return t()}var ude=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cde:lde;fH.useSyncExternalStore=Ag.useSyncExternalStore!==void 0?Ag.useSyncExternalStore:ude;dH.exports=fH;var dde=dH.exports;const fde=oV.useInsertionEffect,hde=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mde=hde?N.useLayoutEffect:N.useEffect,pde=fde||mde,hH=e=>{const t=N.useRef([e,(...r)=>t[0](...r)]).current;return pde(()=>{t[0]=e}),t[1]},gde="popstate",vT="pushState",yT="replaceState",xde="hashchange",cI=[gde,vT,yT,xde],vde=e=>{for(const t of cI)addEventListener(t,e);return()=>{for(const t of cI)removeEventListener(t,e)}},mH=(e,t)=>dde.useSyncExternalStore(vde,e,t),yde=()=>location.search,bde=({ssrSearch:e=""}={})=>mH(yde,()=>e),uI=()=>location.pathname,wde=({ssrPath:e}={})=>mH(uI,e?()=>e:uI),jde=(e,{replace:t=!1,state:r=null}={})=>history[t?yT:vT](r,"",e),Nde=(e={})=>[wde(e),jde],dI=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[dI]>"u"){for(const e of[vT,yT]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,dI,{value:!0})}const _de=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",pH=(e="")=>e==="/"?"":e,Sde=(e,t)=>e[0]==="~"?e.slice(1):pH(t)+e,Ade=(e="",t)=>_de(fI(pH(e)),fI(t)),fI=e=>{try{return decodeURI(e)}catch{return e}},gH={hook:Nde,searchHook:bde,parser:tde,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},xH=N.createContext(gH),bb=()=>N.useContext(xH),vH={},yH=N.createContext(vH),bH=()=>N.useContext(yH),s_=e=>{const[t,r]=e.hook(e);return[Ade(e.base,t),hH((n,a)=>r(Sde(n,e.base),a))]},ui=()=>s_(bb()),wH=(e,t,r,n)=>{const{pattern:a,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},Cde=({children:e,...t})=>{var d,f;const r=bb(),n=t.hook?gH:r;let a=n;const[s,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=s),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=N.useRef({}),c=l.current,u=c;for(let h in n){const m=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&m!==u[h]&&(l.current=u={...u}),u[h]=m,m!==n[h]&&(a=u)}return N.createElement(xH.Provider,{value:a,children:e})},hI=({children:e,component:t},r)=>t?N.createElement(t,{params:r}):typeof e=="function"?e(r):e,Ede=e=>{let t=N.useRef(vH),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},An=({path:e,nest:t,match:r,...n})=>{const a=bb(),[s]=s_(a),[o,l,c]=r??wH(a.parser,e,s,t),u=Ede({...bH(),...l});if(!o)return null;const d=c?N.createElement(Cde,{base:c},hI(n,u)):hI(n,u);return N.createElement(yH.Provider,{value:u,children:d})},_s=N.forwardRef((e,t)=>{const r=bb(),[n,a]=s_(r),{to:s="",href:o=s,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...m}=e,g=hH(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l==null||l(x),x.defaultPrevented||(x.preventDefault(),a(o,e)))}),p=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&N.isValidElement(u)?N.cloneElement(u,{onClick:g,href:p}):N.createElement("a",{...m,onClick:g,href:p,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),jH=e=>Array.isArray(e)?e.flatMap(t=>jH(t&&t.type===N.Fragment?t.props.children:t)):[e],Pde=({children:e,location:t})=>{const r=bb(),[n]=s_(r);for(const a of jH(e)){let s=0;if(N.isValidElement(a)&&(s=wH(r.parser,a.props.path,t||n,a.props.nest))[0])return N.cloneElement(a,{match:s})}return null};var ux=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vm=typeof window>"u"||"Deno"in globalThis;function El(){}function kde(e,t){return typeof e=="function"?e(t):e}function kC(e){return typeof e=="number"&&e>=0&&e!==1/0}function NH(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $0(e,t){return typeof e=="function"?e(t):e}function dc(e,t){return typeof e=="function"?e(t):e}function mI(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==bT(o,t.options))return!1}else if(!G1(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function pI(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Wm(t.options.mutationKey)!==Wm(s))return!1}else if(!G1(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function bT(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wm)(e)}function Wm(e){return JSON.stringify(e,(t,r)=>TC(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function G1(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!G1(e[r],t[r])):!1}function _H(e,t){if(e===t)return e;const r=gI(e)&&gI(t);if(r||TC(e)&&TC(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:s[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=_H(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Bj(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function gI(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function TC(e){if(!xI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!xI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xI(e){return Object.prototype.toString.call(e)==="[object Object]"}function Tde(e){return new Promise(t=>{setTimeout(t,e)})}function OC(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?_H(e,t):t}function Ode(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Dde(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var wT=Symbol();function SH(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var wm,_f,sg,tB,Ide=(tB=class extends ux{constructor(){super();fr(this,wm);fr(this,_f);fr(this,sg);qt(this,sg,t=>{if(!Vm&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Fe(this,_f)||this.setEventListener(Fe(this,sg))}onUnsubscribe(){var t;this.hasListeners()||((t=Fe(this,_f))==null||t.call(this),qt(this,_f,void 0))}setEventListener(t){var r;qt(this,sg,t),(r=Fe(this,_f))==null||r.call(this),qt(this,_f,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Fe(this,wm)!==t&&(qt(this,wm,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Fe(this,wm)=="boolean"?Fe(this,wm):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wm=new WeakMap,_f=new WeakMap,sg=new WeakMap,tB),jT=new Ide,og,Sf,lg,rB,Fde=(rB=class extends ux{constructor(){super();fr(this,og,!0);fr(this,Sf);fr(this,lg);qt(this,lg,t=>{if(!Vm&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Fe(this,Sf)||this.setEventListener(Fe(this,lg))}onUnsubscribe(){var t;this.hasListeners()||((t=Fe(this,Sf))==null||t.call(this),qt(this,Sf,void 0))}setEventListener(t){var r;qt(this,lg,t),(r=Fe(this,Sf))==null||r.call(this),qt(this,Sf,t(this.setOnline.bind(this)))}setOnline(t){Fe(this,og)!==t&&(qt(this,og,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Fe(this,og)}},og=new WeakMap,Sf=new WeakMap,lg=new WeakMap,rB),zj=new Fde;function DC(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function Rde(e){return Math.min(1e3*2**e,3e4)}function AH(e){return(e??"online")==="online"?zj.isOnline():!0}var CH=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function aA(e){return e instanceof CH}function EH(e){let t=!1,r=0,n=!1,a;const s=DC(),o=p=>{var x;n||(h(new CH(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>jT.isFocused()&&(e.networkMode==="always"||zj.isOnline())&&e.canRun(),d=()=>AH(e.networkMode)&&e.canRun(),f=p=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,p),a==null||a(),s.resolve(p))},h=p=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,p),a==null||a(),s.reject(p))},m=()=>new Promise(p=>{var x;a=v=>{(n||u())&&p(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const x=r===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(f).catch(v=>{var P;if(n)return;const y=e.retry??(Vm?0:3),b=e.retryDelay??Rde,j=typeof b=="function"?b(r,v):b,_=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,v);if(t||!_){h(v);return}r++,(P=e.onFail)==null||P.call(e,r,v),Tde(j).then(()=>u()?void 0:m()).then(()=>{t?h(v):g()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}function Mde(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var wi=Mde(),jm,nB,PH=(nB=class{constructor(){fr(this,jm)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kC(this.gcTime)&&qt(this,jm,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Vm?1/0:5*60*1e3))}clearGcTimeout(){Fe(this,jm)&&(clearTimeout(Fe(this,jm)),qt(this,jm,void 0))}},jm=new WeakMap,nB),cg,ug,Cl,ws,db,Nm,sc,Uu,aB,Lde=(aB=class extends PH{constructor(t){super();fr(this,sc);fr(this,cg);fr(this,ug);fr(this,Cl);fr(this,ws);fr(this,db);fr(this,Nm);qt(this,Nm,!1),qt(this,db,t.defaultOptions),this.setOptions(t.options),this.observers=[],qt(this,Cl,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,qt(this,cg,$de(this.options)),this.state=t.state??Fe(this,cg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Fe(this,ws))==null?void 0:t.promise}setOptions(t){this.options={...Fe(this,db),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Fe(this,Cl).remove(this)}setData(t,r){const n=OC(this.state.data,t,this.options);return Wr(this,sc,Uu).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Wr(this,sc,Uu).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=Fe(this,ws))==null?void 0:n.promise;return(a=Fe(this,ws))==null||a.cancel(t),r?r.then(El).catch(El):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Fe(this,cg))}isActive(){return this.observers.some(t=>dc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!NH(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Fe(this,ws))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Fe(this,ws))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Fe(this,Cl).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Fe(this,ws)&&(Fe(this,Nm)?Fe(this,ws).cancel({revert:!0}):Fe(this,ws).cancelRetry()),this.scheduleGc()),Fe(this,Cl).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wr(this,sc,Uu).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Fe(this,ws))return Fe(this,ws).continueRetry(),Fe(this,ws).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(qt(this,Nm,!0),n.signal)})},s=()=>{const f=SH(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),qt(this,Nm,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),qt(this,ug,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Wr(this,sc,Uu).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,m,g,p;aA(f)&&f.silent||Wr(this,sc,Uu).call(this,{type:"error",error:f}),aA(f)||((m=(h=Fe(this,Cl).config).onError)==null||m.call(h,f,this),(p=(g=Fe(this,Cl).config).onSettled)==null||p.call(g,this.state.data,f,this)),this.scheduleGc()};return qt(this,ws,EH({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,g,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(m=(h=Fe(this,Cl).config).onSuccess)==null||m.call(h,f,this),(p=(g=Fe(this,Cl).config).onSettled)==null||p.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Wr(this,sc,Uu).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Wr(this,sc,Uu).call(this,{type:"pause"})},onContinue:()=>{Wr(this,sc,Uu).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Fe(this,ws).start()}},cg=new WeakMap,ug=new WeakMap,Cl=new WeakMap,ws=new WeakMap,db=new WeakMap,Nm=new WeakMap,sc=new WeakSet,Uu=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...kH(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return aA(a)&&a.revert&&Fe(this,ug)?{...Fe(this,ug),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),wi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Fe(this,Cl).notify({query:this,type:"updated",action:t})})},aB);function kH(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:AH(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $de(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Xc,iB,Bde=(iB=class extends ux{constructor(t={}){super();fr(this,Xc);this.config=t,qt(this,Xc,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??bT(a,r);let o=this.get(s);return o||(o=new Lde({cache:this,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Fe(this,Xc).has(t.queryHash)||(Fe(this,Xc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Fe(this,Xc).get(t.queryHash);r&&(t.destroy(),r===t&&Fe(this,Xc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Fe(this,Xc).get(t)}getAll(){return[...Fe(this,Xc).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>mI(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>mI(t,n)):r}notify(t){wi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){wi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xc=new WeakMap,iB),Qc,Bs,_m,Zc,mf,sB,zde=(sB=class extends PH{constructor(t){super();fr(this,Zc);fr(this,Qc);fr(this,Bs);fr(this,_m);this.mutationId=t.mutationId,qt(this,Bs,t.mutationCache),qt(this,Qc,[]),this.state=t.state||TH(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Fe(this,Qc).includes(t)||(Fe(this,Qc).push(t),this.clearGcTimeout(),Fe(this,Bs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){qt(this,Qc,Fe(this,Qc).filter(r=>r!==t)),this.scheduleGc(),Fe(this,Bs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Fe(this,Qc).length||(this.state.status==="pending"?this.scheduleGc():Fe(this,Bs).remove(this))}continue(){var t;return((t=Fe(this,_m))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,s,o,l,c,u,d,f,h,m,g,p,x,v,y,b,j,_,P,k;qt(this,_m,EH({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,E)=>{Wr(this,Zc,mf).call(this,{type:"failed",failureCount:S,error:E})},onPause:()=>{Wr(this,Zc,mf).call(this,{type:"pause"})},onContinue:()=>{Wr(this,Zc,mf).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Fe(this,Bs).canRun(this)}));const r=this.state.status==="pending",n=!Fe(this,_m).canStart();try{if(!r){Wr(this,Zc,mf).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(a=Fe(this,Bs).config).onMutate)==null?void 0:s.call(a,t,this));const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));E!==this.state.context&&Wr(this,Zc,mf).call(this,{type:"pending",context:E,variables:t,isPaused:n})}const S=await Fe(this,_m).start();return await((u=(c=Fe(this,Bs).config).onSuccess)==null?void 0:u.call(c,S,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,S,t,this.state.context)),await((m=(h=Fe(this,Bs).config).onSettled)==null?void 0:m.call(h,S,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,S,null,t,this.state.context)),Wr(this,Zc,mf).call(this,{type:"success",data:S}),S}catch(S){try{throw await((v=(x=Fe(this,Bs).config).onError)==null?void 0:v.call(x,S,t,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,S,t,this.state.context)),await((_=(j=Fe(this,Bs).config).onSettled)==null?void 0:_.call(j,void 0,S,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,S,t,this.state.context)),S}finally{Wr(this,Zc,mf).call(this,{type:"error",error:S})}}finally{Fe(this,Bs).runNext(this)}}},Qc=new WeakMap,Bs=new WeakMap,_m=new WeakMap,Zc=new WeakSet,mf=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),wi.batch(()=>{Fe(this,Qc).forEach(n=>{n.onMutationUpdate(t)}),Fe(this,Bs).notify({mutation:this,type:"updated",action:t})})},sB);function TH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qo,fb,oB,qde=(oB=class extends ux{constructor(t={}){super();fr(this,qo);fr(this,fb);this.config=t,qt(this,qo,new Map),qt(this,fb,Date.now())}build(t,r,n){const a=new zde({mutationCache:this,mutationId:++P2(this,fb)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=K2(t),n=Fe(this,qo).get(r)??[];n.push(t),Fe(this,qo).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=K2(t);if(Fe(this,qo).has(r)){const a=(n=Fe(this,qo).get(r))==null?void 0:n.filter(s=>s!==t);a&&(a.length===0?Fe(this,qo).delete(r):Fe(this,qo).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=Fe(this,qo).get(K2(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=Fe(this,qo).get(K2(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){wi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Fe(this,qo).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>pI(r,n))}findAll(t={}){return this.getAll().filter(r=>pI(t,r))}notify(t){wi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return wi.batch(()=>Promise.all(t.map(r=>r.continue().catch(El))))}},qo=new WeakMap,fb=new WeakMap,oB);function K2(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function vI(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},v=SH(t.options,t.fetchOptions),y=async(b,j,_)=>{if(p)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const P={queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};x(P);const k=await v(P),{maxPages:S}=t.options,E=_?Dde:Ode;return{pages:E(b.pages,k,S),pageParams:E(b.pageParams,j,S)}};if(a&&s.length){const b=a==="backward",j=b?Ude:yI,_={pages:s,pageParams:o},P=j(n,_);l=await y(_,P,b)}else{const b=e??s.length;do{const j=c===0?o[0]??n.initialPageParam:yI(n,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function yI(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Ude(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Na,Af,Cf,dg,fg,Ef,hg,mg,lB,Vde=(lB=class{constructor(e={}){fr(this,Na);fr(this,Af);fr(this,Cf);fr(this,dg);fr(this,fg);fr(this,Ef);fr(this,hg);fr(this,mg);qt(this,Na,e.queryCache||new Bde),qt(this,Af,e.mutationCache||new qde),qt(this,Cf,e.defaultOptions||{}),qt(this,dg,new Map),qt(this,fg,new Map),qt(this,Ef,0)}mount(){P2(this,Ef)._++,Fe(this,Ef)===1&&(qt(this,hg,jT.subscribe(async e=>{e&&(await this.resumePausedMutations(),Fe(this,Na).onFocus())})),qt(this,mg,zj.subscribe(async e=>{e&&(await this.resumePausedMutations(),Fe(this,Na).onOnline())})))}unmount(){var e,t;P2(this,Ef)._--,Fe(this,Ef)===0&&((e=Fe(this,hg))==null||e.call(this),qt(this,hg,void 0),(t=Fe(this,mg))==null||t.call(this),qt(this,mg,void 0))}isFetching(e){return Fe(this,Na).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Fe(this,Af).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Fe(this,Na).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=Fe(this,Na).build(this,r);return e.revalidateIfStale&&n.isStaleByTime($0(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return Fe(this,Na).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=Fe(this,Na).get(n.queryHash),s=a==null?void 0:a.state.data,o=kde(t,s);if(o!==void 0)return Fe(this,Na).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return wi.batch(()=>Fe(this,Na).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Fe(this,Na).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Fe(this,Na);wi.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Fe(this,Na),n={type:"active",...e};return wi.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=wi.batch(()=>Fe(this,Na).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(El).catch(El)}invalidateQueries(e={},t={}){return wi.batch(()=>{if(Fe(this,Na).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=wi.batch(()=>Fe(this,Na).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(El)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(El)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Fe(this,Na).build(this,t);return r.isStaleByTime($0(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(El).catch(El)}fetchInfiniteQuery(e){return e.behavior=vI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(El).catch(El)}ensureInfiniteQueryData(e){return e.behavior=vI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return zj.isOnline()?Fe(this,Af).resumePausedMutations():Promise.resolve()}getQueryCache(){return Fe(this,Na)}getMutationCache(){return Fe(this,Af)}getDefaultOptions(){return Fe(this,Cf)}setDefaultOptions(e){qt(this,Cf,e)}setQueryDefaults(e,t){Fe(this,dg).set(Wm(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Fe(this,dg).values()];let r={};return t.forEach(n=>{G1(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){Fe(this,fg).set(Wm(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Fe(this,fg).values()];let r={};return t.forEach(n=>{G1(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Fe(this,Cf).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=bT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===wT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Fe(this,Cf).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Fe(this,Na).clear(),Fe(this,Af).clear()}},Na=new WeakMap,Af=new WeakMap,Cf=new WeakMap,dg=new WeakMap,fg=new WeakMap,Ef=new WeakMap,hg=new WeakMap,mg=new WeakMap,lB),fo,en,hb,zs,Sm,pg,Pf,Jc,mb,gg,xg,Am,Cm,kf,vg,jn,Uv,IC,FC,RC,MC,LC,$C,BC,OH,cB,Wde=(cB=class extends ux{constructor(t,r){super();fr(this,jn);fr(this,fo);fr(this,en);fr(this,hb);fr(this,zs);fr(this,Sm);fr(this,pg);fr(this,Pf);fr(this,Jc);fr(this,mb);fr(this,gg);fr(this,xg);fr(this,Am);fr(this,Cm);fr(this,kf);fr(this,vg,new Set);this.options=r,qt(this,fo,t),qt(this,Jc,null),qt(this,Pf,DC()),this.options.experimental_prefetchInRender||Fe(this,Pf).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Fe(this,en).addObserver(this),bI(Fe(this,en),this.options)?Wr(this,jn,Uv).call(this):this.updateResult(),Wr(this,jn,MC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zC(Fe(this,en),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zC(Fe(this,en),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Wr(this,jn,LC).call(this),Wr(this,jn,$C).call(this),Fe(this,en).removeObserver(this)}setOptions(t,r){const n=this.options,a=Fe(this,en);if(this.options=Fe(this,fo).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof dc(this.options.enabled,Fe(this,en))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Wr(this,jn,BC).call(this),Fe(this,en).setOptions(this.options),n._defaulted&&!Bj(this.options,n)&&Fe(this,fo).getQueryCache().notify({type:"observerOptionsUpdated",query:Fe(this,en),observer:this});const s=this.hasListeners();s&&wI(Fe(this,en),a,this.options,n)&&Wr(this,jn,Uv).call(this),this.updateResult(r),s&&(Fe(this,en)!==a||dc(this.options.enabled,Fe(this,en))!==dc(n.enabled,Fe(this,en))||$0(this.options.staleTime,Fe(this,en))!==$0(n.staleTime,Fe(this,en)))&&Wr(this,jn,IC).call(this);const o=Wr(this,jn,FC).call(this);s&&(Fe(this,en)!==a||dc(this.options.enabled,Fe(this,en))!==dc(n.enabled,Fe(this,en))||o!==Fe(this,kf))&&Wr(this,jn,RC).call(this,o)}getOptimisticResult(t){const r=Fe(this,fo).getQueryCache().build(Fe(this,fo),t),n=this.createResult(r,t);return Gde(this,n)&&(qt(this,zs,n),qt(this,pg,this.options),qt(this,Sm,Fe(this,en).state)),n}getCurrentResult(){return Fe(this,zs)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){Fe(this,vg).add(t)}getCurrentQuery(){return Fe(this,en)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Fe(this,fo).defaultQueryOptions(t),n=Fe(this,fo).getQueryCache().build(Fe(this,fo),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Wr(this,jn,Uv).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Fe(this,zs)))}createResult(t,r){var S;const n=Fe(this,en),a=this.options,s=Fe(this,zs),o=Fe(this,Sm),l=Fe(this,pg),u=t!==n?t.state:Fe(this,hb),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const E=this.hasListeners(),M=!E&&bI(t,r),T=E&&wI(t,n,r,a);(M||T)&&(f={...f,...kH(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:x}=f;if(r.select&&f.data!==void 0)if(s&&f.data===(o==null?void 0:o.data)&&r.select===Fe(this,mb))m=Fe(this,gg);else try{qt(this,mb,r.select),m=r.select(f.data),m=OC(s==null?void 0:s.data,m,r),qt(this,gg,m),qt(this,Jc,null)}catch(E){qt(this,Jc,E)}else m=f.data;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let E;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))E=s.data;else if(E=typeof r.placeholderData=="function"?r.placeholderData((S=Fe(this,xg))==null?void 0:S.state.data,Fe(this,xg)):r.placeholderData,r.select&&E!==void 0)try{E=r.select(E),qt(this,Jc,null)}catch(M){qt(this,Jc,M)}E!==void 0&&(x="success",m=OC(s==null?void 0:s.data,E,r),h=!0)}Fe(this,Jc)&&(g=Fe(this,Jc),m=Fe(this,gg),p=Date.now(),x="error");const v=f.fetchStatus==="fetching",y=x==="pending",b=x==="error",j=y&&v,_=m!==void 0,k={status:x,fetchStatus:f.fetchStatus,isPending:y,isSuccess:x==="success",isError:b,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:b&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&_,isStale:NT(t,r),refetch:this.refetch,promise:Fe(this,Pf)};if(this.options.experimental_prefetchInRender){const E=C=>{k.status==="error"?C.reject(k.error):k.data!==void 0&&C.resolve(k.data)},M=()=>{const C=qt(this,Pf,k.promise=DC());E(C)},T=Fe(this,Pf);switch(T.status){case"pending":t.queryHash===n.queryHash&&E(T);break;case"fulfilled":(k.status==="error"||k.data!==T.value)&&M();break;case"rejected":(k.status!=="error"||k.error!==T.reason)&&M();break}}return k}updateResult(t){const r=Fe(this,zs),n=this.createResult(Fe(this,en),this.options);if(qt(this,Sm,Fe(this,en).state),qt(this,pg,this.options),Fe(this,Sm).data!==void 0&&qt(this,xg,Fe(this,en)),Bj(n,r))return;qt(this,zs,n);const a={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!Fe(this,vg).size)return!0;const c=new Set(l??Fe(this,vg));return this.options.throwOnError&&c.add("error"),Object.keys(Fe(this,zs)).some(u=>{const d=u;return Fe(this,zs)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&s()&&(a.listeners=!0),Wr(this,jn,OH).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Wr(this,jn,MC).call(this)}},fo=new WeakMap,en=new WeakMap,hb=new WeakMap,zs=new WeakMap,Sm=new WeakMap,pg=new WeakMap,Pf=new WeakMap,Jc=new WeakMap,mb=new WeakMap,gg=new WeakMap,xg=new WeakMap,Am=new WeakMap,Cm=new WeakMap,kf=new WeakMap,vg=new WeakMap,jn=new WeakSet,Uv=function(t){Wr(this,jn,BC).call(this);let r=Fe(this,en).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(El)),r},IC=function(){Wr(this,jn,LC).call(this);const t=$0(this.options.staleTime,Fe(this,en));if(Vm||Fe(this,zs).isStale||!kC(t))return;const n=NH(Fe(this,zs).dataUpdatedAt,t)+1;qt(this,Am,setTimeout(()=>{Fe(this,zs).isStale||this.updateResult()},n))},FC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Fe(this,en)):this.options.refetchInterval)??!1},RC=function(t){Wr(this,jn,$C).call(this),qt(this,kf,t),!(Vm||dc(this.options.enabled,Fe(this,en))===!1||!kC(Fe(this,kf))||Fe(this,kf)===0)&&qt(this,Cm,setInterval(()=>{(this.options.refetchIntervalInBackground||jT.isFocused())&&Wr(this,jn,Uv).call(this)},Fe(this,kf)))},MC=function(){Wr(this,jn,IC).call(this),Wr(this,jn,RC).call(this,Wr(this,jn,FC).call(this))},LC=function(){Fe(this,Am)&&(clearTimeout(Fe(this,Am)),qt(this,Am,void 0))},$C=function(){Fe(this,Cm)&&(clearInterval(Fe(this,Cm)),qt(this,Cm,void 0))},BC=function(){const t=Fe(this,fo).getQueryCache().build(Fe(this,fo),this.options);if(t===Fe(this,en))return;const r=Fe(this,en);qt(this,en,t),qt(this,hb,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},OH=function(t){wi.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Fe(this,zs))}),Fe(this,fo).getQueryCache().notify({query:Fe(this,en),type:"observerResultsUpdated"})})},cB);function Hde(e,t){return dc(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function bI(e,t){return Hde(e,t)||e.state.data!==void 0&&zC(e,t,t.refetchOnMount)}function zC(e,t,r){if(dc(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&NT(e,t)}return!1}function wI(e,t,r,n){return(e!==t||dc(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&NT(e,r)}function NT(e,t){return dc(t.enabled,e)!==!1&&e.isStaleByTime($0(t.staleTime,e))}function Gde(e,t){return!Bj(e.getCurrentResult(),t)}var Tf,Of,ho,Qu,vd,Qw,qC,uB,Kde=(uB=class extends ux{constructor(r,n){super();fr(this,vd);fr(this,Tf);fr(this,Of);fr(this,ho);fr(this,Qu);qt(this,Tf,r),this.setOptions(n),this.bindMethods(),Wr(this,vd,Qw).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=Fe(this,Tf).defaultMutationOptions(r),Bj(this.options,n)||Fe(this,Tf).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Fe(this,ho),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Wm(n.mutationKey)!==Wm(this.options.mutationKey)?this.reset():((a=Fe(this,ho))==null?void 0:a.state.status)==="pending"&&Fe(this,ho).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Fe(this,ho))==null||r.removeObserver(this)}onMutationUpdate(r){Wr(this,vd,Qw).call(this),Wr(this,vd,qC).call(this,r)}getCurrentResult(){return Fe(this,Of)}reset(){var r;(r=Fe(this,ho))==null||r.removeObserver(this),qt(this,ho,void 0),Wr(this,vd,Qw).call(this),Wr(this,vd,qC).call(this)}mutate(r,n){var a;return qt(this,Qu,n),(a=Fe(this,ho))==null||a.removeObserver(this),qt(this,ho,Fe(this,Tf).getMutationCache().build(Fe(this,Tf),this.options)),Fe(this,ho).addObserver(this),Fe(this,ho).execute(r)}},Tf=new WeakMap,Of=new WeakMap,ho=new WeakMap,Qu=new WeakMap,vd=new WeakSet,Qw=function(){var n;const r=((n=Fe(this,ho))==null?void 0:n.state)??TH();qt(this,Of,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},qC=function(r){wi.batch(()=>{var n,a,s,o,l,c,u,d;if(Fe(this,Qu)&&this.hasListeners()){const f=Fe(this,Of).variables,h=Fe(this,Of).context;(r==null?void 0:r.type)==="success"?((a=(n=Fe(this,Qu)).onSuccess)==null||a.call(n,r.data,f,h),(o=(s=Fe(this,Qu)).onSettled)==null||o.call(s,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=Fe(this,Qu)).onError)==null||c.call(l,r.error,f,h),(d=(u=Fe(this,Qu)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(Fe(this,Of))})})},uB),DH=N.createContext(void 0),Ya=e=>{const t=N.useContext(DH);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Yde=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(DH.Provider,{value:e,children:t})),IH=N.createContext(!1),Xde=()=>N.useContext(IH);IH.Provider;function Qde(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Zde=N.createContext(Qde()),Jde=()=>N.useContext(Zde);function FH(e,t){return typeof e=="function"?e(...t):!!e}function UC(){}var efe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},tfe=e=>{N.useEffect(()=>{e.clearReset()},[e])},rfe=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&FH(r,[e.error,n]),nfe=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},afe=(e,t)=>e.isLoading&&e.isFetching&&!t,ife=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,jI=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function sfe(e,t,r){var d,f,h,m,g;const n=Ya(),a=Xde(),s=Jde(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=a?"isRestoring":"optimistic",nfe(o),efe(o,s),tfe(s);const l=!n.getQueryCache().get(o.queryHash),[c]=N.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(N.useSyncExternalStore(N.useCallback(p=>{const x=a?UC:c.subscribe(wi.batchCalls(p));return c.updateResult(),x},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),ife(o,u))throw jI(o,c,s);if(rfe({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,o,u),o.experimental_prefetchInRender&&!Vm&&afe(u,a)){const p=l?jI(o,c,s):(g=n.getQueryCache().get(o.queryHash))==null?void 0:g.promise;p==null||p.catch(UC).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function ir(e,t){return sfe(e,Wde)}function rr(e,t){const r=Ya(),[n]=N.useState(()=>new Kde(r,e));N.useEffect(()=>{n.setOptions(e)},[n,e]);const a=N.useSyncExternalStore(N.useCallback(o=>n.subscribe(wi.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=N.useCallback((o,l)=>{n.mutate(o,l).catch(UC)},[n]);if(a.error&&FH(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}async function RH(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}function MH(){const e=localStorage.getItem("user");if(!e)return{};try{const t=JSON.parse(e),r={"x-user-id":t.id,"x-user-type":t.tipo||"usuario"};return t.is_admin&&(r["x-is-admin"]=t.is_admin),t.tipo==="funcionario"&&t.conta_id&&(r["x-conta-id"]=t.conta_id),r}catch{return{}}}async function Pr(e,t,r){const n=MH(),a=await fetch(t,{method:e,headers:{...r?{"Content-Type":"application/json"}:{},...n},body:r?JSON.stringify(r):void 0,credentials:"include"});return await RH(a),a}const ofe=({on401:e})=>async({queryKey:t})=>{const r=MH(),n=[];let a={};for(const l of t)typeof l=="string"||typeof l=="number"?n.push(l):typeof l=="object"&&l!==null&&(a={...a,...l});let s=n.join("/");if(Object.keys(a).length>0){const l=new URLSearchParams;for(const[u,d]of Object.entries(a))d!=null&&l.append(u,String(d));const c=l.toString();c&&(s+=`?${c}`)}const o=await fetch(s,{credentials:"include",headers:r});return await RH(o),await o.json()},Gs=new Vde({defaultOptions:{queries:{queryFn:ofe({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!0,staleTime:30*1e3,gcTime:5*60*1e3,retry:1,retryDelay:1e3},mutations:{retry:!1}}}),lfe=1,cfe=1e6;let iA=0;function ufe(){return iA=(iA+1)%Number.MAX_SAFE_INTEGER,iA.toString()}const sA=new Map,NI=e=>{if(sA.has(e))return;const t=setTimeout(()=>{sA.delete(e),s1({type:"REMOVE_TOAST",toastId:e})},cfe);sA.set(e,t)},dfe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,lfe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?NI(r):e.toasts.forEach(n=>{NI(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Zw=[];let Jw={toasts:[]};function s1(e){Jw=dfe(Jw,e),Zw.forEach(t=>{t(Jw)})}function ffe({...e}){const t=ufe(),r=a=>s1({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>s1({type:"DISMISS_TOAST",toastId:t});return s1({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Qr(){const[e,t]=N.useState(Jw);return N.useEffect(()=>(Zw.push(t),()=>{const r=Zw.indexOf(t);r>-1&&Zw.splice(r,1)}),[e]),{...e,toast:ffe,dismiss:r=>s1({type:"DISMISS_TOAST",toastId:r})}}function Ct(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function _I(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Nd(...e){return t=>{let r=!1;const n=e.map(a=>{const s=_I(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():_I(e[a],null)}}}}function Lr(...e){return N.useCallback(Nd(...e),e)}function hfe(e,t){const r=N.createContext(t),n=s=>{const{children:o,...l}=s,c=N.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=N.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function zi(e,t=[]){let r=[];function n(s,o){const l=N.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:h,children:m,...g}=f,p=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,x=N.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:x,children:m})};u.displayName=s+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=N.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>N.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return N.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,mfe(a,...t)]}function mfe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function th(e){const t=pfe(e),r=N.forwardRef((n,a)=>{const{children:s,...o}=n,l=N.Children.toArray(s),c=l.find(gfe);if(c){const u=c.props.children,d=l.map(f=>f===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:N.isValidElement(u)?N.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var o_=th("Slot");function pfe(e){const t=N.forwardRef((r,n)=>{const{children:a,...s}=r;if(N.isValidElement(a)){const o=vfe(a),l=xfe(s,a.props);return a.type!==N.Fragment&&(l.ref=n?Nd(n,o):o),N.cloneElement(a,l)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LH=Symbol("radix.slottable");function $H(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=LH,t}function gfe(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LH}function xfe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{s(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function vfe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function dx(e){const t=e+"CollectionProvider",[r,n]=zi(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:v}=p,y=he.useRef(null),b=he.useRef(new Map).current;return i.jsx(a,{scope:x,itemMap:b,collectionRef:y,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=th(l),u=he.forwardRef((p,x)=>{const{scope:v,children:y}=p,b=s(l,v),j=Lr(x,b.collectionRef);return i.jsx(c,{ref:j,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=th(d),m=he.forwardRef((p,x)=>{const{scope:v,children:y,...b}=p,j=he.useRef(null),_=Lr(x,j),P=s(d,v);return he.useEffect(()=>(P.itemMap.set(j,{ref:j,...b}),()=>void P.itemMap.delete(j))),i.jsx(h,{[f]:"",ref:_,children:y})});m.displayName=d;function g(p){const x=s(e+"CollectionConsumer",p);return he.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((P,k)=>b.indexOf(P.ref.current)-b.indexOf(k.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}var yfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],zt=yfe.reduce((e,t)=>{const r=th(`Primitive.${t}`),n=N.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function _T(e,t){e&&hp.flushSync(()=>e.dispatchEvent(t))}function us(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function bfe(e,t=globalThis==null?void 0:globalThis.document){const r=us(e);N.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var wfe="DismissableLayer",VC="dismissableLayer.update",jfe="dismissableLayer.pointerDownOutside",Nfe="dismissableLayer.focusOutside",SI,BH=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mp=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=N.useContext(BH),[d,f]=N.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=N.useState({}),g=Lr(t,k=>f(k)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(x),y=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=v,_=Sfe(k=>{const S=k.target,E=[...u.branches].some(M=>M.contains(S));!j||E||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),P=Afe(k=>{const S=k.target;[...u.branches].some(M=>M.contains(S))||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return bfe(k=>{y===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),N.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(SI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),AI(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=SI)}},[d,h,r,u]),N.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),AI())},[d,u]),N.useEffect(()=>{const k=()=>m({});return document.addEventListener(VC,k),()=>document.removeEventListener(VC,k)},[]),i.jsx(zt.div,{...c,ref:g,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:Ct(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Ct(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ct(e.onPointerDownCapture,_.onPointerDownCapture)})});mp.displayName=wfe;var _fe="DismissableLayerBranch",zH=N.forwardRef((e,t)=>{const r=N.useContext(BH),n=N.useRef(null),a=Lr(t,n);return N.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(zt.div,{...e,ref:a})});zH.displayName=_fe;function Sfe(e,t=globalThis==null?void 0:globalThis.document){const r=us(e),n=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){qH(jfe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Afe(e,t=globalThis==null?void 0:globalThis.document){const r=us(e),n=N.useRef(!1);return N.useEffect(()=>{const a=s=>{s.target&&!n.current&&qH(Nfe,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function AI(){const e=new CustomEvent(VC);document.dispatchEvent(e)}function qH(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?_T(a,s):a.dispatchEvent(s)}var Cfe=mp,Efe=zH,ci=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},Pfe="Portal",fx=N.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=N.useState(!1);ci(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?ede.createPortal(i.jsx(zt.div,{...n,ref:t}),o):null});fx.displayName=Pfe;function kfe(e,t){return N.useReducer((r,n)=>t[r][n]??r,e)}var Co=e=>{const{present:t,children:r}=e,n=Tfe(t),a=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),s=Lr(n.ref,Ofe(a));return typeof r=="function"||n.isPresent?N.cloneElement(a,{ref:s}):null};Co.displayName="Presence";function Tfe(e){const[t,r]=N.useState(),n=N.useRef({}),a=N.useRef(e),s=N.useRef("none"),o=e?"mounted":"unmounted",[l,c]=kfe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=Y2(n.current);s.current=l==="mounted"?u:"none"},[l]),ci(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=Y2(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),ci(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Y2(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(s.current=Y2(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Y2(e){return(e==null?void 0:e.animationName)||"none"}function Ofe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function No({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Dfe({defaultProp:t,onChange:r}),s=e!==void 0,o=s?e:n,l=us(r),c=N.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[s,e,a,l]);return[o,c]}function Dfe({defaultProp:e,onChange:t}){const r=N.useState(e),[n]=r,a=N.useRef(n),s=us(t);return N.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}var Ife="VisuallyHidden",wb=N.forwardRef((e,t)=>i.jsx(zt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));wb.displayName=Ife;var Ffe=wb,ST="ToastProvider",[AT,Rfe,Mfe]=dx("Toast"),[UH]=zi("Toast",[Mfe]),[Lfe,l_]=UH(ST),VH=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:o}=e,[l,c]=N.useState(null),[u,d]=N.useState(0),f=N.useRef(!1),h=N.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ST}\`. Expected non-empty \`string\`.`),i.jsx(AT.Provider,{scope:t,children:i.jsx(Lfe,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:N.useCallback(()=>d(m=>m+1),[]),onToastRemove:N.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};VH.displayName=ST;var WH="ToastViewport",$fe=["F8"],WC="toast.viewportPause",HC="toast.viewportResume",HH=N.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=$fe,label:a="Notifications ({hotkey})",...s}=e,o=l_(WH,r),l=Rfe(r),c=N.useRef(null),u=N.useRef(null),d=N.useRef(null),f=N.useRef(null),h=Lr(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;N.useEffect(()=>{const x=v=>{var b;n.length!==0&&n.every(j=>v[j]||v.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),N.useEffect(()=>{const x=c.current,v=f.current;if(g&&x&&v){const y=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(WC);v.dispatchEvent(P),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(HC);v.dispatchEvent(P),o.isClosePausedRef.current=!1}},j=P=>{!x.contains(P.relatedTarget)&&b()},_=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",y),x.addEventListener("focusout",j),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",j),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[g,o.isClosePausedRef]);const p=N.useCallback(({tabbingDirection:x})=>{const y=l().map(b=>{const j=b.ref.current,_=[j,...Zfe(j)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return N.useEffect(()=>{const x=f.current;if(x){const v=y=>{var _,P,k;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const S=document.activeElement,E=y.shiftKey;if(y.target===x&&E){(_=u.current)==null||_.focus();return}const C=p({tabbingDirection:E?"backwards":"forwards"}),I=C.findIndex(L=>L===S);oA(C.slice(I+1))?y.preventDefault():E?(P=u.current)==null||P.focus():(k=d.current)==null||k.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[l,p]),i.jsxs(Efe,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&i.jsx(GC,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});oA(x)}}),i.jsx(AT.Slot,{scope:r,children:i.jsx(zt.ol,{tabIndex:-1,...s,ref:h})}),g&&i.jsx(GC,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});oA(x)}})]})});HH.displayName=WH;var GH="ToastFocusProxy",GC=N.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=l_(GH,r);return i.jsx(wb,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});GC.displayName=GH;var c_="Toast",Bfe="toast.swipeStart",zfe="toast.swipeMove",qfe="toast.swipeCancel",Ufe="toast.swipeEnd",KH=N.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...o}=e,[l=!0,c]=No({prop:n,defaultProp:a,onChange:s});return i.jsx(Co,{present:r||l,children:i.jsx(Hfe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:us(e.onPause),onResume:us(e.onResume),onSwipeStart:Ct(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ct(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ct(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ct(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});KH.displayName=c_;var[Vfe,Wfe]=UH(c_,{onClose(){}}),Hfe=N.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=e,p=l_(c_,r),[x,v]=N.useState(null),y=Lr(t,L=>v(L)),b=N.useRef(null),j=N.useRef(null),_=a||p.duration,P=N.useRef(0),k=N.useRef(_),S=N.useRef(0),{onToastAdd:E,onToastRemove:M}=p,T=us(()=>{var z;(x==null?void 0:x.contains(document.activeElement))&&((z=p.viewport)==null||z.focus()),o()}),C=N.useCallback(L=>{!L||L===1/0||(window.clearTimeout(S.current),P.current=new Date().getTime(),S.current=window.setTimeout(T,L))},[T]);N.useEffect(()=>{const L=p.viewport;if(L){const z=()=>{C(k.current),u==null||u()},G=()=>{const W=new Date().getTime()-P.current;k.current=k.current-W,window.clearTimeout(S.current),c==null||c()};return L.addEventListener(WC,G),L.addEventListener(HC,z),()=>{L.removeEventListener(WC,G),L.removeEventListener(HC,z)}}},[p.viewport,_,c,u,C]),N.useEffect(()=>{s&&!p.isClosePausedRef.current&&C(_)},[s,_,p.isClosePausedRef,C]),N.useEffect(()=>(E(),()=>M()),[E,M]);const I=N.useMemo(()=>x?tG(x):null,[x]);return p.viewport?i.jsxs(i.Fragment,{children:[I&&i.jsx(Gfe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),i.jsx(Vfe,{scope:r,onClose:T,children:hp.createPortal(i.jsx(AT.ItemSlot,{scope:r,children:i.jsx(Cfe,{asChild:!0,onEscapeKeyDown:Ct(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||T(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(zt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ct(e.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:Ct(e.onPointerDown,L=>{L.button===0&&(b.current={x:L.clientX,y:L.clientY})}),onPointerMove:Ct(e.onPointerMove,L=>{if(!b.current)return;const z=L.clientX-b.current.x,G=L.clientY-b.current.y,W=!!j.current,q=["left","right"].includes(p.swipeDirection),K=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,ae=q?K(0,z):0,ie=q?0:K(0,G),O=L.pointerType==="touch"?10:2,V={x:ae,y:ie},D={originalEvent:L,delta:V};W?(j.current=V,X2(zfe,f,D,{discrete:!1})):CI(V,p.swipeDirection,O)?(j.current=V,X2(Bfe,d,D,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(z)>O||Math.abs(G)>O)&&(b.current=null)}),onPointerUp:Ct(e.onPointerUp,L=>{const z=j.current,G=L.target;if(G.hasPointerCapture(L.pointerId)&&G.releasePointerCapture(L.pointerId),j.current=null,b.current=null,z){const W=L.currentTarget,q={originalEvent:L,delta:z};CI(z,p.swipeDirection,p.swipeThreshold)?X2(Ufe,m,q,{discrete:!0}):X2(qfe,h,q,{discrete:!0}),W.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Gfe=e=>{const{__scopeToast:t,children:r,...n}=e,a=l_(c_,t),[s,o]=N.useState(!1),[l,c]=N.useState(!1);return Xfe(()=>o(!0)),N.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(fx,{asChild:!0,children:i.jsx(wb,{...n,children:s&&i.jsxs(i.Fragment,{children:[a.label," ",r]})})})},Kfe="ToastTitle",YH=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(zt.div,{...n,ref:t})});YH.displayName=Kfe;var Yfe="ToastDescription",XH=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(zt.div,{...n,ref:t})});XH.displayName=Yfe;var QH="ToastAction",ZH=N.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(eG,{altText:r,asChild:!0,children:i.jsx(CT,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${QH}\`. Expected non-empty \`string\`.`),null)});ZH.displayName=QH;var JH="ToastClose",CT=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=Wfe(JH,r);return i.jsx(eG,{asChild:!0,children:i.jsx(zt.button,{type:"button",...n,ref:t,onClick:Ct(e.onClick,a.onClose)})})});CT.displayName=JH;var eG=N.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return i.jsx(zt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function tG(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Qfe(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...tG(n))}}),t}function X2(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?_T(a,s):a.dispatchEvent(s)}var CI=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function Xfe(e=()=>{}){const t=us(e);ci(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Qfe(e){return e.nodeType===e.ELEMENT_NODE}function Zfe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function oA(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Jfe=VH,rG=HH,nG=KH,aG=YH,iG=XH,sG=ZH,oG=CT;function lG(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=lG(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Rr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=lG(e))&&(n&&(n+=" "),n+=t);return n}const EI=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,PI=Rr,pp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return PI(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=EI(d)||EI(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...s,...l}[p]):{...s,...l}[p]===x})?[...u,f,h]:u},[]);return PI(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cG=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var the={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>N.createElement("svg",{ref:c,...the,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:cG("lucide",a),...l},[...o.map(([u,d])=>N.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(e,t)=>{const r=N.forwardRef(({className:n,...a},s)=>N.createElement(rhe,{ref:s,iconNode:t,className:cG(`lucide-${ehe(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=yt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=yt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=yt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=yt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=yt("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=yt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=yt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=yt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=yt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=yt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=yt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=yt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ohe=yt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=yt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=yt("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=yt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=yt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=yt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=yt("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=yt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=yt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=yt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=yt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=yt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=yt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=yt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=yt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=yt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=yt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=yt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=yt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=yt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=yt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=yt("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=yt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=yt("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hhe=yt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=yt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=yt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=yt("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=yt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=yt("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=yt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=yt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=yt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=yt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=yt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=yt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ghe=yt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=yt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=yt("PackageX",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=yt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vhe=yt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=yt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=yt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=yt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=yt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=yt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=yt("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=yt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=yt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=yt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=yt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jhe=yt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=yt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=yt("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nhe=yt("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _he=yt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=yt("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=yt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=yt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=yt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=yt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const She=yt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=yt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=yt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=yt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=yt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=yt("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=yt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ehe=yt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=yt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=yt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=yt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=yt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),MT="-",Phe=e=>{const t=The(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(MT);return l[0]===""&&l.length!==1&&l.shift(),vG(l,t)||khe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},vG=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?vG(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(MT);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},II=/^\[(.+)\]$/,khe=e=>{if(II.test(e)){const t=II.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},The=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Dhe(Object.entries(e.classGroups),r).forEach(([s,o])=>{eE(o,n,s,t)}),n},eE=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:FI(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(Ohe(a)){eE(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{eE(o,FI(t,s),r,n)})})},FI=(e,t)=>{let r=e;return t.split(MT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Ohe=e=>e.isThemeGetter,Dhe=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,Ihe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},yG="!",Fhe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let v=l[x];if(u===0){if(v===a&&(n||l.slice(x,x+s)===t)){c.push(l.slice(d,x)),d=x+s;continue}if(v==="/"){f=x;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(yG),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},Rhe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Mhe=e=>({cache:Ihe(e.cacheSize),parseClassName:Fhe(e),...Phe(e)}),Lhe=/\s+/,$he=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(Lhe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=Rhe(d).join(":"),v=f?x+yG:x,y=v+p;if(s.includes(y))continue;s.push(y);const b=a(p,g);for(let j=0;j<b.length;++j){const _=b[j];s.push(v+_)}l=u+(l.length>0?" "+l:l)}return l};function Bhe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=bG(t))&&(n&&(n+=" "),n+=r);return n}const bG=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=bG(e[n]))&&(r&&(r+=" "),r+=t);return r};function zhe(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=Mhe(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=$he(c,r);return a(c,d),d}return function(){return s(Bhe.apply(null,arguments))}}const Zn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},wG=/^\[(?:([a-z-]+):)?(.+)\]$/i,qhe=/^\d+\/\d+$/,Uhe=new Set(["px","full","screen"]),Vhe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Whe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hhe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ghe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Khe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lu=e=>B0(e)||Uhe.has(e)||qhe.test(e),lf=e=>hx(e,"length",rme),B0=e=>!!e&&!Number.isNaN(Number(e)),lA=e=>hx(e,"number",B0),bv=e=>!!e&&Number.isInteger(Number(e)),Yhe=e=>e.endsWith("%")&&B0(e.slice(0,-1)),Ur=e=>wG.test(e),cf=e=>Vhe.test(e),Xhe=new Set(["length","size","percentage"]),Qhe=e=>hx(e,Xhe,jG),Zhe=e=>hx(e,"position",jG),Jhe=new Set(["image","url"]),eme=e=>hx(e,Jhe,ame),tme=e=>hx(e,"",nme),wv=()=>!0,hx=(e,t,r)=>{const n=wG.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},rme=e=>Whe.test(e)&&!Hhe.test(e),jG=()=>!1,nme=e=>Ghe.test(e),ame=e=>Khe.test(e),ime=()=>{const e=Zn("colors"),t=Zn("spacing"),r=Zn("blur"),n=Zn("brightness"),a=Zn("borderColor"),s=Zn("borderRadius"),o=Zn("borderSpacing"),l=Zn("borderWidth"),c=Zn("contrast"),u=Zn("grayscale"),d=Zn("hueRotate"),f=Zn("invert"),h=Zn("gap"),m=Zn("gradientColorStops"),g=Zn("gradientColorStopPositions"),p=Zn("inset"),x=Zn("margin"),v=Zn("opacity"),y=Zn("padding"),b=Zn("saturate"),j=Zn("scale"),_=Zn("sepia"),P=Zn("skew"),k=Zn("space"),S=Zn("translate"),E=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Ur,t],C=()=>[Ur,t],I=()=>["",Lu,lf],L=()=>["auto",B0,Ur],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Ur],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[B0,Ur];return{cacheSize:500,separator:":",theme:{colors:[wv],spacing:[Lu,lf],blur:["none","",cf,Ur],brightness:ie(),borderColor:[e],borderRadius:["none","","full",cf,Ur],borderSpacing:C(),borderWidth:I(),contrast:ie(),grayscale:K(),hueRotate:ie(),invert:K(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[Yhe,lf],inset:T(),margin:T(),opacity:ie(),padding:C(),saturate:ie(),scale:ie(),sepia:K(),skew:ie(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Ur]}],container:["container"],columns:[{columns:[cf]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Ur]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bv,Ur]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ur]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",bv,Ur]}],"grid-cols":[{"grid-cols":[wv]}],"col-start-end":[{col:["auto",{span:["full",bv,Ur]},Ur]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[wv]}],"row-start-end":[{row:["auto",{span:[bv,Ur]},Ur]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ur]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ur]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ur,t]}],"min-w":[{"min-w":[Ur,t,"min","max","fit"]}],"max-w":[{"max-w":[Ur,t,"none","full","min","max","fit","prose",{screen:[cf]},cf]}],h:[{h:[Ur,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ur,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ur,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ur,t,"auto","min","max","fit"]}],"font-size":[{text:["base",cf,lf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lA]}],"font-family":[{font:[wv]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ur]}],"line-clamp":[{"line-clamp":["none",B0,lA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Lu,Ur]}],"list-image":[{"list-image":["none",Ur]}],"list-style-type":[{list:["none","disc","decimal",Ur]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Lu,lf]}],"underline-offset":[{"underline-offset":["auto",Lu,Ur]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ur]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ur]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),Zhe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Qhe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eme]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:G()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Lu,Ur]}],"outline-w":[{outline:[Lu,lf]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Lu,lf]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",cf,tme]}],"shadow-color":[{shadow:[wv]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",cf,Ur]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ur]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",Ur]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ur]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[bv,Ur]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ur]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ur]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ur]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Lu,lf,lA]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sme=zhe(ime);function ht(...e){return sme(Rr(e))}const ome=Jfe,NG=N.forwardRef(({className:e,...t},r)=>i.jsx(rG,{ref:r,className:ht("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));NG.displayName=rG.displayName;const lme=pp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_G=N.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(nG,{ref:n,className:ht(lme({variant:t}),e),...r}));_G.displayName=nG.displayName;const cme=N.forwardRef(({className:e,...t},r)=>i.jsx(sG,{ref:r,className:ht("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));cme.displayName=sG.displayName;const SG=N.forwardRef(({className:e,...t},r)=>i.jsx(oG,{ref:r,className:ht("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Zu,{className:"h-4 w-4"})}));SG.displayName=oG.displayName;const AG=N.forwardRef(({className:e,...t},r)=>i.jsx(aG,{ref:r,className:ht("text-sm font-semibold",e),...t}));AG.displayName=aG.displayName;const CG=N.forwardRef(({className:e,...t},r)=>i.jsx(iG,{ref:r,className:ht("text-sm opacity-90",e),...t}));CG.displayName=iG.displayName;function ume(){const{toasts:e}=Qr();return i.jsxs(ome,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return i.jsxs(_G,{...s,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(AG,{children:r}),n&&i.jsx(CG,{children:n})]}),a,i.jsx(SG,{})]},t)}),i.jsx(NG,{})]})}var dme=oV[" useId ".trim().toString()]||(()=>{}),fme=0;function si(e){const[t,r]=N.useState(dme());return ci(()=>{r(n=>n??String(fme++))},[e]),t?`radix-${t}`:""}const hme=["top","right","bottom","left"],rh=Math.min,Ko=Math.max,Wj=Math.round,Q2=Math.floor,fu=e=>({x:e,y:e}),mme={left:"right",right:"left",bottom:"top",top:"bottom"},pme={start:"end",end:"start"};function tE(e,t,r){return Ko(e,rh(t,r))}function Sd(e,t){return typeof e=="function"?e(t):e}function Ad(e){return e.split("-")[0]}function mx(e){return e.split("-")[1]}function LT(e){return e==="x"?"y":"x"}function $T(e){return e==="y"?"height":"width"}function nh(e){return["top","bottom"].includes(Ad(e))?"y":"x"}function BT(e){return LT(nh(e))}function gme(e,t,r){r===void 0&&(r=!1);const n=mx(e),a=BT(e),s=$T(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Hj(o)),[o,Hj(o)]}function xme(e){const t=Hj(e);return[rE(e),t,rE(t)]}function rE(e){return e.replace(/start|end/g,t=>pme[t])}function vme(e,t,r){const n=["left","right"],a=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?s:o;default:return[]}}function yme(e,t,r,n){const a=mx(e);let s=vme(Ad(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(rE)))),s}function Hj(e){return e.replace(/left|right|bottom|top/g,t=>mme[t])}function bme(e){return{top:0,right:0,bottom:0,left:0,...e}}function EG(e){return typeof e!="number"?bme(e):{top:e,right:e,bottom:e,left:e}}function Gj(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function RI(e,t,r){let{reference:n,floating:a}=e;const s=nh(t),o=BT(t),l=$T(o),c=Ad(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(mx(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const wme=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=RI(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:x,fn:v}=l[p],{x:y,y:b,data:j,reset:_}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=b??f,m={...m,[x]:{...m[x],...j}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:d,y:f}=RI(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function J1(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Sd(t,e),g=EG(m),x=l[h?f==="floating"?"reference":"floating":f],v=Gj(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(x)))==null||r?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},_=Gj(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(v.top-_.top+g.top)/j.y,bottom:(_.bottom-v.bottom+g.bottom)/j.y,left:(v.left-_.left+g.left)/j.x,right:(_.right-v.right+g.right)/j.x}}const jme=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Sd(e,t)||{};if(u==null)return{};const f=EG(d),h={x:r,y:n},m=BT(a),g=$T(m),p=await o.getDimensions(u),x=m==="y",v=x?"top":"left",y=x?"bottom":"right",b=x?"clientHeight":"clientWidth",j=s.reference[g]+s.reference[m]-h[m]-s.floating[g],_=h[m]-s.reference[m],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=P?P[b]:0;(!k||!await(o.isElement==null?void 0:o.isElement(P)))&&(k=l.floating[b]||s.floating[g]);const S=j/2-_/2,E=k/2-p[g]/2-1,M=rh(f[v],E),T=rh(f[y],E),C=M,I=k-p[g]-T,L=k/2-p[g]/2+S,z=tE(C,L,I),G=!c.arrow&&mx(a)!=null&&L!==z&&s.reference[g]/2-(L<C?M:T)-p[g]/2<0,W=G?L<C?L-C:L-I:0;return{[m]:h[m]+W,data:{[m]:z,centerOffset:L-z-W,...G&&{alignmentOffset:W}},reset:G}}}),Nme=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=Sd(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const v=Ad(a),y=nh(l),b=Ad(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(b||!p?[Hj(l)]:xme(l)),P=g!=="none";!h&&P&&_.push(...yme(l,p,g,j));const k=[l,..._],S=await J1(t,x),E=[];let M=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&E.push(S[v]),f){const L=gme(a,o,j);E.push(S[L[0]],S[L[1]])}if(M=[...M,{placement:a,overflows:E}],!E.every(L=>L<=0)){var T,C;const L=(((T=s.flip)==null?void 0:T.index)||0)+1,z=k[L];if(z)return{data:{index:L,overflows:M},reset:{placement:z}};let G=(C=M.filter(W=>W.overflows[0]<=0).sort((W,q)=>W.overflows[1]-q.overflows[1])[0])==null?void 0:C.placement;if(!G)switch(m){case"bestFit":{var I;const W=(I=M.filter(q=>{if(P){const K=nh(q.placement);return K===y||K==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(K=>K>0).reduce((K,ae)=>K+ae,0)]).sort((q,K)=>q[1]-K[1])[0])==null?void 0:I[0];W&&(G=W);break}case"initialPlacement":G=l;break}if(a!==G)return{reset:{placement:G}}}return{}}}};function MI(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function LI(e){return hme.some(t=>e[t]>=0)}const _me=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Sd(e,t);switch(n){case"referenceHidden":{const s=await J1(t,{...a,elementContext:"reference"}),o=MI(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:LI(o)}}}case"escaped":{const s=await J1(t,{...a,altBoundary:!0}),o=MI(s,r.floating);return{data:{escapedOffsets:o,escaped:LI(o)}}}default:return{}}}}};async function Sme(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Ad(r),l=mx(r),c=nh(r)==="y",u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,f=Sd(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Ame=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await Sme(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},Cme=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...c}=Sd(e,t),u={x:r,y:n},d=await J1(t,c),f=nh(Ad(a)),h=LT(f);let m=u[h],g=u[f];if(s){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=m+d[x],b=m-d[v];m=tE(y,m,b)}if(o){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=g+d[x],b=g-d[v];g=tE(y,g,b)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:s,[f]:o}}}}}},Eme=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Sd(e,t),d={x:r,y:n},f=nh(a),h=LT(f);let m=d[h],g=d[f];const p=Sd(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=h==="y"?"height":"width",j=s.reference[h]-s.floating[b]+x.mainAxis,_=s.reference[h]+s.reference[b]-x.mainAxis;m<j?m=j:m>_&&(m=_)}if(u){var v,y;const b=h==="y"?"width":"height",j=["top","left"].includes(Ad(a)),_=s.reference[f]-s.floating[b]+(j&&((v=o.offset)==null?void 0:v[f])||0)+(j?0:x.crossAxis),P=s.reference[f]+s.reference[b]+(j?0:((y=o.offset)==null?void 0:y[f])||0)-(j?x.crossAxis:0);g<_?g=_:g>P&&(g=P)}return{[h]:m,[f]:g}}}},Pme=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Sd(e,t),d=await J1(t,u),f=Ad(a),h=mx(a),m=nh(a)==="y",{width:g,height:p}=s.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,x=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,b=g-d.left-d.right,j=rh(p-d[x],y),_=rh(g-d[v],b),P=!t.middlewareData.shift;let k=j,S=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(S=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=y),P&&!h){const M=Ko(d.left,0),T=Ko(d.right,0),C=Ko(d.top,0),I=Ko(d.bottom,0);m?S=g-2*(M!==0||T!==0?M+T:Ko(d.left,d.right)):k=p-2*(C!==0||I!==0?C+I:Ko(d.top,d.bottom))}await c({...t,availableWidth:S,availableHeight:k});const E=await o.getDimensions(l.floating);return g!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function d_(){return typeof window<"u"}function px(e){return PG(e)?(e.nodeName||"").toLowerCase():"#document"}function ol(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ju(e){var t;return(t=(PG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function PG(e){return d_()?e instanceof Node||e instanceof ol(e).Node:!1}function Cc(e){return d_()?e instanceof Element||e instanceof ol(e).Element:!1}function xu(e){return d_()?e instanceof HTMLElement||e instanceof ol(e).HTMLElement:!1}function $I(e){return!d_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ol(e).ShadowRoot}function _b(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ec(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function kme(e){return["table","td","th"].includes(px(e))}function f_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function zT(e){const t=qT(),r=Cc(e)?Ec(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Tme(e){let t=ah(e);for(;xu(t)&&!Cg(t);){if(zT(t))return t;if(f_(t))return null;t=ah(t)}return null}function qT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cg(e){return["html","body","#document"].includes(px(e))}function Ec(e){return ol(e).getComputedStyle(e)}function h_(e){return Cc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ah(e){if(px(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$I(e)&&e.host||ju(e);return $I(t)?t.host:t}function kG(e){const t=ah(e);return Cg(t)?e.ownerDocument?e.ownerDocument.body:e.body:xu(t)&&_b(t)?t:kG(t)}function ey(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=kG(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=ol(a);if(s){const l=nE(o);return t.concat(o,o.visualViewport||[],_b(a)?a:[],l&&r?ey(l):[])}return t.concat(a,ey(a,[],r))}function nE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function TG(e){const t=Ec(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=xu(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Wj(r)!==s||Wj(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function UT(e){return Cc(e)?e:e.contextElement}function z0(e){const t=UT(e);if(!xu(t))return fu(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=TG(t);let o=(s?Wj(r.width):r.width)/n,l=(s?Wj(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Ome=fu(0);function OG(e){const t=ol(e);return!qT()||!t.visualViewport?Ome:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Dme(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ol(e)?!1:t}function Hm(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=UT(e);let o=fu(1);t&&(n?Cc(n)&&(o=z0(n)):o=z0(e));const l=Dme(s,r,n)?OG(s):fu(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=ol(s),m=n&&Cc(n)?ol(n):n;let g=h,p=nE(g);for(;p&&n&&m!==g;){const x=z0(p),v=p.getBoundingClientRect(),y=Ec(p),b=v.left+(p.clientLeft+parseFloat(y.paddingLeft))*x.x,j=v.top+(p.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=j,g=ol(p),p=nE(g)}}return Gj({width:d,height:f,x:c,y:u})}function VT(e,t){const r=h_(e).scrollLeft;return t?t.left+r:Hm(ju(e)).left+r}function DG(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:VT(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function Ime(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=ju(n),l=t?f_(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=fu(1);const d=fu(0),f=xu(n);if((f||!f&&!s)&&((px(n)!=="body"||_b(o))&&(c=h_(n)),xu(n))){const m=Hm(n);u=z0(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!s?DG(o,c,!0):fu(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Fme(e){return Array.from(e.getClientRects())}function Rme(e){const t=ju(e),r=h_(e),n=e.ownerDocument.body,a=Ko(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Ko(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+VT(e);const l=-r.scrollTop;return Ec(n).direction==="rtl"&&(o+=Ko(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function Mme(e,t){const r=ol(e),n=ju(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=qT();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}function Lme(e,t){const r=Hm(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=xu(e)?z0(e):fu(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function BI(e,t,r){let n;if(t==="viewport")n=Mme(e,r);else if(t==="document")n=Rme(ju(e));else if(Cc(t))n=Lme(t,r);else{const a=OG(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Gj(n)}function IG(e,t){const r=ah(e);return r===t||!Cc(r)||Cg(r)?!1:Ec(r).position==="fixed"||IG(r,t)}function $me(e,t){const r=t.get(e);if(r)return r;let n=ey(e,[],!1).filter(l=>Cc(l)&&px(l)!=="body"),a=null;const s=Ec(e).position==="fixed";let o=s?ah(e):e;for(;Cc(o)&&!Cg(o);){const l=Ec(o),c=zT(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||_b(o)&&!c&&IG(e,o))?n=n.filter(d=>d!==o):a=l,o=ah(o)}return t.set(e,n),n}function Bme(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?f_(t)?[]:$me(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=BI(t,d,a);return u.top=Ko(f.top,u.top),u.right=rh(f.right,u.right),u.bottom=rh(f.bottom,u.bottom),u.left=Ko(f.left,u.left),u},BI(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zme(e){const{width:t,height:r}=TG(e);return{width:t,height:r}}function qme(e,t,r){const n=xu(t),a=ju(t),s=r==="fixed",o=Hm(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=fu(0);if(n||!n&&!s)if((px(t)!=="body"||_b(a))&&(l=h_(t)),n){const h=Hm(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=VT(a));const u=a&&!n&&!s?DG(a,l):fu(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function cA(e){return Ec(e).position==="static"}function zI(e,t){if(!xu(e)||Ec(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ju(e)===r&&(r=r.ownerDocument.body),r}function FG(e,t){const r=ol(e);if(f_(e))return r;if(!xu(e)){let a=ah(e);for(;a&&!Cg(a);){if(Cc(a)&&!cA(a))return a;a=ah(a)}return r}let n=zI(e,t);for(;n&&kme(n)&&cA(n);)n=zI(n,t);return n&&Cg(n)&&cA(n)&&!zT(n)?r:n||Tme(e)||r}const Ume=async function(e){const t=this.getOffsetParent||FG,r=this.getDimensions,n=await r(e.floating);return{reference:qme(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Vme(e){return Ec(e).direction==="rtl"}const Wme={convertOffsetParentRelativeRectToViewportRelativeRect:Ime,getDocumentElement:ju,getClippingRect:Bme,getOffsetParent:FG,getElementRects:Ume,getClientRects:Fme,getDimensions:zme,getScale:z0,isElement:Cc,isRTL:Vme};function RG(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Hme(e,t){let r=null,n;const a=ju(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=Q2(f),p=Q2(a.clientWidth-(d+h)),x=Q2(a.clientHeight-(f+m)),v=Q2(d),b={rootMargin:-g+"px "+-p+"px "+-x+"px "+-v+"px",threshold:Ko(0,rh(1,c))||1};let j=!0;function _(P){const k=P[0].intersectionRatio;if(k!==c){if(!j)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!RG(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(_,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,b)}r.observe(e)}return o(!0),s}function Gme(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=UT(e),d=a||s?[...u?ey(u):[],...ey(t)]:[];d.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),s&&v.addEventListener("resize",r)});const f=u&&l?Hme(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?Hm(e):null;c&&x();function x(){const v=Hm(e);p&&!RG(p,v)&&r(),p=v,g=requestAnimationFrame(x)}return r(),()=>{var v;d.forEach(y=>{a&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const Kme=Ame,Yme=Cme,Xme=Nme,Qme=Pme,Zme=_me,qI=jme,Jme=Eme,epe=(e,t,r)=>{const n=new Map,a={platform:Wme,...r},s={...a.platform,_c:n};return wme(e,t,{...a,platform:s})};var tj=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Kj(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Kj(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!Kj(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function MG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function UI(e,t){const r=MG(e);return Math.round(t*r)/r}function uA(e){const t=N.useRef(e);return tj(()=>{t.current=e}),t}function tpe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=N.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=N.useState(n);Kj(h,n)||m(n);const[g,p]=N.useState(null),[x,v]=N.useState(null),y=N.useCallback(q=>{q!==P.current&&(P.current=q,p(q))},[]),b=N.useCallback(q=>{q!==k.current&&(k.current=q,v(q))},[]),j=s||g,_=o||x,P=N.useRef(null),k=N.useRef(null),S=N.useRef(d),E=c!=null,M=uA(c),T=uA(a),C=uA(u),I=N.useCallback(()=>{if(!P.current||!k.current)return;const q={placement:t,strategy:r,middleware:h};T.current&&(q.platform=T.current),epe(P.current,k.current,q).then(K=>{const ae={...K,isPositioned:C.current!==!1};L.current&&!Kj(S.current,ae)&&(S.current=ae,hp.flushSync(()=>{f(ae)}))})},[h,t,r,T,C]);tj(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[u]);const L=N.useRef(!1);tj(()=>(L.current=!0,()=>{L.current=!1}),[]),tj(()=>{if(j&&(P.current=j),_&&(k.current=_),j&&_){if(M.current)return M.current(j,_,I);I()}},[j,_,I,M,E]);const z=N.useMemo(()=>({reference:P,floating:k,setReference:y,setFloating:b}),[y,b]),G=N.useMemo(()=>({reference:j,floating:_}),[j,_]),W=N.useMemo(()=>{const q={position:r,left:0,top:0};if(!G.floating)return q;const K=UI(G.floating,d.x),ae=UI(G.floating,d.y);return l?{...q,transform:"translate("+K+"px, "+ae+"px)",...MG(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:K,top:ae}},[r,l,G.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:I,refs:z,elements:G,floatingStyles:W}),[d,I,z,G,W])}const rpe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?qI({element:n.current,padding:a}).fn(r):{}:n?qI({element:n,padding:a}).fn(r):{}}}},npe=(e,t)=>({...Kme(e),options:[e,t]}),ape=(e,t)=>({...Yme(e),options:[e,t]}),ipe=(e,t)=>({...Jme(e),options:[e,t]}),spe=(e,t)=>({...Xme(e),options:[e,t]}),ope=(e,t)=>({...Qme(e),options:[e,t]}),lpe=(e,t)=>({...Zme(e),options:[e,t]}),cpe=(e,t)=>({...rpe(e),options:[e,t]});var upe="Arrow",LG=N.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(zt.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});LG.displayName=upe;var dpe=LG;function WT(e){const[t,r]=N.useState(void 0);return ci(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var HT="Popper",[$G,xh]=zi(HT),[fpe,BG]=$G(HT),zG=e=>{const{__scopePopper:t,children:r}=e,[n,a]=N.useState(null);return i.jsx(fpe,{scope:t,anchor:n,onAnchorChange:a,children:r})};zG.displayName=HT;var qG="PopperAnchor",UG=N.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=BG(qG,r),o=N.useRef(null),l=Lr(t,o);return N.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(zt.div,{...a,ref:l})});UG.displayName=qG;var GT="PopperContent",[hpe,mpe]=$G(GT),VG=N.forwardRef((e,t)=>{var Y,ee,X,U,me,oe;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,x=BG(GT,r),[v,y]=N.useState(null),b=Lr(t,Se=>y(Se)),[j,_]=N.useState(null),P=WT(j),k=(P==null?void 0:P.width)??0,S=(P==null?void 0:P.height)??0,E=n+(s!=="center"?"-"+s:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],C=T.length>0,I={padding:M,boundary:T.filter(gpe),altBoundary:C},{refs:L,floatingStyles:z,placement:G,isPositioned:W,middlewareData:q}=tpe({strategy:"fixed",placement:E,whileElementsMounted:(...Se)=>Gme(...Se,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[npe({mainAxis:a+S,alignmentAxis:o}),c&&ape({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ipe():void 0,...I}),c&&spe({...I}),ope({...I,apply:({elements:Se,rects:_e,availableWidth:se,availableHeight:ft})=>{const{width:de,height:ce}=_e.reference,Ee=Se.floating.style;Ee.setProperty("--radix-popper-available-width",`${se}px`),Ee.setProperty("--radix-popper-available-height",`${ft}px`),Ee.setProperty("--radix-popper-anchor-width",`${de}px`),Ee.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),j&&cpe({element:j,padding:l}),xpe({arrowWidth:k,arrowHeight:S}),h&&lpe({strategy:"referenceHidden",...I})]}),[K,ae]=GG(G),ie=us(g);ci(()=>{W&&(ie==null||ie())},[W,ie]);const O=(Y=q.arrow)==null?void 0:Y.x,V=(ee=q.arrow)==null?void 0:ee.y,D=((X=q.arrow)==null?void 0:X.centerOffset)!==0,[B,Q]=N.useState();return ci(()=>{v&&Q(window.getComputedStyle(v).zIndex)},[v]),i.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:W?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[(U=q.transformOrigin)==null?void 0:U.x,(me=q.transformOrigin)==null?void 0:me.y].join(" "),...((oe=q.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(hpe,{scope:r,placedSide:K,onArrowChange:_,arrowX:O,arrowY:V,shouldHideArrow:D,children:i.jsx(zt.div,{"data-side":K,"data-align":ae,...p,ref:b,style:{...p.style,animation:W?void 0:"none"}})})})});VG.displayName=GT;var WG="PopperArrow",ppe={top:"bottom",right:"left",bottom:"top",left:"right"},HG=N.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=mpe(WG,n),o=ppe[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(dpe,{...a,ref:r,style:{...a.style,display:"block"}})})});HG.displayName=WG;function gpe(e){return e!==null}var xpe=e=>({name:"transformOrigin",options:e,fn(t){var x,v,y;const{placement:r,rects:n,middlewareData:a}=t,o=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=GG(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,m=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function GG(e){const[t,r="center"]=e.split("-");return[t,r]}var m_=zG,Sb=UG,p_=VG,g_=HG,[x_]=zi("Tooltip",[xh]),v_=xh(),KG="TooltipProvider",vpe=700,aE="tooltip.open",[ype,KT]=x_(KG),YG=e=>{const{__scopeTooltip:t,delayDuration:r=vpe,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,o=N.useRef(!0),l=N.useRef(!1),c=N.useRef(0);return N.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(ype,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:N.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:N.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:s})};YG.displayName=KG;var y_="Tooltip",[bpe,b_]=x_(y_),XG=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=e,c=KT(y_,e.__scopeTooltip),u=v_(t),[d,f]=N.useState(null),h=si(),m=N.useRef(0),g=o??c.disableHoverableContent,p=l??c.delayDuration,x=N.useRef(!1),[v=!1,y]=No({prop:n,defaultProp:a,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(aE))):c.onClose(),s==null||s(k)}}),b=N.useMemo(()=>v?x.current?"delayed-open":"instant-open":"closed",[v]),j=N.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,y(!0)},[y]),_=N.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),P=N.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,y(!0),m.current=0},p)},[p,y]);return N.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),i.jsx(m_,{...u,children:i.jsx(bpe,{scope:t,contentId:h,open:v,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:N.useCallback(()=>{c.isOpenDelayedRef.current?P():j()},[c.isOpenDelayedRef,P,j]),onTriggerLeave:N.useCallback(()=>{g?_():(window.clearTimeout(m.current),m.current=0)},[_,g]),onOpen:j,onClose:_,disableHoverableContent:g,children:r})})};XG.displayName=y_;var iE="TooltipTrigger",QG=N.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=b_(iE,r),s=KT(iE,r),o=v_(r),l=N.useRef(null),c=Lr(t,l,a.onTriggerChange),u=N.useRef(!1),d=N.useRef(!1),f=N.useCallback(()=>u.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Sb,{asChild:!0,...o,children:i.jsx(zt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ct(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ct(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ct(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ct(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ct(e.onBlur,a.onClose),onClick:Ct(e.onClick,a.onClose)})})});QG.displayName=iE;var wpe="TooltipPortal",[Snt,jpe]=x_(wpe,{forceMount:void 0}),Eg="TooltipContent",ZG=N.forwardRef((e,t)=>{const r=jpe(Eg,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,o=b_(Eg,e.__scopeTooltip);return i.jsx(Co,{present:n||o.open,children:o.disableHoverableContent?i.jsx(JG,{side:a,...s,ref:t}):i.jsx(Npe,{side:a,...s,ref:t})})}),Npe=N.forwardRef((e,t)=>{const r=b_(Eg,e.__scopeTooltip),n=KT(Eg,e.__scopeTooltip),a=N.useRef(null),s=Lr(t,a),[o,l]=N.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=N.useCallback(()=>{l(null),f(!1)},[f]),m=N.useCallback((g,p)=>{const x=g.currentTarget,v={x:g.clientX,y:g.clientY},y=Epe(v,x.getBoundingClientRect()),b=Ppe(v,y),j=kpe(p.getBoundingClientRect()),_=Ope([...b,...j]);l(_),f(!0)},[f]);return N.useEffect(()=>()=>h(),[h]),N.useEffect(()=>{if(c&&d){const g=x=>m(x,d),p=x=>m(x,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),N.useEffect(()=>{if(o){const g=p=>{const x=p.target,v={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),b=!Tpe(v,o);y?h():b&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),i.jsx(JG,{...e,ref:s})}),[_pe,Spe]=x_(y_,{isInside:!1}),Ape=$H("TooltipContent"),JG=N.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=b_(Eg,r),u=v_(r),{onClose:d}=c;return N.useEffect(()=>(document.addEventListener(aE,d),()=>document.removeEventListener(aE,d)),[d]),N.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(mp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(p_,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Ape,{children:n}),i.jsx(_pe,{scope:r,isInside:!0,children:i.jsx(Ffe,{id:c.contentId,role:"tooltip",children:a||n})})]})})});ZG.displayName=Eg;var eK="TooltipArrow",Cpe=N.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=v_(r);return Spe(eK,r).isInside?null:i.jsx(g_,{...a,...n,ref:t})});Cpe.displayName=eK;function Epe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Ppe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function kpe(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Tpe(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s].x,c=t[s].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function Ope(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Dpe(t)}function Dpe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Ipe=YG,Fpe=XG,Rpe=QG,tK=ZG;const l1=Ipe,rj=Fpe,nj=Rpe,c1=N.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(tK,{ref:n,sideOffset:t,className:ht("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));c1.displayName=tK.displayName;const Mpe={theme:"system",setTheme:()=>null},rK=N.createContext(Mpe);function Lpe({children:e,defaultTheme:t="dark",storageKey:r="vite-ui-theme",...n}){const[a,s]=N.useState(()=>{const l=localStorage.getItem(r);return l||(localStorage.setItem(r,t),t)});N.useEffect(()=>{const l=window.document.documentElement,c=window.document.body;if(l.classList.remove("light","dark","system-gradient"),c.classList.remove("light","dark","system-gradient"),a==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches;l.classList.add("system-gradient"),c.classList.add("system-gradient"),u&&(l.classList.add("dark"),c.classList.add("dark"));const d=window.matchMedia("(prefers-color-scheme: dark)"),f=h=>{h.matches?(l.classList.add("dark"),c.classList.add("dark")):(l.classList.remove("dark"),c.classList.remove("dark"))};return d.addEventListener("change",f),()=>d.removeEventListener("change",f)}l.classList.add(a),c.classList.add(a)},[a]);const o={theme:a,setTheme:l=>{localStorage.setItem(r,l),s(l)}};return i.jsx(rK.Provider,{...n,value:o,children:e})}const $pe=()=>{const e=N.useContext(rK);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function Bpe(){const e=localStorage.getItem("user");if(!e)return{};try{const t=JSON.parse(e),r={"x-user-id":t.id,"x-user-type":t.tipo||"usuario"};return t.tipo==="funcionario"&&t.conta_id&&(r["x-conta-id"]=t.conta_id),r}catch{return{}}}const oa=async(e,t,r)=>{const a={"Content-Type":"application/json",...Bpe()},s={method:e,headers:a,credentials:"include"};r&&(s.body=JSON.stringify(r));try{const o=await fetch(t,s);if(o.status===401)throw localStorage.removeItem("user"),window.location.href="/login",new Error("Unauthorized: Please log in again.");if(!o.ok){const l=await o.json().catch(()=>({})),c=l.error||l.message||`HTTP error! status: ${o.status}`;throw new Error(c)}return o}catch(o){throw o instanceof TypeError&&o.message==="Failed to fetch"?new Error("Erro de conexo. Verifique sua internet."):o}},zpe=N.createContext(void 0),VI=e=>{const{senha:t,...r}=e;return r};function qpe({children:e}){const[t,r]=N.useState(()=>{const s=localStorage.getItem("user");if(!s)return null;try{const o=JSON.parse(s),{senha:l,...c}=o;return c}catch{return null}}),n=(t==null?void 0:t.is_admin)==="true"||(t==null?void 0:t.is_admin)===!0,a=async()=>{if(t!=null&&t.id)try{const s=await fetch(`/api/users/${t.id}`);if(s.ok){const o=await s.json(),l=VI(o);r(l),localStorage.setItem("user",JSON.stringify(l))}}catch(s){console.error("Erro ao atualizar dados do usurio:",s)}};return N.useEffect(()=>{if(t){const s=VI(t);localStorage.setItem("user",JSON.stringify(s))}else localStorage.removeItem("user")},[t]),i.jsx(zpe.Provider,{value:{user:t,setUser:r,isAdmin:n,refreshUser:a},children:e})}function Rd(){const[,e]=ui(),{data:t,isLoading:r,error:n,refetch:a}=ir({queryKey:["user"],queryFn:async()=>{const l=localStorage.getItem("user");if(!l)throw new Error("No user found");const c=JSON.parse(l);try{const u=await oa("POST","/api/auth/check-expiration");if(u.ok){const d=await u.json();if(d.user)return localStorage.setItem("user",JSON.stringify(d.user)),d.user}}catch(u){console.warn("Erro ao verificar expirao, usando dados locais:",u)}return c},retry:!1,staleTime:0,refetchInterval:6e4});return{user:t,isLoading:r,error:n,logout:async()=>{localStorage.removeItem("user"),e("/login")},refetch:a,checkExpiration:async()=>{try{const l=await oa("POST","/api/auth/check-expiration");if(l.ok){const c=await l.json();if(c.user)return localStorage.setItem("user",JSON.stringify(c.user)),await a(),c}}catch(l){console.error("Erro ao verificar expirao:",l)}return null}}}function w_(){const{user:e}=Rd(),{data:t,isLoading:r}=ir({queryKey:[`/api/funcionarios/${e==null?void 0:e.id}/permissoes`],enabled:!!e&&e.tipo==="funcionario"}),n=()=>{if(!e)return!1;if(e.is_admin==="true"||e.tipo==="funcionario")return!0;if(["trial","mensal","anual","premium_mensal","premium_anual"].includes(e.plano)&&e.data_expiracao_plano){const l=new Date,c=new Date(e.data_expiracao_plano);return l<c}if(e.plano==="premium")return!0;if(e.data_expiracao_trial){const l=new Date,c=new Date(e.data_expiracao_trial);return l<c}return!1},a=o=>e?e.is_admin==="true"||e.tipo!=="funcionario"&&n()?!0:e.tipo==="funcionario"&&t?t[o]==="true":!1:!1,s=!e||e.tipo==="funcionario"&&r;return{hasPermission:a,isPremium:n,isLoading:s}}const Ae=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ht("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));Ae.displayName="Card";const qe=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ht("flex flex-col space-y-1.5 p-6",e),...t}));qe.displayName="CardHeader";const Ue=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ht("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ue.displayName="CardTitle";const Ht=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ht("text-sm text-muted-foreground",e),...t}));Ht.displayName="CardDescription";const Pe=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ht("p-6 pt-0",e),...t}));Pe.displayName="CardContent";const YT=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ht("flex items-center p-6 pt-0",e),...t}));YT.displayName="CardFooter";const XT=pp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ye=N.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?o_:"button";return i.jsx(o,{className:ht(XT({variant:t,size:r,className:e})),ref:s,...a})});ye.displayName="Button";const Upe=pp("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function It({className:e,variant:t,...r}){return i.jsx("div",{className:ht(Upe({variant:t}),e),...r})}function ki({children:e,requiredPermission:t}){const{hasPermission:r,isLoading:n}=w_(),[,a]=ui(),[s,o]=N.useState(!0),[l,c]=N.useState(!1),[u,d]=N.useState(!1),{user:f}=Rd();N.useEffect(()=>{const v=localStorage.getItem("user");if(!v){console.warn(" ProtectedRoute: Nenhum usurio encontrado, redirecionando para login"),a("/login");return}try{const y=JSON.parse(v);if(y.status==="bloqueado"&&y.is_admin!=="true"){console.warn(" ProtectedRoute: Conta bloqueada no carregamento inicial"),d(!0);return}console.log(" ProtectedRoute: Usurio autenticado encontrado"),d(!0)}catch(y){console.error(" ProtectedRoute: Erro ao parsear usurio",y),localStorage.removeItem("user"),a("/login")}},[a]),N.useEffect(()=>{localStorage.getItem("user")?c(!0):(c(!1),!s&&!u&&a("/login")),o(!1)},[a,s,u]);const m=(f==null?void 0:f.email)==="pavisoft.suporte@gmail.com",g=(f==null?void 0:f.tipo)==="funcionario",{data:p,isLoading:x}=ir({queryKey:["/api/user/check-blocked"],enabled:u&&!m&&!g,refetchInterval:g?!1:5e3});return n||s||x?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx(Ha,{className:"h-8 w-8 animate-spin text-blue-600"})}):p!=null&&p.isBlocked&&!m?i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-red-950 via-red-900 to-gray-900",children:i.jsx(Ae,{className:"max-w-2xl w-full border-2 border-red-800 shadow-2xl","data-testid":"blocked-page",children:i.jsx(Pe,{className:"pt-8 pb-6",children:i.jsxs("div",{className:"flex flex-col items-center text-center space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-red-500 rounded-full blur-xl opacity-50 animate-pulse"}),i.jsx("div",{className:"relative rounded-full bg-gradient-to-br from-red-100 to-red-200 dark:from-red-900/50 dark:to-red-950/50 p-8 border-4 border-red-600",children:i.jsx(_o,{className:"h-16 w-16 text-red-600 dark:text-red-400","data-testid":"icon-lock"})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white","data-testid":"text-blocked-title",children:" Acesso Suspenso"}),i.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 max-w-md","data-testid":"text-blocked-description",children:(f==null?void 0:f.plano)==="trial"?"Seu perodo de teste gratuito expirou. Faa upgrade para continuar usando o sistema.":"Identificamos uma pendncia no pagamento da sua assinatura. Regularize para reativar o acesso."})]}),i.jsxs("div",{className:"w-full bg-gray-100 dark:bg-gray-800 rounded-xl p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status Atual:"}),i.jsx(It,{variant:"destructive",className:"bg-red-600",children:"Bloqueado"})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Plano Anterior:"}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:(f==null?void 0:f.plano)==="trial"?"Trial Gratuito":(f==null?void 0:f.plano)==="premium_mensal"?"Premium Mensal":(f==null?void 0:f.plano)==="premium_anual"?"Premium Anual":"Free"})]}),(f==null?void 0:f.data_expiracao_plano)&&i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Data de Vencimento:"}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(f.data_expiracao_plano).toLocaleDateString("pt-BR")})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full mt-4",children:[i.jsx(ye,{onClick:()=>{window.location.href="/planos"},className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold shadow-lg",size:"lg",children:" Ver Planos e Renovar"}),i.jsx(ye,{onClick:()=>{localStorage.removeItem("user"),window.location.href="/login"},variant:"outline",className:"flex-1 border-2 border-gray-300 dark:border-gray-600",size:"lg",children:"Fazer Logout"})]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4",children:["Precisa de ajuda? Entre em contato:"," ",i.jsx("a",{href:"https://wa.me/5581989842677",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"WhatsApp Suporte"})]})]})})})}):!u||!r(t)&&!n?i.jsx("div",{className:"flex items-center justify-center h-screen p-4 bg-gray-50 dark:bg-gray-900",children:i.jsx(Ae,{className:"max-w-md w-full","data-testid":"blocked-page",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[i.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/30 p-6",children:i.jsx(_o,{className:"h-12 w-12 text-red-600 dark:text-red-400","data-testid":"icon-lock"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100","data-testid":"text-blocked-title",children:"Acesso Negado"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400","data-testid":"text-blocked-description",children:"Voc no tem permisso para acessar esta pgina. Entre em contato com o administrador."})]})]})})})}):!l&&!s?null:i.jsx(i.Fragment,{children:e})}function WI({children:e}){const{user:t}=Rd();ui();const r=(t==null?void 0:t.is_admin)==="true",a=(t==null?void 0:t.email)==="pavisoft.suporte@gmail.com",{data:s,isLoading:o}=ir({queryKey:["/api/user/check-blocked"],enabled:r&&!a,refetchInterval:5e3});return o?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx(Ha,{className:"h-8 w-8 animate-spin text-blue-600"})}):r&&!a&&(s!=null&&s.isBlocked)?i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-red-950 via-red-900 to-gray-900",children:i.jsx(Ae,{className:"max-w-2xl w-full border-2 border-red-800 shadow-2xl","data-testid":"blocked-page",children:i.jsx(Pe,{className:"pt-8 pb-6",children:i.jsxs("div",{className:"flex flex-col items-center text-center space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-red-500 rounded-full blur-xl opacity-50 animate-pulse"}),i.jsx("div",{className:"relative rounded-full bg-gradient-to-br from-red-100 to-red-200 dark:from-red-900/50 dark:to-red-950/50 p-8 border-4 border-red-600",children:i.jsx(_o,{className:"h-16 w-16 text-red-600 dark:text-red-400","data-testid":"icon-lock"})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white","data-testid":"text-blocked-title",children:" Acesso Suspenso"}),i.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 max-w-md","data-testid":"text-blocked-description",children:(t==null?void 0:t.plano)==="trial"?"Seu perodo de teste gratuito expirou. Faa upgrade para continuar usando o sistema.":"Identificamos uma pendncia no pagamento da sua assinatura. Regularize para reativar o acesso."})]}),i.jsxs("div",{className:"w-full bg-gray-100 dark:bg-gray-800 rounded-xl p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status Atual:"}),i.jsx(It,{variant:"destructive",className:"bg-red-600",children:"Bloqueado"})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Plano Anterior:"}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:(t==null?void 0:t.plano)==="trial"?"Trial Gratuito":(t==null?void 0:t.plano)==="premium_mensal"?"Premium Mensal":(t==null?void 0:t.plano)==="premium_anual"?"Premium Anual":"Free"})]}),(t==null?void 0:t.data_expiracao_plano)&&i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Data de Vencimento:"}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(t.data_expiracao_plano).toLocaleDateString("pt-BR")})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full mt-4",children:[i.jsx(ye,{onClick:()=>{window.location.href="/planos"},className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold shadow-lg",size:"lg",children:" Ver Planos e Renovar"}),i.jsx(ye,{onClick:()=>{localStorage.removeItem("user"),window.location.href="/login"},variant:"outline",className:"flex-1 border-2 border-gray-300 dark:border-gray-600",size:"lg",children:"Fazer Logout"})]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4",children:["Precisa de ajuda? Entre em contato:"," ",i.jsx("a",{href:"https://wa.me/5581989842677",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"WhatsApp Suporte"})]})]})})})}):r?i.jsx(i.Fragment,{children:e}):i.jsx("div",{className:"flex items-center justify-center h-screen p-4 bg-gray-50 dark:bg-gray-900",children:i.jsx(Ae,{className:"max-w-md w-full","data-testid":"admin-blocked-page",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[i.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/30 p-6",children:i.jsx(ZC,{className:"h-12 w-12 text-red-600 dark:text-red-400","data-testid":"icon-shield-alert"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100","data-testid":"text-admin-blocked-title",children:"Acesso Restrito"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400","data-testid":"text-admin-blocked-description",children:"Esta rea  restrita a administradores do sistema. Somente usurios com privilgios de administrador podem acessar este painel."})]})]})})})})}const Ze=N.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:ht("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ze.displayName="Input";var Vpe="Label",nK=N.forwardRef((e,t)=>i.jsx(zt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));nK.displayName=Vpe;var aK=nK;const Wpe=pp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=N.forwardRef(({className:e,...t},r)=>i.jsx(aK,{ref:r,className:ht(Wpe(),e),...t}));De.displayName=aK.displayName;const HI="pavisoft.suporte@gmail.com",GI="pavisoft-admin-001";function KI({children:e}){const{user:t}=Rd(),[,r]=ui(),{toast:n}=Qr(),[a,s]=N.useState(!1),[o,l]=N.useState(""),[c,u]=N.useState(!1),[d,f]=N.useState(!0);N.useEffect(()=>{if(!t){console.log(" AdminMasterRoute: Nenhum usurio logado, redirecionando para login"),r("/login");return}if(t.id!==GI||t.email!==HI){console.log(` AdminMasterRoute: Usurio no autorizado (ID: ${t.id}, Email: ${t.email}), redirecionando para dashboard`),r("/dashboard");return}if(t.is_admin!=="true"){console.log(` AdminMasterRoute: Usurio no  admin (${t.email}), redirecionando para dashboard`),r("/dashboard");return}return sessionStorage.getItem("admin_master_auth")==="true"&&(console.log(" AdminMasterRoute: Sesso admin_master j autenticada"),s(!0)),f(!1),()=>{console.log(" AdminMasterRoute: Limpando autenticao ao sair da pgina"),sessionStorage.removeItem("admin_master_auth"),s(!1)}},[t,r]);const h=async m=>{m.preventDefault(),u(!0);try{const g=await fetch("/api/auth/verify-master-password",{method:"POST",headers:{"Content-Type":"application/json","x-user-id":(t==null?void 0:t.id)||"","x-user-email":(t==null?void 0:t.email)||"","x-is-admin":(t==null?void 0:t.is_admin)||"false"},body:JSON.stringify({password:o})});if(g.status===429){const x=await g.json();n({title:"Bloqueado temporariamente",description:x.error,variant:"destructive"}),u(!1),l("");return}if(g.status===403){n({title:"Acesso negado",description:"Voc no tem permisso para acessar esta rea",variant:"destructive"}),r("/dashboard");return}(await g.json()).valid?(s(!0),sessionStorage.setItem("admin_master_auth","true"),n({title:"Acesso autorizado",description:"Bem-vindo ao Admin Master"})):n({title:"Senha incorreta",description:"A senha de acesso est incorreta",variant:"destructive"})}catch(g){console.error("Erro ao verificar senha:",g),n({title:"Erro",description:"No foi possvel verificar a senha. Tente novamente.",variant:"destructive"})}finally{u(!1),l("")}};return d||!t||t.id!==GI||t.email!==HI||t.is_admin!=="true"?null:a?i.jsx(i.Fragment,{children:e}):i.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-gray-50 dark:bg-gray-900",children:i.jsxs(Ae,{className:"max-w-md w-full",children:[i.jsxs(qe,{className:"space-y-2",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"rounded-full bg-blue-100 dark:bg-blue-900/30 p-4",children:i.jsx(_o,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})})}),i.jsx(Ue,{className:"text-2xl text-center",children:"Admin Master"}),i.jsx(Ht,{className:"text-center",children:"Digite a senha de acesso para continuar"})]}),i.jsx(Pe,{children:i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"master-password",children:"Senha de Acesso"}),i.jsx(Ze,{id:"master-password",type:"password",placeholder:"Digite a senha",value:o,onChange:m=>l(m.target.value),required:!0,autoFocus:!0})]}),i.jsx(ye,{type:"submit",className:"w-full",disabled:c,children:c?"Verificando...":"Acessar"})]})})]})})}function Hpe(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(Ae,{className:"w-full max-w-md mx-4",children:i.jsxs(Pe,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(ud,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var dA="focusScope.autoFocusOnMount",fA="focusScope.autoFocusOnUnmount",YI={bubbles:!1,cancelable:!0},Gpe="FocusScope",Ab=N.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=N.useState(null),u=us(a),d=us(s),f=N.useRef(null),h=Lr(t,p=>c(p)),m=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let p=function(b){if(m.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:pf(f.current,{select:!0})},x=function(b){if(m.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||pf(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&pf(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),y.disconnect()}}},[n,l,m.paused]),N.useEffect(()=>{if(l){QI.add(m);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(dA,YI);l.addEventListener(dA,u),l.dispatchEvent(v),v.defaultPrevented||(Kpe(Jpe(iK(l)),{select:!0}),document.activeElement===p&&pf(l))}return()=>{l.removeEventListener(dA,u),setTimeout(()=>{const v=new CustomEvent(fA,YI);l.addEventListener(fA,d),l.dispatchEvent(v),v.defaultPrevented||pf(p??document.body,{select:!0}),l.removeEventListener(fA,d),QI.remove(m)},0)}}},[l,u,d,m]);const g=N.useCallback(p=>{if(!r&&!n||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(x&&v){const y=p.currentTarget,[b,j]=Ype(y);b&&j?!p.shiftKey&&v===j?(p.preventDefault(),r&&pf(b,{select:!0})):p.shiftKey&&v===b&&(p.preventDefault(),r&&pf(j,{select:!0})):v===y&&p.preventDefault()}},[r,n,m.paused]);return i.jsx(zt.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Ab.displayName=Gpe;function Kpe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(pf(n,{select:t}),document.activeElement!==r)return}function Ype(e){const t=iK(e),r=XI(t,e),n=XI(t.reverse(),e);return[r,n]}function iK(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function XI(e,t){for(const r of e)if(!Xpe(r,{upTo:t}))return r}function Xpe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Qpe(e){return e instanceof HTMLInputElement&&"select"in e}function pf(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Qpe(e)&&t&&e.select()}}var QI=Zpe();function Zpe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=ZI(e,t),e.unshift(t)},remove(t){var r;e=ZI(e,t),(r=e[0])==null||r.resume()}}}function ZI(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Jpe(e){return e.filter(t=>t.tagName!=="A")}var hA=0;function j_(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??JI()),document.body.insertAdjacentElement("beforeend",e[1]??JI()),hA++,()=>{hA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hA--}},[])}function JI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tu=function(){return tu=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},tu.apply(this,arguments)};function sK(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function e0e(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var aj="right-scroll-bar-position",ij="width-before-scroll-bar",t0e="with-scroll-bars-hidden",r0e="--removed-body-scroll-bar-size";function mA(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function n0e(e,t){var r=N.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var a0e=typeof window<"u"?N.useLayoutEffect:N.useEffect,eF=new WeakMap;function i0e(e,t){var r=n0e(null,function(n){return e.forEach(function(a){return mA(a,n)})});return a0e(function(){var n=eF.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||mA(l,null)}),s.forEach(function(l){a.has(l)||mA(l,o)})}eF.set(r,e)},[e]),r}function s0e(e){return e}function o0e(e,t){t===void 0&&(t=s0e);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function l0e(e){e===void 0&&(e={});var t=o0e(null);return t.options=tu({async:!0,ssr:!1},e),t}var oK=function(e){var t=e.sideCar,r=sK(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,tu({},r))};oK.isSideCarExport=!0;function c0e(e,t){return e.useMedium(t),oK}var lK=l0e(),pA=function(){},N_=N.forwardRef(function(e,t){var r=N.useRef(null),n=N.useState({onScrollCapture:pA,onWheelCapture:pA,onTouchMoveCapture:pA}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,g=e.inert,p=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,y=e.gapMode,b=sK(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,_=i0e([r,t]),P=tu(tu({},b),a);return N.createElement(N.Fragment,null,d&&N.createElement(j,{sideCar:lK,removeScrollBar:u,shards:f,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!p,lockRef:r,gapMode:y}),o?N.cloneElement(N.Children.only(l),tu(tu({},P),{ref:_})):N.createElement(v,tu({},P,{className:c,ref:_}),l))});N_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};N_.classNames={fullWidth:ij,zeroRight:aj};var u0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function d0e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=u0e();return t&&e.setAttribute("nonce",t),e}function f0e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function h0e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var m0e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=d0e())&&(f0e(t,r),h0e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},p0e=function(){var e=m0e();return function(t,r){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},cK=function(){var e=p0e(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},g0e={left:0,top:0,right:0,gap:0},gA=function(e){return parseInt(e||"",10)||0},x0e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[gA(r),gA(n),gA(a)]},v0e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return g0e;var t=x0e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},y0e=cK(),q0="data-scroll-locked",b0e=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(t0e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(q0,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(aj,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ij,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(aj," .").concat(aj,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ij," .").concat(ij,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(q0,`] {
    `).concat(r0e,": ").concat(l,`px;
  }
`)},tF=function(){var e=parseInt(document.body.getAttribute(q0)||"0",10);return isFinite(e)?e:0},w0e=function(){N.useEffect(function(){return document.body.setAttribute(q0,(tF()+1).toString()),function(){var e=tF()-1;e<=0?document.body.removeAttribute(q0):document.body.setAttribute(q0,e.toString())}},[])},j0e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;w0e();var s=N.useMemo(function(){return v0e(a)},[a]);return N.createElement(y0e,{styles:b0e(s,!t,a,r?"":"!important")})},sE=!1;if(typeof window<"u")try{var Z2=Object.defineProperty({},"passive",{get:function(){return sE=!0,!0}});window.addEventListener("test",Z2,Z2),window.removeEventListener("test",Z2,Z2)}catch{sE=!1}var qp=sE?{passive:!1}:!1,N0e=function(e){return e.tagName==="TEXTAREA"},uK=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!N0e(e)&&r[t]==="visible")},_0e=function(e){return uK(e,"overflowY")},S0e=function(e){return uK(e,"overflowX")},rF=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=dK(e,n);if(a){var s=fK(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},A0e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},C0e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},dK=function(e,t){return e==="v"?_0e(t):S0e(t)},fK=function(e,t){return e==="v"?A0e(t):C0e(t)},E0e=function(e,t){return e==="h"&&t==="rtl"?-1:1},P0e=function(e,t,r,n,a){var s=E0e(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var m=fK(e,l),g=m[0],p=m[1],x=m[2],v=p-x-s*g;(g||v)&&dK(e,l)&&(f+=v,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},J2=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nF=function(e){return[e.deltaX,e.deltaY]},aF=function(e){return e&&"current"in e?e.current:e},k0e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},T0e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},O0e=0,Up=[];function D0e(e){var t=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),a=N.useState(O0e++)[0],s=N.useState(cK)[0],o=N.useRef(e);N.useEffect(function(){o.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=e0e([e.lockRef.current],(e.shards||[]).map(aF),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=N.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var v=J2(p),y=r.current,b="deltaX"in p?p.deltaX:y[0]-v[0],j="deltaY"in p?p.deltaY:y[1]-v[1],_,P=p.target,k=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in p&&k==="h"&&P.type==="range")return!1;var S=rF(k,P);if(!S)return!0;if(S?_=k:(_=k==="v"?"h":"v",S=rF(k,P)),!S)return!1;if(!n.current&&"changedTouches"in p&&(b||j)&&(n.current=_),!_)return!0;var E=n.current||_;return P0e(E,x,p,E==="h"?b:j)},[]),c=N.useCallback(function(p){var x=p;if(!(!Up.length||Up[Up.length-1]!==s)){var v="deltaY"in x?nF(x):J2(x),y=t.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&k0e(_.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(aF).filter(Boolean).filter(function(_){return _.contains(x.target)}),j=b.length>0?l(x,b[0]):!o.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),u=N.useCallback(function(p,x,v,y){var b={name:p,delta:x,target:v,should:y,shadowParent:I0e(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=N.useCallback(function(p){r.current=J2(p),n.current=void 0},[]),f=N.useCallback(function(p){u(p.type,nF(p),p.target,l(p,e.lockRef.current))},[]),h=N.useCallback(function(p){u(p.type,J2(p),p.target,l(p,e.lockRef.current))},[]);N.useEffect(function(){return Up.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,qp),document.addEventListener("touchmove",c,qp),document.addEventListener("touchstart",d,qp),function(){Up=Up.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,qp),document.removeEventListener("touchmove",c,qp),document.removeEventListener("touchstart",d,qp)}},[]);var m=e.removeScrollBar,g=e.inert;return N.createElement(N.Fragment,null,g?N.createElement(s,{styles:T0e(a)}):null,m?N.createElement(j0e,{gapMode:e.gapMode}):null)}function I0e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const F0e=c0e(lK,D0e);var Cb=N.forwardRef(function(e,t){return N.createElement(N_,tu({},e,{ref:t,sideCar:F0e}))});Cb.classNames=N_.classNames;var R0e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vp=new WeakMap,ew=new WeakMap,tw={},xA=0,hK=function(e){return e&&(e.host||hK(e.parentNode))},M0e=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=hK(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},L0e=function(e,t,r,n){var a=M0e(t,Array.isArray(e)?e:[e]);tw[r]||(tw[r]=new WeakMap);var s=tw[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Vp.get(h)||0)+1,x=(s.get(h)||0)+1;Vp.set(h,p),s.set(h,x),o.push(h),p===1&&g&&ew.set(h,!0),x===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),xA++,function(){o.forEach(function(f){var h=Vp.get(f)-1,m=s.get(f)-1;Vp.set(f,h),s.set(f,m),h||(ew.has(f)||f.removeAttribute(n),ew.delete(f)),m||f.removeAttribute(r)}),xA--,xA||(Vp=new WeakMap,Vp=new WeakMap,ew=new WeakMap,tw={})}},__=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=R0e(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),L0e(n,a,r,"aria-hidden")):function(){return null}},QT="Dialog",[mK,pK]=zi(QT),[$0e,Oc]=mK(QT),gK=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=N.useRef(null),c=N.useRef(null),[u=!1,d]=No({prop:n,defaultProp:a,onChange:s});return i.jsx($0e,{scope:t,triggerRef:l,contentRef:c,contentId:si(),titleId:si(),descriptionId:si(),open:u,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};gK.displayName=QT;var xK="DialogTrigger",vK=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Oc(xK,r),s=Lr(t,a.triggerRef);return i.jsx(zt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":eO(a.open),...n,ref:s,onClick:Ct(e.onClick,a.onOpenToggle)})});vK.displayName=xK;var ZT="DialogPortal",[B0e,yK]=mK(ZT,{forceMount:void 0}),bK=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Oc(ZT,t);return i.jsx(B0e,{scope:t,forceMount:r,children:N.Children.map(n,o=>i.jsx(Co,{present:r||s.open,children:i.jsx(fx,{asChild:!0,container:a,children:o})}))})};bK.displayName=ZT;var Yj="DialogOverlay",wK=N.forwardRef((e,t)=>{const r=yK(Yj,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Oc(Yj,e.__scopeDialog);return s.modal?i.jsx(Co,{present:n||s.open,children:i.jsx(q0e,{...a,ref:t})}):null});wK.displayName=Yj;var z0e=th("DialogOverlay.RemoveScroll"),q0e=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Oc(Yj,r);return i.jsx(Cb,{as:z0e,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(zt.div,{"data-state":eO(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Gm="DialogContent",jK=N.forwardRef((e,t)=>{const r=yK(Gm,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Oc(Gm,e.__scopeDialog);return i.jsx(Co,{present:n||s.open,children:s.modal?i.jsx(U0e,{...a,ref:t}):i.jsx(V0e,{...a,ref:t})})});jK.displayName=Gm;var U0e=N.forwardRef((e,t)=>{const r=Oc(Gm,e.__scopeDialog),n=N.useRef(null),a=Lr(t,r.contentRef,n);return N.useEffect(()=>{const s=n.current;if(s)return __(s)},[]),i.jsx(NK,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ct(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ct(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Ct(e.onFocusOutside,s=>s.preventDefault())})}),V0e=N.forwardRef((e,t)=>{const r=Oc(Gm,e.__scopeDialog),n=N.useRef(!1),a=N.useRef(!1);return i.jsx(NK,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),NK=N.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=Oc(Gm,r),c=N.useRef(null),u=Lr(t,c);return j_(),i.jsxs(i.Fragment,{children:[i.jsx(Ab,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(mp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":eO(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(H0e,{titleId:l.titleId}),i.jsx(K0e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),JT="DialogTitle",_K=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Oc(JT,r);return i.jsx(zt.h2,{id:a.titleId,...n,ref:t})});_K.displayName=JT;var SK="DialogDescription",AK=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Oc(SK,r);return i.jsx(zt.p,{id:a.descriptionId,...n,ref:t})});AK.displayName=SK;var CK="DialogClose",EK=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Oc(CK,r);return i.jsx(zt.button,{type:"button",...n,ref:t,onClick:Ct(e.onClick,()=>a.onOpenChange(!1))})});EK.displayName=CK;function eO(e){return e?"open":"closed"}var PK="DialogTitleWarning",[W0e,kK]=hfe(PK,{contentName:Gm,titleName:JT,docsSlug:"dialog"}),H0e=({titleId:e})=>{const t=kK(PK),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},G0e="DialogDescriptionWarning",K0e=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kK(G0e).contentName}}.`;return N.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},S_=gK,TK=vK,A_=bK,gx=wK,xx=jK,Eb=_K,Pb=AK,C_=EK;const kr=S_,ii=TK,Y0e=A_,OK=N.forwardRef(({className:e,...t},r)=>i.jsx(gx,{ref:r,className:ht("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));OK.displayName=gx.displayName;const Sr=N.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Y0e,{children:[i.jsx(OK,{}),i.jsxs(xx,{ref:n,className:ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(C_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Zu,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Sr.displayName=xx.displayName;const yr=({className:e,...t})=>i.jsx("div",{className:ht("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yr.displayName="DialogHeader";const to=({className:e,...t})=>i.jsx("div",{className:ht("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});to.displayName="DialogFooter";const br=N.forwardRef(({className:e,...t},r)=>i.jsx(Eb,{ref:r,className:ht("text-lg font-semibold leading-none tracking-tight",e),...t}));br.displayName=Eb.displayName;const tn=N.forwardRef(({className:e,...t},r)=>i.jsx(Pb,{ref:r,className:ht("text-sm text-muted-foreground",e),...t}));tn.displayName=Pb.displayName;const DK="/assets/Pavisoft_Sistemas_tech_background_61320ac2-Iib7b6HD.png";function X0e({onLogin:e,onRegisterClick:t,isLoading:r=!1}){const[n,a]=N.useState(""),[s,o]=N.useState(""),[l,c]=N.useState(!1),[u,d]=N.useState(!1),[f,h]=N.useState(""),[m,g]=N.useState(!1),[p,x]=N.useState(!1),[v,y]=N.useState("email"),[b,j]=N.useState(""),[_,P]=N.useState(""),[k,S]=N.useState(""),{toast:E}=Qr(),M=I=>{I.preventDefault(),e&&e(n,s,u)},T=async I=>{I.preventDefault(),x(!0);try{const L=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f})}),z=await L.json();if(L.ok&&z.success===!0)E({title:" Email enviado!",description:"Verifique seu email e insira o cdigo recebido"}),y("code");else{const G=z.error||z.message||"Erro ao enviar email de recuperao";E({title:" Erro",description:G,variant:"destructive"}),console.error("Erro na recuperao de senha:",G)}}catch(L){console.error("Erro na requisio:",L),E({title:" Erro",description:"Erro de conexo. Verifique sua internet e tente novamente.",variant:"destructive"})}finally{x(!1)}},C=async I=>{if(I.preventDefault(),!_||_.trim().length===0){E({title:" Erro",description:"Por favor, digite uma nova senha",variant:"destructive"});return}if(_.length<8){E({title:" Erro",description:"A senha deve ter no mnimo 8 caracteres",variant:"destructive"});return}if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(_)){E({title:" Erro",description:"A senha deve conter letras maisculas, minsculas e nmeros",variant:"destructive"});return}if(_!==k){E({title:" Erro",description:"As senhas no coincidem",variant:"destructive"});return}x(!0);try{const z=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,code:b,newPassword:_})}),G=await z.json();if(z.ok&&G.success===!0)E({title:" Sucesso!",description:"Senha alterada com sucesso. Faa login com a nova senha"}),g(!1),h(""),j(""),P(""),S(""),y("email");else{const W=G.error||G.message||"Cdigo invlido ou expirado";E({title:" Erro",description:W,variant:"destructive"})}}catch{E({title:"Erro",description:"Erro ao processar solicitao",variant:"destructive"})}finally{x(!1)}};return i.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",style:{backgroundImage:`url(${DK})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/50 via-black/40 to-black/50 backdrop-blur-sm"}),i.jsxs("div",{className:"w-full max-w-md relative z-10",children:[i.jsxs("div",{className:"text-center mb-8 space-y-3","data-testid":"brand-header",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(eo,{className:"h-10 w-10 text-blue-400","data-testid":"icon-shield-brand"}),i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent","data-testid":"text-brand-name",children:"PAVISOFT"}),i.jsx(dd,{className:"h-6 w-6 text-purple-400","data-testid":"icon-sparkles-brand"})]}),i.jsx("p",{className:"text-xl font-semibold text-white/90 tracking-wide","data-testid":"text-brand-subtitle",children:"SISTEMAS"}),i.jsx("p",{className:"text-sm text-white/70","data-testid":"text-brand-slogan",children:"Gesto Empresarial Inteligente"})]}),i.jsxs(Ae,{className:"bg-white/95 dark:bg-gray-950/95 backdrop-blur-md border-white/20 dark:border-gray-800/50 shadow-2xl",children:[i.jsxs(qe,{className:"space-y-3 pb-6",children:[i.jsx(Ue,{className:"text-2xl font-bold text-center",children:"Bem-vindo de volta"}),i.jsx(Ht,{className:"text-center",children:"Entre com suas credenciais para acessar o sistema"})]}),i.jsxs("form",{onSubmit:M,children:[i.jsxs(Pe,{className:"space-y-5",children:[i.jsxs("div",{className:"flex gap-2 p-1 bg-muted rounded-lg",children:[i.jsxs(ye,{type:"button",variant:u?"ghost":"default",className:"flex-1 transition-all",onClick:()=>d(!1),"data-testid":"button-proprietario",children:[i.jsx(Tm,{className:"h-4 w-4 mr-2"}),"Proprietrio"]}),i.jsxs(ye,{type:"button",variant:u?"default":"ghost",className:"flex-1 transition-all",onClick:()=>d(!0),"data-testid":"button-funcionario",children:[i.jsx(Ba,{className:"h-4 w-4 mr-2"}),"Funcionrio"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(sl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{id:"email",type:"email",placeholder:"seu@email.com",className:"pl-10 h-11",value:n,onChange:I=>a(I.target.value),required:!0,"data-testid":"input-email"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(De,{htmlFor:"password",className:"text-sm font-medium",children:"Senha"}),i.jsxs(kr,{open:m,onOpenChange:g,children:[i.jsx(ii,{asChild:!0,children:i.jsx("button",{type:"button",className:"text-xs text-primary hover:text-primary/80 font-medium transition-colors","data-testid":"button-forgot-password",children:"Esqueceu a senha?"})}),i.jsx(Sr,{className:"sm:max-w-md",children:v==="email"?i.jsxs("form",{onSubmit:I=>{I.preventDefault(),I.stopPropagation(),T(I)},children:[i.jsxs(yr,{children:[i.jsx(br,{className:"text-xl",children:"Recuperar Senha"}),i.jsx(tn,{className:"pt-2",children:"Digite seu email cadastrado e enviaremos um cdigo para redefinir sua senha."})]}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"forgot-email",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(sl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{id:"forgot-email",type:"email",placeholder:"seu@email.com",className:"pl-10",value:f,onChange:I=>h(I.target.value),required:!0,"data-testid":"input-forgot-email"})]})]})}),i.jsx(to,{children:i.jsx(ye,{type:"submit",className:"w-full",disabled:p,"data-testid":"button-send-reset-email",children:p?"Enviando...":"Enviar cdigo"})})]}):i.jsxs("form",{onSubmit:I=>{I.preventDefault(),I.stopPropagation(),C(I)},children:[i.jsxs(yr,{children:[i.jsx(br,{className:"text-xl",children:"Digite o cdigo"}),i.jsxs(tn,{className:"pt-2",children:["Insira o cdigo de 6 dgitos enviado para ",i.jsx("strong",{children:f})]})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"reset-code",children:"Cdigo de Verificao"}),i.jsx(Ze,{id:"reset-code",type:"text",placeholder:"000000",maxLength:6,value:b,onChange:I=>j(I.target.value.replace(/\D/g,"")),required:!0,className:"text-center text-2xl tracking-widest"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"new-password",children:"Nova Senha"}),i.jsx(Ze,{id:"new-password",type:"password",placeholder:"Mnimo 8 caracteres (letras e nmeros)",value:_,onChange:I=>P(I.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"confirm-new-password",children:"Confirmar Nova Senha"}),i.jsx(Ze,{id:"confirm-new-password",type:"password",placeholder:"Digite a senha novamente",value:k,onChange:I=>S(I.target.value),required:!0})]})]}),i.jsxs(to,{className:"flex-col gap-2",children:[i.jsx(ye,{type:"submit",className:"w-full",disabled:p,children:p?"Alterando...":"Alterar senha"}),i.jsx(ye,{type:"button",variant:"outline",className:"w-full",onClick:I=>{I.preventDefault(),I.stopPropagation(),y("email"),j(""),P(""),S("")},children:"Voltar"})]})]})})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(_o,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{id:"password",type:l?"text":"password",placeholder:"",className:"pl-10 pr-10 h-11",value:s,onChange:I=>o(I.target.value),required:!0,"data-testid":"input-password"}),i.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-3 flex items-center text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-toggle-password",children:l?i.jsx(mG,{className:"h-4 w-4"}):i.jsx(rd,{className:"h-4 w-4"})})]})]})]}),i.jsxs(YT,{className:"flex flex-col gap-4 pt-2",children:[i.jsx(ye,{type:"submit",className:"w-full h-11 font-medium","data-testid":"button-login",disabled:r,children:r?"Entrando...":"Entrar"}),t&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative w-full",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Novo por aqui?"})})]}),i.jsxs(ye,{type:"button",variant:"outline",className:"w-full h-11",onClick:t,"data-testid":"button-register",children:[i.jsx(RT,{className:"mr-2 h-4 w-4"}),"Criar nova conta"]})]})]})]})]}),i.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-center gap-4",children:[i.jsx("p",{className:"text-center text-xs text-white/60",children:" 2025 PAVISOFT SISTEMAS. Todos os direitos reservados."}),i.jsxs("a",{href:"/ajuda",className:"text-xs text-white/50 hover:text-white/80 transition-colors flex items-center gap-1","data-testid":"link-help",children:[i.jsx(Y1,{className:"h-3 w-3"}),"Ajuda e Termos"]})]})]})]})}function iF(){const[,e]=ui(),{toast:t}=Qr(),[r,n]=N.useState(!1),a=async(o,l,c)=>{n(!0);try{const d=await Pr("POST",c?"/api/auth/login-funcionario":"/api/auth/login",{email:o,senha:l});if(!d.ok)throw new Error("Email ou senha invlidos");const f=await d.json();if(localStorage.setItem("user",JSON.stringify(f)),console.log(" Atualizando localStorage do usurio logado:",f),t({title:"Login realizado com sucesso!",description:`Bem-vindo, ${f.nome}`}),await new Promise(h=>setTimeout(h,100)),c){e("/pdv");return}e("/dashboard")}catch(u){t({title:"Erro ao fazer login",description:u instanceof Error?u.message:"Email ou senha invlidos",variant:"destructive"})}finally{n(!1)}},s=()=>{e("/register")};return i.jsx(X0e,{onLogin:a,onRegisterClick:s,isLoading:r})}function Q0e({onRegister:e,onLoginClick:t,isLoading:r}){const[n,a]=N.useState(""),[s,o]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(!1),f=h=>{if(h.preventDefault(),!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)){alert("Por favor, insira um email vlido");return}if(l.length<8){alert("A senha deve ter no mnimo 8 caracteres");return}if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(l)){alert("A senha deve conter letras maisculas, minsculas e nmeros");return}e&&n&&s&&l&&e(n,s,l)};return i.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",style:{backgroundImage:`url(${DK})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/50 via-black/40 to-black/50 backdrop-blur-sm"}),i.jsxs("div",{className:"w-full max-w-md relative z-10 space-y-6",children:[i.jsx(_s,{href:"/",children:i.jsxs(ye,{variant:"outline",className:"bg-white/90 dark:bg-gray-950/90 backdrop-blur-md","data-testid":"button-back",children:[i.jsx(uG,{className:"mr-2 h-4 w-4"}),"Voltar ao Login"]})}),i.jsxs("div",{className:"text-center space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2","data-testid":"brand-header",children:[i.jsx(eo,{className:"h-10 w-10 text-blue-400","data-testid":"icon-shield-brand"}),i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent","data-testid":"text-brand-name",children:"PAVISOFT"}),i.jsx(dd,{className:"h-6 w-6 text-purple-400","data-testid":"icon-sparkles-brand"})]}),i.jsx("p",{className:"text-xl font-semibold text-white/90 tracking-wide","data-testid":"text-brand-subtitle",children:"SISTEMAS"})]}),i.jsxs(Ae,{className:"w-full bg-white/95 dark:bg-gray-950/95 backdrop-blur-md border-white/20 dark:border-gray-800/50 shadow-2xl",children:[i.jsxs(qe,{className:"space-y-3 pb-6",children:[i.jsx(Ue,{className:"text-2xl font-bold text-center",children:"Criar sua conta"}),i.jsx(Ht,{className:"text-center",children:"Comece agora com 7 dias de teste grtis"})]}),i.jsxs("form",{onSubmit:f,children:[i.jsxs(Pe,{className:"space-y-5",children:[i.jsxs("div",{className:"bg-muted/50 border border-border rounded-lg p-4 space-y-2",children:[i.jsxs("p",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(dd,{className:"h-4 w-4 text-primary"}),"Benefcios inclusos:"]}),i.jsxs("ul",{className:"space-y-1.5 text-sm text-muted-foreground",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(km,{className:"h-3.5 w-3.5 text-green-500"}),"7 dias de teste gratuito"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(km,{className:"h-3.5 w-3.5 text-green-500"}),"Acesso completo ao sistema"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(km,{className:"h-3.5 w-3.5 text-green-500"}),"Suporte tcnico incluso"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"name",className:"text-sm font-medium",children:"Nome completo"}),i.jsxs("div",{className:"relative",children:[i.jsx(Tm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{id:"name",type:"text",placeholder:"Seu nome",className:"pl-10 h-11",value:n,onChange:h=>a(h.target.value),required:!0,"data-testid":"input-name"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(sl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{id:"email",type:"email",placeholder:"seu@email.com",className:"pl-10 h-11",value:s,onChange:h=>o(h.target.value),required:!0,"data-testid":"input-email"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"password",className:"text-sm font-medium",children:"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(_o,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{id:"password",type:u?"text":"password",placeholder:"",className:"pl-10 pr-10 h-11",value:l,onChange:h=>c(h.target.value),required:!0,"data-testid":"input-password"}),i.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute inset-y-0 right-3 flex items-center text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-toggle-password",children:u?i.jsx(mG,{className:"h-4 w-4"}):i.jsx(rd,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Mnimo 8 caracteres com letras maisculas, minsculas e nmeros"})]})]}),i.jsxs(YT,{className:"flex flex-col gap-4 pt-2",children:[i.jsx(ye,{type:"submit",className:"w-full h-11 font-medium","data-testid":"button-register",disabled:r,children:r?"Criando conta...":"Criar conta grtis"}),i.jsxs("div",{className:"relative w-full",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"J tem uma conta?"})})]}),i.jsx(ye,{type:"button",variant:"outline",className:"w-full h-11",onClick:t,"data-testid":"button-login-nav",children:"Fazer login"})]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[i.jsx("p",{className:"text-center text-xs text-white/60",children:" 2025 PAVISOFT SISTEMAS. Todos os direitos reservados."}),i.jsxs("a",{href:"/ajuda",className:"text-xs text-white/50 hover:text-white/80 transition-colors flex items-center gap-1","data-testid":"link-help",children:[i.jsx(Y1,{className:"h-3 w-3"}),"Ajuda e Termos"]})]})]})]})}function Z0e(){const[,e]=ui(),{toast:t}=Qr(),r=rr({mutationFn:async({name:s,email:o,password:l})=>{const c=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:s,email:o,senha:l})});if(!c.ok){const u=await c.json();throw new Error(u.error||"Erro ao criar conta")}return c.json()},retry:!1,onSuccess:s=>{t({title:"Conta criada com sucesso!",description:"Voc ganhou 7 dias de teste grtis. Faa login para comear!"}),e("/")},onError:s=>{t({title:"Erro ao criar conta",description:s.message,variant:"destructive"})}}),n=(s,o,l)=>{r.isPending||r.mutate({name:s,email:o,password:l})},a=()=>{e("/")};return i.jsx(Q0e,{onRegister:n,onLoginClick:a,isLoading:r.isPending})}const mn=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:ht("w-full caption-bottom text-sm",e),...t})}));mn.displayName="Table";const pn=N.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:ht("[&_tr]:border-b",e),...t}));pn.displayName="TableHeader";const gn=N.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:ht("[&_tr:last-child]:border-0",e),...t}));gn.displayName="TableBody";const J0e=N.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:ht("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));J0e.displayName="TableFooter";const Bt=N.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:ht("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Bt.displayName="TableRow";const Me=N.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:ht("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Me.displayName="TableHead";const Ie=N.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:ht("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ie.displayName="TableCell";const ege=N.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:ht("mt-4 text-sm text-muted-foreground",e),...t}));ege.displayName="TableCaption";function Xj(e,[t,r]){return Math.min(r,Math.max(t,e))}var tge=N.createContext(void 0);function vx(e){const t=N.useContext(tge);return e||t||"ltr"}function tO(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var rge=[" ","Enter","ArrowUp","ArrowDown"],nge=[" ","Enter"],kb="Select",[E_,P_,age]=dx(kb),[yx]=zi(kb,[age,xh]),k_=xh(),[ige,vh]=yx(kb),[sge,oge]=yx(kb),IK=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=k_(t),[x,v]=N.useState(null),[y,b]=N.useState(null),[j,_]=N.useState(!1),P=vx(u),[k=!1,S]=No({prop:n,defaultProp:a,onChange:s}),[E,M]=No({prop:o,defaultProp:l,onChange:c}),T=N.useRef(null),C=x?g||!!x.closest("form"):!0,[I,L]=N.useState(new Set),z=Array.from(I).map(G=>G.props.value).join(";");return i.jsx(m_,{...p,children:i.jsxs(ige,{required:m,scope:t,trigger:x,onTriggerChange:v,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:si(),value:E,onValueChange:M,open:k,onOpenChange:S,dir:P,triggerPointerDownPosRef:T,disabled:h,children:[i.jsx(E_.Provider,{scope:t,children:i.jsx(sge,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(G=>{L(W=>new Set(W).add(G))},[]),onNativeOptionRemove:N.useCallback(G=>{L(W=>{const q=new Set(W);return q.delete(G),q})},[]),children:r})}),C?i.jsxs(iY,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:G=>M(G.target.value),disabled:h,form:g,children:[E===void 0?i.jsx("option",{value:""}):null,Array.from(I)]},z):null]})})};IK.displayName=kb;var FK="SelectTrigger",RK=N.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=k_(r),o=vh(FK,r),l=o.disabled||n,c=Lr(t,o.onTriggerChange),u=P_(r),d=N.useRef("touch"),[f,h,m]=sY(p=>{const x=u().filter(b=>!b.disabled),v=x.find(b=>b.value===o.value),y=oY(x,p,v);y!==void 0&&o.onValueChange(y.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(Sb,{asChild:!0,...s,children:i.jsx(zt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":aY(o.value)?"":void 0,...a,ref:c,onClick:Ct(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Ct(a.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Ct(a.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&rge.includes(p.key)&&(g(),p.preventDefault())})})})});RK.displayName=FK;var MK="SelectValue",LK=N.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=vh(MK,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Lr(t,c.onValueNodeChange);return ci(()=>{u(d)},[u,d]),i.jsx(zt.span,{...l,ref:f,style:{pointerEvents:"none"},children:aY(c.value)?i.jsx(i.Fragment,{children:o}):s})});LK.displayName=MK;var lge="SelectIcon",$K=N.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(zt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});$K.displayName=lge;var cge="SelectPortal",BK=e=>i.jsx(fx,{asChild:!0,...e});BK.displayName=cge;var Km="SelectContent",zK=N.forwardRef((e,t)=>{const r=vh(Km,e.__scopeSelect),[n,a]=N.useState();if(ci(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?hp.createPortal(i.jsx(qK,{scope:e.__scopeSelect,children:i.jsx(E_.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(UK,{...e,ref:t})});zK.displayName=Km;var ac=10,[qK,yh]=yx(Km),uge="SelectContentImpl",dge=th("SelectContent.RemoveScroll"),UK=N.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x,...v}=e,y=vh(Km,r),[b,j]=N.useState(null),[_,P]=N.useState(null),k=Lr(t,Y=>j(Y)),[S,E]=N.useState(null),[M,T]=N.useState(null),C=P_(r),[I,L]=N.useState(!1),z=N.useRef(!1);N.useEffect(()=>{if(b)return __(b)},[b]),j_();const G=N.useCallback(Y=>{const[ee,...X]=C().map(oe=>oe.ref.current),[U]=X.slice(-1),me=document.activeElement;for(const oe of Y)if(oe===me||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===ee&&_&&(_.scrollTop=0),oe===U&&_&&(_.scrollTop=_.scrollHeight),oe==null||oe.focus(),document.activeElement!==me))return},[C,_]),W=N.useCallback(()=>G([S,b]),[G,S,b]);N.useEffect(()=>{I&&W()},[I,W]);const{onOpenChange:q,triggerPointerDownPosRef:K}=y;N.useEffect(()=>{if(b){let Y={x:0,y:0};const ee=U=>{var me,oe;Y={x:Math.abs(Math.round(U.pageX)-(((me=K.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(U.pageY)-(((oe=K.current)==null?void 0:oe.y)??0))}},X=U=>{Y.x<=10&&Y.y<=10?U.preventDefault():b.contains(U.target)||q(!1),document.removeEventListener("pointermove",ee),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",X,{capture:!0})}}},[b,q,K]),N.useEffect(()=>{const Y=()=>q(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[q]);const[ae,ie]=sY(Y=>{const ee=C().filter(me=>!me.disabled),X=ee.find(me=>me.ref.current===document.activeElement),U=oY(ee,Y,X);U&&setTimeout(()=>U.ref.current.focus())}),O=N.useCallback((Y,ee,X)=>{const U=!z.current&&!X;(y.value!==void 0&&y.value===ee||U)&&(E(Y),U&&(z.current=!0))},[y.value]),V=N.useCallback(()=>b==null?void 0:b.focus(),[b]),D=N.useCallback((Y,ee,X)=>{const U=!z.current&&!X;(y.value!==void 0&&y.value===ee||U)&&T(Y)},[y.value]),B=n==="popper"?oE:VK,Q=B===oE?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return i.jsx(qK,{scope:r,content:b,viewport:_,onViewportChange:P,itemRefCallback:O,selectedItem:S,onItemLeave:V,itemTextRefCallback:D,focusSelectedItem:W,selectedItemText:M,position:n,isPositioned:I,searchRef:ae,children:i.jsx(Cb,{as:dge,allowPinchZoom:!0,children:i.jsx(Ab,{asChild:!0,trapped:y.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:Ct(a,Y=>{var ee;(ee=y.trigger)==null||ee.focus({preventScroll:!0}),Y.preventDefault()}),children:i.jsx(mp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(B,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Y=>Y.preventDefault(),...v,...Q,onPlaced:()=>L(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ct(v.onKeyDown,Y=>{const ee=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!ee&&Y.key.length===1&&ie(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let U=C().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(U=U.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const me=Y.target,oe=U.indexOf(me);U=U.slice(oe+1)}setTimeout(()=>G(U)),Y.preventDefault()}})})})})})})});UK.displayName=uge;var fge="SelectItemAlignedPosition",VK=N.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=vh(Km,r),o=yh(Km,r),[l,c]=N.useState(null),[u,d]=N.useState(null),f=Lr(t,k=>d(k)),h=P_(r),m=N.useRef(!1),g=N.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:v,focusSelectedItem:y}=o,b=N.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&p&&x&&v){const k=s.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),E=s.valueNode.getBoundingClientRect(),M=v.getBoundingClientRect();if(s.dir!=="rtl"){const me=M.left-S.left,oe=E.left-me,Se=k.left-oe,_e=k.width+Se,se=Math.max(_e,S.width),ft=window.innerWidth-ac,de=Xj(oe,[ac,Math.max(ac,ft-se)]);l.style.minWidth=_e+"px",l.style.left=de+"px"}else{const me=S.right-M.right,oe=window.innerWidth-E.right-me,Se=window.innerWidth-k.right-oe,_e=k.width+Se,se=Math.max(_e,S.width),ft=window.innerWidth-ac,de=Xj(oe,[ac,Math.max(ac,ft-se)]);l.style.minWidth=_e+"px",l.style.right=de+"px"}const T=h(),C=window.innerHeight-ac*2,I=p.scrollHeight,L=window.getComputedStyle(u),z=parseInt(L.borderTopWidth,10),G=parseInt(L.paddingTop,10),W=parseInt(L.borderBottomWidth,10),q=parseInt(L.paddingBottom,10),K=z+G+I+q+W,ae=Math.min(x.offsetHeight*5,K),ie=window.getComputedStyle(p),O=parseInt(ie.paddingTop,10),V=parseInt(ie.paddingBottom,10),D=k.top+k.height/2-ac,B=C-D,Q=x.offsetHeight/2,Y=x.offsetTop+Q,ee=z+G+Y,X=K-ee;if(ee<=D){const me=T.length>0&&x===T[T.length-1].ref.current;l.style.bottom="0px";const oe=u.clientHeight-p.offsetTop-p.offsetHeight,Se=Math.max(B,Q+(me?V:0)+oe+W),_e=ee+Se;l.style.height=_e+"px"}else{const me=T.length>0&&x===T[0].ref.current;l.style.top="0px";const Se=Math.max(D,z+p.offsetTop+(me?O:0)+Q)+X;l.style.height=Se+"px",p.scrollTop=ee-D+p.offsetTop}l.style.margin=`${ac}px 0`,l.style.minHeight=ae+"px",l.style.maxHeight=C+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,p,x,v,s.dir,n]);ci(()=>b(),[b]);const[j,_]=N.useState();ci(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const P=N.useCallback(k=>{k&&g.current===!0&&(b(),y==null||y(),g.current=!1)},[b,y]);return i.jsx(mge,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:P,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(zt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});VK.displayName=fge;var hge="SelectPopperPosition",oE=N.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ac,...s}=e,o=k_(r);return i.jsx(p_,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});oE.displayName=hge;var[mge,rO]=yx(Km,{}),lE="SelectViewport",WK=N.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=yh(lE,r),o=rO(lE,r),l=Lr(t,s.onViewportChange),c=N.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(E_.Slot,{scope:r,children:i.jsx(zt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ct(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-ac*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),v=Math.max(p,x);if(v<g){const y=v+m,b=Math.min(g,y),j=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});WK.displayName=lE;var HK="SelectGroup",[pge,gge]=yx(HK),xge=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=si();return i.jsx(pge,{scope:r,id:a,children:i.jsx(zt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});xge.displayName=HK;var GK="SelectLabel",KK=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=gge(GK,r);return i.jsx(zt.div,{id:a.id,...n,ref:t})});KK.displayName=GK;var Qj="SelectItem",[vge,YK]=yx(Qj),XK=N.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=vh(Qj,r),c=yh(Qj,r),u=l.value===n,[d,f]=N.useState(s??""),[h,m]=N.useState(!1),g=Lr(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,n,a)}),p=si(),x=N.useRef("touch"),v=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(vge,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:N.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(E_.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:i.jsx(zt.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:Ct(o.onFocus,()=>m(!0)),onBlur:Ct(o.onBlur,()=>m(!1)),onClick:Ct(o.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:Ct(o.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:Ct(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:Ct(o.onPointerMove,y=>{var b;x.current=y.pointerType,a?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ct(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ct(o.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(nge.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});XK.displayName=Qj;var Vv="SelectItemText",QK=N.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=vh(Vv,r),l=yh(Vv,r),c=YK(Vv,r),u=oge(Vv,r),[d,f]=N.useState(null),h=Lr(t,v=>f(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=N.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return ci(()=>(p(g),()=>x(g)),[p,x,g]),i.jsxs(i.Fragment,{children:[i.jsx(zt.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?hp.createPortal(s.children,o.valueNode):null]})});QK.displayName=Vv;var ZK="SelectItemIndicator",JK=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return YK(ZK,r).isSelected?i.jsx(zt.span,{"aria-hidden":!0,...n,ref:t}):null});JK.displayName=ZK;var cE="SelectScrollUpButton",eY=N.forwardRef((e,t)=>{const r=yh(cE,e.__scopeSelect),n=rO(cE,e.__scopeSelect),[a,s]=N.useState(!1),o=Lr(t,n.onScrollButtonChange);return ci(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(rY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});eY.displayName=cE;var uE="SelectScrollDownButton",tY=N.forwardRef((e,t)=>{const r=yh(uE,e.__scopeSelect),n=rO(uE,e.__scopeSelect),[a,s]=N.useState(!1),o=Lr(t,n.onScrollButtonChange);return ci(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(rY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});tY.displayName=uE;var rY=N.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=yh("SelectScrollButton",r),o=N.useRef(null),l=P_(r),c=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),ci(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(zt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ct(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ct(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ct(a.onPointerLeave,()=>{c()})})}),yge="SelectSeparator",nY=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(zt.div,{"aria-hidden":!0,...n,ref:t})});nY.displayName=yge;var dE="SelectArrow",bge=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=k_(r),s=vh(dE,r),o=yh(dE,r);return s.open&&o.position==="popper"?i.jsx(g_,{...a,...n,ref:t}):null});bge.displayName=dE;function aY(e){return e===""||e===void 0}var iY=N.forwardRef((e,t)=>{const{value:r,...n}=e,a=N.useRef(null),s=Lr(t,a),o=tO(r);return N.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),i.jsx(wb,{asChild:!0,children:i.jsx("select",{...n,ref:s,defaultValue:r})})});iY.displayName="BubbleSelect";function sY(e){const t=us(e),r=N.useRef(""),n=N.useRef(0),a=N.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function oY(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=wge(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function wge(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var jge=IK,lY=RK,Nge=LK,_ge=$K,Sge=BK,cY=zK,Age=WK,uY=KK,dY=XK,Cge=QK,Ege=JK,fY=eY,hY=tY,mY=nY;const Cr=jge,Er=Nge,Nr=N.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(lY,{ref:n,className:ht("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(_ge,{asChild:!0,children:i.jsx(jb,{className:"h-4 w-4 opacity-50"})})]}));Nr.displayName=lY.displayName;const pY=N.forwardRef(({className:e,...t},r)=>i.jsx(fY,{ref:r,className:ht("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(fG,{className:"h-4 w-4"})}));pY.displayName=fY.displayName;const gY=N.forwardRef(({className:e,...t},r)=>i.jsx(hY,{ref:r,className:ht("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(jb,{className:"h-4 w-4"})}));gY.displayName=hY.displayName;const _r=N.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>i.jsx(Sge,{children:i.jsxs(cY,{ref:a,className:ht("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(pY,{}),i.jsx(Age,{className:ht("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(gY,{})]})}));_r.displayName=cY.displayName;const Pge=N.forwardRef(({className:e,...t},r)=>i.jsx(uY,{ref:r,className:ht("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Pge.displayName=uY.displayName;const Je=N.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(dY,{ref:n,className:ht("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Ege,{children:i.jsx(ma,{className:"h-4 w-4"})})}),i.jsx(Cge,{children:t})]}));Je.displayName=dY.displayName;const kge=N.forwardRef(({className:e,...t},r)=>i.jsx(mY,{ref:r,className:ht("-mx-1 my-1 h-px bg-muted",e),...t}));kge.displayName=mY.displayName;var vA="rovingFocusGroup.onEntryFocus",Tge={bubbles:!1,cancelable:!0},T_="RovingFocusGroup",[fE,xY,Oge]=dx(T_),[Dge,O_]=zi(T_,[Oge]),[Ige,Fge]=Dge(T_),vY=N.forwardRef((e,t)=>i.jsx(fE.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(fE.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Rge,{...e,ref:t})})}));vY.displayName=T_;var Rge=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=N.useRef(null),m=Lr(t,h),g=vx(s),[p=null,x]=No({prop:o,defaultProp:l,onChange:c}),[v,y]=N.useState(!1),b=us(u),j=xY(r),_=N.useRef(!1),[P,k]=N.useState(0);return N.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(vA,b),()=>S.removeEventListener(vA,b)},[b]),i.jsx(Ige,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:N.useCallback(S=>x(S),[x]),onItemShiftTab:N.useCallback(()=>y(!0),[]),onFocusableItemAdd:N.useCallback(()=>k(S=>S+1),[]),onFocusableItemRemove:N.useCallback(()=>k(S=>S-1),[]),children:i.jsx(zt.div,{tabIndex:v||P===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ct(e.onMouseDown,()=>{_.current=!0}),onFocus:Ct(e.onFocus,S=>{const E=!_.current;if(S.target===S.currentTarget&&E&&!v){const M=new CustomEvent(vA,Tge);if(S.currentTarget.dispatchEvent(M),!M.defaultPrevented){const T=j().filter(G=>G.focusable),C=T.find(G=>G.active),I=T.find(G=>G.id===p),z=[C,I,...T].filter(Boolean).map(G=>G.ref.current);wY(z,d)}}_.current=!1}),onBlur:Ct(e.onBlur,()=>y(!1))})})}),yY="RovingFocusGroupItem",bY=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,...o}=e,l=si(),c=s||l,u=Fge(yY,r),d=u.currentTabStopId===c,f=xY(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return N.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),i.jsx(fE.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:i.jsx(zt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Ct(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:Ct(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ct(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=$ge(g,u.orientation,u.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=f().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const y=v.indexOf(g.currentTarget);v=u.loop?Bge(v,y+1):v.slice(y+1)}setTimeout(()=>wY(v))}})})})});bY.displayName=yY;var Mge={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Lge(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $ge(e,t,r){const n=Lge(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Mge[n]}function wY(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Bge(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var jY=vY,NY=bY,nO="Tabs",[zge]=zi(nO,[O_]),_Y=O_(),[qge,aO]=zge(nO),SY=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=vx(l),[f,h]=No({prop:n,onChange:a,defaultProp:s});return i.jsx(qge,{scope:r,baseId:si(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(zt.div,{dir:d,"data-orientation":o,...u,ref:t})})});SY.displayName=nO;var AY="TabsList",CY=N.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=aO(AY,r),o=_Y(r);return i.jsx(jY,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(zt.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});CY.displayName=AY;var EY="TabsTrigger",PY=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,o=aO(EY,r),l=_Y(r),c=OY(o.baseId,n),u=DY(o.baseId,n),d=n===o.value;return i.jsx(NY,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(zt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:Ct(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ct(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ct(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});PY.displayName=EY;var kY="TabsContent",TY=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=e,l=aO(kY,r),c=OY(l.baseId,n),u=DY(l.baseId,n),d=n===l.value,f=N.useRef(d);return N.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Co,{present:a||d,children:({present:h})=>i.jsx(zt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});TY.displayName=kY;function OY(e,t){return`${e}-trigger-${t}`}function DY(e,t){return`${e}-content-${t}`}var Uge=SY,IY=CY,FY=PY,RY=TY;const Zj=Uge,ty=N.forwardRef(({className:e,...t},r)=>i.jsx(IY,{ref:r,className:ht("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ty.displayName=IY.displayName;const Qo=N.forwardRef(({className:e,...t},r)=>i.jsx(FY,{ref:r,className:ht("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Qo.displayName=FY.displayName;const Zo=N.forwardRef(({className:e,...t},r)=>i.jsx(RY,{ref:r,className:ht("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Zo.displayName=RY.displayName;const Vge=pp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$i=N.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:ht(Vge({variant:t}),e),...r}));$i.displayName="Alert";const wo=N.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:ht("mb-1 font-medium leading-none tracking-tight",e),...t}));wo.displayName="AlertTitle";const Bi=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ht("text-sm [&_p]:leading-relaxed",e),...t}));Bi.displayName="AlertDescription";var iO="Switch",[Wge]=zi(iO),[Hge,Gge]=Wge(iO),MY=N.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=N.useState(null),g=Lr(t,b=>m(b)),p=N.useRef(!1),x=h?d||!!h.closest("form"):!0,[v=!1,y]=No({prop:a,defaultProp:s,onChange:u});return i.jsxs(Hge,{scope:r,checked:v,disabled:l,children:[i.jsx(zt.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":BY(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Ct(e.onClick,b=>{y(j=>!j),x&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),x&&i.jsx(Kge,{control:h,bubbles:!p.current,name:n,value:c,checked:v,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});MY.displayName=iO;var LY="SwitchThumb",$Y=N.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Gge(LY,r);return i.jsx(zt.span,{"data-state":BY(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});$Y.displayName=LY;var Kge=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,s=N.useRef(null),o=tO(r),l=WT(t);return N.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function BY(e){return e?"checked":"unchecked"}var zY=MY,Yge=$Y;const po=N.forwardRef(({className:e,...t},r)=>i.jsx(zY,{className:ht("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(Yge,{className:ht("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));po.displayName=zY.displayName;var Tb=e=>e.type==="checkbox",hm=e=>e instanceof Date,Vs=e=>e==null;const qY=e=>typeof e=="object";var Ka=e=>!Vs(e)&&!Array.isArray(e)&&qY(e)&&!hm(e),UY=e=>Ka(e)&&e.target?Tb(e.target)?e.target.checked:e.target.value:e,Xge=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,VY=(e,t)=>e.has(Xge(t)),Qge=e=>{const t=e.constructor&&e.constructor.prototype;return Ka(t)&&t.hasOwnProperty("isPrototypeOf")},sO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xi(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(sO&&(e instanceof Blob||n))&&(r||Ka(e)))if(t=r?[]:{},!r&&!Qge(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Xi(e[a]));else return e;return t}var D_=e=>Array.isArray(e)?e.filter(Boolean):[],Ma=e=>e===void 0,Rt=(e,t,r)=>{if(!t||!Ka(e))return r;const n=D_(t.split(/[,[\].]+?/)).reduce((a,s)=>Vs(a)?a:a[s],e);return Ma(n)||n===e?Ma(e[t])?r:e[t]:n},Ho=e=>typeof e=="boolean",oO=e=>/^\w*$/.test(e),WY=e=>D_(e.replace(/["|']|\]/g,"").split(/\.|\[/)),wn=(e,t,r)=>{let n=-1;const a=oO(t)?[t]:WY(t),s=a.length,o=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Ka(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Jj={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},mc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$u={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HY=he.createContext(null),I_=()=>he.useContext(HY),Zge=e=>{const{children:t,...r}=e;return he.createElement(HY.Provider,{value:r},t)};var GY=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const o=s;return t._proxyFormState[o]!==mc.all&&(t._proxyFormState[o]=!n||mc.all),r&&(r[o]=!0),e[o]}});return a};function Jge(e){const t=I_(),{control:r=t.control,disabled:n,name:a,exact:s}=e||{},[o,l]=he.useState(r._formState),c=he.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=he.useRef(a);return u.current=a,he.useEffect(()=>r._subscribe({name:u.current,formState:c.current,exact:s,callback:d=>{!n&&l({...r._formState,...d})}}),[r,n,s]),he.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),he.useMemo(()=>GY(o,r,c.current,!1),[o,r])}var su=e=>typeof e=="string",KY=(e,t,r,n,a)=>su(e)?(n&&t.watch.add(e),Rt(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),Rt(r,s))):(n&&(t.watchAll=!0),r);function exe(e){const t=I_(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:o}=e||{},l=he.useRef(n),c=he.useRef(a);l.current=n,he.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!s&&d(KY(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,s,o]);const[u,d]=he.useState(r._getWatch(n,a));return he.useEffect(()=>r._removeUnmounted()),u}function txe(e){const t=I_(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s}=e,o=VY(a._names.array,r),l=exe({control:a,name:r,defaultValue:Rt(a._formValues,r,Rt(a._defaultValues,r,e.defaultValue)),exact:!0}),c=Jge({control:a,name:r,exact:!0}),u=he.useRef(e),d=he.useRef(a.register(r,{...e.rules,value:l,...Ho(e.disabled)?{disabled:e.disabled}:{}})),f=he.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Rt(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Rt(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Rt(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Rt(c.validatingFields,r)},error:{enumerable:!0,get:()=>Rt(c.errors,r)}}),[c,r]),h=he.useCallback(x=>d.current.onChange({target:{value:UY(x),name:r},type:Jj.CHANGE}),[r]),m=he.useCallback(()=>d.current.onBlur({target:{value:Rt(a._formValues,r),name:r},type:Jj.BLUR}),[r,a._formValues]),g=he.useCallback(x=>{const v=Rt(a._fields,r);v&&x&&(v._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:y=>x.setCustomValidity(y),reportValidity:()=>x.reportValidity()})},[a._fields,r]),p=he.useMemo(()=>({name:r,value:l,...Ho(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:m,ref:g}),[r,n,c.disabled,h,m,g,l]);return he.useEffect(()=>{const x=a._options.shouldUnregister||s;a.register(r,{...u.current.rules,...Ho(u.current.disabled)?{disabled:u.current.disabled}:{}});const v=(y,b)=>{const j=Rt(a._fields,y);j&&j._f&&(j._f.mount=b)};if(v(r,!0),x){const y=Xi(Rt(a._options.defaultValues,r));wn(a._defaultValues,r,y),Ma(Rt(a._formValues,r))&&wn(a._formValues,r,y)}return!o&&a.register(r),()=>{(o?x&&!a._state.action:x)?a.unregister(r):v(r,!1)}},[r,a,o,s]),he.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),he.useMemo(()=>({field:p,formState:c,fieldState:f}),[p,c,f])}const rxe=e=>e.render(txe(e));var YY=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},u1=e=>Array.isArray(e)?e:[e],sF=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},hE=e=>Vs(e)||!qY(e);function jf(e,t){if(hE(e)||hE(t))return e===t;if(hm(e)&&hm(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const s=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(hm(s)&&hm(o)||Ka(s)&&Ka(o)||Array.isArray(s)&&Array.isArray(o)?!jf(s,o):s!==o)return!1}}return!0}var qs=e=>Ka(e)&&!Object.keys(e).length,lO=e=>e.type==="file",pc=e=>typeof e=="function",eN=e=>{if(!sO)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},XY=e=>e.type==="select-multiple",cO=e=>e.type==="radio",nxe=e=>cO(e)||Tb(e),yA=e=>eN(e)&&e.isConnected;function axe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ma(e)?n++:e[t[n++]];return e}function ixe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ma(e[t]))return!1;return!0}function vi(e,t){const r=Array.isArray(t)?t:oO(t)?[t]:WY(t),n=r.length===1?e:axe(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(Ka(n)&&qs(n)||Array.isArray(n)&&ixe(n))&&vi(e,r.slice(0,-1)),e}var QY=e=>{for(const t in e)if(pc(e[t]))return!0;return!1};function tN(e,t={}){const r=Array.isArray(e);if(Ka(e)||r)for(const n in e)Array.isArray(e[n])||Ka(e[n])&&!QY(e[n])?(t[n]=Array.isArray(e[n])?[]:{},tN(e[n],t[n])):Vs(e[n])||(t[n]=!0);return t}function ZY(e,t,r){const n=Array.isArray(e);if(Ka(e)||n)for(const a in e)Array.isArray(e[a])||Ka(e[a])&&!QY(e[a])?Ma(t)||hE(r[a])?r[a]=Array.isArray(e[a])?tN(e[a],[]):{...tN(e[a])}:ZY(e[a],Vs(t)?{}:t[a],r[a]):r[a]=!jf(e[a],t[a]);return r}var jv=(e,t)=>ZY(e,t,tN(t));const oF={value:!1,isValid:!1},lF={value:!0,isValid:!0};var JY=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ma(e[0].attributes.value)?Ma(e[0].value)||e[0].value===""?lF:{value:e[0].value,isValid:!0}:lF:oF}return oF},eX=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ma(e)?e:t?e===""?NaN:e&&+e:r&&su(e)?new Date(e):n?n(e):e;const cF={isValid:!1,value:null};var tX=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,cF):cF;function uF(e){const t=e.ref;return lO(t)?t.files:cO(t)?tX(e.refs).value:XY(t)?[...t.selectedOptions].map(({value:r})=>r):Tb(t)?JY(e.refs).value:eX(Ma(t.value)?e.ref.value:t.value,e)}var sxe=(e,t,r,n)=>{const a={};for(const s of e){const o=Rt(t,s);o&&wn(a,s,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},rN=e=>e instanceof RegExp,Nv=e=>Ma(e)?e:rN(e)?e.source:Ka(e)?rN(e.value)?e.value.source:e.value:e,dF=e=>({isOnSubmit:!e||e===mc.onSubmit,isOnBlur:e===mc.onBlur,isOnChange:e===mc.onChange,isOnAll:e===mc.all,isOnTouch:e===mc.onTouched});const fF="AsyncFunction";var oxe=e=>!!e&&!!e.validate&&!!(pc(e.validate)&&e.validate.constructor.name===fF||Ka(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===fF)),lxe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),hF=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const d1=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=Rt(e,a);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(d1(l,t))break}else if(Ka(l)&&d1(l,t))break}}};function mF(e,t,r){const n=Rt(e,r);if(n||oO(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),o=Rt(t,s),l=Rt(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};a.pop()}return{name:r}}var cxe=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return qs(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||mc.all))},uxe=(e,t,r)=>!e||!t||e===t||u1(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),dxe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,fxe=(e,t)=>!D_(Rt(e,t)).length&&vi(e,t),hxe=(e,t,r)=>{const n=u1(Rt(e,r));return wn(n,"root",t[r]),wn(e,r,n),e},sj=e=>su(e);function pF(e,t,r="validate"){if(sj(e)||Array.isArray(e)&&e.every(sj)||Ho(e)&&!e)return{type:r,message:sj(e)?e:"",ref:t}}var Wp=e=>Ka(e)&&!rN(e)?e:{value:e,message:""},gF=async(e,t,r,n,a,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:x,mount:v}=e._f,y=Rt(r,p);if(!v||t.has(p))return{};const b=l?l[0]:o,j=C=>{a&&b.reportValidity&&(b.setCustomValidity(Ho(C)?"":C||""),b.reportValidity())},_={},P=cO(o),k=Tb(o),S=P||k,E=(x||lO(o))&&Ma(o.value)&&Ma(y)||eN(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,M=YY.bind(null,p,n,_),T=(C,I,L,z=$u.maxLength,G=$u.minLength)=>{const W=C?I:L;_[p]={type:C?z:G,message:W,ref:o,...M(C?z:G,W)}};if(s?!Array.isArray(y)||!y.length:c&&(!S&&(E||Vs(y))||Ho(y)&&!y||k&&!JY(l).isValid||P&&!tX(l).isValid)){const{value:C,message:I}=sj(c)?{value:!!c,message:c}:Wp(c);if(C&&(_[p]={type:$u.required,message:I,ref:b,...M($u.required,I)},!n))return j(I),_}if(!E&&(!Vs(f)||!Vs(h))){let C,I;const L=Wp(h),z=Wp(f);if(!Vs(y)&&!isNaN(y)){const G=o.valueAsNumber||y&&+y;Vs(L.value)||(C=G>L.value),Vs(z.value)||(I=G<z.value)}else{const G=o.valueAsDate||new Date(y),W=ae=>new Date(new Date().toDateString()+" "+ae),q=o.type=="time",K=o.type=="week";su(L.value)&&y&&(C=q?W(y)>W(L.value):K?y>L.value:G>new Date(L.value)),su(z.value)&&y&&(I=q?W(y)<W(z.value):K?y<z.value:G<new Date(z.value))}if((C||I)&&(T(!!C,L.message,z.message,$u.max,$u.min),!n))return j(_[p].message),_}if((u||d)&&!E&&(su(y)||s&&Array.isArray(y))){const C=Wp(u),I=Wp(d),L=!Vs(C.value)&&y.length>+C.value,z=!Vs(I.value)&&y.length<+I.value;if((L||z)&&(T(L,C.message,I.message),!n))return j(_[p].message),_}if(m&&!E&&su(y)){const{value:C,message:I}=Wp(m);if(rN(C)&&!y.match(C)&&(_[p]={type:$u.pattern,message:I,ref:o,...M($u.pattern,I)},!n))return j(I),_}if(g){if(pc(g)){const C=await g(y,r),I=pF(C,b);if(I&&(_[p]={...I,...M($u.validate,I.message)},!n))return j(I.message),_}else if(Ka(g)){let C={};for(const I in g){if(!qs(C)&&!n)break;const L=pF(await g[I](y,r),b,I);L&&(C={...L,...M(I,L.message)},j(L.message),n&&(_[p]=C))}if(!qs(C)&&(_[p]={ref:b,...C},!n))return _}}return j(!0),_};const mxe={mode:mc.onSubmit,reValidateMode:mc.onChange,shouldFocusError:!0};function pxe(e={}){let t={...mxe,...e},r={submitCount:0,isDirty:!1,isLoading:pc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=Ka(t.defaultValues)||Ka(t.values)?Xi(t.values||t.defaultValues)||{}:{},s=t.shouldUnregister?{}:Xi(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:sF(),state:sF()},m=dF(t.mode),g=dF(t.reValidateMode),p=t.criteriaMode===mc.all,x=ge=>ke=>{clearTimeout(u),u=setTimeout(ge,ke)},v=async ge=>{if(!t.disabled&&(d.isValid||f.isValid||ge)){const ke=t.resolver?qs((await E()).errors):await T(n,!0);ke!==r.isValid&&h.state.next({isValid:ke})}},y=(ge,ke)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ge||Array.from(l.mount)).forEach(Be=>{Be&&(ke?wn(r.validatingFields,Be,ke):vi(r.validatingFields,Be))}),h.state.next({validatingFields:r.validatingFields,isValidating:!qs(r.validatingFields)}))},b=(ge,ke=[],Be,Xe,et=!0,ct=!0)=>{if(Xe&&Be&&!t.disabled){if(o.action=!0,ct&&Array.isArray(Rt(n,ge))){const dt=Be(Rt(n,ge),Xe.argA,Xe.argB);et&&wn(n,ge,dt)}if(ct&&Array.isArray(Rt(r.errors,ge))){const dt=Be(Rt(r.errors,ge),Xe.argA,Xe.argB);et&&wn(r.errors,ge,dt),fxe(r.errors,ge)}if((d.touchedFields||f.touchedFields)&&ct&&Array.isArray(Rt(r.touchedFields,ge))){const dt=Be(Rt(r.touchedFields,ge),Xe.argA,Xe.argB);et&&wn(r.touchedFields,ge,dt)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=jv(a,s)),h.state.next({name:ge,isDirty:I(ge,ke),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else wn(s,ge,ke)},j=(ge,ke)=>{wn(r.errors,ge,ke),h.state.next({errors:r.errors})},_=ge=>{r.errors=ge,h.state.next({errors:r.errors,isValid:!1})},P=(ge,ke,Be,Xe)=>{const et=Rt(n,ge);if(et){const ct=Rt(s,ge,Ma(Be)?Rt(a,ge):Be);Ma(ct)||Xe&&Xe.defaultChecked||ke?wn(s,ge,ke?ct:uF(et._f)):G(ge,ct),o.mount&&v()}},k=(ge,ke,Be,Xe,et)=>{let ct=!1,dt=!1;const Nt={name:ge};if(!t.disabled){if(!Be||Xe){(d.isDirty||f.isDirty)&&(dt=r.isDirty,r.isDirty=Nt.isDirty=I(),ct=dt!==Nt.isDirty);const $t=jf(Rt(a,ge),ke);dt=!!Rt(r.dirtyFields,ge),$t?vi(r.dirtyFields,ge):wn(r.dirtyFields,ge,!0),Nt.dirtyFields=r.dirtyFields,ct=ct||(d.dirtyFields||f.dirtyFields)&&dt!==!$t}if(Be){const $t=Rt(r.touchedFields,ge);$t||(wn(r.touchedFields,ge,Be),Nt.touchedFields=r.touchedFields,ct=ct||(d.touchedFields||f.touchedFields)&&$t!==Be)}ct&&et&&h.state.next(Nt)}return ct?Nt:{}},S=(ge,ke,Be,Xe)=>{const et=Rt(r.errors,ge),ct=(d.isValid||f.isValid)&&Ho(ke)&&r.isValid!==ke;if(t.delayError&&Be?(c=x(()=>j(ge,Be)),c(t.delayError)):(clearTimeout(u),c=null,Be?wn(r.errors,ge,Be):vi(r.errors,ge)),(Be?!jf(et,Be):et)||!qs(Xe)||ct){const dt={...Xe,...ct&&Ho(ke)?{isValid:ke}:{},errors:r.errors,name:ge};r={...r,...dt},h.state.next(dt)}},E=async ge=>{y(ge,!0);const ke=await t.resolver(s,t.context,sxe(ge||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(ge),ke},M=async ge=>{const{errors:ke}=await E(ge);if(ge)for(const Be of ge){const Xe=Rt(ke,Be);Xe?wn(r.errors,Be,Xe):vi(r.errors,Be)}else r.errors=ke;return ke},T=async(ge,ke,Be={valid:!0})=>{for(const Xe in ge){const et=ge[Xe];if(et){const{_f:ct,...dt}=et;if(ct){const Nt=l.array.has(ct.name),$t=et._f&&oxe(et._f);$t&&d.validatingFields&&y([Xe],!0);const Tt=await gF(et,l.disabled,s,p,t.shouldUseNativeValidation&&!ke,Nt);if($t&&d.validatingFields&&y([Xe]),Tt[ct.name]&&(Be.valid=!1,ke))break;!ke&&(Rt(Tt,ct.name)?Nt?hxe(r.errors,Tt,ct.name):wn(r.errors,ct.name,Tt[ct.name]):vi(r.errors,ct.name))}!qs(dt)&&await T(dt,ke,Be)}}return Be.valid},C=()=>{for(const ge of l.unMount){const ke=Rt(n,ge);ke&&(ke._f.refs?ke._f.refs.every(Be=>!yA(Be)):!yA(ke._f.ref))&&X(ge)}l.unMount=new Set},I=(ge,ke)=>!t.disabled&&(ge&&ke&&wn(s,ge,ke),!jf(O(),a)),L=(ge,ke,Be)=>KY(ge,l,{...o.mount?s:Ma(ke)?a:su(ge)?{[ge]:ke}:ke},Be,ke),z=ge=>D_(Rt(o.mount?s:a,ge,t.shouldUnregister?Rt(a,ge,[]):[])),G=(ge,ke,Be={})=>{const Xe=Rt(n,ge);let et=ke;if(Xe){const ct=Xe._f;ct&&(!ct.disabled&&wn(s,ge,eX(ke,ct)),et=eN(ct.ref)&&Vs(ke)?"":ke,XY(ct.ref)?[...ct.ref.options].forEach(dt=>dt.selected=et.includes(dt.value)):ct.refs?Tb(ct.ref)?ct.refs.length>1?ct.refs.forEach(dt=>(!dt.defaultChecked||!dt.disabled)&&(dt.checked=Array.isArray(et)?!!et.find(Nt=>Nt===dt.value):et===dt.value)):ct.refs[0]&&(ct.refs[0].checked=!!et):ct.refs.forEach(dt=>dt.checked=dt.value===et):lO(ct.ref)?ct.ref.value="":(ct.ref.value=et,ct.ref.type||h.state.next({name:ge,values:Xi(s)})))}(Be.shouldDirty||Be.shouldTouch)&&k(ge,et,Be.shouldTouch,Be.shouldDirty,!0),Be.shouldValidate&&ie(ge)},W=(ge,ke,Be)=>{for(const Xe in ke){const et=ke[Xe],ct=`${ge}.${Xe}`,dt=Rt(n,ct);(l.array.has(ge)||Ka(et)||dt&&!dt._f)&&!hm(et)?W(ct,et,Be):G(ct,et,Be)}},q=(ge,ke,Be={})=>{const Xe=Rt(n,ge),et=l.array.has(ge),ct=Xi(ke);wn(s,ge,ct),et?(h.array.next({name:ge,values:Xi(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Be.shouldDirty&&h.state.next({name:ge,dirtyFields:jv(a,s),isDirty:I(ge,ct)})):Xe&&!Xe._f&&!Vs(ct)?W(ge,ct,Be):G(ge,ct,Be),hF(ge,l)&&h.state.next({...r}),h.state.next({name:o.mount?ge:void 0,values:Xi(s)})},K=async ge=>{o.mount=!0;const ke=ge.target;let Be=ke.name,Xe=!0;const et=Rt(n,Be),ct=dt=>{Xe=Number.isNaN(dt)||hm(dt)&&isNaN(dt.getTime())||jf(dt,Rt(s,Be,dt))};if(et){let dt,Nt;const $t=ke.type?uF(et._f):UY(ge),Tt=ge.type===Jj.BLUR||ge.type===Jj.FOCUS_OUT,rn=!lxe(et._f)&&!t.resolver&&!Rt(r.errors,Be)&&!et._f.deps||dxe(Tt,Rt(r.touchedFields,Be),r.isSubmitted,g,m),Vr=hF(Be,l,Tt);wn(s,Be,$t),Tt?(et._f.onBlur&&et._f.onBlur(ge),c&&c(0)):et._f.onChange&&et._f.onChange(ge);const Vt=k(Be,$t,Tt),dr=!qs(Vt)||Vr;if(!Tt&&h.state.next({name:Be,type:ge.type,values:Xi(s)}),rn)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Tt&&v():Tt||v()),dr&&h.state.next({name:Be,...Vr?{}:Vt});if(!Tt&&Vr&&h.state.next({...r}),t.resolver){const{errors:nn}=await E([Be]);if(ct($t),Xe){const lr=mF(r.errors,n,Be),Dr=mF(nn,n,lr.name||Be);dt=Dr.error,Be=Dr.name,Nt=qs(nn)}}else y([Be],!0),dt=(await gF(et,l.disabled,s,p,t.shouldUseNativeValidation))[Be],y([Be]),ct($t),Xe&&(dt?Nt=!1:(d.isValid||f.isValid)&&(Nt=await T(n,!0)));Xe&&(et._f.deps&&ie(et._f.deps),S(Be,Nt,dt,Vt))}},ae=(ge,ke)=>{if(Rt(r.errors,ke)&&ge.focus)return ge.focus(),1},ie=async(ge,ke={})=>{let Be,Xe;const et=u1(ge);if(t.resolver){const ct=await M(Ma(ge)?ge:et);Be=qs(ct),Xe=ge?!et.some(dt=>Rt(ct,dt)):Be}else ge?(Xe=(await Promise.all(et.map(async ct=>{const dt=Rt(n,ct);return await T(dt&&dt._f?{[ct]:dt}:dt)}))).every(Boolean),!(!Xe&&!r.isValid)&&v()):Xe=Be=await T(n);return h.state.next({...!su(ge)||(d.isValid||f.isValid)&&Be!==r.isValid?{}:{name:ge},...t.resolver||!ge?{isValid:Be}:{},errors:r.errors}),ke.shouldFocus&&!Xe&&d1(n,ae,ge?et:l.mount),Xe},O=ge=>{const ke={...o.mount?s:a};return Ma(ge)?ke:su(ge)?Rt(ke,ge):ge.map(Be=>Rt(ke,Be))},V=(ge,ke)=>({invalid:!!Rt((ke||r).errors,ge),isDirty:!!Rt((ke||r).dirtyFields,ge),error:Rt((ke||r).errors,ge),isValidating:!!Rt(r.validatingFields,ge),isTouched:!!Rt((ke||r).touchedFields,ge)}),D=ge=>{ge&&u1(ge).forEach(ke=>vi(r.errors,ke)),h.state.next({errors:ge?r.errors:{}})},B=(ge,ke,Be)=>{const Xe=(Rt(n,ge,{_f:{}})._f||{}).ref,et=Rt(r.errors,ge)||{},{ref:ct,message:dt,type:Nt,...$t}=et;wn(r.errors,ge,{...$t,...ke,ref:Xe}),h.state.next({name:ge,errors:r.errors,isValid:!1}),Be&&Be.shouldFocus&&Xe&&Xe.focus&&Xe.focus()},Q=(ge,ke)=>pc(ge)?h.state.subscribe({next:Be=>ge(L(void 0,ke),Be)}):L(ge,ke,!0),Y=ge=>h.state.subscribe({next:ke=>{uxe(ge.name,ke.name,ge.exact)&&cxe(ke,ge.formState||d,Ee,ge.reRenderRoot)&&ge.callback({values:{...s},...r,...ke})}}).unsubscribe,ee=ge=>(o.mount=!0,f={...f,...ge.formState},Y({...ge,formState:f})),X=(ge,ke={})=>{for(const Be of ge?u1(ge):l.mount)l.mount.delete(Be),l.array.delete(Be),ke.keepValue||(vi(n,Be),vi(s,Be)),!ke.keepError&&vi(r.errors,Be),!ke.keepDirty&&vi(r.dirtyFields,Be),!ke.keepTouched&&vi(r.touchedFields,Be),!ke.keepIsValidating&&vi(r.validatingFields,Be),!t.shouldUnregister&&!ke.keepDefaultValue&&vi(a,Be);h.state.next({values:Xi(s)}),h.state.next({...r,...ke.keepDirty?{isDirty:I()}:{}}),!ke.keepIsValid&&v()},U=({disabled:ge,name:ke})=>{(Ho(ge)&&o.mount||ge||l.disabled.has(ke))&&(ge?l.disabled.add(ke):l.disabled.delete(ke))},me=(ge,ke={})=>{let Be=Rt(n,ge);const Xe=Ho(ke.disabled)||Ho(t.disabled);return wn(n,ge,{...Be||{},_f:{...Be&&Be._f?Be._f:{ref:{name:ge}},name:ge,mount:!0,...ke}}),l.mount.add(ge),Be?U({disabled:Ho(ke.disabled)?ke.disabled:t.disabled,name:ge}):P(ge,!0,ke.value),{...Xe?{disabled:ke.disabled||t.disabled}:{},...t.progressive?{required:!!ke.required,min:Nv(ke.min),max:Nv(ke.max),minLength:Nv(ke.minLength),maxLength:Nv(ke.maxLength),pattern:Nv(ke.pattern)}:{},name:ge,onChange:K,onBlur:K,ref:et=>{if(et){me(ge,ke),Be=Rt(n,ge);const ct=Ma(et.value)&&et.querySelectorAll&&et.querySelectorAll("input,select,textarea")[0]||et,dt=nxe(ct),Nt=Be._f.refs||[];if(dt?Nt.find($t=>$t===ct):ct===Be._f.ref)return;wn(n,ge,{_f:{...Be._f,...dt?{refs:[...Nt.filter(yA),ct,...Array.isArray(Rt(a,ge))?[{}]:[]],ref:{type:ct.type,name:ge}}:{ref:ct}}}),P(ge,!1,void 0,ct)}else Be=Rt(n,ge,{}),Be._f&&(Be._f.mount=!1),(t.shouldUnregister||ke.shouldUnregister)&&!(VY(l.array,ge)&&o.action)&&l.unMount.add(ge)}}},oe=()=>t.shouldFocusError&&d1(n,ae,l.mount),Se=ge=>{Ho(ge)&&(h.state.next({disabled:ge}),d1(n,(ke,Be)=>{const Xe=Rt(n,Be);Xe&&(ke.disabled=Xe._f.disabled||ge,Array.isArray(Xe._f.refs)&&Xe._f.refs.forEach(et=>{et.disabled=Xe._f.disabled||ge}))},0,!1))},_e=(ge,ke)=>async Be=>{let Xe;Be&&(Be.preventDefault&&Be.preventDefault(),Be.persist&&Be.persist());let et=Xi(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ct,values:dt}=await E();r.errors=ct,et=dt}else await T(n);if(l.disabled.size)for(const ct of l.disabled)wn(et,ct,void 0);if(vi(r.errors,"root"),qs(r.errors)){h.state.next({errors:{}});try{await ge(et,Be)}catch(ct){Xe=ct}}else ke&&await ke({...r.errors},Be),oe(),setTimeout(oe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:qs(r.errors)&&!Xe,submitCount:r.submitCount+1,errors:r.errors}),Xe)throw Xe},se=(ge,ke={})=>{Rt(n,ge)&&(Ma(ke.defaultValue)?q(ge,Xi(Rt(a,ge))):(q(ge,ke.defaultValue),wn(a,ge,Xi(ke.defaultValue))),ke.keepTouched||vi(r.touchedFields,ge),ke.keepDirty||(vi(r.dirtyFields,ge),r.isDirty=ke.defaultValue?I(ge,Xi(Rt(a,ge))):I()),ke.keepError||(vi(r.errors,ge),d.isValid&&v()),h.state.next({...r}))},ft=(ge,ke={})=>{const Be=ge?Xi(ge):a,Xe=Xi(Be),et=qs(ge),ct=et?a:Xe;if(ke.keepDefaultValues||(a=Be),!ke.keepValues){if(ke.keepDirtyValues){const dt=new Set([...l.mount,...Object.keys(jv(a,s))]);for(const Nt of Array.from(dt))Rt(r.dirtyFields,Nt)?wn(ct,Nt,Rt(s,Nt)):q(Nt,Rt(ct,Nt))}else{if(sO&&Ma(ge))for(const dt of l.mount){const Nt=Rt(n,dt);if(Nt&&Nt._f){const $t=Array.isArray(Nt._f.refs)?Nt._f.refs[0]:Nt._f.ref;if(eN($t)){const Tt=$t.closest("form");if(Tt){Tt.reset();break}}}}for(const dt of l.mount)q(dt,Rt(ct,dt))}s=Xi(ct),h.array.next({values:{...ct}}),h.state.next({values:{...ct}})}l={mount:ke.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!ke.keepIsValid||!!ke.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:ke.keepSubmitCount?r.submitCount:0,isDirty:et?!1:ke.keepDirty?r.isDirty:!!(ke.keepDefaultValues&&!jf(ge,a)),isSubmitted:ke.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:et?{}:ke.keepDirtyValues?ke.keepDefaultValues&&s?jv(a,s):r.dirtyFields:ke.keepDefaultValues&&ge?jv(a,ge):ke.keepDirty?r.dirtyFields:{},touchedFields:ke.keepTouched?r.touchedFields:{},errors:ke.keepErrors?r.errors:{},isSubmitSuccessful:ke.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},de=(ge,ke)=>ft(pc(ge)?ge(s):ge,ke),ce=(ge,ke={})=>{const Be=Rt(n,ge),Xe=Be&&Be._f;if(Xe){const et=Xe.refs?Xe.refs[0]:Xe.ref;et.focus&&(et.focus(),ke.shouldSelect&&pc(et.select)&&et.select())}},Ee=ge=>{r={...r,...ge}},ot={control:{register:me,unregister:X,getFieldState:V,handleSubmit:_e,setError:B,_subscribe:Y,_runSchema:E,_getWatch:L,_getDirty:I,_setValid:v,_setFieldArray:b,_setDisabledField:U,_setErrors:_,_getFieldArray:z,_reset:ft,_resetDefaultValues:()=>pc(t.defaultValues)&&t.defaultValues().then(ge=>{de(ge,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:C,_disableForm:Se,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(ge){o=ge},get _defaultValues(){return a},get _names(){return l},set _names(ge){l=ge},get _formState(){return r},get _options(){return t},set _options(ge){t={...t,...ge}}},subscribe:ee,trigger:ie,register:me,handleSubmit:_e,watch:Q,setValue:q,getValues:O,reset:de,resetField:se,clearErrors:D,unregister:X,setError:B,setFocus:ce,getFieldState:V};return{...ot,formControl:ot}}function rX(e={}){const t=he.useRef(void 0),r=he.useRef(void 0),[n,a]=he.useState({isDirty:!1,isValidating:!1,isLoading:pc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:pc(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:pxe(e),formState:n},e.formControl&&e.defaultValues&&!pc(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,he.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0}),[s]),he.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),he.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),he.useEffect(()=>{e.values&&!jf(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,a(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),he.useEffect(()=>{e.errors&&!qs(e.errors)&&s._setErrors(e.errors)},[e.errors,s]),he.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),he.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=GY(n,s),t.current}const xF=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Rt(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},nX=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?xF(n.ref,r,e):n.refs&&n.refs.forEach(a=>xF(a,r,e))}},gxe=(e,t)=>{t.shouldUseNativeValidation&&nX(e,t);const r={};for(const n in e){const a=Rt(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(xxe(t.names||Object.keys(e),n)){const o=Object.assign({},Rt(r,n));wn(o,"root",s),wn(r,n,o)}else wn(r,n,s)}return r},xxe=(e,t)=>e.some(r=>r.startsWith(t+"."));var vxe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=YY(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},aX=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&nX({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:gxe(vxe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},sn;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(sn||(sn={}));var mE;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(mE||(mE={}));const Ut=sn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yu=e=>{switch(typeof e){case"undefined":return Ut.undefined;case"string":return Ut.string;case"number":return isNaN(e)?Ut.nan:Ut.number;case"boolean":return Ut.boolean;case"function":return Ut.function;case"bigint":return Ut.bigint;case"symbol":return Ut.symbol;case"object":return Array.isArray(e)?Ut.array:e===null?Ut.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ut.promise:typeof Map<"u"&&e instanceof Map?Ut.map:typeof Set<"u"&&e instanceof Set?Ut.set:typeof Date<"u"&&e instanceof Date?Ut.date:Ut.object;default:return Ut.unknown}},jt=sn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),yxe=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ll extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof ll))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,sn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ll.create=e=>new ll(e);const Pg=(e,t)=>{let r;switch(e.code){case jt.invalid_type:e.received===Ut.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case jt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,sn.jsonStringifyReplacer)}`;break;case jt.unrecognized_keys:r=`Unrecognized key(s) in object: ${sn.joinValues(e.keys,", ")}`;break;case jt.invalid_union:r="Invalid input";break;case jt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${sn.joinValues(e.options)}`;break;case jt.invalid_enum_value:r=`Invalid enum value. Expected ${sn.joinValues(e.options)}, received '${e.received}'`;break;case jt.invalid_arguments:r="Invalid function arguments";break;case jt.invalid_return_type:r="Invalid function return type";break;case jt.invalid_date:r="Invalid date";break;case jt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:sn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case jt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case jt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case jt.custom:r="Invalid input";break;case jt.invalid_intersection_types:r="Intersection results could not be merged";break;case jt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case jt.not_finite:r="Number must be finite";break;default:r=t.defaultError,sn.assertNever(e)}return{message:r}};let iX=Pg;function bxe(e){iX=e}function nN(){return iX}const aN=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:s,message:l}},wxe=[];function Mt(e,t){const r=nN(),n=aN({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Pg?void 0:Pg].filter(a=>!!a)});e.common.issues.push(n)}class Ds{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return vr;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,o=await a.value;n.push({key:s,value:o})}return Ds.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return vr;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const vr=Object.freeze({status:"aborted"}),S0=e=>({status:"dirty",value:e}),no=e=>({status:"valid",value:e}),pE=e=>e.status==="aborted",gE=e=>e.status==="dirty",Ym=e=>e.status==="valid",ry=e=>typeof Promise<"u"&&e instanceof Promise;function iN(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function sX(e,t,r,n,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var nr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(nr||(nr={}));var Wv,Hv;class vu{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const vF=(e,t)=>{if(Ym(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ll(e.common.issues);return this._error=r,this._error}}};function $r(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:a}}class Gr{get description(){return this._def.description}_getType(t){return Yu(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Yu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ds,ctx:{common:t.parent.common,data:t.data,parsedType:Yu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ry(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yu(t)},s=this._parseSync({data:t,path:a.path,parent:a});return vF(a,s)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yu(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:a});return Ym(s)?{value:s.value}:{issues:a.common.issues}}catch(s){!((n=(r=s==null?void 0:s.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(s=>Ym(s)?{value:s.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yu(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(ry(a)?a:Promise.resolve(a));return vF(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const o=t(a),l=()=>s.addIssue({code:jt.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Pc({schema:this,typeName:gr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return hu.create(this,this._def)}nullable(){return lh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Nc.create(this)}promise(){return Tg.create(this,this._def)}or(t){return sy.create([this,t],this._def)}and(t){return oy.create(this,t,this._def)}transform(t){return new Pc({...$r(this._def),schema:this,typeName:gr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new fy({...$r(this._def),innerType:this,defaultValue:r,typeName:gr.ZodDefault})}brand(){return new uO({typeName:gr.ZodBranded,type:this,...$r(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new hy({...$r(this._def),innerType:this,catchValue:r,typeName:gr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Ob.create(this,t)}readonly(){return my.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const jxe=/^c[^\s-]{8,}$/i,Nxe=/^[0-9a-z]+$/,_xe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Sxe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Axe=/^[a-z0-9_-]{21}$/i,Cxe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Exe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Pxe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,kxe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let bA;const Txe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Oxe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Dxe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ixe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Fxe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Rxe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oX="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Mxe=new RegExp(`^${oX}$`);function lX(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Lxe(e){return new RegExp(`^${lX(e)}$`)}function cX(e){let t=`${oX}T${lX(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function $xe(e,t){return!!((t==="v4"||!t)&&Txe.test(e)||(t==="v6"||!t)&&Dxe.test(e))}function Bxe(e,t){if(!Cxe.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function zxe(e,t){return!!((t==="v4"||!t)&&Oxe.test(e)||(t==="v6"||!t)&&Ixe.test(e))}class vc extends Gr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ut.string){const s=this._getOrReturnCtx(t);return Mt(s,{code:jt.invalid_type,expected:Ut.string,received:s.parsedType}),vr}const n=new Ds;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),Mt(a,{code:jt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),Mt(a,{code:jt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Mt(a,{code:jt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Mt(a,{code:jt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Pxe.test(t.data)||(a=this._getOrReturnCtx(t,a),Mt(a,{validation:"email",code:jt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")bA||(bA=new RegExp(kxe,"u")),bA.test(t.data)||(a=this._getOrReturnCtx(t,a),Mt(a,{validation:"emoji",code:jt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Sxe.test(t.data)||(a=this._getOrReturnCtx(t,a),Mt(a,{validation:"uuid",code:jt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")Axe.test(t.data)||(a=this._getOrReturnCtx(t,a),Mt(a,{validation:"nanoid",code:jt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")jxe.test(t.data)||(a=this._getOrReturnCtx(t,a),Mt(a,{validation:"cuid",code:jt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Nxe.test(t.data)||(a=this._getOrReturnCtx(t,a),Mt(a,{validation:"cuid2",code:jt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")_xe.test(t.data)||(a=this._getOrReturnCtx(t,a),Mt(a,{validation:"ulid",code:jt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Mt(a,{validation:"url",code:jt.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Mt(a,{validation:"regex",code:jt.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),Mt(a,{code:jt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),Mt(a,{code:jt.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),Mt(a,{code:jt.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?cX(s).test(t.data)||(a=this._getOrReturnCtx(t,a),Mt(a,{code:jt.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Mxe.test(t.data)||(a=this._getOrReturnCtx(t,a),Mt(a,{code:jt.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Lxe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),Mt(a,{code:jt.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?Exe.test(t.data)||(a=this._getOrReturnCtx(t,a),Mt(a,{validation:"duration",code:jt.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?$xe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),Mt(a,{validation:"ip",code:jt.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?Bxe(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),Mt(a,{validation:"jwt",code:jt.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?zxe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),Mt(a,{validation:"cidr",code:jt.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?Fxe.test(t.data)||(a=this._getOrReturnCtx(t,a),Mt(a,{validation:"base64",code:jt.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?Rxe.test(t.data)||(a=this._getOrReturnCtx(t,a),Mt(a,{validation:"base64url",code:jt.invalid_string,message:s.message}),n.dirty()):sn.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:jt.invalid_string,...nr.errToObj(n)})}_addCheck(t){return new vc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...nr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...nr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...nr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...nr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...nr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...nr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...nr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...nr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...nr.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...nr.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...nr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...nr.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...nr.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...nr.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...nr.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...nr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...nr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...nr.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...nr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...nr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...nr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...nr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...nr.errToObj(r)})}nonempty(t){return this.min(1,nr.errToObj(t))}trim(){return new vc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}vc.create=e=>{var t;return new vc({checks:[],typeName:gr.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...$r(e)})};function qxe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return s%o/Math.pow(10,a)}class ih extends Gr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ut.number){const s=this._getOrReturnCtx(t);return Mt(s,{code:jt.invalid_type,expected:Ut.number,received:s.parsedType}),vr}let n;const a=new Ds;for(const s of this._def.checks)s.kind==="int"?sn.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Mt(n,{code:jt.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Mt(n,{code:jt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Mt(n,{code:jt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?qxe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),Mt(n,{code:jt.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Mt(n,{code:jt.not_finite,message:s.message}),a.dirty()):sn.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,nr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,nr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,nr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,nr.toString(r))}setLimit(t,r,n,a){return new ih({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:nr.toString(a)}]})}_addCheck(t){return new ih({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:nr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:nr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:nr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:nr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:nr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:nr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:nr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:nr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:nr.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&sn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ih.create=e=>new ih({checks:[],typeName:gr.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...$r(e)});class sh extends Gr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ut.bigint)return this._getInvalidInput(t);let n;const a=new Ds;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Mt(n,{code:jt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Mt(n,{code:jt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Mt(n,{code:jt.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):sn.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Mt(r,{code:jt.invalid_type,expected:Ut.bigint,received:r.parsedType}),vr}gte(t,r){return this.setLimit("min",t,!0,nr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,nr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,nr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,nr.toString(r))}setLimit(t,r,n,a){return new sh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:nr.toString(a)}]})}_addCheck(t){return new sh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:nr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:nr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:nr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:nr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:nr.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}sh.create=e=>{var t;return new sh({checks:[],typeName:gr.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...$r(e)})};class ny extends Gr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ut.boolean){const n=this._getOrReturnCtx(t);return Mt(n,{code:jt.invalid_type,expected:Ut.boolean,received:n.parsedType}),vr}return no(t.data)}}ny.create=e=>new ny({typeName:gr.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...$r(e)});class Xm extends Gr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ut.date){const s=this._getOrReturnCtx(t);return Mt(s,{code:jt.invalid_type,expected:Ut.date,received:s.parsedType}),vr}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return Mt(s,{code:jt.invalid_date}),vr}const n=new Ds;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),Mt(a,{code:jt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),Mt(a,{code:jt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):sn.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Xm({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:nr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:nr.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Xm.create=e=>new Xm({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:gr.ZodDate,...$r(e)});class sN extends Gr{_parse(t){if(this._getType(t)!==Ut.symbol){const n=this._getOrReturnCtx(t);return Mt(n,{code:jt.invalid_type,expected:Ut.symbol,received:n.parsedType}),vr}return no(t.data)}}sN.create=e=>new sN({typeName:gr.ZodSymbol,...$r(e)});class ay extends Gr{_parse(t){if(this._getType(t)!==Ut.undefined){const n=this._getOrReturnCtx(t);return Mt(n,{code:jt.invalid_type,expected:Ut.undefined,received:n.parsedType}),vr}return no(t.data)}}ay.create=e=>new ay({typeName:gr.ZodUndefined,...$r(e)});class iy extends Gr{_parse(t){if(this._getType(t)!==Ut.null){const n=this._getOrReturnCtx(t);return Mt(n,{code:jt.invalid_type,expected:Ut.null,received:n.parsedType}),vr}return no(t.data)}}iy.create=e=>new iy({typeName:gr.ZodNull,...$r(e)});class kg extends Gr{constructor(){super(...arguments),this._any=!0}_parse(t){return no(t.data)}}kg.create=e=>new kg({typeName:gr.ZodAny,...$r(e)});class Om extends Gr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return no(t.data)}}Om.create=e=>new Om({typeName:gr.ZodUnknown,...$r(e)});class Cd extends Gr{_parse(t){const r=this._getOrReturnCtx(t);return Mt(r,{code:jt.invalid_type,expected:Ut.never,received:r.parsedType}),vr}}Cd.create=e=>new Cd({typeName:gr.ZodNever,...$r(e)});class oN extends Gr{_parse(t){if(this._getType(t)!==Ut.undefined){const n=this._getOrReturnCtx(t);return Mt(n,{code:jt.invalid_type,expected:Ut.void,received:n.parsedType}),vr}return no(t.data)}}oN.create=e=>new oN({typeName:gr.ZodVoid,...$r(e)});class Nc extends Gr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ut.array)return Mt(r,{code:jt.invalid_type,expected:Ut.array,received:r.parsedType}),vr;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Mt(r,{code:o?jt.too_big:jt.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Mt(r,{code:jt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Mt(r,{code:jt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new vu(r,o,r.path,l)))).then(o=>Ds.mergeArray(n,o));const s=[...r.data].map((o,l)=>a.type._parseSync(new vu(r,o,r.path,l)));return Ds.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Nc({...this._def,minLength:{value:t,message:nr.toString(r)}})}max(t,r){return new Nc({...this._def,maxLength:{value:t,message:nr.toString(r)}})}length(t,r){return new Nc({...this._def,exactLength:{value:t,message:nr.toString(r)}})}nonempty(t){return this.min(1,t)}}Nc.create=(e,t)=>new Nc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:gr.ZodArray,...$r(t)});function s0(e){if(e instanceof ha){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=hu.create(s0(n))}return new ha({...e._def,shape:()=>t})}else return e instanceof Nc?new Nc({...e._def,type:s0(e.element)}):e instanceof hu?hu.create(s0(e.unwrap())):e instanceof lh?lh.create(s0(e.unwrap())):e instanceof yu?yu.create(e.items.map(t=>s0(t))):e}class ha extends Gr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=sn.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Ut.object){const u=this._getOrReturnCtx(t);return Mt(u,{code:jt.invalid_type,expected:Ut.object,received:u.parsedType}),vr}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Cd&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new vu(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Cd){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Mt(a,{code:jt.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new vu(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Ds.mergeObjectSync(n,u)):Ds.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return nr.errToObj,new ha({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,s,o,l;const c=(o=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=nr.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new ha({...this._def,unknownKeys:"strip"})}passthrough(){return new ha({...this._def,unknownKeys:"passthrough"})}extend(t){return new ha({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ha({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:gr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ha({...this._def,catchall:t})}pick(t){const r={};return sn.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ha({...this._def,shape:()=>r})}omit(t){const r={};return sn.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new ha({...this._def,shape:()=>r})}deepPartial(){return s0(this)}partial(t){const r={};return sn.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new ha({...this._def,shape:()=>r})}required(t){const r={};return sn.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof hu;)s=s._def.innerType;r[n]=s}}),new ha({...this._def,shape:()=>r})}keyof(){return uX(sn.objectKeys(this.shape))}}ha.create=(e,t)=>new ha({shape:()=>e,unknownKeys:"strip",catchall:Cd.create(),typeName:gr.ZodObject,...$r(t)});ha.strictCreate=(e,t)=>new ha({shape:()=>e,unknownKeys:"strict",catchall:Cd.create(),typeName:gr.ZodObject,...$r(t)});ha.lazycreate=(e,t)=>new ha({shape:e,unknownKeys:"strip",catchall:Cd.create(),typeName:gr.ZodObject,...$r(t)});class sy extends Gr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new ll(l.ctx.common.issues));return Mt(r,{code:jt.invalid_union,unionErrors:o}),vr}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new ll(c));return Mt(r,{code:jt.invalid_union,unionErrors:l}),vr}}get options(){return this._def.options}}sy.create=(e,t)=>new sy({options:e,typeName:gr.ZodUnion,...$r(t)});const Vu=e=>e instanceof cy?Vu(e.schema):e instanceof Pc?Vu(e.innerType()):e instanceof uy?[e.value]:e instanceof oh?e.options:e instanceof dy?sn.objectValues(e.enum):e instanceof fy?Vu(e._def.innerType):e instanceof ay?[void 0]:e instanceof iy?[null]:e instanceof hu?[void 0,...Vu(e.unwrap())]:e instanceof lh?[null,...Vu(e.unwrap())]:e instanceof uO||e instanceof my?Vu(e.unwrap()):e instanceof hy?Vu(e._def.innerType):[];class F_ extends Gr{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ut.object)return Mt(r,{code:jt.invalid_type,expected:Ut.object,received:r.parsedType}),vr;const n=this.discriminator,a=r.data[n],s=this.optionsMap.get(a);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Mt(r,{code:jt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),vr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const s of r){const o=Vu(s.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,s)}}return new F_({typeName:gr.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...$r(n)})}}function xE(e,t){const r=Yu(e),n=Yu(t);if(e===t)return{valid:!0,data:e};if(r===Ut.object&&n===Ut.object){const a=sn.objectKeys(t),s=sn.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=xE(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ut.array&&n===Ut.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=xE(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ut.date&&n===Ut.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class oy extends Gr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,o)=>{if(pE(s)||pE(o))return vr;const l=xE(s.value,o.value);return l.valid?((gE(s)||gE(o))&&r.dirty(),{status:r.value,value:l.data}):(Mt(n,{code:jt.invalid_intersection_types}),vr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}oy.create=(e,t,r)=>new oy({left:e,right:t,typeName:gr.ZodIntersection,...$r(r)});class yu extends Gr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ut.array)return Mt(n,{code:jt.invalid_type,expected:Ut.array,received:n.parsedType}),vr;if(n.data.length<this._def.items.length)return Mt(n,{code:jt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),vr;!this._def.rest&&n.data.length>this._def.items.length&&(Mt(n,{code:jt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new vu(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Ds.mergeArray(r,o)):Ds.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new yu({...this._def,rest:t})}}yu.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new yu({items:e,typeName:gr.ZodTuple,rest:null,...$r(t)})};class ly extends Gr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ut.object)return Mt(n,{code:jt.invalid_type,expected:Ut.object,received:n.parsedType}),vr;const a=[],s=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:s._parse(new vu(n,l,n.path,l)),value:o._parse(new vu(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Ds.mergeObjectAsync(r,a):Ds.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Gr?new ly({keyType:t,valueType:r,typeName:gr.ZodRecord,...$r(n)}):new ly({keyType:vc.create(),valueType:t,typeName:gr.ZodRecord,...$r(r)})}}class lN extends Gr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ut.map)return Mt(n,{code:jt.invalid_type,expected:Ut.map,received:n.parsedType}),vr;const a=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new vu(n,l,n.path,[u,"key"])),value:s._parse(new vu(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return vr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return vr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}lN.create=(e,t,r)=>new lN({valueType:t,keyType:e,typeName:gr.ZodMap,...$r(r)});class Qm extends Gr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ut.set)return Mt(n,{code:jt.invalid_type,expected:Ut.set,received:n.parsedType}),vr;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Mt(n,{code:jt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Mt(n,{code:jt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return vr;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new vu(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Qm({...this._def,minSize:{value:t,message:nr.toString(r)}})}max(t,r){return new Qm({...this._def,maxSize:{value:t,message:nr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Qm.create=(e,t)=>new Qm({valueType:e,minSize:null,maxSize:null,typeName:gr.ZodSet,...$r(t)});class U0 extends Gr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ut.function)return Mt(r,{code:jt.invalid_type,expected:Ut.function,received:r.parsedType}),vr;function n(l,c){return aN({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,nN(),Pg].filter(u=>!!u),issueData:{code:jt.invalid_arguments,argumentsError:c}})}function a(l,c){return aN({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,nN(),Pg].filter(u=>!!u),issueData:{code:jt.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Tg){const l=this;return no(async function(...c){const u=new ll([]),d=await l._def.args.parseAsync(c,s).catch(m=>{throw u.addIssue(n(c,m)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,s).catch(m=>{throw u.addIssue(a(f,m)),u})})}else{const l=this;return no(function(...c){const u=l._def.args.safeParse(c,s);if(!u.success)throw new ll([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,s);if(!f.success)throw new ll([a(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new U0({...this._def,args:yu.create(t).rest(Om.create())})}returns(t){return new U0({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new U0({args:t||yu.create([]).rest(Om.create()),returns:r||Om.create(),typeName:gr.ZodFunction,...$r(n)})}}class cy extends Gr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}cy.create=(e,t)=>new cy({getter:e,typeName:gr.ZodLazy,...$r(t)});class uy extends Gr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Mt(r,{received:r.data,code:jt.invalid_literal,expected:this._def.value}),vr}return{status:"valid",value:t.data}}get value(){return this._def.value}}uy.create=(e,t)=>new uy({value:e,typeName:gr.ZodLiteral,...$r(t)});function uX(e,t){return new oh({values:e,typeName:gr.ZodEnum,...$r(t)})}class oh extends Gr{constructor(){super(...arguments),Wv.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Mt(r,{expected:sn.joinValues(n),received:r.parsedType,code:jt.invalid_type}),vr}if(iN(this,Wv)||sX(this,Wv,new Set(this._def.values)),!iN(this,Wv).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Mt(r,{received:r.data,code:jt.invalid_enum_value,options:n}),vr}return no(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return oh.create(t,{...this._def,...r})}exclude(t,r=this._def){return oh.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Wv=new WeakMap;oh.create=uX;class dy extends Gr{constructor(){super(...arguments),Hv.set(this,void 0)}_parse(t){const r=sn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ut.string&&n.parsedType!==Ut.number){const a=sn.objectValues(r);return Mt(n,{expected:sn.joinValues(a),received:n.parsedType,code:jt.invalid_type}),vr}if(iN(this,Hv)||sX(this,Hv,new Set(sn.getValidEnumValues(this._def.values))),!iN(this,Hv).has(t.data)){const a=sn.objectValues(r);return Mt(n,{received:n.data,code:jt.invalid_enum_value,options:a}),vr}return no(t.data)}get enum(){return this._def.values}}Hv=new WeakMap;dy.create=(e,t)=>new dy({values:e,typeName:gr.ZodNativeEnum,...$r(t)});class Tg extends Gr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ut.promise&&r.common.async===!1)return Mt(r,{code:jt.invalid_type,expected:Ut.promise,received:r.parsedType}),vr;const n=r.parsedType===Ut.promise?r.data:Promise.resolve(r.data);return no(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Tg.create=(e,t)=>new Tg({type:e,typeName:gr.ZodPromise,...$r(t)});class Pc extends Gr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===gr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:o=>{Mt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return vr;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?vr:c.status==="dirty"||r.value==="dirty"?S0(c.value):c});{if(r.value==="aborted")return vr;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?vr:l.status==="dirty"||r.value==="dirty"?S0(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?vr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?vr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ym(o))return o;const l=a.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ym(o)?Promise.resolve(a.transform(o.value,s)).then(l=>({status:r.value,value:l})):o);sn.assertNever(a)}}Pc.create=(e,t,r)=>new Pc({schema:e,typeName:gr.ZodEffects,effect:t,...$r(r)});Pc.createWithPreprocess=(e,t,r)=>new Pc({schema:t,effect:{type:"preprocess",transform:e},typeName:gr.ZodEffects,...$r(r)});class hu extends Gr{_parse(t){return this._getType(t)===Ut.undefined?no(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}hu.create=(e,t)=>new hu({innerType:e,typeName:gr.ZodOptional,...$r(t)});class lh extends Gr{_parse(t){return this._getType(t)===Ut.null?no(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}lh.create=(e,t)=>new lh({innerType:e,typeName:gr.ZodNullable,...$r(t)});class fy extends Gr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ut.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}fy.create=(e,t)=>new fy({innerType:e,typeName:gr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...$r(t)});class hy extends Gr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ry(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ll(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ll(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}hy.create=(e,t)=>new hy({innerType:e,typeName:gr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...$r(t)});class cN extends Gr{_parse(t){if(this._getType(t)!==Ut.nan){const n=this._getOrReturnCtx(t);return Mt(n,{code:jt.invalid_type,expected:Ut.nan,received:n.parsedType}),vr}return{status:"valid",value:t.data}}}cN.create=e=>new cN({typeName:gr.ZodNaN,...$r(e)});const Uxe=Symbol("zod_brand");class uO extends Gr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Ob extends Gr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?vr:s.status==="dirty"?(r.dirty(),S0(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?vr:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Ob({in:t,out:r,typeName:gr.ZodPipeline})}}class my extends Gr{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Ym(a)&&(a.value=Object.freeze(a.value)),a);return ry(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}my.create=(e,t)=>new my({innerType:e,typeName:gr.ZodReadonly,...$r(t)});function yF(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function dX(e,t={},r){return e?kg.create().superRefine((n,a)=>{var s,o;const l=e(n);if(l instanceof Promise)return l.then(c=>{var u,d;if(!c){const f=yF(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;a.addIssue({code:"custom",...f,fatal:h})}});if(!l){const c=yF(t,n),u=(o=(s=c.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:u})}}):kg.create()}const Vxe={object:ha.lazycreate};var gr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(gr||(gr={}));const Wxe=(e,t={message:`Input not instance of ${e.name}`})=>dX(r=>r instanceof e,t),fX=vc.create,hX=ih.create,Hxe=cN.create,Gxe=sh.create,mX=ny.create,Kxe=Xm.create,Yxe=sN.create,Xxe=ay.create,Qxe=iy.create,Zxe=kg.create,Jxe=Om.create,eve=Cd.create,tve=oN.create,rve=Nc.create,nve=ha.create,ave=ha.strictCreate,ive=sy.create,sve=F_.create,ove=oy.create,lve=yu.create,cve=ly.create,uve=lN.create,dve=Qm.create,fve=U0.create,hve=cy.create,mve=uy.create,pve=oh.create,gve=dy.create,xve=Tg.create,bF=Pc.create,vve=hu.create,yve=lh.create,bve=Pc.createWithPreprocess,wve=Ob.create,jve=()=>fX().optional(),Nve=()=>hX().optional(),_ve=()=>mX().optional(),Sve={string:e=>vc.create({...e,coerce:!0}),number:e=>ih.create({...e,coerce:!0}),boolean:e=>ny.create({...e,coerce:!0}),bigint:e=>sh.create({...e,coerce:!0}),date:e=>Xm.create({...e,coerce:!0})},Ave=vr;var bt=Object.freeze({__proto__:null,defaultErrorMap:Pg,setErrorMap:bxe,getErrorMap:nN,makeIssue:aN,EMPTY_PATH:wxe,addIssueToContext:Mt,ParseStatus:Ds,INVALID:vr,DIRTY:S0,OK:no,isAborted:pE,isDirty:gE,isValid:Ym,isAsync:ry,get util(){return sn},get objectUtil(){return mE},ZodParsedType:Ut,getParsedType:Yu,ZodType:Gr,datetimeRegex:cX,ZodString:vc,ZodNumber:ih,ZodBigInt:sh,ZodBoolean:ny,ZodDate:Xm,ZodSymbol:sN,ZodUndefined:ay,ZodNull:iy,ZodAny:kg,ZodUnknown:Om,ZodNever:Cd,ZodVoid:oN,ZodArray:Nc,ZodObject:ha,ZodUnion:sy,ZodDiscriminatedUnion:F_,ZodIntersection:oy,ZodTuple:yu,ZodRecord:ly,ZodMap:lN,ZodSet:Qm,ZodFunction:U0,ZodLazy:cy,ZodLiteral:uy,ZodEnum:oh,ZodNativeEnum:dy,ZodPromise:Tg,ZodEffects:Pc,ZodTransformer:Pc,ZodOptional:hu,ZodNullable:lh,ZodDefault:fy,ZodCatch:hy,ZodNaN:cN,BRAND:Uxe,ZodBranded:uO,ZodPipeline:Ob,ZodReadonly:my,custom:dX,Schema:Gr,ZodSchema:Gr,late:Vxe,get ZodFirstPartyTypeKind(){return gr},coerce:Sve,any:Zxe,array:rve,bigint:Gxe,boolean:mX,date:Kxe,discriminatedUnion:sve,effect:bF,enum:pve,function:fve,instanceof:Wxe,intersection:ove,lazy:hve,literal:mve,map:uve,nan:Hxe,nativeEnum:gve,never:eve,null:Qxe,nullable:yve,number:hX,object:nve,oboolean:_ve,onumber:Nve,optional:vve,ostring:jve,pipeline:wve,preprocess:bve,promise:xve,record:cve,set:dve,strictObject:ave,string:fX,symbol:Yxe,transformer:bF,tuple:lve,undefined:Xxe,union:ive,unknown:Jxe,void:tve,NEVER:Ave,ZodIssueCode:jt,quotelessJson:yxe,ZodError:ll});const pX={premium_mensal:97.9,premium_anual:1175};let mm=null,_v=null;async function R_(){return _v||(_v=(async()=>{try{console.log(" [PLAN_PRICES] Buscando do servidor...");const e=await fetch("/api/plan-prices",{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(e.ok){const t=await e.json();if(console.log(" [PLAN_PRICES] Recebido do servidor:",t),typeof t.premium_mensal=="number"&&typeof t.premium_anual=="number"&&t.premium_mensal>0&&t.premium_anual>0)return mm=t,localStorage.setItem("planos_precos",JSON.stringify(t)),t}}catch(e){console.error(" [PLAN_PRICES] Erro ao buscar do servidor:",e)}finally{_v=null}return pX})(),_v)}function wF(){if(mm)return mm;const e=localStorage.getItem("planos_precos");if(e)try{const t=JSON.parse(e);if(typeof t.premium_mensal=="number"&&typeof t.premium_anual=="number"&&t.premium_mensal>0&&t.premium_anual>0)return mm={premium_mensal:t.premium_mensal,premium_anual:t.premium_anual},mm}catch(t){console.error(" [PLAN_PRICES] Erro ao carregar do localStorage:",t)}return pX}function Cve(e){console.log(" [PLAN_PRICES] Atualizando cache:",e),mm=e,localStorage.setItem("planos_precos",JSON.stringify(e))}function Eve(){console.log(" [PLAN_PRICES] Limpando cache"),mm=null,localStorage.removeItem("planos_precos")}function Hu(e){return`R$ ${e.toFixed(2).replace(".",",")}`}function gX(e,t){return e*12-t}const xX=Zge,vX=N.createContext({}),Ju=({...e})=>i.jsx(vX.Provider,{value:{name:e.name},children:i.jsx(rxe,{...e})}),M_=()=>{const e=N.useContext(vX),t=N.useContext(yX),{getFieldState:r,formState:n}=I_(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},yX=N.createContext({}),ru=N.forwardRef(({className:e,...t},r)=>{const n=N.useId();return i.jsx(yX.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:ht("space-y-2",e),...t})})});ru.displayName="FormItem";const nd=N.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=M_();return i.jsx(De,{ref:r,className:ht(n&&"text-destructive",e),htmlFor:a,...t})});nd.displayName="FormLabel";const nu=N.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=M_();return i.jsx(o_,{ref:t,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...e})});nu.displayName="FormControl";const Gv=N.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=M_();return i.jsx("p",{ref:r,id:n,className:ht("text-sm text-muted-foreground",e),...t})});Gv.displayName="FormDescription";const Ff=N.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:s}=M_(),o=a?String((a==null?void 0:a.message)??""):t;return o?i.jsx("p",{ref:n,id:s,className:ht("text-sm font-medium text-destructive",e),...r,children:o}):null});Ff.displayName="FormMessage";function Pve(e){if(e=e.replace(/\D/g,""),e.length!==11||/^(\d)\1{10}$/.test(e))return!1;let t=0;for(let a=0;a<9;a++)t+=parseInt(e.charAt(a))*(10-a);let r=11-t%11;if(r>9&&(r=0),r!==parseInt(e.charAt(9)))return!1;t=0;for(let a=0;a<10;a++)t+=parseInt(e.charAt(a))*(11-a);let n=11-t%11;return n>9&&(n=0),n===parseInt(e.charAt(10))}function kve(e){if(e=e.replace(/\D/g,""),e.length!==14||/^(\d)\1{13}$/.test(e))return!1;let t=e.length-2,r=e.substring(0,t);const n=e.substring(t);let a=0,s=t-7;for(let l=t;l>=1;l--)a+=parseInt(r.charAt(t-l))*s--,s<2&&(s=9);let o=a%11<2?0:11-a%11;if(o!==parseInt(n.charAt(0)))return!1;t=t+1,r=e.substring(0,t),a=0,s=t-7;for(let l=t;l>=1;l--)a+=parseInt(r.charAt(t-l))*s--,s<2&&(s=9);return o=a%11<2?0:11-a%11,o===parseInt(n.charAt(1))}function Tve(e){const t=e.replace(/\D/g,"");return t.length===11?Pve(t):t.length===14?kve(t):!1}var Ove="Separator",jF="horizontal",Dve=["horizontal","vertical"],bX=N.forwardRef((e,t)=>{const{decorative:r,orientation:n=jF,...a}=e,s=Ive(n)?n:jF,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(zt.div,{"data-orientation":s,...l,...a,ref:t})});bX.displayName=Ove;function Ive(e){return Dve.includes(e)}var wX=bX;const Xf=N.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>i.jsx(wX,{ref:a,decorative:r,orientation:t,className:ht("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Xf.displayName=wX.displayName;const Fve=bt.object({nome:bt.string().min(3,"Nome deve ter pelo menos 3 caracteres"),email:bt.string().email("Email invlido"),cpfCnpj:bt.string().refine(Tve,{message:"CPF/CNPJ invlido"}),formaPagamento:bt.enum(["BOLETO","CREDIT_CARD","PIX"],{errorMap:()=>({message:"Selecione uma forma de pagamento"})}),cupom:bt.string().optional()}),Rve=["Produtos ilimitados","Usurios ilimitados","Emisso de NF-e/NFC-e","Relatrios avanados","Suporte prioritrio","Backup automtico","Dashboard em tempo real"];function jX({open:e,onOpenChange:t,plano:r,planoNome:n,planoPreco:a}){const{toast:s}=Qr(),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[d,f]=N.useState(null),[h,m]=N.useState({premium_mensal:79.99,premium_anual:767.04});N.useEffect(()=>{(async()=>{try{const E=await R_();console.log(" [CHECKOUT] Preos carregados:",E),m(E)}catch(E){console.error(" [CHECKOUT] Erro ao carregar preos:",E)}})()},[]);const g=rX({resolver:aX(Fve),defaultValues:{nome:"",email:"",cpfCnpj:"",formaPagamento:"PIX",cupom:""}}),p=g.watch("formaPagamento"),x=g.watch("cupom"),v=r,y=r==="premium_mensal"?h.premium_mensal:h.premium_anual;r==="premium_anual"&&h.premium_anual/12;const b=async()=>{if(!x||x.trim()===""){s({title:"Digite um cdigo",description:"Por favor, digite um cdigo de cupom",variant:"destructive"});return}u(!0);try{const S=localStorage.getItem("user"),E=S?JSON.parse(S).id:null,T=await(await Pr("POST","/api/cupons/validar",{codigo:x.trim(),plano:v,userId:E})).json();T.valido&&(f(T),s({title:" Cupom aplicado!",description:`Desconto de ${T.cupom.tipo==="percentual"?T.cupom.valor+"%":"R$ "+T.cupom.valor.toFixed(2)} aplicado`}))}catch(S){f(null),s({title:"Cupom invlido",description:S.message||"Este cupom no pode ser aplicado",variant:"destructive"})}finally{u(!1)}},j=()=>{f(null),g.setValue("cupom",""),s({title:"Cupom removido",description:"O desconto foi removido do pedido"})},_=async S=>{var E;l(!0);try{const T=await(await Pr("POST","/api/checkout",{...S,plano:r,cupom:d?d.cupom.codigo:null})).json();(E=T.preference)!=null&&E.init_point?(s({title:" Redirecionando para pagamento",description:"Voc ser redirecionado para o Mercado Pago em instantes..."}),localStorage.setItem("pending_subscription",JSON.stringify({subscriptionId:T.subscription.id,plano:v,timestamp:new Date().toISOString()})),setTimeout(()=>{window.location.href=T.preference.init_point},1500)):(s({title:"Assinatura iniciada",description:T.message||"Verifique seu email para mais informaes."}),t(!1),g.reset())}catch(M){s({title:"Erro ao processar pagamento",description:M.message||"Tente novamente mais tarde.",variant:"destructive"})}finally{l(!1)}},P=S=>{switch(S){case"PIX":return i.jsx(TI,{className:"h-5 w-5"});case"BOLETO":return i.jsx(qj,{className:"h-5 w-5"});case"CREDIT_CARD":return i.jsx(As,{className:"h-5 w-5"});default:return null}},k=S=>{switch(S){case"PIX":return"Pagamento instantneo via QR Code";case"BOLETO":return"Vencimento em at 3 dias teis";case"CREDIT_CARD":return"Processamento imediato";default:return""}};return i.jsx(kr,{open:e,onOpenChange:t,children:i.jsxs(Sr,{className:"sm:max-w-[700px] bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-900 dark:to-blue-950 border-2 border-blue-200 dark:border-blue-800 max-h-[90vh] overflow-y-auto",children:[i.jsxs(yr,{children:[i.jsx(br,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Finalizar Assinatura"}),i.jsxs(tn,{className:"text-base text-gray-600 dark:text-gray-400",children:["Complete seus dados para ativar o ",n]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6 my-4",children:[i.jsx(Ae,{className:"p-6 bg-gradient-to-br from-blue-500 to-purple-600 text-white border-0 shadow-xl",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs(It,{className:"bg-white/20 text-white border-0 mb-3",children:[r==="premium_anual"&&" Mais Popular - Economize 15%",r==="premium_mensal"&&" Flexibilidade total"]}),i.jsx("h3",{className:"text-2xl font-bold",children:n}),i.jsxs("div",{className:"flex items-baseline gap-2 mt-2",children:[i.jsx("span",{className:"text-4xl font-bold",children:a.split("/")[0]}),i.jsxs("span",{className:"text-lg opacity-90",children:["/",a.split("/")[1]]})]}),r==="premium_anual"&&i.jsxs("p",{className:"text-sm opacity-90 mt-2",children:[" Valor total: R$ ",h.premium_anual.toFixed(2),"/ano  Economize R$ ",(h.premium_mensal*12-h.premium_anual).toFixed(2)]})]}),i.jsx(Xf,{className:"bg-white/20"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold mb-3 flex items-center gap-2",children:[i.jsx(eo,{className:"h-4 w-4"}),"Benefcios Inclusos:"]}),i.jsx("ul",{className:"space-y-2",children:Rve.map((S,E)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(ma,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:S})]},E))})]}),i.jsx("div",{className:"pt-3 border-t border-white/20",children:i.jsxs("p",{className:"text-xs opacity-90 flex items-center gap-2",children:[i.jsx(Z1,{className:"h-3 w-3"}),"Ativao imediata aps confirmao do pagamento"]})})]})}),i.jsx(xX,{...g,children:i.jsxs("form",{onSubmit:g.handleSubmit(_),className:"space-y-4",children:[i.jsx(Ju,{control:g.control,name:"nome",render:({field:S})=>i.jsxs(ru,{children:[i.jsx(nd,{className:"text-gray-900 dark:text-white font-semibold",children:"Nome Completo *"}),i.jsx(nu,{children:i.jsx(Ze,{...S,placeholder:"Seu nome completo",className:"bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 focus:border-blue-500 dark:focus:border-blue-500","data-testid":"input-checkout-nome"})}),i.jsx(Ff,{})]})}),i.jsx(Ju,{control:g.control,name:"email",render:({field:S})=>i.jsxs(ru,{children:[i.jsx(nd,{className:"text-gray-900 dark:text-white font-semibold",children:"Email *"}),i.jsx(nu,{children:i.jsx(Ze,{...S,type:"email",placeholder:"seu@email.com",className:"bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 focus:border-blue-500 dark:focus:border-blue-500","data-testid":"input-checkout-email"})}),i.jsx(Ff,{})]})}),i.jsx(Ju,{control:g.control,name:"cpfCnpj",render:({field:S})=>i.jsxs(ru,{children:[i.jsx(nd,{className:"text-gray-900 dark:text-white font-semibold",children:"CPF/CNPJ *"}),i.jsx(nu,{children:i.jsx(Ze,{...S,placeholder:"000.000.000-00",className:"bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 focus:border-blue-500 dark:focus:border-blue-500","data-testid":"input-checkout-cpfcnpj"})}),i.jsx(Ff,{})]})}),i.jsx(Ju,{control:g.control,name:"formaPagamento",render:({field:S})=>i.jsxs(ru,{children:[i.jsx(nd,{className:"text-gray-900 dark:text-white font-semibold",children:"Forma de Pagamento *"}),i.jsxs(Cr,{onValueChange:S.onChange,defaultValue:S.value,children:[i.jsx(nu,{children:i.jsx(Nr,{className:"bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 focus:border-blue-500 dark:focus:border-blue-500 h-12","data-testid":"select-forma-pagamento",children:i.jsx(Er,{placeholder:"Selecione"})})}),i.jsxs(_r,{className:"bg-white dark:bg-gray-800",children:[i.jsx(Je,{value:"PIX","data-testid":"option-pix",children:i.jsxs("div",{className:"flex items-center gap-3 py-1",children:[i.jsx(TI,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"PIX"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Aprovao instantnea"})]})]})}),i.jsx(Je,{value:"BOLETO","data-testid":"option-boleto",children:i.jsxs("div",{className:"flex items-center gap-3 py-1",children:[i.jsx(qj,{className:"h-5 w-5 text-orange-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Boleto Bancrio"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Vence em 3 dias"})]})]})}),i.jsx(Je,{value:"CREDIT_CARD","data-testid":"option-credit-card",children:i.jsxs("div",{className:"flex items-center gap-3 py-1",children:[i.jsx(As,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Carto de Crdito"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Processamento rpido"})]})]})})]})]}),i.jsx(Ff,{})]})}),i.jsx(Ae,{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 border-green-200 dark:border-green-800",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs(De,{className:"text-gray-900 dark:text-white font-semibold flex items-center gap-2",children:[i.jsx(Cs,{className:"h-4 w-4 text-green-600"}),"Cupom de Desconto",i.jsx(It,{variant:"outline",className:"text-xs bg-green-100 text-green-700 border-green-300",children:"Opcional"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ju,{control:g.control,name:"cupom",render:({field:S})=>i.jsx(ru,{className:"flex-1",children:i.jsx(nu,{children:i.jsx(Ze,{...S,placeholder:"Digite o cdigo",className:"bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 focus:border-blue-500 dark:focus:border-blue-500 uppercase",disabled:!!d,"data-testid":"input-cupom"})})})}),d?i.jsx(ye,{type:"button",onClick:j,variant:"outline",className:"text-red-600","data-testid":"button-remover-cupom",children:"Remover"}):i.jsx(ye,{type:"button",onClick:b,disabled:c||!x,variant:"outline","data-testid":"button-validar-cupom",children:c?i.jsx(Ha,{className:"h-4 w-4 animate-spin"}):"Aplicar"})]}),d&&i.jsx(Ae,{className:"p-3 bg-green-50 dark:bg-green-950/30 border-green-200 dark:border-green-800 mt-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ma,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"text-sm font-semibold text-green-900 dark:text-green-100",children:d.cupom.descricao||d.cupom.codigo})]}),i.jsxs("span",{className:"text-sm font-bold text-green-600",children:["-R$ ",d.valorDesconto.toFixed(2)]})]})})]})}),p&&i.jsx(Ae,{className:"p-3 bg-blue-50 dark:bg-blue-950/30 border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"flex items-start gap-3",children:[P(p),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100",children:[p==="PIX"&&"Pagamento PIX",p==="BOLETO"&&"Boleto Bancrio",p==="CREDIT_CARD"&&"Carto de Crdito"]}),i.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:k(p)})]})]})}),d?i.jsx(Ae,{className:"p-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-950/30 dark:to-blue-950/30 border-2 border-purple-200 dark:border-purple-800",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Valor original:"}),i.jsxs("span",{className:"line-through",children:["R$ ",(d.valorFinal+d.valorDesconto).toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm text-green-600 dark:text-green-400",children:[i.jsx("span",{children:"Desconto:"}),i.jsxs("span",{children:["-R$ ",d.valorDesconto.toFixed(2)]})]}),i.jsx(Xf,{}),i.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[i.jsx("span",{children:"Total:"}),i.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:["R$ ",d.valorFinal.toFixed(2)]})]})]})}):i.jsxs(Ae,{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/30 dark:to-purple-950/30 border-2 border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[i.jsx("span",{children:"Total a pagar:"}),i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:Hu(r==="premium_mensal"?h.premium_mensal:h.premium_anual)})]}),r==="premium_anual"&&i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Economize ",Hu(gX(h.premium_mensal,h.premium_anual))," por ano"]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(ye,{type:"button",variant:"outline",onClick:()=>t(!1),className:"flex-1 border-2",disabled:o,"data-testid":"button-cancel-checkout",children:"Cancelar"}),i.jsx(ye,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300",disabled:o,"data-testid":"button-submit-checkout",children:o?i.jsxs(i.Fragment,{children:[i.jsx(Ha,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(eo,{className:"mr-2 h-4 w-4"}),"Finalizar Assinatura"]})})]}),i.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 pt-2",children:" Pagamento 100% seguro e criptografado"})]})})]})]})})}function Mve({open:e,onOpenChange:t,currentLimit:r}){const[n,a]=N.useState(!1),{toast:s}=Qr(),{data:o,isLoading:l,isError:c}=ir({queryKey:["/api/employee-package-prices"],retry:1,staleTime:1e3*60*5});c&&e&&s({title:"Aviso",description:"No foi possvel carregar os preos atualizados. Exibindo valores padro.",variant:"default"});const u=o||{pacote_5:49.9,pacote_10:89.9,pacote_20:159.9,pacote_50:349.9},d=[{id:"pacote_5",nome:"+5 Funcionrios",quantidade:5,preco:`R$ ${u.pacote_5.toFixed(2).replace(".",",")}`,precoNumerico:u.pacote_5,descricao:"Pacote Bsico",destaque:!1,recursos:[" 5 funcionrios adicionais"," Ativao imediata"," Suporte por email"]},{id:"pacote_10",nome:"+10 Funcionrios",quantidade:10,preco:`R$ ${u.pacote_10.toFixed(2).replace(".",",")}`,precoNumerico:u.pacote_10,descricao:"Mais Popular",destaque:!0,recursos:[" 10 funcionrios adicionais"," Ativao imediata"," Suporte prioritrio",` Economize R$ ${(u.pacote_5*2-u.pacote_10).toFixed(2).replace(".",",")}`]},{id:"pacote_20",nome:"+20 Funcionrios",quantidade:20,preco:`R$ ${u.pacote_20.toFixed(2).replace(".",",")}`,precoNumerico:u.pacote_20,descricao:"timo Custo-Benefcio",destaque:!1,recursos:[" 20 funcionrios adicionais"," Ativao imediata"," Suporte prioritrio",` Economize R$ ${(u.pacote_5*4-u.pacote_20).toFixed(2).replace(".",",")}`]},{id:"pacote_50",nome:"+50 Funcionrios",quantidade:50,preco:`R$ ${u.pacote_50.toFixed(2).replace(".",",")}`,precoNumerico:u.pacote_50,descricao:"Para Empresas",destaque:!1,recursos:[" 50 funcionrios adicionais"," Ativao imediata"," Suporte prioritrio",` Economize R$ ${(u.pacote_5*10-u.pacote_50).toFixed(2).replace(".",",")}`," Consultoria exclusiva"]}],f=async h=>{var m,g;a(!0);try{const x=await(await Pr("POST","/api/purchase-employees",{pacoteId:h.id,quantidade:h.quantidade,valor:h.precoNumerico,nomePacote:h.nome})).json();if(!x.success)throw new Error(x.error||"Erro ao processar pagamento");if((m=x.preference)!=null&&m.init_point)console.log(" Redirecionando para Mercado Pago:",x.preference.init_point),window.location.href=x.preference.init_point;else if((g=x.preference)!=null&&g.sandbox_init_point)console.log(" Redirecionando para Mercado Pago (sandbox):",x.preference.sandbox_init_point),window.location.href=x.preference.sandbox_init_point;else throw new Error("Link de pagamento no disponvel");s({title:" Pacote selecionado!",description:`Redirecionando para o pagamento do pacote ${h.nome}...`}),Gs.invalidateQueries({queryKey:["/api/user"]})}catch(p){console.error(" Erro ao processar compra:",p),s({title:"Erro ao processar compra",description:p.message||"Tente novamente mais tarde.",variant:"destructive"}),a(!1)}};return i.jsx(kr,{open:e,onOpenChange:t,children:i.jsxs(Sr,{className:"max-w-5xl max-h-[90vh] overflow-y-auto","data-testid":"dialog-purchase-employees",children:[i.jsxs(yr,{children:[i.jsxs(br,{className:"text-2xl flex items-center gap-2",children:[i.jsx(Ba,{className:"h-6 w-6 text-primary"}),"Adicione Mais Funcionrios"]}),i.jsxs(tn,{className:"text-base",children:["Seu limite atual  de ",i.jsx("strong",{children:r})," funcionrio(s). Escolha um pacote abaixo para expandir sua equipe."]})]}),l?i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx(Ha,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"ml-3 text-muted-foreground",children:"Carregando pacotes..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:d.map(h=>i.jsxs(Ae,{className:`relative ${h.destaque?"border-primary border-2 shadow-lg":"border-gray-200 dark:border-gray-700"}`,"data-testid":`card-pacote-${h.id}`,children:[h.destaque&&i.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:i.jsxs("span",{className:"bg-primary text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[i.jsx(dd,{className:"h-3 w-3"}),"Mais Popular"]})}),i.jsxs(qe,{className:"text-center pb-4 pt-8",children:[i.jsx(Ue,{className:"text-lg font-bold","data-testid":`text-nome-${h.id}`,children:h.nome}),i.jsx(Ht,{className:"text-sm","data-testid":`text-descricao-${h.id}`,children:h.descricao}),i.jsxs("div",{className:"mt-3",children:[i.jsx("span",{className:"text-3xl font-bold text-primary","data-testid":`text-preco-${h.id}`,children:h.preco}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Pagamento nico"})]})]}),i.jsxs(Pe,{className:"space-y-4",children:[i.jsx("ul",{className:"space-y-2",children:h.recursos.map((m,g)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm","data-testid":`item-recurso-${h.id}-${g}`,children:[i.jsx(ma,{className:"h-4 w-4 text-green-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:m})]},g))}),i.jsxs(ye,{className:"w-full",variant:h.destaque?"default":"outline",onClick:()=>f(h),disabled:n,"data-testid":`button-comprar-${h.id}`,children:[i.jsx(As,{className:"h-4 w-4 mr-2"}),"Comprar Agora"]})]})]},h.id))}),i.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:i.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",i.jsx("strong",{children:"Importante:"})," O limite de funcionrios  aumentado imediatamente aps a confirmao do pagamento. Voc receber um email com os detalhes da transao."]})})]})]})})}function Lve({logs:e,employees:t}){const[r,n]=N.useState(""),[a,s]=N.useState("all"),[o,l]=N.useState("all"),[c,u]=N.useState("all"),[d,f]=N.useState(1),h=15;N.useEffect(()=>{f(1)},[r,a,o,c]);const m={LOGIN_FUNCIONARIO:"bg-emerald-500/10 text-emerald-700 dark:text-emerald-400 border-emerald-500/30",LOGOUT_FUNCIONARIO:"bg-slate-500/10 text-slate-700 dark:text-slate-400 border-slate-500/30",PERMISSOES_ATUALIZADAS:"bg-blue-500/10 text-blue-700 dark:text-blue-400 border-blue-500/30",FUNCIONARIO_CRIADO:"bg-purple-500/10 text-purple-700 dark:text-purple-400 border-purple-500/30",FUNCIONARIO_ATUALIZADO:"bg-amber-500/10 text-amber-700 dark:text-amber-400 border-amber-500/30",FUNCIONARIO_DELETADO:"bg-red-500/10 text-red-700 dark:text-red-400 border-red-500/30",PRODUTO_CRIADO:"bg-teal-500/10 text-teal-700 dark:text-teal-400 border-teal-500/30",PRODUTO_ATUALIZADO:"bg-cyan-500/10 text-cyan-700 dark:text-cyan-400 border-cyan-500/30",PRODUTO_DELETADO:"bg-orange-500/10 text-orange-700 dark:text-orange-400 border-orange-500/30",VENDA_REALIZADA:"bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/30",VENDA_CANCELADA:"bg-rose-500/10 text-rose-700 dark:text-rose-400 border-rose-500/30",CAIXA_ABERTO:"bg-lime-500/10 text-lime-700 dark:text-lime-400 border-lime-500/30",CAIXA_FECHADO:"bg-yellow-500/10 text-yellow-700 dark:text-yellow-400 border-yellow-500/30",CONFIG_ATUALIZADA:"bg-indigo-500/10 text-indigo-700 dark:text-indigo-400 border-indigo-500/30",CLIENTE_CRIADO:"bg-sky-500/10 text-sky-700 dark:text-sky-400 border-sky-500/30",FORNECEDOR_CRIADO:"bg-violet-500/10 text-violet-700 dark:text-violet-400 border-violet-500/30",BACKUP_GERADO:"bg-fuchsia-500/10 text-fuchsia-700 dark:text-fuchsia-400 border-fuchsia-500/30",ERRO_SISTEMA:"bg-red-500/20 text-red-800 dark:text-red-300 border-red-500/50",ACESSO_NEGADO:"bg-red-500/15 text-red-700 dark:text-red-400 border-red-500/40"},g=N.useMemo(()=>Array.from(new Set(e.map(j=>j.acao))).sort(),[e]),p=N.useMemo(()=>{let j=[...e];if(r){const _=r.toLowerCase();j=j.filter(P=>{var k,S,E,M;return((k=P.usuario_nome)==null?void 0:k.toLowerCase().includes(_))||((S=P.usuario_email)==null?void 0:S.toLowerCase().includes(_))||((E=P.acao)==null?void 0:E.toLowerCase().includes(_))||((M=P.detalhes)==null?void 0:M.toLowerCase().includes(_))})}if(a!=="all"&&(j=j.filter(_=>_.usuario_email===a)),o!=="all"){const _=new Date,P=k=>new Date(k.data);j=j.filter(k=>{const S=P(k);switch(o){case"today":return S.toDateString()===_.toDateString();case"week":const E=new Date(_.getTime()-7*24*60*60*1e3);return S>=E;case"month":const M=new Date(_.getTime()-30*24*60*60*1e3);return S>=M;default:return!0}})}return c!=="all"&&(j=j.filter(_=>_.acao===c)),j},[e,r,a,o,c]),x=Math.ceil(p.length/h),v=Math.max(1,Math.min(d,x||1)),y=N.useMemo(()=>{const j=(v-1)*h;return p.slice(j,j+h)},[p,v]),b=()=>{const j=["Data/Hora","Usurio","Email","Ao","Detalhes","IP","Navegador"],_=p.map(E=>[new Date(E.data).toLocaleString("pt-BR"),E.usuario_nome||"",E.usuario_email||"",E.acao||"",E.detalhes||"",E.ip_address||"",E.user_agent||""]),P=[j,..._].map(E=>E.map(M=>`"${String(M).replace(/"/g,'""')}"`).join(",")).join(`
`),k=new Blob(["\uFEFF"+P],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a");S.href=URL.createObjectURL(k),S.download=`logs-auditoria-${new Date().toISOString().split("T")[0]}.csv`,S.click()};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2.5 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-lg",children:i.jsx(ai,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Sistema de Auditoria"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.length," registro",p.length!==1?"s":""," encontrado",p.length!==1?"s":""]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{onClick:()=>setShowClearLogsDialog(!0),size:"sm",variant:"destructive",className:"gap-2 shadow-md","data-testid":"button-clear-logs",disabled:e.length===0,children:[i.jsx(Ei,{className:"h-4 w-4"}),"Limpar"]}),i.jsxs(ye,{onClick:b,size:"sm",className:"gap-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-md","data-testid":"button-export-logs",children:[i.jsx(fm,{className:"h-4 w-4"}),"Exportar"]})]})]}),i.jsx(Ae,{className:"bg-gradient-to-br from-white to-slate-50/50 dark:from-gray-900 dark:to-slate-950/50 border-slate-200/50 dark:border-slate-800/50 shadow-sm",children:i.jsx(Pe,{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"}),i.jsx(Ze,{placeholder:"Buscar logs...",value:r,onChange:j=>n(j.target.value),className:"pl-9 h-9 bg-white dark:bg-gray-950 border-slate-200 dark:border-slate-800","data-testid":"input-search-logs"})]}),i.jsxs(Cr,{value:a,onValueChange:s,children:[i.jsxs(Nr,{className:"h-9 bg-white dark:bg-gray-950 border-slate-200 dark:border-slate-800","data-testid":"select-employee-filter",children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx(Er,{placeholder:"Funcionrio"})]}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todos os Funcionrios"}),t.map(j=>i.jsx(Je,{value:j.email,children:j.nome},j.id))]})]}),i.jsxs(Cr,{value:o,onValueChange:l,children:[i.jsxs(Nr,{className:"h-9 bg-white dark:bg-gray-950 border-slate-200 dark:border-slate-800","data-testid":"select-period-filter",children:[i.jsx(Ys,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx(Er,{placeholder:"Perodo"})]}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todo o Perodo"}),i.jsx(Je,{value:"today",children:"Hoje"}),i.jsx(Je,{value:"week",children:"ltima Semana"}),i.jsx(Je,{value:"month",children:"ltimo Ms"})]})]}),i.jsxs(Cr,{value:c,onValueChange:u,children:[i.jsxs(Nr,{className:"h-9 bg-white dark:bg-gray-950 border-slate-200 dark:border-slate-800","data-testid":"select-action-filter",children:[i.jsx(TT,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx(Er,{placeholder:"Tipo de Ao"})]}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todas as Aes"}),g.map(j=>i.jsx(Je,{value:j,children:j},j))]})]})]})})}),p.length===0?i.jsx(Ae,{className:"bg-gradient-to-br from-slate-50 to-slate-100/50 dark:from-slate-900 dark:to-slate-950/50 border-slate-200 dark:border-slate-800",children:i.jsxs(Pe,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 to-purple-500/10 rounded-full mb-4",children:i.jsx(Ys,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum log encontrado"}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md",children:e.length===0?"As aes dos funcionrios aparecero aqui quando forem realizadas.":"Nenhum log corresponde aos filtros selecionados. Tente ajustar os filtros."})]})}):i.jsxs(Ae,{className:"bg-gradient-to-br from-white to-slate-50/30 dark:from-gray-900 dark:to-slate-950/30 border-slate-200/50 dark:border-slate-800/50 shadow-md overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 dark:from-slate-900 dark:to-slate-950/50 border-b-2 border-slate-200 dark:border-slate-800",children:[i.jsx(Me,{className:"font-semibold",children:"Data/Hora"}),i.jsx(Me,{className:"font-semibold",children:"Usurio"}),i.jsx(Me,{className:"font-semibold",children:"Ao"}),i.jsx(Me,{className:"font-semibold",children:"Detalhes"})]})}),i.jsx(gn,{children:y.map((j,_)=>{var P;return i.jsxs(Bt,{className:`transition-colors hover:bg-slate-50 dark:hover:bg-slate-900/50 ${_%2===0?"bg-white dark:bg-transparent":"bg-slate-50/30 dark:bg-slate-950/20"}`,children:[i.jsx(Ie,{"data-testid":`text-log-timestamp-${j.id}`,className:"font-mono text-xs py-3",children:i.jsxs("div",{className:"flex flex-col gap-0.5",children:[i.jsx("span",{className:"font-semibold text-foreground",children:new Date(j.data).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}),i.jsx("span",{className:"text-muted-foreground",children:new Date(j.data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})}),i.jsx(Ie,{"data-testid":`text-log-user-${j.id}`,className:"py-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold",children:(P=j.usuario_nome)==null?void 0:P.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex flex-col gap-0.5",children:[i.jsx("span",{className:"font-medium text-sm leading-none",children:j.usuario_nome}),i.jsx("span",{className:"text-xs text-muted-foreground leading-none",children:j.usuario_email})]})]})}),i.jsx(Ie,{"data-testid":`text-log-action-${j.id}`,className:"py-3",children:i.jsx(It,{variant:"outline",className:`text-xs font-medium px-2 py-1 ${m[j.acao]||"bg-slate-500/10 text-slate-700 dark:text-slate-400 border-slate-500/30"}`,children:j.acao})}),i.jsx(Ie,{"data-testid":`text-log-details-${j.id}`,className:"py-3 max-w-md",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm leading-tight",children:j.detalhes||""}),(j.ip_address||j.user_agent)&&i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:j.ip_address&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md bg-slate-100 dark:bg-slate-800 text-xs text-muted-foreground",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),j.ip_address]})})]})})]},j.id)})})]})}),x>1&&i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-slate-50 to-slate-100/50 dark:from-slate-900 dark:to-slate-950/50 border-t border-slate-200 dark:border-slate-800",children:[i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Exibindo ",i.jsx("span",{className:"font-semibold text-foreground",children:(v-1)*h+1})," a"," ",i.jsx("span",{className:"font-semibold text-foreground",children:Math.min(v*h,p.length)})," de"," ",i.jsx("span",{className:"font-semibold text-foreground",children:p.length})," registros"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"outline",size:"sm",onClick:()=>f(j=>Math.max(1,j-1)),disabled:v===1,className:"h-8 px-3","data-testid":"button-prev-page",children:i.jsx(PT,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-sm font-medium px-2",children:v}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["de ",x]})]}),i.jsx(ye,{variant:"outline",size:"sm",onClick:()=>f(j=>Math.min(x||1,j+1)),disabled:v===x,className:"h-8 px-3","data-testid":"button-next-page",children:i.jsx(Nb,{className:"h-4 w-4"})})]})]})]})]})}function $ve(e){if(!e)return 0;const t=new Date,n=new Date(e).getTime()-t.getTime(),a=Math.floor(n/(1e3*60*60*24));return a>0?a:0}function Bve(){Rd(),ui();const{toast:e}=Qr(),[t,r]=N.useState(null),[n,a]=N.useState(!1),[s,o]=N.useState(!1),[l,c]=N.useState(null),[u,d]=N.useState(null),[f,h]=N.useState(!1),[m,g]=N.useState(null),[p,x]=N.useState(!1),[v,y]=N.useState(!1),[b,j]=N.useState(!1),[_,P]=N.useState({nome:"",email:"",senha:"",cargo:""}),[k,S]=N.useState({nome:"",email:"",senha:"",cargo:""});N.useEffect(()=>{n||P({nome:"",email:"",senha:"",cargo:""})},[n]);const[E,M]=N.useState({});N.useEffect(()=>{const U=localStorage.getItem("user");U&&r(JSON.parse(U))},[]),ir({queryKey:["/api/user-refresh",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return t;const U=await fetch("/api/users",{headers:{"x-user-id":t.id}});if(U.ok){const oe=(await U.json()).find(Se=>Se.id===t.id);if(oe)return oe.max_funcionarios!==t.max_funcionarios&&(localStorage.setItem("user",JSON.stringify(oe)),r(oe),e({title:" Limite atualizado",description:`Seu limite de funcionrios foi atualizado para ${oe.max_funcionarios}!`})),oe}return t},refetchInterval:3e4,enabled:!!(t!=null&&t.id)});const{data:T=[],isLoading:C}=ir({queryKey:["/api/funcionarios",{conta_id:t==null?void 0:t.id}],queryFn:async()=>t!=null&&t.id?(await Pr("GET",`/api/funcionarios?conta_id=${t.id}`)).json():[],refetchInterval:3e4,enabled:!!(t!=null&&t.id)}),{data:I={}}=ir({queryKey:["/api/funcionarios/permissoes",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id)||T.length===0)return{};const U={};for(const me of T)try{const oe=await Pr("GET",`/api/funcionarios/${me.id}/permissoes`);oe.ok&&(U[me.id]=await oe.json())}catch(oe){console.error(`Error fetching permissions for employee ${me.id}:`,oe)}return U},enabled:!!(t!=null&&t.id)&&T.length>0,refetchInterval:3e4}),{data:L=[]}=ir({queryKey:["/api/logs-admin",t==null?void 0:t.id],queryFn:async()=>t!=null&&t.id?(await Pr("GET",`/api/logs-admin?conta_id=${t.id}`)).json():[],enabled:!!(t!=null&&t.id),refetchInterval:3e4}),z=T,G=rr({mutationFn:async U=>{if(!(t!=null&&t.id))throw new Error("User not identified");const me=await Pr("POST","/api/funcionarios",{...U,conta_id:t.id});if(!me.ok)throw await me.json();return me.json()},onSuccess:()=>{Gs.invalidateQueries({queryKey:["/api/funcionarios",{conta_id:t==null?void 0:t.id}]}),e({title:"Funcionrio adicionado",description:"Novo funcionrio criado com sucesso!"}),P({nome:"",email:"",senha:"",cargo:""}),a(!1)},onError:U=>{P({nome:"",email:"",senha:"",cargo:""}),a(!1),U.limite_atingido?x(!0):e({title:"Erro ao criar funcionrio",description:U.error||(U instanceof Error?U.message:"Erro desconhecido"),variant:"destructive"})}}),W=rr({mutationFn:async({id:U,updates:me})=>{const oe={...me};oe.senha||delete oe.senha;const Se=await Pr("PATCH",`/api/funcionarios/${U}`,oe);if(!Se.ok)throw await Se.json();return Se.json()},onSuccess:()=>{Gs.invalidateQueries({queryKey:["/api/funcionarios",{conta_id:t==null?void 0:t.id}]}),e({title:"Funcionrio atualizado",description:"Dados do funcionrio atualizados com sucesso!"}),o(!1),d(null)},onError:U=>{e({title:"Erro ao atualizar funcionrio",description:U instanceof Error?U.message:"Erro desconhecido",variant:"destructive"})}}),q=rr({mutationFn:async({id:U,status:me})=>{const oe=await Pr("PATCH",`/api/funcionarios/${U}`,{status:me});if(!oe.ok)throw await oe.json();return oe.json()},onSuccess:()=>{Gs.invalidateQueries({queryKey:["/api/funcionarios",{conta_id:t==null?void 0:t.id}]}),e({title:"Status atualizado",description:"Status do funcionrio atualizado com sucesso!"})},onError:U=>{e({title:"Erro ao atualizar status",description:U instanceof Error?U.message:"Ocorreu um erro",variant:"destructive"})}}),K=rr({mutationFn:async U=>{const me=await Pr("DELETE",`/api/funcionarios/${U}`);if(!me.ok)throw await me.json();return me.json()},onSuccess:()=>{Gs.invalidateQueries({queryKey:["/api/funcionarios",{conta_id:t==null?void 0:t.id}]}),e({title:"Funcionrio removido",description:"Funcionrio removido com sucesso."})},onError:U=>{e({title:"Erro ao remover",description:U instanceof Error?U.message:"Ocorreu um erro",variant:"destructive"})}}),ae=U=>{confirm("Tem certeza que deseja remover este funcionrio?")&&K.mutate(U)},ie=U=>{d(U),S({nome:U.nome,email:U.email,senha:"",cargo:U.cargo||""}),o(!0)},O=()=>{u&&W.mutate({id:u.id,updates:k})},V=U=>{const me=U.status==="ativo"?"inativo":"ativo";q.mutate({id:U.id,status:me})},D=()=>({pdv:"false",produtos:"false",inventario:"false",relatorios:"false",clientes:"false",fornecedores:"false",financeiro:"false",config_fiscal:"false",dashboard:"false",caixa:"false",configuracoes:"false",historico_caixas:"false",devolucoes:"false",contas_pagar:"false",contas_receber:"false",orcamentos:"false"}),B=(U,me)=>{M(oe=>{const Se=oe[U]||I[U]||D();return{...oe,[U]:{...Se,[me]:Se[me]==="true"?"false":"true"}}})},Q=U=>{c(U),I[U]?M(me=>({...me,[U]:I[U]})):M(me=>({...me,[U]:D()}))},Y=rr({mutationFn:async({userId:U,perms:me})=>{const oe=await Pr("POST",`/api/funcionarios/${U}/permissoes`,me);if(!oe.ok)throw await oe.json();return oe.json()},onSuccess:()=>{Gs.invalidateQueries({queryKey:["/api/funcionarios/permissoes",t==null?void 0:t.id]}),e({title:"Permisses atualizadas",description:"As permisses foram salvas com sucesso."}),c(null),M({})},onError:U=>{e({title:"Erro ao salvar permisses",description:U instanceof Error?U.message:"Ocorreu um erro",variant:"destructive"})}}),ee=U=>{const me=E[U]||I[U]||D();Y.mutate({userId:U,perms:me})},X=rr({mutationFn:async()=>{if(!(t!=null&&t.id))throw new Error("User not identified");const U=await Pr("DELETE",`/api/logs-admin?conta_id=${t.id}`);if(!U.ok)throw await U.json();return U.json()},onSuccess:()=>{Gs.invalidateQueries({queryKey:["/api/logs-admin",t==null?void 0:t.id]}),e({title:"Logs limpos",description:"Todos os logs de auditoria foram removidos com sucesso."}),j(!1)},onError:U=>{e({title:"Erro ao limpar logs",description:U instanceof Error?U.message:"Ocorreu um erro",variant:"destructive"})}});return C||!t?i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-900",children:[i.jsxs("div",{className:"max-w-[1400px] mx-auto px-3 sm:px-4 lg:px-6 py-4 space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-purple-600/10 to-pink-600/10 rounded-2xl blur-2xl"}),i.jsx("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-xl p-4 border border-gray-200/50 dark:border-gray-800/50 shadow-lg",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg shadow-md",children:i.jsx(eo,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-purple-900 dark:from-white dark:via-blue-200 dark:to-purple-200 bg-clip-text text-transparent",children:"Painel de Administrao"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Gerencie sua equipe e personalize seu plano"})]})]})})]}),i.jsxs(Zj,{defaultValue:"info",className:"w-full",children:[i.jsxs(ty,{className:"grid w-full grid-cols-3 bg-white/60 dark:bg-gray-900/60 backdrop-blur-sm border border-gray-200/50 dark:border-gray-800/50 p-1 rounded-xl shadow-sm",children:[i.jsx(Qo,{value:"info","data-testid":"tab-account-info",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-600 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-md transition-all duration-200",children:"Informaes da Conta"}),i.jsx(Qo,{value:"funcionarios","data-testid":"tab-employees",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-600 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-md transition-all duration-200",children:"Funcionrios"}),i.jsx(Qo,{value:"logs","data-testid":"tab-logs",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-600 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-md transition-all duration-200",children:"Logs de Auditoria"})]}),i.jsxs(Zo,{value:"info",className:"space-y-8 mt-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(Ae,{className:"bg-gradient-to-br from-white to-blue-50/30 dark:from-gray-900 dark:to-blue-950/20 border-blue-200/50 dark:border-blue-800/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[i.jsx(Ue,{className:"text-lg font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Informaes da Empresa"}),i.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-lg",children:i.jsx(qj,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]}),i.jsxs(Pe,{className:"space-y-4",children:[i.jsxs("div",{className:"p-3 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Nome"}),i.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.nome})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Email"}),i.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.email})]})]})]}),i.jsxs(Ae,{className:"bg-gradient-to-br from-white to-purple-50/30 dark:from-gray-900 dark:to-purple-950/20 border-purple-200/50 dark:border-purple-800/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[i.jsx(Ue,{className:"text-lg font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Plano Atual"}),i.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg",children:i.jsx(As,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})})]}),i.jsxs(Pe,{className:"space-y-4",children:[i.jsxs("div",{className:"p-3 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Plano"}),i.jsxs(It,{variant:t.plano==="premium_mensal"||t.plano==="premium_anual"?"default":"secondary",className:"text-sm px-3 py-1 bg-gradient-to-r from-purple-600 to-pink-600 border-0",children:[t.plano==="trial"&&"Trial (7 dias grtis)",t.plano==="free"&&"Gratuito",t.plano==="premium_mensal"&&"Premium Mensal",t.plano==="premium_anual"&&"Premium Anual",!["trial","free","premium_mensal","premium_anual"].includes(t.plano)&&"Gratuito"]})]}),(t.data_expiracao_plano||t.data_expiracao_trial)&&i.jsxs("div",{className:"p-3 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:t.plano==="trial"?"Trial":"Expira em"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[$ve(t.data_expiracao_plano||t.data_expiracao_trial)," ",i.jsx("span",{className:"text-base font-normal text-gray-600 dark:text-gray-400",children:"dias restantes"})]})]})]})]})]}),i.jsxs(Ae,{className:"bg-gradient-to-br from-white to-green-50/30 dark:from-gray-900 dark:to-green-950/20 border-green-200/50 dark:border-green-800/30 shadow-lg",children:[i.jsx(qe,{className:"pb-4",children:i.jsxs(Ue,{className:"flex items-center gap-3 text-xl",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-lg",children:i.jsx(Ba,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),i.jsx("span",{className:"bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent font-bold",children:"Resumo da Equipe"})]})}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-950/30 dark:to-blue-900/20 border border-blue-200/50 dark:border-blue-800/30",children:[i.jsx("p",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent",children:z.length}),i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mt-1",children:"Funcionrios cadastrados"})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-50 to-emerald-100/50 dark:from-green-950/30 dark:to-emerald-900/20 border border-green-200/50 dark:border-green-800/30",children:[i.jsx("p",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-emerald-800 bg-clip-text text-transparent",children:z.filter(U=>U.status==="ativo").length}),i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mt-1",children:"Funcionrios ativos"})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-50 to-purple-100/50 dark:from-purple-950/30 dark:to-purple-900/20 border border-purple-200/50 dark:border-purple-800/30",children:[i.jsx("p",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-purple-800 bg-clip-text text-transparent",children:t.max_funcionarios||1}),i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mt-1",children:"Limite de funcionrios"})]})]}),t.max_funcionarios!==void 0&&z.length>=t.max_funcionarios&&i.jsxs($i,{className:"mt-4 border-orange-200 dark:border-orange-800 bg-orange-50 dark:bg-orange-950/20",children:[i.jsx(wo,{className:"text-orange-800 dark:text-orange-200",children:"Limite atingido!"}),i.jsxs(Bi,{className:"text-orange-700 dark:text-orange-300 flex flex-col gap-3",children:[i.jsxs("p",{children:["Voc atingiu o limite de ",t.max_funcionarios||1," funcionrio(s)."]}),i.jsx(ye,{variant:"default",size:"sm",onClick:()=>y(!0),className:"w-fit","data-testid":"button-upgrade-plan",children:"Comprar Mais Funcionrios"})]})]})]})]})]}),i.jsxs(Zo,{value:"funcionarios",className:"space-y-8 mt-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Funcionrios"}),i.jsx("p",{className:"text-muted-foreground",children:"Gerencie os funcionrios que tm acesso ao sistema"})]}),i.jsxs(kr,{open:n,onOpenChange:a,children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{"data-testid":"button-add-employee",children:[i.jsx(RT,{className:"h-4 w-4 mr-2"}),"Adicionar Funcionrio"]})}),i.jsxs(Sr,{children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Adicionar Funcionrio"}),i.jsx(tn,{children:"Crie um novo acesso para um funcionrio da sua empresa"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{htmlFor:"nome",children:"Nome Completo"}),i.jsx(Ze,{id:"nome",value:_.nome,onChange:U=>P({..._,nome:U.target.value}),placeholder:"Ex: Joo Silva","data-testid":"input-employee-name"})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"email",children:"Email"}),i.jsx(Ze,{id:"email",type:"email",value:_.email,onChange:U=>P({..._,email:U.target.value}),placeholder:"joao@empresa.com","data-testid":"input-employee-email"})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"cargo",children:"Cargo"}),i.jsx(Ze,{id:"cargo",value:_.cargo,onChange:U=>P({..._,cargo:U.target.value}),placeholder:"Ex: Vendedor, Gerente, Caixa","data-testid":"input-employee-cargo"})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"senha",children:"Senha Inicial"}),i.jsx(Ze,{id:"senha",type:"password",value:_.senha,onChange:U=>P({..._,senha:U.target.value}),placeholder:"Senha para primeiro acesso","data-testid":"input-employee-password"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Mnimo 8 caracteres com letras maisculas, minsculas e nmeros"})]}),i.jsx($i,{children:i.jsx(Bi,{children:"O funcionrio poder fazer login com este email e senha. Recomendamos que ele altere a senha no primeiro acesso."})}),i.jsx(ye,{onClick:()=>G.mutate(_),className:"w-full",disabled:G.isPending,"data-testid":"button-submit-employee",children:G.isPending?"Criando...":"Criar Acesso"})]})]})]})]}),i.jsx(Ae,{children:i.jsx(Pe,{className:"p-0",children:i.jsx("div",{className:"rounded-md border",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Nome"}),i.jsx(Me,{children:"Email"}),i.jsx(Me,{children:"Cargo"}),i.jsx(Me,{children:"Data de Cadastro"}),i.jsx(Me,{children:"Status"}),i.jsx(Me,{children:"Aes"})]})}),i.jsx(gn,{children:z.length>0?z.map(U=>i.jsxs(Bt,{"data-testid":`row-employee-${U.id}`,children:[i.jsx(Ie,{className:"font-medium",children:U.nome}),i.jsx(Ie,{children:U.email}),i.jsx(Ie,{children:U.cargo||"-"}),i.jsx(Ie,{children:U.data_criacao?new Date(U.data_criacao).toLocaleDateString("pt-BR"):"-"}),i.jsx(Ie,{children:i.jsx(It,{variant:U.status==="ativo"?"default":"secondary",children:U.status==="ativo"?"Ativo":"Inativo"})}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>ie(U),"data-testid":`button-edit-employee-${U.id}`,children:[i.jsx(Q1,{className:"h-4 w-4 mr-1"}),"Editar"]}),i.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>Q(U.id),"data-testid":`button-edit-permissions-${U.id}`,children:[i.jsx(eo,{className:"h-4 w-4 mr-1"}),"Permisses"]}),i.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>V(U),"data-testid":`button-toggle-status-${U.id}`,children:[i.jsx(whe,{className:"h-4 w-4 mr-1"}),U.status==="ativo"?"Desativar":"Ativar"]}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>ae(U.id),"data-testid":`button-delete-employee-${U.id}`,children:i.jsx(Ei,{className:"h-4 w-4 text-destructive"})})]})})]},U.id)):i.jsx(Bt,{children:i.jsx(Ie,{colSpan:6,className:"text-center py-8 text-gray-500",children:"Nenhum funcionrio cadastrado. Adicione funcionrios para gerenciar os acessos."})})})]})})})}),i.jsx(kr,{open:s,onOpenChange:o,children:i.jsxs(Sr,{children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Editar Funcionrio"}),i.jsx(tn,{children:"Atualize os dados do funcionrio"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{htmlFor:"edit-nome",children:"Nome Completo"}),i.jsx(Ze,{id:"edit-nome",value:k.nome,onChange:U=>S({...k,nome:U.target.value}),placeholder:"Ex: Joo Silva","data-testid":"input-edit-employee-name"})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"edit-email",children:"Email"}),i.jsx(Ze,{id:"edit-email",type:"email",value:k.email,onChange:U=>S({...k,email:U.target.value}),placeholder:"joao@empresa.com","data-testid":"input-edit-employee-email"})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"edit-cargo",children:"Cargo"}),i.jsx(Ze,{id:"edit-cargo",value:k.cargo,onChange:U=>S({...k,cargo:U.target.value}),placeholder:"Ex: Vendedor, Gerente, Caixa","data-testid":"input-edit-employee-cargo"})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"edit-senha",children:"Nova Senha (Opcional)"}),i.jsx(Ze,{id:"edit-senha",type:"password",value:k.senha,onChange:U=>S({...k,senha:U.target.value}),placeholder:"Digite a nova senha (deixe em branco para no alterar)","data-testid":"input-edit-employee-password"})]}),i.jsx($i,{children:i.jsx(Bi,{children:"Preencha apenas os campos que deseja alterar. A senha ser atualizada apenas se voc digitar uma nova."})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{onClick:O,className:"flex-1",disabled:W.isPending,"data-testid":"button-save-employee",children:W.isPending?"Salvando...":"Salvar Alteraes"}),i.jsx(ye,{variant:"outline",onClick:()=>o(!1),className:"flex-1",children:"Cancelar"})]})]})]})}),i.jsx(kr,{open:l!==null,onOpenChange:U=>!U&&c(null),children:i.jsxs(Sr,{className:"max-w-3xl max-h-[90vh] flex flex-col",children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Gerenciar Permisses"}),i.jsx(tn,{children:"Defina quais funcionalidades este funcionrio pode acessar"})]}),l&&i.jsxs("div",{className:"flex flex-col flex-1 min-h-0",children:[i.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pb-4",children:[{key:"pdv",label:"PDV / Caixa",description:"Realizar vendas e gerenciar caixa"},{key:"caixa",label:"Caixa",description:"Abrir e fechar caixa"},{key:"historico_caixas",label:"Histrico de Caixas",description:"Visualizar histrico de caixas anteriores"},{key:"produtos",label:"Produtos",description:"Cadastrar e editar produtos"},{key:"inventario",label:"Inventrio",description:"Gerenciar estoque"},{key:"clientes",label:"Clientes",description:"Gerenciar cadastro de clientes"},{key:"fornecedores",label:"Fornecedores",description:"Gerenciar fornecedores"},{key:"financeiro",label:"Financeiro",description:"Acessar mdulo financeiro"},{key:"config_fiscal",label:"Config. Fiscal",description:"Configuraes fiscais e NF-e"},{key:"devolucoes",label:"Devolues",description:"Gerenciar devolues de produtos"},{key:"orcamentos",label:"Oramentos",description:"Criar e gerenciar oramentos"},{key:"contas_pagar",label:"Contas a Pagar",description:"Gerenciar contas a pagar"},{key:"contas_receber",label:"Contas a Receber",description:"Gerenciar contas a receber"}].map(U=>{var me,oe;return i.jsx(Ae,{className:"cursor-pointer hover-elevate transition-all",onClick:()=>B(l,U.key),children:i.jsx(Pe,{className:"p-3",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-medium text-sm leading-tight",children:U.label}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:U.description})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx(po,{checked:(((me=E[l])==null?void 0:me[U.key])||((oe=I[l])==null?void 0:oe[U.key])||"false")==="true",onCheckedChange:()=>B(l,U.key),"data-testid":`switch-permission-${U.key}`,onClick:Se=>Se.stopPropagation()})})]})})},U.key)})})}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[i.jsx(ye,{onClick:()=>ee(l),className:"flex-1","data-testid":"button-save-permissions",children:"Salvar Permisses"}),i.jsx(ye,{variant:"outline",onClick:()=>c(null),className:"flex-1",children:"Cancelar"})]})]})]})})]}),i.jsx(Zo,{value:"logs",className:"space-y-6 mt-6",children:i.jsx(Lve,{logs:L,employees:z})})]})]}),i.jsx(kr,{open:p,onOpenChange:x,children:i.jsxs(Sr,{className:"max-w-4xl bg-gradient-to-br from-gray-900 to-gray-950 border-gray-800",children:[i.jsxs(yr,{children:[i.jsxs(br,{className:"text-2xl font-bold text-white flex items-center gap-2",children:[i.jsx(Ba,{className:"h-6 w-6 text-blue-400"}),"Limite de Funcionrios Atingido"]}),i.jsx(tn,{className:"text-gray-400",children:"Voc atingiu o limite do seu plano. Escolha uma opo abaixo para aumentar a capacidade:"})]}),i.jsxs("div",{className:"py-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(Ae,{className:"bg-gradient-to-br from-blue-900/20 to-blue-950/20 border-blue-800/50 hover:border-blue-600 transition-all cursor-pointer",children:[i.jsx(qe,{children:i.jsxs("div",{className:"text-center",children:[i.jsx(rl,{className:"h-10 w-10 text-blue-400 mx-auto mb-2"}),i.jsx(Ue,{className:"text-blue-200 text-xl",children:"At 5 Funcionrios"}),i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Perfeito para pequenas equipes"})]})}),i.jsxs(Pe,{className:"text-center",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-4xl font-bold text-blue-100",children:"R$ 39,90"}),i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"por ms"})]}),i.jsxs("ul",{className:"text-left space-y-2 mb-6 text-sm",children:[i.jsxs("li",{className:"flex items-center text-gray-300",children:[i.jsx(ma,{className:"h-4 w-4 text-green-400 mr-2"}),"5 acessos simultneos"]}),i.jsxs("li",{className:"flex items-center text-gray-300",children:[i.jsx(ma,{className:"h-4 w-4 text-green-400 mr-2"}),"Todas as funcionalidades"]}),i.jsxs("li",{className:"flex items-center text-gray-300",children:[i.jsx(ma,{className:"h-4 w-4 text-green-400 mr-2"}),"Suporte prioritrio"]})]}),i.jsx(ye,{className:"w-full bg-blue-600 hover:bg-blue-700","data-testid":"button-plan-5",children:"Contratar Agora"})]})]}),i.jsxs(Ae,{className:"bg-gradient-to-br from-purple-900/20 to-purple-950/20 border-purple-800/50 hover:border-purple-600 transition-all cursor-pointer relative",children:[i.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:i.jsx(It,{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white px-3 py-1",children:" Mais Popular"})}),i.jsx(qe,{children:i.jsxs("div",{className:"text-center mt-2",children:[i.jsx(Z1,{className:"h-10 w-10 text-purple-400 mx-auto mb-2"}),i.jsx(Ue,{className:"text-purple-200 text-xl",children:"At 10 Funcionrios"}),i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Ideal para crescimento"})]})}),i.jsxs(Pe,{className:"text-center",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-4xl font-bold text-purple-100",children:"R$ 69,90"}),i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"por ms"}),i.jsx("p",{className:"text-green-400 text-xs mt-1",children:" Economia de R$ 30/ms"})]}),i.jsxs("ul",{className:"text-left space-y-2 mb-6 text-sm",children:[i.jsxs("li",{className:"flex items-center text-gray-300",children:[i.jsx(ma,{className:"h-4 w-4 text-green-400 mr-2"}),"10 acessos simultneos"]}),i.jsxs("li",{className:"flex items-center text-gray-300",children:[i.jsx(ma,{className:"h-4 w-4 text-green-400 mr-2"}),"Todas as funcionalidades"]}),i.jsxs("li",{className:"flex items-center text-gray-300",children:[i.jsx(ma,{className:"h-4 w-4 text-green-400 mr-2"}),"Suporte prioritrio 24/7"]})]}),i.jsx(ye,{className:"w-full bg-purple-600 hover:bg-purple-700","data-testid":"button-plan-10",children:"Contratar Agora"})]})]}),i.jsxs(Ae,{className:"bg-gradient-to-br from-orange-900/20 to-orange-950/20 border-orange-800/50 hover:border-orange-600 transition-all cursor-pointer",children:[i.jsx(qe,{children:i.jsxs("div",{className:"text-center",children:[i.jsx(qj,{className:"h-10 w-10 text-orange-400 mx-auto mb-2"}),i.jsx(Ue,{className:"text-orange-200 text-xl",children:"At 20 Funcionrios"}),i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Para equipes grandes"})]})}),i.jsxs(Pe,{className:"text-center",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-4xl font-bold text-orange-100",children:"R$ 119,90"}),i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"por ms"}),i.jsx("p",{className:"text-green-400 text-xs mt-1",children:" Economia de R$ 80/ms"})]}),i.jsxs("ul",{className:"text-left space-y-2 mb-6 text-sm",children:[i.jsxs("li",{className:"flex items-center text-gray-300",children:[i.jsx(ma,{className:"h-4 w-4 text-green-400 mr-2"}),"20 acessos simultneos"]}),i.jsxs("li",{className:"flex items-center text-gray-300",children:[i.jsx(ma,{className:"h-4 w-4 text-green-400 mr-2"}),"Todas as funcionalidades"]}),i.jsxs("li",{className:"flex items-center text-gray-300",children:[i.jsx(ma,{className:"h-4 w-4 text-green-400 mr-2"}),"Suporte dedicado VIP"]})]}),i.jsx(ye,{className:"w-full bg-orange-600 hover:bg-orange-700","data-testid":"button-plan-20",children:"Contratar Agora"})]})]})]}),i.jsx("div",{className:"mt-6 p-4 bg-blue-900/10 border border-blue-800/30 rounded-lg",children:i.jsxs("p",{className:"text-center text-gray-400 text-sm",children:[" ",i.jsx("strong",{className:"text-white",children:"Dica:"})," Entre em contato conosco para planos customizados com mais de 20 funcionrios"]})})]})]})}),i.jsx(Mve,{open:v,onOpenChange:y,currentLimit:t.max_funcionarios||1}),i.jsx(kr,{open:b,onOpenChange:j,children:i.jsxs(Sr,{children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Limpar Logs de Auditoria"}),i.jsx(tn,{children:"Tem certeza que deseja remover todos os logs de auditoria? Esta ao no pode ser desfeita."})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[i.jsx(ye,{variant:"outline",onClick:()=>j(!1),"data-testid":"button-cancel-clear-logs",children:"Cancelar"}),i.jsx(ye,{variant:"destructive",onClick:()=>X.mutate(),disabled:X.isPending,"data-testid":"button-confirm-clear-logs",children:X.isPending?"Limpando...":"Limpar Logs"})]})]})}),m&&i.jsx(jX,{open:f,onOpenChange:h,plano:m.plano,planoNome:m.nome,planoPreco:m.preco})]})}const Es=N.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:ht("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Es.displayName="Textarea";function Dc(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Zm(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const NX=6048e5,zve=864e5;let qve={};function L_(){return qve}function py(e,t){var l,c,u,d;const r=L_(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Dc(e),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function uN(e){return py(e,{weekStartsOn:1})}function _X(e){const t=Dc(e),r=t.getFullYear(),n=Zm(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=uN(n),s=Zm(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=uN(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function NF(e){const t=Dc(e);return t.setHours(0,0,0,0),t}function _F(e){const t=Dc(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Uve(e,t){const r=NF(e),n=NF(t),a=+r-_F(r),s=+n-_F(n);return Math.round((a-s)/zve)}function Vve(e){const t=_X(e),r=Zm(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),uN(r)}function Wve(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Hve(e){if(!Wve(e)&&typeof e!="number")return!1;const t=Dc(e);return!isNaN(Number(t))}function Gve(e){const t=Dc(e),r=Zm(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Kve={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yve=(e,t,r)=>{let n;const a=Kve[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function V0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Xve={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qve={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zve={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jve={date:V0({formats:Xve,defaultWidth:"full"}),time:V0({formats:Qve,defaultWidth:"full"}),dateTime:V0({formats:Zve,defaultWidth:"full"})},e1e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},t1e=(e,t,r,n)=>e1e[e];function au(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const r1e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},n1e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},a1e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},i1e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},s1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},o1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},l1e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},c1e={ordinalNumber:l1e,era:au({values:r1e,defaultWidth:"wide"}),quarter:au({values:n1e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:au({values:a1e,defaultWidth:"wide"}),day:au({values:i1e,defaultWidth:"wide"}),dayPeriod:au({values:s1e,defaultWidth:"wide",formattingValues:o1e,defaultFormattingWidth:"wide"})};function iu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?d1e(l,f=>f.test(o)):u1e(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function u1e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function d1e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function SX(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const f1e=/^(\d+)(th|st|nd|rd)?/i,h1e=/\d+/i,m1e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},p1e={any:[/^b/i,/^(a|c)/i]},g1e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},x1e={any:[/1/i,/2/i,/3/i,/4/i]},v1e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},y1e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},b1e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},w1e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},j1e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},N1e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_1e={ordinalNumber:SX({matchPattern:f1e,parsePattern:h1e,valueCallback:e=>parseInt(e,10)}),era:iu({matchPatterns:m1e,defaultMatchWidth:"wide",parsePatterns:p1e,defaultParseWidth:"any"}),quarter:iu({matchPatterns:g1e,defaultMatchWidth:"wide",parsePatterns:x1e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:iu({matchPatterns:v1e,defaultMatchWidth:"wide",parsePatterns:y1e,defaultParseWidth:"any"}),day:iu({matchPatterns:b1e,defaultMatchWidth:"wide",parsePatterns:w1e,defaultParseWidth:"any"}),dayPeriod:iu({matchPatterns:j1e,defaultMatchWidth:"any",parsePatterns:N1e,defaultParseWidth:"any"})},S1e={code:"en-US",formatDistance:Yve,formatLong:Jve,formatRelative:t1e,localize:c1e,match:_1e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function A1e(e){const t=Dc(e);return Uve(t,Gve(t))+1}function C1e(e){const t=Dc(e),r=+uN(t)-+Vve(t);return Math.round(r/NX)+1}function AX(e,t){var d,f,h,m;const r=Dc(e),n=r.getFullYear(),a=L_(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Zm(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=py(o,t),c=Zm(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=py(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function E1e(e,t){var l,c,u,d;const r=L_(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=AX(e,t),s=Zm(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),py(s,t)}function P1e(e,t){const r=Dc(e),n=+py(r,t)-+E1e(r,t);return Math.round(n/NX)+1}function En(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const uf={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return En(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):En(r+1,2)},d(e,t){return En(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return En(e.getHours()%12||12,t.length)},H(e,t){return En(e.getHours(),t.length)},m(e,t){return En(e.getMinutes(),t.length)},s(e,t){return En(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return En(a,t.length)}},Hp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},SF={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return uf.y(e,t)},Y:function(e,t,r,n){const a=AX(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return En(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):En(s,t.length)},R:function(e,t){const r=_X(e);return En(r,t.length)},u:function(e,t){const r=e.getFullYear();return En(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return En(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return En(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return uf.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return En(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=P1e(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):En(a,t.length)},I:function(e,t,r){const n=C1e(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):En(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):uf.d(e,t)},D:function(e,t,r){const n=A1e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):En(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return En(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return En(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return En(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Hp.noon:n===0?a=Hp.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Hp.evening:n>=12?a=Hp.afternoon:n>=4?a=Hp.morning:a=Hp.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return uf.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):uf.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):En(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):En(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):uf.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):uf.s(e,t)},S:function(e,t){return uf.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return CF(n);case"XXXX":case"XX":return Jh(n);case"XXXXX":case"XXX":default:return Jh(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return CF(n);case"xxxx":case"xx":return Jh(n);case"xxxxx":case"xxx":default:return Jh(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+AF(n,":");case"OOOO":default:return"GMT"+Jh(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+AF(n,":");case"zzzz":default:return"GMT"+Jh(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return En(n,t.length)},T:function(e,t,r){const n=e.getTime();return En(n,t.length)}};function AF(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+En(s,2)}function CF(e,t){return e%60===0?(e>0?"-":"+")+En(Math.abs(e)/60,2):Jh(e,t)}function Jh(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=En(Math.trunc(n/60),2),s=En(n%60,2);return r+a+t+s}const EF=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},CX=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},k1e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return EF(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",EF(n,t)).replace("{{time}}",CX(a,t))},T1e={p:CX,P:k1e},O1e=/^D+$/,D1e=/^Y+$/,I1e=["D","DD","YY","YYYY"];function F1e(e){return O1e.test(e)}function R1e(e){return D1e.test(e)}function M1e(e,t,r){const n=L1e(e,t,r);if(console.warn(n),I1e.includes(e))throw new RangeError(n)}function L1e(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,B1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z1e=/^'([^]*?)'?$/,q1e=/''/g,U1e=/[a-zA-Z]/;function Ea(e,t,r){var d,f,h,m,g,p,x,v;const n=L_(),a=(r==null?void 0:r.locale)??n.locale??S1e,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((v=(x=n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,l=Dc(e);if(!Hve(l))throw new RangeError("Invalid time value");let c=t.match(B1e).map(y=>{const b=y[0];if(b==="p"||b==="P"){const j=T1e[b];return j(y,a.formatLong)}return y}).join("").match($1e).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:V1e(y)};if(SF[b])return{isToken:!0,value:y};if(b.match(U1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&R1e(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&F1e(b))&&M1e(b,t,String(e));const j=SF[b[0]];return j(l,b,a.localize,u)}).join("")}function V1e(e){const t=e.match(z1e);return t?t[1].replace(q1e,"'"):e}const W1e={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},H1e=(e,t,r)=>{let n;const a=W1e[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},G1e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},K1e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Y1e={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},X1e={date:V0({formats:G1e,defaultWidth:"full"}),time:V0({formats:K1e,defaultWidth:"full"}),dateTime:V0({formats:Y1e,defaultWidth:"full"})},Q1e={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Z1e=(e,t,r,n)=>{const a=Q1e[e];return typeof a=="function"?a(t):a},J1e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},eye={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},tye={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},rye={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},nye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},aye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},iye=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},sye={ordinalNumber:iye,era:au({values:J1e,defaultWidth:"wide"}),quarter:au({values:eye,defaultWidth:"wide",argumentCallback:e=>e-1}),month:au({values:tye,defaultWidth:"wide"}),day:au({values:rye,defaultWidth:"wide"}),dayPeriod:au({values:nye,defaultWidth:"wide",formattingValues:aye,defaultFormattingWidth:"wide"})},oye=/^(\d+)[o]?/i,lye=/\d+/i,cye={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},uye={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},dye={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},fye={any:[/1/i,/2/i,/3/i,/4/i]},hye={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},mye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},pye={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},gye={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},xye={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},vye={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},yye={ordinalNumber:SX({matchPattern:oye,parsePattern:lye,valueCallback:e=>parseInt(e,10)}),era:iu({matchPatterns:cye,defaultMatchWidth:"wide",parsePatterns:uye,defaultParseWidth:"any"}),quarter:iu({matchPatterns:dye,defaultMatchWidth:"wide",parsePatterns:fye,defaultParseWidth:"any",valueCallback:e=>e+1}),month:iu({matchPatterns:hye,defaultMatchWidth:"wide",parsePatterns:mye,defaultParseWidth:"any"}),day:iu({matchPatterns:pye,defaultMatchWidth:"wide",parsePatterns:gye,defaultParseWidth:"any"}),dayPeriod:iu({matchPatterns:xye,defaultMatchWidth:"any",parsePatterns:vye,defaultParseWidth:"any"})},Va={code:"pt-BR",formatDistance:H1e,formatLong:X1e,formatRelative:Z1e,localize:sye,match:yye,options:{weekStartsOn:0,firstWeekContainsDate:1}};var bye=Array.isArray,Eo=bye,wye=typeof k2=="object"&&k2&&k2.Object===Object&&k2,EX=wye,jye=EX,Nye=typeof self=="object"&&self&&self.Object===Object&&self,_ye=jye||Nye||Function("return this")(),Nu=_ye,Sye=Nu,Aye=Sye.Symbol,Db=Aye,PF=Db,PX=Object.prototype,Cye=PX.hasOwnProperty,Eye=PX.toString,Sv=PF?PF.toStringTag:void 0;function Pye(e){var t=Cye.call(e,Sv),r=e[Sv];try{e[Sv]=void 0;var n=!0}catch{}var a=Eye.call(e);return n&&(t?e[Sv]=r:delete e[Sv]),a}var kye=Pye,Tye=Object.prototype,Oye=Tye.toString;function Dye(e){return Oye.call(e)}var Iye=Dye,kF=Db,Fye=kye,Rye=Iye,Mye="[object Null]",Lye="[object Undefined]",TF=kF?kF.toStringTag:void 0;function $ye(e){return e==null?e===void 0?Lye:Mye:TF&&TF in Object(e)?Fye(e):Rye(e)}var Md=$ye;function Bye(e){return e!=null&&typeof e=="object"}var Ld=Bye,zye=Md,qye=Ld,Uye="[object Symbol]";function Vye(e){return typeof e=="symbol"||qye(e)&&zye(e)==Uye}var bx=Vye,Wye=Eo,Hye=bx,Gye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kye=/^\w*$/;function Yye(e,t){if(Wye(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Hye(e)?!0:Kye.test(e)||!Gye.test(e)||t!=null&&e in Object(t)}var dO=Yye;function Xye(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var bh=Xye;const wx=Nn(bh);var Qye=Md,Zye=bh,Jye="[object AsyncFunction]",ebe="[object Function]",tbe="[object GeneratorFunction]",rbe="[object Proxy]";function nbe(e){if(!Zye(e))return!1;var t=Qye(e);return t==ebe||t==tbe||t==Jye||t==rbe}var fO=nbe;const mr=Nn(fO);var abe=Nu,ibe=abe["__core-js_shared__"],sbe=ibe,wA=sbe,OF=function(){var e=/[^.]+$/.exec(wA&&wA.keys&&wA.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function obe(e){return!!OF&&OF in e}var lbe=obe,cbe=Function.prototype,ube=cbe.toString;function dbe(e){if(e!=null){try{return ube.call(e)}catch{}try{return e+""}catch{}}return""}var kX=dbe,fbe=fO,hbe=lbe,mbe=bh,pbe=kX,gbe=/[\\^$.*+?()[\]{}|]/g,xbe=/^\[object .+?Constructor\]$/,vbe=Function.prototype,ybe=Object.prototype,bbe=vbe.toString,wbe=ybe.hasOwnProperty,jbe=RegExp("^"+bbe.call(wbe).replace(gbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Nbe(e){if(!mbe(e)||hbe(e))return!1;var t=fbe(e)?jbe:xbe;return t.test(pbe(e))}var _be=Nbe;function Sbe(e,t){return e==null?void 0:e[t]}var Abe=Sbe,Cbe=_be,Ebe=Abe;function Pbe(e,t){var r=Ebe(e,t);return Cbe(r)?r:void 0}var xp=Pbe,kbe=xp,Tbe=kbe(Object,"create"),$_=Tbe,DF=$_;function Obe(){this.__data__=DF?DF(null):{},this.size=0}var Dbe=Obe;function Ibe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Fbe=Ibe,Rbe=$_,Mbe="__lodash_hash_undefined__",Lbe=Object.prototype,$be=Lbe.hasOwnProperty;function Bbe(e){var t=this.__data__;if(Rbe){var r=t[e];return r===Mbe?void 0:r}return $be.call(t,e)?t[e]:void 0}var zbe=Bbe,qbe=$_,Ube=Object.prototype,Vbe=Ube.hasOwnProperty;function Wbe(e){var t=this.__data__;return qbe?t[e]!==void 0:Vbe.call(t,e)}var Hbe=Wbe,Gbe=$_,Kbe="__lodash_hash_undefined__";function Ybe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Gbe&&t===void 0?Kbe:t,this}var Xbe=Ybe,Qbe=Dbe,Zbe=Fbe,Jbe=zbe,e2e=Hbe,t2e=Xbe;function jx(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jx.prototype.clear=Qbe;jx.prototype.delete=Zbe;jx.prototype.get=Jbe;jx.prototype.has=e2e;jx.prototype.set=t2e;var r2e=jx;function n2e(){this.__data__=[],this.size=0}var a2e=n2e;function i2e(e,t){return e===t||e!==e&&t!==t}var hO=i2e,s2e=hO;function o2e(e,t){for(var r=e.length;r--;)if(s2e(e[r][0],t))return r;return-1}var B_=o2e,l2e=B_,c2e=Array.prototype,u2e=c2e.splice;function d2e(e){var t=this.__data__,r=l2e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():u2e.call(t,r,1),--this.size,!0}var f2e=d2e,h2e=B_;function m2e(e){var t=this.__data__,r=h2e(t,e);return r<0?void 0:t[r][1]}var p2e=m2e,g2e=B_;function x2e(e){return g2e(this.__data__,e)>-1}var v2e=x2e,y2e=B_;function b2e(e,t){var r=this.__data__,n=y2e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var w2e=b2e,j2e=a2e,N2e=f2e,_2e=p2e,S2e=v2e,A2e=w2e;function Nx(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Nx.prototype.clear=j2e;Nx.prototype.delete=N2e;Nx.prototype.get=_2e;Nx.prototype.has=S2e;Nx.prototype.set=A2e;var z_=Nx,C2e=xp,E2e=Nu,P2e=C2e(E2e,"Map"),mO=P2e,IF=r2e,k2e=z_,T2e=mO;function O2e(){this.size=0,this.__data__={hash:new IF,map:new(T2e||k2e),string:new IF}}var D2e=O2e;function I2e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var F2e=I2e,R2e=F2e;function M2e(e,t){var r=e.__data__;return R2e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var q_=M2e,L2e=q_;function $2e(e){var t=L2e(this,e).delete(e);return this.size-=t?1:0,t}var B2e=$2e,z2e=q_;function q2e(e){return z2e(this,e).get(e)}var U2e=q2e,V2e=q_;function W2e(e){return V2e(this,e).has(e)}var H2e=W2e,G2e=q_;function K2e(e,t){var r=G2e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Y2e=K2e,X2e=D2e,Q2e=B2e,Z2e=U2e,J2e=H2e,ewe=Y2e;function _x(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_x.prototype.clear=X2e;_x.prototype.delete=Q2e;_x.prototype.get=Z2e;_x.prototype.has=J2e;_x.prototype.set=ewe;var pO=_x,TX=pO,twe="Expected a function";function gO(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(twe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(gO.Cache||TX),r}gO.Cache=TX;var OX=gO;const rwe=Nn(OX);var nwe=OX,awe=500;function iwe(e){var t=nwe(e,function(n){return r.size===awe&&r.clear(),n}),r=t.cache;return t}var swe=iwe,owe=swe,lwe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cwe=/\\(\\)?/g,uwe=owe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(lwe,function(r,n,a,s){t.push(a?s.replace(cwe,"$1"):n||r)}),t}),dwe=uwe;function fwe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var xO=fwe,FF=Db,hwe=xO,mwe=Eo,pwe=bx,RF=FF?FF.prototype:void 0,MF=RF?RF.toString:void 0;function DX(e){if(typeof e=="string")return e;if(mwe(e))return hwe(e,DX)+"";if(pwe(e))return MF?MF.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var gwe=DX,xwe=gwe;function vwe(e){return e==null?"":xwe(e)}var IX=vwe,ywe=Eo,bwe=dO,wwe=dwe,jwe=IX;function Nwe(e,t){return ywe(e)?e:bwe(e,t)?[e]:wwe(jwe(e))}var FX=Nwe,_we=bx;function Swe(e){if(typeof e=="string"||_we(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var U_=Swe,Awe=FX,Cwe=U_;function Ewe(e,t){t=Awe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Cwe(t[r++])];return r&&r==n?e:void 0}var vO=Ewe,Pwe=vO;function kwe(e,t,r){var n=e==null?void 0:Pwe(e,t);return n===void 0?r:n}var RX=kwe;const cl=Nn(RX);function Twe(e){return e==null}var Owe=Twe;const Or=Nn(Owe);var Dwe=Md,Iwe=Eo,Fwe=Ld,Rwe="[object String]";function Mwe(e){return typeof e=="string"||!Iwe(e)&&Fwe(e)&&Dwe(e)==Rwe}var Lwe=Mwe;const Ib=Nn(Lwe);var MX={exports:{}},In={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yO=Symbol.for("react.element"),bO=Symbol.for("react.portal"),V_=Symbol.for("react.fragment"),W_=Symbol.for("react.strict_mode"),H_=Symbol.for("react.profiler"),G_=Symbol.for("react.provider"),K_=Symbol.for("react.context"),$we=Symbol.for("react.server_context"),Y_=Symbol.for("react.forward_ref"),X_=Symbol.for("react.suspense"),Q_=Symbol.for("react.suspense_list"),Z_=Symbol.for("react.memo"),J_=Symbol.for("react.lazy"),Bwe=Symbol.for("react.offscreen"),LX;LX=Symbol.for("react.module.reference");function Wl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yO:switch(e=e.type,e){case V_:case H_:case W_:case X_:case Q_:return e;default:switch(e=e&&e.$$typeof,e){case $we:case K_:case Y_:case J_:case Z_:case G_:return e;default:return t}}case bO:return t}}}In.ContextConsumer=K_;In.ContextProvider=G_;In.Element=yO;In.ForwardRef=Y_;In.Fragment=V_;In.Lazy=J_;In.Memo=Z_;In.Portal=bO;In.Profiler=H_;In.StrictMode=W_;In.Suspense=X_;In.SuspenseList=Q_;In.isAsyncMode=function(){return!1};In.isConcurrentMode=function(){return!1};In.isContextConsumer=function(e){return Wl(e)===K_};In.isContextProvider=function(e){return Wl(e)===G_};In.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yO};In.isForwardRef=function(e){return Wl(e)===Y_};In.isFragment=function(e){return Wl(e)===V_};In.isLazy=function(e){return Wl(e)===J_};In.isMemo=function(e){return Wl(e)===Z_};In.isPortal=function(e){return Wl(e)===bO};In.isProfiler=function(e){return Wl(e)===H_};In.isStrictMode=function(e){return Wl(e)===W_};In.isSuspense=function(e){return Wl(e)===X_};In.isSuspenseList=function(e){return Wl(e)===Q_};In.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===V_||e===H_||e===W_||e===X_||e===Q_||e===Bwe||typeof e=="object"&&e!==null&&(e.$$typeof===J_||e.$$typeof===Z_||e.$$typeof===G_||e.$$typeof===K_||e.$$typeof===Y_||e.$$typeof===LX||e.getModuleId!==void 0)};In.typeOf=Wl;MX.exports=In;var zwe=MX.exports,qwe=Md,Uwe=Ld,Vwe="[object Number]";function Wwe(e){return typeof e=="number"||Uwe(e)&&qwe(e)==Vwe}var $X=Wwe;const Hwe=Nn($X);var Gwe=$X;function Kwe(e){return Gwe(e)&&e!=+e}var Ywe=Kwe;const Sx=Nn(Ywe);var Xs=function(t){return t===0?0:t>0?1:-1},pm=function(t){return Ib(t)&&t.indexOf("%")===t.length-1},At=function(t){return Hwe(t)&&!Sx(t)},Ai=function(t){return At(t)||Ib(t)},Xwe=0,vp=function(t){var r=++Xwe;return"".concat(t||"").concat(r)},Qs=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!At(t)&&!Ib(t))return n;var s;if(pm(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Sx(s)&&(s=n),a&&s>r&&(s=r),s},Nf=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Qwe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ni=function(t,r){return At(t)&&At(r)?function(n){return t+n*(r-t)}:function(){return r}};function dN(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):cl(n,t))===r})}function W0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function vE(e){"@babel/helpers - typeof";return vE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vE(e)}var Zwe=["viewBox","children"],Jwe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],LF=["points","pathLength"],jA={svg:Zwe,polygon:LF,polyline:LF},wO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fN=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),!wx(n))return null;var a={};return Object.keys(n).forEach(function(s){wO.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},eje=function(t,r,n){return function(a){return t(r,n,a),null}},Jm=function(t,r,n){if(!wx(t)||vE(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];wO.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=eje(o,r,n))}),a},tje=["children"],rje=["children"];function $F(e,t){if(e==null)return{};var r=nje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yE(e){"@babel/helpers - typeof";return yE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yE(e)}var BF={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fd=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},zF=null,NA=null,jO=function e(t){if(t===zF&&Array.isArray(NA))return NA;var r=[];return N.Children.forEach(t,function(n){Or(n)||(zwe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),NA=r,zF=t,r};function ul(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return fd(a)}):n=[fd(t)],jO(e).forEach(function(a){var s=cl(a,"type.displayName")||cl(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Wo(e,t){var r=ul(e,t);return r&&r[0]}var qF=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!At(n)||n<=0||!At(a)||a<=0)},aje=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ije=function(t){return t&&t.type&&Ib(t.type)&&aje.indexOf(t.type)>=0},BX=function(t){return t&&yE(t)==="object"&&"clipDot"in t},sje=function(t,r,n,a){var s,o=(s=jA==null?void 0:jA[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!mr(t)&&(a&&o.includes(r)||Jwe.includes(r))||n&&wO.includes(r)},or=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(N.isValidElement(t)&&(a=t.props),!wx(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;sje((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},bE=function e(t,r){if(t===r)return!0;var n=N.Children.count(t);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return UF(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!UF(s,o))return!1}return!0},UF=function(t,r){if(Or(t)&&Or(r))return!0;if(!Or(t)&&!Or(r)){var n=t.props||{},a=n.children,s=$F(n,tje),o=r.props||{},l=o.children,c=$F(o,rje);return a&&l?W0(s,c)&&bE(a,l):!a&&!l?W0(s,c):!1}return!1},VF=function(t,r){var n=[],a={};return jO(t).forEach(function(s,o){if(ije(s))n.push(s);else if(s){var l=fd(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},oje=function(t){var r=t&&t.type;return r&&BF[r]?BF[r]:null},lje=function(t,r){return jO(r).indexOf(t)},cje=["children","width","height","viewBox","className","style","title","desc"];function wE(){return wE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wE.apply(this,arguments)}function uje(e,t){if(e==null)return{};var r=dje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jE(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=uje(e,cje),d=a||{width:r,height:n,x:0,y:0},f=Rr("recharts-surface",s);return he.createElement("svg",wE({},or(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),he.createElement("title",null,l),he.createElement("desc",null,c),t)}var fje=["children","className"];function NE(){return NE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NE.apply(this,arguments)}function hje(e,t){if(e==null)return{};var r=mje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Yr=he.forwardRef(function(e,t){var r=e.children,n=e.className,a=hje(e,fje),s=Rr("recharts-layer",n);return he.createElement("g",NE({className:s},or(a,!0),{ref:t}),r)}),_c=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function pje(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var gje=pje,xje=gje;function vje(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:xje(e,t,r)}var yje=vje,bje="\\ud800-\\udfff",wje="\\u0300-\\u036f",jje="\\ufe20-\\ufe2f",Nje="\\u20d0-\\u20ff",_je=wje+jje+Nje,Sje="\\ufe0e\\ufe0f",Aje="\\u200d",Cje=RegExp("["+Aje+bje+_je+Sje+"]");function Eje(e){return Cje.test(e)}var zX=Eje;function Pje(e){return e.split("")}var kje=Pje,qX="\\ud800-\\udfff",Tje="\\u0300-\\u036f",Oje="\\ufe20-\\ufe2f",Dje="\\u20d0-\\u20ff",Ije=Tje+Oje+Dje,Fje="\\ufe0e\\ufe0f",Rje="["+qX+"]",_E="["+Ije+"]",SE="\\ud83c[\\udffb-\\udfff]",Mje="(?:"+_E+"|"+SE+")",UX="[^"+qX+"]",VX="(?:\\ud83c[\\udde6-\\uddff]){2}",WX="[\\ud800-\\udbff][\\udc00-\\udfff]",Lje="\\u200d",HX=Mje+"?",GX="["+Fje+"]?",$je="(?:"+Lje+"(?:"+[UX,VX,WX].join("|")+")"+GX+HX+")*",Bje=GX+HX+$je,zje="(?:"+[UX+_E+"?",_E,VX,WX,Rje].join("|")+")",qje=RegExp(SE+"(?="+SE+")|"+zje+Bje,"g");function Uje(e){return e.match(qje)||[]}var Vje=Uje,Wje=kje,Hje=zX,Gje=Vje;function Kje(e){return Hje(e)?Gje(e):Wje(e)}var Yje=Kje,Xje=yje,Qje=zX,Zje=Yje,Jje=IX;function eNe(e){return function(t){t=Jje(t);var r=Qje(t)?Zje(t):void 0,n=r?r[0]:t.charAt(0),a=r?Xje(r,1).join(""):t.slice(1);return n[e]()+a}}var tNe=eNe,rNe=tNe,nNe=rNe("toUpperCase"),aNe=nNe;const eS=Nn(aNe);function Kn(e){return function(){return e}}const KX=Math.cos,hN=Math.sin,Ic=Math.sqrt,mN=Math.PI,tS=2*mN,AE=Math.PI,CE=2*AE,em=1e-6,iNe=CE-em;function YX(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function sNe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return YX;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class oNe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YX:sNe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>em)if(!(Math.abs(f*c-u*d)>em)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,p=c*c+u*u,x=m*m+g*g,v=Math.sqrt(p),y=Math.sqrt(h),b=s*Math.tan((AE-Math.acos((p+h-x)/(2*v*y)))/2),j=b/y,_=b/v;Math.abs(j-1)>em&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>em||Math.abs(this._y1-d)>em)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%CE+CE),h>iNe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>em&&this._append`A${n},${n},0,${+(h>=AE)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function NO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new oNe(t)}function _O(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function XX(e){this._context=e}XX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rS(e){return new XX(e)}function QX(e){return e[0]}function ZX(e){return e[1]}function JX(e,t){var r=Kn(!0),n=null,a=rS,s=null,o=NO(l);e=typeof e=="function"?e:e===void 0?QX:Kn(e),t=typeof t=="function"?t:t===void 0?ZX:Kn(t);function l(c){var u,d=(c=_O(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Kn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Kn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Kn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function rw(e,t,r){var n=null,a=Kn(!0),s=null,o=rS,l=null,c=NO(u);e=typeof e=="function"?e:e===void 0?QX:Kn(+e),t=typeof t=="function"?t:Kn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ZX:Kn(+r);function u(f){var h,m,g,p=(f=_O(f)).length,x,v=!1,y,b=new Array(p),j=new Array(p);for(s==null&&(l=o(y=c())),h=0;h<=p;++h){if(!(h<p&&a(x=f[h],h,f))===v)if(v=!v)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(b[g],j[g]);l.lineEnd(),l.areaEnd()}v&&(b[h]=+e(x,h,f),j[h]=+t(x,h,f),l.point(n?+n(x,h,f):b[h],r?+r(x,h,f):j[h]))}if(y)return l=null,y+""||null}function d(){return JX().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Kn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Kn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Kn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Kn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Kn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Kn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Kn(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class eQ{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function lNe(e){return new eQ(e,!0)}function cNe(e){return new eQ(e,!1)}const SO={draw(e,t){const r=Ic(t/mN);e.moveTo(r,0),e.arc(0,0,r,0,tS)}},uNe={draw(e,t){const r=Ic(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},tQ=Ic(1/3),dNe=tQ*2,fNe={draw(e,t){const r=Ic(t/dNe),n=r*tQ;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},hNe={draw(e,t){const r=Ic(t),n=-r/2;e.rect(n,n,r,r)}},mNe=.8908130915292852,rQ=hN(mN/10)/hN(7*mN/10),pNe=hN(tS/10)*rQ,gNe=-KX(tS/10)*rQ,xNe={draw(e,t){const r=Ic(t*mNe),n=pNe*r,a=gNe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=tS*s/5,l=KX(o),c=hN(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},_A=Ic(3),vNe={draw(e,t){const r=-Ic(t/(_A*3));e.moveTo(0,r*2),e.lineTo(-_A*r,-r),e.lineTo(_A*r,-r),e.closePath()}},Nl=-.5,_l=Ic(3)/2,EE=1/Ic(12),yNe=(EE/2+1)*3,bNe={draw(e,t){const r=Ic(t/yNe),n=r/2,a=r*EE,s=n,o=r*EE+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Nl*n-_l*a,_l*n+Nl*a),e.lineTo(Nl*s-_l*o,_l*s+Nl*o),e.lineTo(Nl*l-_l*c,_l*l+Nl*c),e.lineTo(Nl*n+_l*a,Nl*a-_l*n),e.lineTo(Nl*s+_l*o,Nl*o-_l*s),e.lineTo(Nl*l+_l*c,Nl*c-_l*l),e.closePath()}};function wNe(e,t){let r=null,n=NO(a);e=typeof e=="function"?e:Kn(e||SO),t=typeof t=="function"?t:Kn(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Kn(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Kn(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function pN(){}function gN(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function nQ(e){this._context=e}nQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jNe(e){return new nQ(e)}function aQ(e){this._context=e}aQ.prototype={areaStart:pN,areaEnd:pN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:gN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NNe(e){return new aQ(e)}function iQ(e){this._context=e}iQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:gN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _Ne(e){return new iQ(e)}function sQ(e){this._context=e}sQ.prototype={areaStart:pN,areaEnd:pN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function SNe(e){return new sQ(e)}function WF(e){return e<0?-1:1}function HF(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(WF(s)+WF(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function GF(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function SA(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function xN(e){this._context=e}xN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:SA(this,this._t0,GF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,SA(this,GF(this,r=HF(this,e,t)),r);break;default:SA(this,this._t0,r=HF(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function oQ(e){this._context=new lQ(e)}(oQ.prototype=Object.create(xN.prototype)).point=function(e,t){xN.prototype.point.call(this,t,e)};function lQ(e){this._context=e}lQ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function ANe(e){return new xN(e)}function CNe(e){return new oQ(e)}function cQ(e){this._context=e}cQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=KF(e),a=KF(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function KF(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function ENe(e){return new cQ(e)}function nS(e,t){this._context=e,this._t=t}nS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function PNe(e){return new nS(e,.5)}function kNe(e){return new nS(e,0)}function TNe(e){return new nS(e,1)}function Og(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function PE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ONe(e,t){return e[t]}function DNe(e){const t=[];return t.key=e,t}function INe(){var e=Kn([]),t=PE,r=Og,n=ONe;function a(s){var o=Array.from(e.apply(this,arguments),DNe),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=_O(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Kn(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Kn(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?PE:typeof s=="function"?s:Kn(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Og,a):r},a}function FNe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Og(e,t)}}function RNe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Og(e,t)}}function MNe(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],x=p[n][1]||0,v=p[n-1][1]||0;m+=x-v}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Og(e,t)}}function gy(e){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}var LNe=["type","size","sizeType"];function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kE.apply(this,arguments)}function YF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YF(Object(r),!0).forEach(function(n){$Ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ne(e,t,r){return t=BNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BNe(e){var t=zNe(e,"string");return gy(t)=="symbol"?t:t+""}function zNe(e,t){if(gy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qNe(e,t){if(e==null)return{};var r=UNe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var uQ={symbolCircle:SO,symbolCross:uNe,symbolDiamond:fNe,symbolSquare:hNe,symbolStar:xNe,symbolTriangle:vNe,symbolWye:bNe},VNe=Math.PI/180,WNe=function(t){var r="symbol".concat(eS(t));return uQ[r]||SO},HNe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*VNe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},GNe=function(t,r){uQ["symbol".concat(eS(t))]=r},AO=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=qNe(t,LNe),u=XF(XF({},c),{},{type:n,size:s,sizeType:l}),d=function(){var x=WNe(n),v=wNe().type(x).size(HNe(s,l,n));return v()},f=u.className,h=u.cx,m=u.cy,g=or(u,!0);return h===+h&&m===+m&&s===+s?he.createElement("path",kE({},g,{className:Rr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};AO.registerSymbol=GNe;function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TE.apply(this,arguments)}function QF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QF(Object(r),!0).forEach(function(n){xy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fQ(n.key),n)}}function QNe(e,t,r){return t&&XNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZNe(e,t,r){return t=vN(t),JNe(e,dQ()?Reflect.construct(t,r||[],vN(e).constructor):t.apply(e,r))}function JNe(e,t){if(t&&(Dg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e5e(e)}function e5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dQ=function(){return!!e})()}function vN(e){return vN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vN(e)}function t5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OE(e,t)}function OE(e,t){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OE(e,t)}function xy(e,t,r){return t=fQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fQ(e){var t=r5e(e,"string");return Dg(t)=="symbol"?t:t+""}function r5e(e,t){if(Dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sl=32,CO=function(e){function t(){return YNe(this,t),ZNe(this,t,arguments)}return t5e(t,e),QNe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Sl/2,o=Sl/6,l=Sl/3,c=n.inactive?a:n.color;if(n.type==="plainline")return he.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Sl,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return he.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Sl,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return he.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Sl/8,"h").concat(Sl,"v").concat(Sl*3/4,"h").concat(-Sl,"z"),className:"recharts-legend-icon"});if(he.isValidElement(n.legendIcon)){var u=KNe({},n);return delete u.legendIcon,he.cloneElement(n.legendIcon,u)}return he.createElement(AO,{fill:c,cx:s,cy:s,size:Sl,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Sl,height:Sl},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,g){var p=m.formatter||c,x=Rr(xy(xy({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=mr(m.value)?null:m.value;_c(!mr(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return he.createElement("li",TE({className:x,style:f,key:"legend-item-".concat(g)},Jm(n.props,m,g)),he.createElement(jE,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),he.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(v,m,g):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return he.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(N.PureComponent);xy(CO,"displayName","Legend");xy(CO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var n5e=z_;function a5e(){this.__data__=new n5e,this.size=0}var i5e=a5e;function s5e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var o5e=s5e;function l5e(e){return this.__data__.get(e)}var c5e=l5e;function u5e(e){return this.__data__.has(e)}var d5e=u5e,f5e=z_,h5e=mO,m5e=pO,p5e=200;function g5e(e,t){var r=this.__data__;if(r instanceof f5e){var n=r.__data__;if(!h5e||n.length<p5e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new m5e(n)}return r.set(e,t),this.size=r.size,this}var x5e=g5e,v5e=z_,y5e=i5e,b5e=o5e,w5e=c5e,j5e=d5e,N5e=x5e;function Ax(e){var t=this.__data__=new v5e(e);this.size=t.size}Ax.prototype.clear=y5e;Ax.prototype.delete=b5e;Ax.prototype.get=w5e;Ax.prototype.has=j5e;Ax.prototype.set=N5e;var hQ=Ax,_5e="__lodash_hash_undefined__";function S5e(e){return this.__data__.set(e,_5e),this}var A5e=S5e;function C5e(e){return this.__data__.has(e)}var E5e=C5e,P5e=pO,k5e=A5e,T5e=E5e;function yN(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new P5e;++t<r;)this.add(e[t])}yN.prototype.add=yN.prototype.push=k5e;yN.prototype.has=T5e;var mQ=yN;function O5e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var pQ=O5e;function D5e(e,t){return e.has(t)}var gQ=D5e,I5e=mQ,F5e=pQ,R5e=gQ,M5e=1,L5e=2;function $5e(e,t,r,n,a,s){var o=r&M5e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&L5e?new I5e:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var x=o?n(p,g,f,t,e,s):n(g,p,f,e,t,s);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!F5e(t,function(v,y){if(!R5e(m,y)&&(g===v||a(g,v,r,n,s)))return m.push(y)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var xQ=$5e,B5e=Nu,z5e=B5e.Uint8Array,q5e=z5e;function U5e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var V5e=U5e;function W5e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var EO=W5e,ZF=Db,JF=q5e,H5e=hO,G5e=xQ,K5e=V5e,Y5e=EO,X5e=1,Q5e=2,Z5e="[object Boolean]",J5e="[object Date]",e_e="[object Error]",t_e="[object Map]",r_e="[object Number]",n_e="[object RegExp]",a_e="[object Set]",i_e="[object String]",s_e="[object Symbol]",o_e="[object ArrayBuffer]",l_e="[object DataView]",eR=ZF?ZF.prototype:void 0,AA=eR?eR.valueOf:void 0;function c_e(e,t,r,n,a,s,o){switch(r){case l_e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case o_e:return!(e.byteLength!=t.byteLength||!s(new JF(e),new JF(t)));case Z5e:case J5e:case r_e:return H5e(+e,+t);case e_e:return e.name==t.name&&e.message==t.message;case n_e:case i_e:return e==t+"";case t_e:var l=K5e;case a_e:var c=n&X5e;if(l||(l=Y5e),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Q5e,o.set(e,t);var d=G5e(l(e),l(t),n,a,s,o);return o.delete(e),d;case s_e:if(AA)return AA.call(e)==AA.call(t)}return!1}var u_e=c_e;function d_e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var vQ=d_e,f_e=vQ,h_e=Eo;function m_e(e,t,r){var n=t(e);return h_e(e)?n:f_e(n,r(e))}var p_e=m_e;function g_e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var x_e=g_e;function v_e(){return[]}var y_e=v_e,b_e=x_e,w_e=y_e,j_e=Object.prototype,N_e=j_e.propertyIsEnumerable,tR=Object.getOwnPropertySymbols,__e=tR?function(e){return e==null?[]:(e=Object(e),b_e(tR(e),function(t){return N_e.call(e,t)}))}:w_e,S_e=__e;function A_e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var C_e=A_e,E_e=Md,P_e=Ld,k_e="[object Arguments]";function T_e(e){return P_e(e)&&E_e(e)==k_e}var O_e=T_e,rR=O_e,D_e=Ld,yQ=Object.prototype,I_e=yQ.hasOwnProperty,F_e=yQ.propertyIsEnumerable,R_e=rR(function(){return arguments}())?rR:function(e){return D_e(e)&&I_e.call(e,"callee")&&!F_e.call(e,"callee")},PO=R_e,bN={exports:{}};function M_e(){return!1}var L_e=M_e;bN.exports;(function(e,t){var r=Nu,n=L_e,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(bN,bN.exports);var bQ=bN.exports,$_e=9007199254740991,B_e=/^(?:0|[1-9]\d*)$/;function z_e(e,t){var r=typeof e;return t=t??$_e,!!t&&(r=="number"||r!="symbol"&&B_e.test(e))&&e>-1&&e%1==0&&e<t}var kO=z_e,q_e=9007199254740991;function U_e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=q_e}var TO=U_e,V_e=Md,W_e=TO,H_e=Ld,G_e="[object Arguments]",K_e="[object Array]",Y_e="[object Boolean]",X_e="[object Date]",Q_e="[object Error]",Z_e="[object Function]",J_e="[object Map]",eSe="[object Number]",tSe="[object Object]",rSe="[object RegExp]",nSe="[object Set]",aSe="[object String]",iSe="[object WeakMap]",sSe="[object ArrayBuffer]",oSe="[object DataView]",lSe="[object Float32Array]",cSe="[object Float64Array]",uSe="[object Int8Array]",dSe="[object Int16Array]",fSe="[object Int32Array]",hSe="[object Uint8Array]",mSe="[object Uint8ClampedArray]",pSe="[object Uint16Array]",gSe="[object Uint32Array]",ea={};ea[lSe]=ea[cSe]=ea[uSe]=ea[dSe]=ea[fSe]=ea[hSe]=ea[mSe]=ea[pSe]=ea[gSe]=!0;ea[G_e]=ea[K_e]=ea[sSe]=ea[Y_e]=ea[oSe]=ea[X_e]=ea[Q_e]=ea[Z_e]=ea[J_e]=ea[eSe]=ea[tSe]=ea[rSe]=ea[nSe]=ea[aSe]=ea[iSe]=!1;function xSe(e){return H_e(e)&&W_e(e.length)&&!!ea[V_e(e)]}var vSe=xSe;function ySe(e){return function(t){return e(t)}}var wQ=ySe,wN={exports:{}};wN.exports;(function(e,t){var r=EX,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(wN,wN.exports);var bSe=wN.exports,wSe=vSe,jSe=wQ,nR=bSe,aR=nR&&nR.isTypedArray,NSe=aR?jSe(aR):wSe,jQ=NSe,_Se=C_e,SSe=PO,ASe=Eo,CSe=bQ,ESe=kO,PSe=jQ,kSe=Object.prototype,TSe=kSe.hasOwnProperty;function OSe(e,t){var r=ASe(e),n=!r&&SSe(e),a=!r&&!n&&CSe(e),s=!r&&!n&&!a&&PSe(e),o=r||n||a||s,l=o?_Se(e.length,String):[],c=l.length;for(var u in e)(t||TSe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ESe(u,c)))&&l.push(u);return l}var DSe=OSe,ISe=Object.prototype;function FSe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ISe;return e===r}var RSe=FSe;function MSe(e,t){return function(r){return e(t(r))}}var NQ=MSe,LSe=NQ,$Se=LSe(Object.keys,Object),BSe=$Se,zSe=RSe,qSe=BSe,USe=Object.prototype,VSe=USe.hasOwnProperty;function WSe(e){if(!zSe(e))return qSe(e);var t=[];for(var r in Object(e))VSe.call(e,r)&&r!="constructor"&&t.push(r);return t}var HSe=WSe,GSe=fO,KSe=TO;function YSe(e){return e!=null&&KSe(e.length)&&!GSe(e)}var Fb=YSe,XSe=DSe,QSe=HSe,ZSe=Fb;function JSe(e){return ZSe(e)?XSe(e):QSe(e)}var aS=JSe,e4e=p_e,t4e=S_e,r4e=aS;function n4e(e){return e4e(e,r4e,t4e)}var a4e=n4e,iR=a4e,i4e=1,s4e=Object.prototype,o4e=s4e.hasOwnProperty;function l4e(e,t,r,n,a,s){var o=r&i4e,l=iR(e),c=l.length,u=iR(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:o4e.call(t,h)))return!1}var m=s.get(e),g=s.get(t);if(m&&g)return m==t&&g==e;var p=!0;s.set(e,t),s.set(t,e);for(var x=o;++f<c;){h=l[f];var v=e[h],y=t[h];if(n)var b=o?n(y,v,h,t,e,s):n(v,y,h,e,t,s);if(!(b===void 0?v===y||a(v,y,r,n,s):b)){p=!1;break}x||(x=h=="constructor")}if(p&&!x){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return s.delete(e),s.delete(t),p}var c4e=l4e,u4e=xp,d4e=Nu,f4e=u4e(d4e,"DataView"),h4e=f4e,m4e=xp,p4e=Nu,g4e=m4e(p4e,"Promise"),x4e=g4e,v4e=xp,y4e=Nu,b4e=v4e(y4e,"Set"),_Q=b4e,w4e=xp,j4e=Nu,N4e=w4e(j4e,"WeakMap"),_4e=N4e,DE=h4e,IE=mO,FE=x4e,RE=_Q,ME=_4e,SQ=Md,Cx=kX,sR="[object Map]",S4e="[object Object]",oR="[object Promise]",lR="[object Set]",cR="[object WeakMap]",uR="[object DataView]",A4e=Cx(DE),C4e=Cx(IE),E4e=Cx(FE),P4e=Cx(RE),k4e=Cx(ME),tm=SQ;(DE&&tm(new DE(new ArrayBuffer(1)))!=uR||IE&&tm(new IE)!=sR||FE&&tm(FE.resolve())!=oR||RE&&tm(new RE)!=lR||ME&&tm(new ME)!=cR)&&(tm=function(e){var t=SQ(e),r=t==S4e?e.constructor:void 0,n=r?Cx(r):"";if(n)switch(n){case A4e:return uR;case C4e:return sR;case E4e:return oR;case P4e:return lR;case k4e:return cR}return t});var T4e=tm,CA=hQ,O4e=xQ,D4e=u_e,I4e=c4e,dR=T4e,fR=Eo,hR=bQ,F4e=jQ,R4e=1,mR="[object Arguments]",pR="[object Array]",nw="[object Object]",M4e=Object.prototype,gR=M4e.hasOwnProperty;function L4e(e,t,r,n,a,s){var o=fR(e),l=fR(t),c=o?pR:dR(e),u=l?pR:dR(t);c=c==mR?nw:c,u=u==mR?nw:u;var d=c==nw,f=u==nw,h=c==u;if(h&&hR(e)){if(!hR(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new CA),o||F4e(e)?O4e(e,t,r,n,a,s):D4e(e,t,c,r,n,a,s);if(!(r&R4e)){var m=d&&gR.call(e,"__wrapped__"),g=f&&gR.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,x=g?t.value():t;return s||(s=new CA),a(p,x,r,n,s)}}return h?(s||(s=new CA),I4e(e,t,r,n,a,s)):!1}var $4e=L4e,B4e=$4e,xR=Ld;function AQ(e,t,r,n,a){return e===t?!0:e==null||t==null||!xR(e)&&!xR(t)?e!==e&&t!==t:B4e(e,t,r,n,AQ,a)}var OO=AQ,z4e=hQ,q4e=OO,U4e=1,V4e=2;function W4e(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new z4e;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?q4e(d,u,U4e|V4e,n,f):h))return!1}}return!0}var H4e=W4e,G4e=bh;function K4e(e){return e===e&&!G4e(e)}var CQ=K4e,Y4e=CQ,X4e=aS;function Q4e(e){for(var t=X4e(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Y4e(a)]}return t}var Z4e=Q4e;function J4e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var EQ=J4e,eAe=H4e,tAe=Z4e,rAe=EQ;function nAe(e){var t=tAe(e);return t.length==1&&t[0][2]?rAe(t[0][0],t[0][1]):function(r){return r===e||eAe(r,e,t)}}var aAe=nAe;function iAe(e,t){return e!=null&&t in Object(e)}var sAe=iAe,oAe=FX,lAe=PO,cAe=Eo,uAe=kO,dAe=TO,fAe=U_;function hAe(e,t,r){t=oAe(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=fAe(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&dAe(a)&&uAe(o,a)&&(cAe(e)||lAe(e)))}var mAe=hAe,pAe=sAe,gAe=mAe;function xAe(e,t){return e!=null&&gAe(e,t,pAe)}var vAe=xAe,yAe=OO,bAe=RX,wAe=vAe,jAe=dO,NAe=CQ,_Ae=EQ,SAe=U_,AAe=1,CAe=2;function EAe(e,t){return jAe(e)&&NAe(t)?_Ae(SAe(e),t):function(r){var n=bAe(r,e);return n===void 0&&n===t?wAe(r,e):yAe(t,n,AAe|CAe)}}var PAe=EAe;function kAe(e){return e}var Ex=kAe;function TAe(e){return function(t){return t==null?void 0:t[e]}}var OAe=TAe,DAe=vO;function IAe(e){return function(t){return DAe(t,e)}}var FAe=IAe,RAe=OAe,MAe=FAe,LAe=dO,$Ae=U_;function BAe(e){return LAe(e)?RAe($Ae(e)):MAe(e)}var zAe=BAe,qAe=aAe,UAe=PAe,VAe=Ex,WAe=Eo,HAe=zAe;function GAe(e){return typeof e=="function"?e:e==null?VAe:typeof e=="object"?WAe(e)?UAe(e[0],e[1]):qAe(e):HAe(e)}var _u=GAe;function KAe(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var PQ=KAe;function YAe(e){return e!==e}var XAe=YAe;function QAe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var ZAe=QAe,JAe=PQ,e3e=XAe,t3e=ZAe;function r3e(e,t,r){return t===t?t3e(e,t,r):JAe(e,e3e,r)}var n3e=r3e,a3e=n3e;function i3e(e,t){var r=e==null?0:e.length;return!!r&&a3e(e,t,0)>-1}var s3e=i3e;function o3e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var l3e=o3e;function c3e(){}var u3e=c3e,EA=_Q,d3e=u3e,f3e=EO,h3e=1/0,m3e=EA&&1/f3e(new EA([,-0]))[1]==h3e?function(e){return new EA(e)}:d3e,p3e=m3e,g3e=mQ,x3e=s3e,v3e=l3e,y3e=gQ,b3e=p3e,w3e=EO,j3e=200;function N3e(e,t,r){var n=-1,a=x3e,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=v3e;else if(s>=j3e){var u=t?null:b3e(e);if(u)return w3e(u);o=!1,a=y3e,c=new g3e}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var _3e=N3e,S3e=_u,A3e=_3e;function C3e(e,t){return e&&e.length?A3e(e,S3e(t)):[]}var E3e=C3e;const vR=Nn(E3e);function kQ(e,t,r){return t===!0?vR(e,r):mr(t)?vR(e,t):e}function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}var P3e=["ref"];function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){iS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OQ(n.key),n)}}function T3e(e,t,r){return t&&bR(e.prototype,t),r&&bR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O3e(e,t,r){return t=jN(t),D3e(e,TQ()?Reflect.construct(t,r||[],jN(e).constructor):t.apply(e,r))}function D3e(e,t){if(t&&(Ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I3e(e)}function I3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TQ=function(){return!!e})()}function jN(e){return jN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jN(e)}function F3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LE(e,t)}function LE(e,t){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LE(e,t)}function iS(e,t,r){return t=OQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OQ(e){var t=R3e(e,"string");return Ig(t)=="symbol"?t:t+""}function R3e(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function M3e(e,t){if(e==null)return{};var r=L3e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $3e(e){return e.value}function B3e(e,t){if(he.isValidElement(e))return he.cloneElement(e,t);if(typeof e=="function")return he.createElement(e,t);t.ref;var r=M3e(t,P3e);return he.createElement(CO,r)}var wR=1,hd=function(e){function t(){var r;k3e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=O3e(this,t,[].concat(a)),iS(r,"lastBoundingBox",{width:-1,height:-1}),r}return F3e(t,e),T3e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>wR||Math.abs(a.height-this.lastBoundingBox.height)>wR)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Bu(Bu({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Bu(Bu({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return he.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},B3e(s,Bu(Bu({},this.props),{},{payload:kQ(d,u,$3e)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Bu(Bu({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&At(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(N.PureComponent);iS(hd,"displayName","Legend");iS(hd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var jR=Db,z3e=PO,q3e=Eo,NR=jR?jR.isConcatSpreadable:void 0;function U3e(e){return q3e(e)||z3e(e)||!!(NR&&e&&e[NR])}var V3e=U3e,W3e=vQ,H3e=V3e;function DQ(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=H3e),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?DQ(l,t-1,r,n,a):W3e(a,l):n||(a[a.length]=l)}return a}var IQ=DQ;function G3e(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var K3e=G3e,Y3e=K3e,X3e=Y3e(),Q3e=X3e,Z3e=Q3e,J3e=aS;function eCe(e,t){return e&&Z3e(e,t,J3e)}var FQ=eCe,tCe=Fb;function rCe(e,t){return function(r,n){if(r==null)return r;if(!tCe(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var nCe=rCe,aCe=FQ,iCe=nCe,sCe=iCe(aCe),DO=sCe,oCe=DO,lCe=Fb;function cCe(e,t){var r=-1,n=lCe(e)?Array(e.length):[];return oCe(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var RQ=cCe;function uCe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var dCe=uCe,_R=bx;function fCe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=_R(e),o=t!==void 0,l=t===null,c=t===t,u=_R(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var hCe=fCe,mCe=hCe;function pCe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=mCe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var gCe=pCe,PA=xO,xCe=vO,vCe=_u,yCe=RQ,bCe=dCe,wCe=wQ,jCe=gCe,NCe=Ex,_Ce=Eo;function SCe(e,t,r){t.length?t=PA(t,function(s){return _Ce(s)?function(o){return xCe(o,s.length===1?s[0]:s)}:s}):t=[NCe];var n=-1;t=PA(t,wCe(vCe));var a=yCe(e,function(s,o,l){var c=PA(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return bCe(a,function(s,o){return jCe(s,o,r)})}var ACe=SCe;function CCe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var ECe=CCe,PCe=ECe,SR=Math.max;function kCe(e,t,r){return t=SR(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=SR(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),PCe(e,this,l)}}var TCe=kCe;function OCe(e){return function(){return e}}var DCe=OCe,ICe=xp,FCe=function(){try{var e=ICe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),MQ=FCe,RCe=DCe,AR=MQ,MCe=Ex,LCe=AR?function(e,t){return AR(e,"toString",{configurable:!0,enumerable:!1,value:RCe(t),writable:!0})}:MCe,$Ce=LCe,BCe=800,zCe=16,qCe=Date.now;function UCe(e){var t=0,r=0;return function(){var n=qCe(),a=zCe-(n-r);if(r=n,a>0){if(++t>=BCe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var VCe=UCe,WCe=$Ce,HCe=VCe,GCe=HCe(WCe),KCe=GCe,YCe=Ex,XCe=TCe,QCe=KCe;function ZCe(e,t){return QCe(XCe(e,t,YCe),e+"")}var JCe=ZCe,eEe=hO,tEe=Fb,rEe=kO,nEe=bh;function aEe(e,t,r){if(!nEe(r))return!1;var n=typeof t;return(n=="number"?tEe(r)&&rEe(t,r.length):n=="string"&&t in r)?eEe(r[t],e):!1}var sS=aEe,iEe=IQ,sEe=ACe,oEe=JCe,CR=sS,lEe=oEe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&CR(e,t[0],t[1])?t=[]:r>2&&CR(t[0],t[1],t[2])&&(t=[t[0]]),sEe(e,iEe(t,1),[])}),cEe=lEe;const IO=Nn(cEe);function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$E.apply(this,arguments)}function uEe(e,t){return mEe(e)||hEe(e,t)||fEe(e,t)||dEe()}function dEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fEe(e,t){if(e){if(typeof e=="string")return ER(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ER(e,t)}}function ER(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function mEe(e){if(Array.isArray(e))return e}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){pEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pEe(e,t,r){return t=gEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gEe(e){var t=xEe(e,"string");return vy(t)=="symbol"?t:t+""}function xEe(e,t){if(vy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vEe(e){return Array.isArray(e)&&Ai(e[0])&&Ai(e[1])?e.join(" ~ "):e}var yEe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,x=t.labelFormatter,v=t.accessibilityLayer,y=v===void 0?!1:v,b=function(){if(d&&d.length){var C={padding:0,margin:0},I=(h?IO(d,h):d).map(function(L,z){if(L.type==="none")return null;var G=kA({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),W=L.formatter||f||vEe,q=L.value,K=L.name,ae=q,ie=K;if(W&&ae!=null&&ie!=null){var O=W(q,K,L,z,d);if(Array.isArray(O)){var V=uEe(O,2);ae=V[0],ie=V[1]}else ae=O}return he.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:G},Ai(ie)?he.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Ai(ie)?he.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,he.createElement("span",{className:"recharts-tooltip-item-value"},ae),he.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return he.createElement("ul",{className:"recharts-tooltip-item-list",style:C},I)}return null},j=kA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=kA({margin:0},u),P=!Or(p),k=P?p:"",S=Rr("recharts-default-tooltip",m),E=Rr("recharts-tooltip-label",g);P&&x&&d!==void 0&&d!==null&&(k=x(p,d));var M=y?{role:"status","aria-live":"assertive"}:{};return he.createElement("div",$E({className:S,style:j},M),he.createElement("p",{className:E,style:_},he.isValidElement(k)?k:"".concat(k)),b())};function yy(e){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yy(e)}function aw(e,t,r){return t=bEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bEe(e){var t=wEe(e,"string");return yy(t)=="symbol"?t:t+""}function wEe(e,t){if(yy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Av="recharts-tooltip-wrapper",jEe={visibility:"hidden"};function NEe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Rr(Av,aw(aw(aw(aw({},"".concat(Av,"-right"),At(r)&&t&&At(t.x)&&r>=t.x),"".concat(Av,"-left"),At(r)&&t&&At(t.x)&&r<t.x),"".concat(Av,"-bottom"),At(n)&&t&&At(t.y)&&n>=t.y),"".concat(Av,"-top"),At(n)&&t&&At(t.y)&&n<t.y))}function kR(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&At(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function _Ee(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function SEe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=kR({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=kR({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=_Ee({translateX:d,translateY:f,useTranslate3d:l})):u=jEe,{cssProperties:u,cssClasses:NEe({translateX:d,translateY:f,coordinate:r})}}function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(n){zE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$Q(n.key),n)}}function EEe(e,t,r){return t&&CEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PEe(e,t,r){return t=NN(t),kEe(e,LQ()?Reflect.construct(t,r||[],NN(e).constructor):t.apply(e,r))}function kEe(e,t){if(t&&(Fg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TEe(e)}function TEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LQ=function(){return!!e})()}function NN(e){return NN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},NN(e)}function OEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BE(e,t)}function BE(e,t){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BE(e,t)}function zE(e,t,r){return t=$Q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Q(e){var t=DEe(e,"string");return Fg(t)=="symbol"?t:t+""}function DEe(e,t){if(Fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var DR=1,IEe=function(e){function t(){var r;AEe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=PEe(this,t,[].concat(a)),zE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zE(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return OEe(t,e),EEe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>DR||Math.abs(n.height-this.state.lastBoundingBox.height)>DR)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,x=a.useTranslate3d,v=a.viewBox,y=a.wrapperStyle,b=SEe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),j=b.cssClasses,_=b.cssProperties,P=OR(OR({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return he.createElement("div",{tabIndex:-1,className:j,style:P,ref:function(S){n.wrapperNode=S}},u)}}])}(N.PureComponent),FEe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wh={isSsr:FEe()};function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(r),!0).forEach(function(n){FO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function REe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zQ(n.key),n)}}function LEe(e,t,r){return t&&MEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ee(e,t,r){return t=_N(t),BEe(e,BQ()?Reflect.construct(t,r||[],_N(e).constructor):t.apply(e,r))}function BEe(e,t){if(t&&(Rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zEe(e)}function zEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BQ=function(){return!!e})()}function _N(e){return _N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_N(e)}function qEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qE(e,t)}function qE(e,t){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qE(e,t)}function FO(e,t,r){return t=zQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zQ(e){var t=UEe(e,"string");return Rg(t)=="symbol"?t:t+""}function UEe(e,t){if(Rg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VEe(e){return e.dataKey}function WEe(e,t){return he.isValidElement(e)?he.cloneElement(e,t):typeof e=="function"?he.createElement(e,t):he.createElement(yEe,t)}var ts=function(e){function t(){return REe(this,t),$Ee(this,t,arguments)}return qEe(t,e),LEe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,x=a.position,v=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,j=a.wrapperStyle,_=g??[];f&&_.length&&(_=kQ(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),p,VEe));var P=_.length>0;return he.createElement(IEe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:P,offset:m,position:x,reverseDirection:v,useTranslate3d:y,viewBox:b,wrapperStyle:j},WEe(u,FR(FR({},this.props),{},{payload:_})))}}])}(N.PureComponent);FO(ts,"displayName","Tooltip");FO(ts,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HEe=Nu,GEe=function(){return HEe.Date.now()},KEe=GEe,YEe=/\s/;function XEe(e){for(var t=e.length;t--&&YEe.test(e.charAt(t)););return t}var QEe=XEe,ZEe=QEe,JEe=/^\s+/;function ePe(e){return e&&e.slice(0,ZEe(e)+1).replace(JEe,"")}var tPe=ePe,rPe=tPe,RR=bh,nPe=bx,MR=NaN,aPe=/^[-+]0x[0-9a-f]+$/i,iPe=/^0b[01]+$/i,sPe=/^0o[0-7]+$/i,oPe=parseInt;function lPe(e){if(typeof e=="number")return e;if(nPe(e))return MR;if(RR(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=RR(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=rPe(e);var r=iPe.test(e);return r||sPe.test(e)?oPe(e.slice(2),r?2:8):aPe.test(e)?MR:+e}var qQ=lPe,cPe=bh,TA=KEe,LR=qQ,uPe="Expected a function",dPe=Math.max,fPe=Math.min;function hPe(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(uPe);t=LR(t)||0,cPe(r)&&(d=!!r.leading,f="maxWait"in r,s=f?dPe(LR(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(P){var k=n,S=a;return n=a=void 0,u=P,o=e.apply(S,k),o}function g(P){return u=P,l=setTimeout(v,t),d?m(P):o}function p(P){var k=P-c,S=P-u,E=t-k;return f?fPe(E,s-S):E}function x(P){var k=P-c,S=P-u;return c===void 0||k>=t||k<0||f&&S>=s}function v(){var P=TA();if(x(P))return y(P);l=setTimeout(v,p(P))}function y(P){return l=void 0,h&&n?m(P):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:y(TA())}function _(){var P=TA(),k=x(P);if(n=arguments,a=this,c=P,k){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(v,t),m(c)}return l===void 0&&(l=setTimeout(v,t)),o}return _.cancel=b,_.flush=j,_}var mPe=hPe,pPe=mPe,gPe=bh,xPe="Expected a function";function vPe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(xPe);return gPe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),pPe(e,t,{leading:n,maxWait:t,trailing:a})}var yPe=vPe;const UQ=Nn(yPe);function by(e){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},by(e)}function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(n){bPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bPe(e,t,r){return t=wPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wPe(e){var t=jPe(e,"string");return by(t)=="symbol"?t:t+""}function jPe(e,t){if(by(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(by(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NPe(e,t){return CPe(e)||APe(e,t)||SPe(e,t)||_Pe()}function _Pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SPe(e,t){if(e){if(typeof e=="string")return BR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BR(e,t)}}function BR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function APe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function CPe(e){if(Array.isArray(e))return e}var fc=N.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,x=e.id,v=e.className,y=e.onResize,b=e.style,j=b===void 0?{}:b,_=N.useRef(null),P=N.useRef();P.current=y,N.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var k=N.useState({containerWidth:a.width,containerHeight:a.height}),S=NPe(k,2),E=S[0],M=S[1],T=N.useCallback(function(I,L){M(function(z){var G=Math.round(I),W=Math.round(L);return z.containerWidth===G&&z.containerHeight===W?z:{containerWidth:G,containerHeight:W}})},[]);N.useEffect(function(){var I=function(K){var ae,ie=K[0].contentRect,O=ie.width,V=ie.height;T(O,V),(ae=P.current)===null||ae===void 0||ae.call(P,O,V)};p>0&&(I=UQ(I,p,{trailing:!0,leading:!1}));var L=new ResizeObserver(I),z=_.current.getBoundingClientRect(),G=z.width,W=z.height;return T(G,W),L.observe(_.current),function(){L.disconnect()}},[T,p]);var C=N.useMemo(function(){var I=E.containerWidth,L=E.containerHeight;if(I<0||L<0)return null;_c(pm(o)||pm(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),_c(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=pm(o)?I:o,G=pm(c)?L:c;r&&r>0&&(z?G=z/r:G&&(z=G*r),h&&G>h&&(G=h)),_c(z>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,G,o,c,d,f,r);var W=!Array.isArray(m)&&fd(m.type).endsWith("Chart");return he.Children.map(m,function(q){return he.isValidElement(q)?N.cloneElement(q,iw({width:z,height:G},W?{style:iw({height:"100%",width:"100%",maxHeight:G,maxWidth:z},q.props.style)}:{})):q})},[r,m,c,h,f,d,E,o]);return he.createElement("div",{id:x?"".concat(x):void 0,className:Rr("recharts-responsive-container",v),style:iw(iw({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},C)}),Qf=function(t){return null};Qf.displayName="Cell";function wy(e){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(e)}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){EPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EPe(e,t,r){return t=PPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PPe(e){var t=kPe(e,"string");return wy(t)=="symbol"?t:t+""}function kPe(e,t){if(wy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gp={widthCache:{},cacheCount:0},TPe=2e3,OPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qR="recharts_measurement_span";function DPe(e){var t=UE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var f1=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||wh.isSsr)return{width:0,height:0};var n=DPe(r),a=JSON.stringify({text:t,copyStyle:n});if(Gp.widthCache[a])return Gp.widthCache[a];try{var s=document.getElementById(qR);s||(s=document.createElement("span"),s.setAttribute("id",qR),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=UE(UE({},OPe),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Gp.widthCache[a]=c,++Gp.cacheCount>TPe&&(Gp.cacheCount=0,Gp.widthCache={}),c}catch{return{width:0,height:0}}},IPe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function jy(e){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jy(e)}function SN(e,t){return LPe(e)||MPe(e,t)||RPe(e,t)||FPe()}function FPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RPe(e,t){if(e){if(typeof e=="string")return UR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UR(e,t)}}function UR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function LPe(e){if(Array.isArray(e))return e}function $Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zPe(n.key),n)}}function BPe(e,t,r){return t&&VR(e.prototype,t),r&&VR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zPe(e){var t=qPe(e,"string");return jy(t)=="symbol"?t:t+""}function qPe(e,t){if(jy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,VPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WPe=Object.keys(VQ),A0="NaN";function HPe(e,t){return e*VQ[t]}var sw=function(){function e(t,r){$Pe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!UPe.test(r)&&(this.num=NaN,this.unit=""),WPe.includes(r)&&(this.num=HPe(t,r),this.unit="px")}return BPe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=VPe.exec(r))!==null&&n!==void 0?n:[],s=SN(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function WQ(e){if(e.includes(A0))return A0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=WR.exec(t))!==null&&r!==void 0?r:[],a=SN(n,4),s=a[1],o=a[2],l=a[3],c=sw.parse(s??""),u=sw.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return A0;t=t.replace(WR,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=HR.exec(t))!==null&&f!==void 0?f:[],m=SN(h,4),g=m[1],p=m[2],x=m[3],v=sw.parse(g??""),y=sw.parse(x??""),b=p==="+"?v.add(y):v.subtract(y);if(b.isNaN())return A0;t=t.replace(HR,b.toString())}return t}var GR=/\(([^()]*)\)/;function GPe(e){for(var t=e;t.includes("(");){var r=GR.exec(t),n=SN(r,2),a=n[1];t=t.replace(GR,WQ(a))}return t}function KPe(e){var t=e.replace(/\s+/g,"");return t=GPe(t),t=WQ(t),t}function YPe(e){try{return KPe(e)}catch{return A0}}function OA(e){var t=YPe(e.slice(5,-1));return t===A0?"":t}var XPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QPe=["dx","dy","angle","className","breakAll"];function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VE.apply(this,arguments)}function KR(e,t){if(e==null)return{};var r=ZPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YR(e,t){return rke(e)||tke(e,t)||eke(e,t)||JPe()}function JPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eke(e,t){if(e){if(typeof e=="string")return XR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XR(e,t)}}function XR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function rke(e){if(Array.isArray(e))return e}var HQ=/[ \f\n\r\t\v\u2028\u2029]+/,GQ=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Or(r)||(n?s=r.toString().split(""):s=r.toString().split(HQ));var o=s.map(function(c){return{word:c,width:f1(c,a).width}}),l=n?0:f1("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},nke=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=At(o),f=l,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(G,W){var q=W.word,K=W.width,ae=G[G.length-1];if(ae&&(a==null||s||ae.width+K+n<Number(a)))ae.words.push(q),ae.width+=K+n;else{var ie={words:[q],width:K};G.push(ie)}return G},[])},m=h(r),g=function(z){return z.reduce(function(G,W){return G.width>W.width?G:W})};if(!d)return m;for(var p="",x=function(z){var G=f.slice(0,z),W=GQ({breakAll:u,style:c,children:G+p}).wordsWithComputedWidth,q=h(W),K=q.length>o||g(q).width>Number(a);return[K,q]},v=0,y=f.length-1,b=0,j;v<=y&&b<=f.length-1;){var _=Math.floor((v+y)/2),P=_-1,k=x(P),S=YR(k,2),E=S[0],M=S[1],T=x(_),C=YR(T,1),I=C[0];if(!E&&!I&&(v=_+1),E&&I&&(y=_-1),!E&&I){j=M;break}b++}return j||m},QR=function(t){var r=Or(t)?[]:t.toString().split(HQ);return[{words:r}]},ake=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!wh.isSsr){var c,u,d=GQ({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return QR(a);return nke({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return QR(a)},ZR="#808080",ep=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,x=t.fill,v=x===void 0?ZR:x,y=KR(t,XPe),b=N.useMemo(function(){return ake({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),j=y.dx,_=y.dy,P=y.angle,k=y.className,S=y.breakAll,E=KR(y,QPe);if(!Ai(n)||!Ai(s))return null;var M=n+(At(j)?j:0),T=s+(At(_)?_:0),C;switch(p){case"start":C=OA("calc(".concat(u,")"));break;case"middle":C=OA("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:C=OA("calc(".concat(b.length-1," * -").concat(l,")"));break}var I=[];if(f){var L=b[0].width,z=y.width;I.push("scale(".concat((At(z)?z/L:1)/L,")"))}return P&&I.push("rotate(".concat(P,", ").concat(M,", ").concat(T,")")),I.length&&(E.transform=I.join(" ")),he.createElement("text",VE({},or(E,!0),{x:M,y:T,className:Rr("recharts-text",k),textAnchor:m,fill:v.includes("url")?ZR:v}),b.map(function(G,W){var q=G.words.join(S?"":" ");return he.createElement("tspan",{x:M,dy:W===0?C:l,key:"".concat(q,"-").concat(W)},q)}))};function Zf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ike(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function RO(e){let t,r,n;e.length!==2?(t=Zf,r=(l,c)=>Zf(e(l),c),n=(l,c)=>e(l)-c):(t=e===Zf||e===ike?e:ske,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function ske(){return 0}function KQ(e){return e===null?NaN:+e}function*oke(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const lke=RO(Zf),Rb=lke.right;RO(KQ).center;class JR extends Map{constructor(t,r=dke){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(eM(this,t))}has(t){return super.has(eM(this,t))}set(t,r){return super.set(cke(this,t),r)}delete(t){return super.delete(uke(this,t))}}function eM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function cke({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function uke({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function dke(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fke(e=Zf){if(e===Zf)return YQ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function YQ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const hke=Math.sqrt(50),mke=Math.sqrt(10),pke=Math.sqrt(2);function AN(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=hke?10:s>=mke?5:s>=pke?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?AN(e,t,r*2):[l,c,u]}function WE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?AN(t,e,r):AN(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function HE(e,t,r){return t=+t,e=+e,r=+r,AN(e,t,r)[2]}function GE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?HE(t,e,r):HE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function tM(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function rM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function XQ(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?YQ:fke(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));XQ(e,t,m,g,a)}const s=e[t];let o=r,l=n;for(Cv(e,r,t),a(e[n],s)>0&&Cv(e,r,n);o<l;){for(Cv(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Cv(e,r,l):(++l,Cv(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Cv(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function gke(e,t,r){if(e=Float64Array.from(oke(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return rM(e);if(t>=1)return tM(e);var n,a=(n-1)*t,s=Math.floor(a),o=tM(XQ(e,s).subarray(0,s+1)),l=rM(e.subarray(s+1));return o+(l-o)*(a-s)}}function xke(e,t,r=KQ){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function vke(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Hl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function $d(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const KE=Symbol("implicit");function MO(){var e=new JR,t=[],r=[],n=KE;function a(s){let o=e.get(s);if(o===void 0){if(n!==KE)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new JR;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return MO(t,r).unknown(n)},Hl.apply(a,arguments),a}function Ny(){var e=MO().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;s=(p-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(p-g-s*(h-c))*d,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=vke(h).map(function(v){return g+s*v});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Ny(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Hl.apply(f(),arguments)}function QQ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QQ(t())},e}function h1(){return QQ(Ny.apply(null,arguments).paddingInner(1))}function LO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ZQ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Mb(){}var _y=.7,CN=1/_y,H0="\\s*([+-]?\\d+)\\s*",Sy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yke=/^#([0-9a-f]{3,8})$/,bke=new RegExp(`^rgb\\(${H0},${H0},${H0}\\)$`),wke=new RegExp(`^rgb\\(${mu},${mu},${mu}\\)$`),jke=new RegExp(`^rgba\\(${H0},${H0},${H0},${Sy}\\)$`),Nke=new RegExp(`^rgba\\(${mu},${mu},${mu},${Sy}\\)$`),_ke=new RegExp(`^hsl\\(${Sy},${mu},${mu}\\)$`),Ske=new RegExp(`^hsla\\(${Sy},${mu},${mu},${Sy}\\)$`),nM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};LO(Mb,Ay,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:aM,formatHex:aM,formatHex8:Ake,formatHsl:Cke,formatRgb:iM,toString:iM});function aM(){return this.rgb().formatHex()}function Ake(){return this.rgb().formatHex8()}function Cke(){return JQ(this).formatHsl()}function iM(){return this.rgb().formatRgb()}function Ay(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=yke.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?sM(t):r===3?new xo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ow(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ow(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bke.exec(e))?new xo(t[1],t[2],t[3],1):(t=wke.exec(e))?new xo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jke.exec(e))?ow(t[1],t[2],t[3],t[4]):(t=Nke.exec(e))?ow(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_ke.exec(e))?cM(t[1],t[2]/100,t[3]/100,1):(t=Ske.exec(e))?cM(t[1],t[2]/100,t[3]/100,t[4]):nM.hasOwnProperty(e)?sM(nM[e]):e==="transparent"?new xo(NaN,NaN,NaN,0):null}function sM(e){return new xo(e>>16&255,e>>8&255,e&255,1)}function ow(e,t,r,n){return n<=0&&(e=t=r=NaN),new xo(e,t,r,n)}function Eke(e){return e instanceof Mb||(e=Ay(e)),e?(e=e.rgb(),new xo(e.r,e.g,e.b,e.opacity)):new xo}function YE(e,t,r,n){return arguments.length===1?Eke(e):new xo(e,t,r,n??1)}function xo(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}LO(xo,YE,ZQ(Mb,{brighter(e){return e=e==null?CN:Math.pow(CN,e),new xo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_y:Math.pow(_y,e),new xo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xo(Dm(this.r),Dm(this.g),Dm(this.b),EN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oM,formatHex:oM,formatHex8:Pke,formatRgb:lM,toString:lM}));function oM(){return`#${gm(this.r)}${gm(this.g)}${gm(this.b)}`}function Pke(){return`#${gm(this.r)}${gm(this.g)}${gm(this.b)}${gm((isNaN(this.opacity)?1:this.opacity)*255)}`}function lM(){const e=EN(this.opacity);return`${e===1?"rgb(":"rgba("}${Dm(this.r)}, ${Dm(this.g)}, ${Dm(this.b)}${e===1?")":`, ${e})`}`}function EN(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gm(e){return e=Dm(e),(e<16?"0":"")+e.toString(16)}function cM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new gc(e,t,r,n)}function JQ(e){if(e instanceof gc)return new gc(e.h,e.s,e.l,e.opacity);if(e instanceof Mb||(e=Ay(e)),!e)return new gc;if(e instanceof gc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new gc(o,l,c,e.opacity)}function kke(e,t,r,n){return arguments.length===1?JQ(e):new gc(e,t,r,n??1)}function gc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}LO(gc,kke,ZQ(Mb,{brighter(e){return e=e==null?CN:Math.pow(CN,e),new gc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_y:Math.pow(_y,e),new gc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new xo(DA(e>=240?e-240:e+120,a,n),DA(e,a,n),DA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new gc(uM(this.h),lw(this.s),lw(this.l),EN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=EN(this.opacity);return`${e===1?"hsl(":"hsla("}${uM(this.h)}, ${lw(this.s)*100}%, ${lw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uM(e){return e=(e||0)%360,e<0?e+360:e}function lw(e){return Math.max(0,Math.min(1,e||0))}function DA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const $O=e=>()=>e;function Tke(e,t){return function(r){return e+r*t}}function Oke(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Dke(e){return(e=+e)==1?eZ:function(t,r){return r-t?Oke(t,r,e):$O(isNaN(t)?r:t)}}function eZ(e,t){var r=t-e;return r?Tke(e,r):$O(isNaN(e)?t:e)}const dM=function e(t){var r=Dke(t);function n(a,s){var o=r((a=YE(a)).r,(s=YE(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=eZ(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Ike(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Fke(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Rke(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Px(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function Mke(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function PN(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Lke(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Px(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var XE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,IA=new RegExp(XE.source,"g");function $ke(e){return function(){return e}}function Bke(e){return function(t){return e(t)+""}}function zke(e,t){var r=XE.lastIndex=IA.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=XE.exec(e))&&(a=IA.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:PN(n,a)})),r=IA.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Bke(c[0].x):$ke(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Px(e,t){var r=typeof t,n;return t==null||r==="boolean"?$O(t):(r==="number"?PN:r==="string"?(n=Ay(t))?(t=n,dM):zke:t instanceof Ay?dM:t instanceof Date?Mke:Fke(t)?Ike:Array.isArray(t)?Rke:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Lke:PN)(e,t)}function BO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function qke(e,t){t===void 0&&(t=e,e=Px);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function Uke(e){return function(){return e}}function kN(e){return+e}var fM=[0,1];function Zs(e){return e}function QE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Uke(isNaN(t)?NaN:.5)}function Vke(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Wke(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=QE(a,n),s=r(o,s)):(n=QE(n,a),s=r(s,o)),function(l){return s(n(l))}}function Hke(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=QE(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=Rb(e,l,1,n)-1;return s[c](a[c](l))}}function Lb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function oS(){var e=fM,t=fM,r=Px,n,a,s,o=Zs,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Zs&&(o=Vke(e[0],e[h-1])),l=h>2?Hke:Wke,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),PN)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,kN),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=BO,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Zs,d()):o!==Zs},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function zO(){return oS()(Zs,Zs)}function Gke(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function TN(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Mg(e){return e=TN(Math.abs(e)),e?e[1]:NaN}function Kke(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Yke(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Xke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cy(e){if(!(t=Xke.exec(e)))throw new Error("invalid format: "+e);var t;return new qO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cy.prototype=qO.prototype;function qO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qke(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var tZ;function Zke(e,t){var r=TN(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(tZ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+TN(e,Math.max(0,t+s-1))[0]}function hM(e,t){var r=TN(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const mM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Gke,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hM(e*100,t),r:hM,s:Zke,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pM(e){return e}var gM=Array.prototype.map,xM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jke(e){var t=e.grouping===void 0||e.thousands===void 0?pM:Kke(gM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?pM:Yke(gM.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Cy(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,x=f.zero,v=f.width,y=f.comma,b=f.precision,j=f.trim,_=f.type;_==="n"?(y=!0,_="g"):mM[_]||(b===void 0&&(b=12),j=!0,_="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var P=p==="$"?r:p==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=p==="$"?n:/[%p]/.test(_)?o:"",S=mM[_],E=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function M(T){var C=P,I=k,L,z,G;if(_==="c")I=S(T)+I,T="";else{T=+T;var W=T<0||1/T<0;if(T=isNaN(T)?c:S(Math.abs(T),b),j&&(T=Qke(T)),W&&+T==0&&g!=="+"&&(W=!1),C=(W?g==="("?g:l:g==="-"||g==="("?"":g)+C,I=(_==="s"?xM[8+tZ/3]:"")+I+(W&&g==="("?")":""),E){for(L=-1,z=T.length;++L<z;)if(G=T.charCodeAt(L),48>G||G>57){I=(G===46?a+T.slice(L+1):T.slice(L))+I,T=T.slice(0,L);break}}}y&&!x&&(T=t(T,1/0));var q=C.length+T.length+I.length,K=q<v?new Array(v-q+1).join(h):"";switch(y&&x&&(T=t(K+T,K.length?v-I.length:1/0),K=""),m){case"<":T=C+T+I+K;break;case"=":T=C+K+T+I;break;case"^":T=K.slice(0,q=K.length>>1)+C+T+I+K.slice(q);break;default:T=K+C+T+I;break}return s(T)}return M.toString=function(){return f+""},M}function d(f,h){var m=u((f=Cy(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Mg(h)/3)))*3,p=Math.pow(10,-g),x=xM[8+g/3];return function(v){return m(p*v)+x}}return{format:u,formatPrefix:d}}var cw,UO,rZ;eTe({thousands:",",grouping:[3],currency:["$",""]});function eTe(e){return cw=Jke(e),UO=cw.format,rZ=cw.formatPrefix,cw}function tTe(e){return Math.max(0,-Mg(Math.abs(e)))}function rTe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mg(t)/3)))*3-Mg(Math.abs(e)))}function nTe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mg(t)-Mg(e))+1}function nZ(e,t,r,n){var a=GE(e,t,r),s;switch(n=Cy(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=rTe(a,o))&&(n.precision=s),rZ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=nTe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=tTe(a))&&(n.precision=s-(n.type==="%")*2);break}}return UO(n)}function jh(e){var t=e.domain;return e.ticks=function(r){var n=t();return WE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return nZ(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=HE(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ON(){var e=zO();return e.copy=function(){return Lb(e,ON())},Hl.apply(e,arguments),jh(e)}function aZ(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,kN),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return aZ(e).unknown(t)},e=arguments.length?Array.from(e,kN):[0,1],jh(r)}function iZ(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function vM(e){return Math.log(e)}function yM(e){return Math.exp(e)}function aTe(e){return-Math.log(-e)}function iTe(e){return-Math.exp(-e)}function sTe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oTe(e){return e===10?sTe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function lTe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bM(e){return(t,r)=>-e(-t,r)}function VO(e){const t=e(vM,yM),r=t.domain;let n=10,a,s;function o(){return a=lTe(n),s=oTe(n),r()[0]<0?(a=bM(a),s=bM(s),e(aTe,iTe)):e(vM,yM),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,p;const x=l==null?10:+l;let v=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;v.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;v.push(p)}v.length*2<x&&(v=WE(u,d,x))}else v=WE(h,m,Math.min(m-h,x)).map(s);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Cy(c)).precision==null&&(c.trim=!0),c=UO(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(iZ(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function sZ(){const e=VO(oS()).domain([1,10]);return e.copy=()=>Lb(e,sZ()).base(e.base()),Hl.apply(e,arguments),e}function wM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function WO(e){var t=1,r=e(wM(t),jM(t));return r.constant=function(n){return arguments.length?e(wM(t=+n),jM(t)):t},jh(r)}function oZ(){var e=WO(oS());return e.copy=function(){return Lb(e,oZ()).constant(e.constant())},Hl.apply(e,arguments)}function NM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cTe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uTe(e){return e<0?-e*e:e*e}function HO(e){var t=e(Zs,Zs),r=1;function n(){return r===1?e(Zs,Zs):r===.5?e(cTe,uTe):e(NM(r),NM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},jh(t)}function GO(){var e=HO(oS());return e.copy=function(){return Lb(e,GO()).exponent(e.exponent())},Hl.apply(e,arguments),e}function dTe(){return GO.apply(null,arguments).exponent(.5)}function _M(e){return Math.sign(e)*e*e}function fTe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lZ(){var e=zO(),t=[0,1],r=!1,n;function a(s){var o=fTe(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(_M(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,kN)).map(_M)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return lZ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Hl.apply(a,arguments),jh(a)}function cZ(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=xke(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Rb(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Zf),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return cZ().domain(e).range(t).unknown(n)},Hl.apply(s,arguments)}function uZ(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[Rb(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return uZ().domain([e,t]).range(a).unknown(s)},Hl.apply(jh(o),arguments)}function dZ(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Rb(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return dZ().domain(e).range(t).unknown(r)},Hl.apply(a,arguments)}const FA=new Date,RA=new Date;function Pi(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Pi(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(FA.setTime(+s),RA.setTime(+o),e(FA),e(RA),Math.floor(r(FA,RA))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const DN=Pi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);DN.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):DN);DN.range;const ad=1e3,Rl=ad*60,id=Rl*60,Ed=id*24,KO=Ed*7,SM=Ed*30,MA=Ed*365,xm=Pi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ad)},(e,t)=>(t-e)/ad,e=>e.getUTCSeconds());xm.range;const YO=Pi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ad)},(e,t)=>{e.setTime(+e+t*Rl)},(e,t)=>(t-e)/Rl,e=>e.getMinutes());YO.range;const XO=Pi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rl)},(e,t)=>(t-e)/Rl,e=>e.getUTCMinutes());XO.range;const QO=Pi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ad-e.getMinutes()*Rl)},(e,t)=>{e.setTime(+e+t*id)},(e,t)=>(t-e)/id,e=>e.getHours());QO.range;const ZO=Pi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*id)},(e,t)=>(t-e)/id,e=>e.getUTCHours());ZO.range;const $b=Pi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rl)/Ed,e=>e.getDate()-1);$b.range;const lS=Pi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ed,e=>e.getUTCDate()-1);lS.range;const fZ=Pi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ed,e=>Math.floor(e/Ed));fZ.range;function yp(e){return Pi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rl)/KO)}const cS=yp(0),IN=yp(1),hTe=yp(2),mTe=yp(3),Lg=yp(4),pTe=yp(5),gTe=yp(6);cS.range;IN.range;hTe.range;mTe.range;Lg.range;pTe.range;gTe.range;function bp(e){return Pi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/KO)}const uS=bp(0),FN=bp(1),xTe=bp(2),vTe=bp(3),$g=bp(4),yTe=bp(5),bTe=bp(6);uS.range;FN.range;xTe.range;vTe.range;$g.range;yTe.range;bTe.range;const JO=Pi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());JO.range;const e6=Pi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());e6.range;const Pd=Pi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Pd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Pd.range;const kd=Pi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());kd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});kd.range;function hZ(e,t,r,n,a,s){const o=[[xm,1,ad],[xm,5,5*ad],[xm,15,15*ad],[xm,30,30*ad],[s,1,Rl],[s,5,5*Rl],[s,15,15*Rl],[s,30,30*Rl],[a,1,id],[a,3,3*id],[a,6,6*id],[a,12,12*id],[n,1,Ed],[n,2,2*Ed],[r,1,KO],[t,1,SM],[t,3,3*SM],[e,1,MA]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=RO(([,,x])=>x).right(o,h);if(m===o.length)return e.every(GE(u/MA,d/MA,f));if(m===0)return DN.every(Math.max(GE(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[wTe,jTe]=hZ(kd,e6,uS,fZ,ZO,XO),[NTe,_Te]=hZ(Pd,JO,cS,$b,QO,YO);function LA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $A(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ev(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function STe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Pv(a),d=kv(a),f=Pv(s),h=kv(s),m=Pv(o),g=kv(o),p=Pv(l),x=kv(l),v=Pv(c),y=kv(c),b={a:W,A:q,b:K,B:ae,c:null,d:TM,e:TM,f:KTe,g:aOe,G:sOe,H:WTe,I:HTe,j:GTe,L:mZ,m:YTe,M:XTe,p:ie,q:O,Q:IM,s:FM,S:QTe,u:ZTe,U:JTe,V:eOe,w:tOe,W:rOe,x:null,X:null,y:nOe,Y:iOe,Z:oOe,"%":DM},j={a:V,A:D,b:B,B:Q,c:null,d:OM,e:OM,f:dOe,g:wOe,G:NOe,H:lOe,I:cOe,j:uOe,L:gZ,m:fOe,M:hOe,p:Y,q:ee,Q:IM,s:FM,S:mOe,u:pOe,U:gOe,V:xOe,w:vOe,W:yOe,x:null,X:null,y:bOe,Y:jOe,Z:_Oe,"%":DM},_={a:M,A:T,b:C,B:I,c:L,d:PM,e:PM,f:zTe,g:EM,G:CM,H:kM,I:kM,j:MTe,L:BTe,m:RTe,M:LTe,p:E,q:FTe,Q:UTe,s:VTe,S:$Te,u:kTe,U:TTe,V:OTe,w:PTe,W:DTe,x:z,X:G,y:EM,Y:CM,Z:ITe,"%":qTe};b.x=P(r,b),b.X=P(n,b),b.c=P(t,b),j.x=P(r,j),j.X=P(n,j),j.c=P(t,j);function P(X,U){return function(me){var oe=[],Se=-1,_e=0,se=X.length,ft,de,ce;for(me instanceof Date||(me=new Date(+me));++Se<se;)X.charCodeAt(Se)===37&&(oe.push(X.slice(_e,Se)),(de=AM[ft=X.charAt(++Se)])!=null?ft=X.charAt(++Se):de=ft==="e"?" ":"0",(ce=U[ft])&&(ft=ce(me,de)),oe.push(ft),_e=Se+1);return oe.push(X.slice(_e,Se)),oe.join("")}}function k(X,U){return function(me){var oe=Ev(1900,void 0,1),Se=S(oe,X,me+="",0),_e,se;if(Se!=me.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(U&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(_e=$A(Ev(oe.y,0,1)),se=_e.getUTCDay(),_e=se>4||se===0?FN.ceil(_e):FN(_e),_e=lS.offset(_e,(oe.V-1)*7),oe.y=_e.getUTCFullYear(),oe.m=_e.getUTCMonth(),oe.d=_e.getUTCDate()+(oe.w+6)%7):(_e=LA(Ev(oe.y,0,1)),se=_e.getDay(),_e=se>4||se===0?IN.ceil(_e):IN(_e),_e=$b.offset(_e,(oe.V-1)*7),oe.y=_e.getFullYear(),oe.m=_e.getMonth(),oe.d=_e.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),se="Z"in oe?$A(Ev(oe.y,0,1)).getUTCDay():LA(Ev(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(se+5)%7:oe.w+oe.U*7-(se+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,$A(oe)):LA(oe)}}function S(X,U,me,oe){for(var Se=0,_e=U.length,se=me.length,ft,de;Se<_e;){if(oe>=se)return-1;if(ft=U.charCodeAt(Se++),ft===37){if(ft=U.charAt(Se++),de=_[ft in AM?U.charAt(Se++):ft],!de||(oe=de(X,me,oe))<0)return-1}else if(ft!=me.charCodeAt(oe++))return-1}return oe}function E(X,U,me){var oe=u.exec(U.slice(me));return oe?(X.p=d.get(oe[0].toLowerCase()),me+oe[0].length):-1}function M(X,U,me){var oe=m.exec(U.slice(me));return oe?(X.w=g.get(oe[0].toLowerCase()),me+oe[0].length):-1}function T(X,U,me){var oe=f.exec(U.slice(me));return oe?(X.w=h.get(oe[0].toLowerCase()),me+oe[0].length):-1}function C(X,U,me){var oe=v.exec(U.slice(me));return oe?(X.m=y.get(oe[0].toLowerCase()),me+oe[0].length):-1}function I(X,U,me){var oe=p.exec(U.slice(me));return oe?(X.m=x.get(oe[0].toLowerCase()),me+oe[0].length):-1}function L(X,U,me){return S(X,t,U,me)}function z(X,U,me){return S(X,r,U,me)}function G(X,U,me){return S(X,n,U,me)}function W(X){return o[X.getDay()]}function q(X){return s[X.getDay()]}function K(X){return c[X.getMonth()]}function ae(X){return l[X.getMonth()]}function ie(X){return a[+(X.getHours()>=12)]}function O(X){return 1+~~(X.getMonth()/3)}function V(X){return o[X.getUTCDay()]}function D(X){return s[X.getUTCDay()]}function B(X){return c[X.getUTCMonth()]}function Q(X){return l[X.getUTCMonth()]}function Y(X){return a[+(X.getUTCHours()>=12)]}function ee(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var U=P(X+="",b);return U.toString=function(){return X},U},parse:function(X){var U=k(X+="",!1);return U.toString=function(){return X},U},utcFormat:function(X){var U=P(X+="",j);return U.toString=function(){return X},U},utcParse:function(X){var U=k(X+="",!0);return U.toString=function(){return X},U}}}var AM={"-":"",_:" ",0:"0"},qi=/^\s*\d+/,ATe=/^%/,CTe=/[\\^$*+?|[\]().{}]/g;function dn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function ETe(e){return e.replace(CTe,"\\$&")}function Pv(e){return new RegExp("^(?:"+e.map(ETe).join("|")+")","i")}function kv(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function PTe(e,t,r){var n=qi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function kTe(e,t,r){var n=qi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function TTe(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function OTe(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function DTe(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function CM(e,t,r){var n=qi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function EM(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ITe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function FTe(e,t,r){var n=qi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function RTe(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function PM(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function MTe(e,t,r){var n=qi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function kM(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function LTe(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function $Te(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function BTe(e,t,r){var n=qi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function zTe(e,t,r){var n=qi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function qTe(e,t,r){var n=ATe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function UTe(e,t,r){var n=qi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function VTe(e,t,r){var n=qi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function TM(e,t){return dn(e.getDate(),t,2)}function WTe(e,t){return dn(e.getHours(),t,2)}function HTe(e,t){return dn(e.getHours()%12||12,t,2)}function GTe(e,t){return dn(1+$b.count(Pd(e),e),t,3)}function mZ(e,t){return dn(e.getMilliseconds(),t,3)}function KTe(e,t){return mZ(e,t)+"000"}function YTe(e,t){return dn(e.getMonth()+1,t,2)}function XTe(e,t){return dn(e.getMinutes(),t,2)}function QTe(e,t){return dn(e.getSeconds(),t,2)}function ZTe(e){var t=e.getDay();return t===0?7:t}function JTe(e,t){return dn(cS.count(Pd(e)-1,e),t,2)}function pZ(e){var t=e.getDay();return t>=4||t===0?Lg(e):Lg.ceil(e)}function eOe(e,t){return e=pZ(e),dn(Lg.count(Pd(e),e)+(Pd(e).getDay()===4),t,2)}function tOe(e){return e.getDay()}function rOe(e,t){return dn(IN.count(Pd(e)-1,e),t,2)}function nOe(e,t){return dn(e.getFullYear()%100,t,2)}function aOe(e,t){return e=pZ(e),dn(e.getFullYear()%100,t,2)}function iOe(e,t){return dn(e.getFullYear()%1e4,t,4)}function sOe(e,t){var r=e.getDay();return e=r>=4||r===0?Lg(e):Lg.ceil(e),dn(e.getFullYear()%1e4,t,4)}function oOe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dn(t/60|0,"0",2)+dn(t%60,"0",2)}function OM(e,t){return dn(e.getUTCDate(),t,2)}function lOe(e,t){return dn(e.getUTCHours(),t,2)}function cOe(e,t){return dn(e.getUTCHours()%12||12,t,2)}function uOe(e,t){return dn(1+lS.count(kd(e),e),t,3)}function gZ(e,t){return dn(e.getUTCMilliseconds(),t,3)}function dOe(e,t){return gZ(e,t)+"000"}function fOe(e,t){return dn(e.getUTCMonth()+1,t,2)}function hOe(e,t){return dn(e.getUTCMinutes(),t,2)}function mOe(e,t){return dn(e.getUTCSeconds(),t,2)}function pOe(e){var t=e.getUTCDay();return t===0?7:t}function gOe(e,t){return dn(uS.count(kd(e)-1,e),t,2)}function xZ(e){var t=e.getUTCDay();return t>=4||t===0?$g(e):$g.ceil(e)}function xOe(e,t){return e=xZ(e),dn($g.count(kd(e),e)+(kd(e).getUTCDay()===4),t,2)}function vOe(e){return e.getUTCDay()}function yOe(e,t){return dn(FN.count(kd(e)-1,e),t,2)}function bOe(e,t){return dn(e.getUTCFullYear()%100,t,2)}function wOe(e,t){return e=xZ(e),dn(e.getUTCFullYear()%100,t,2)}function jOe(e,t){return dn(e.getUTCFullYear()%1e4,t,4)}function NOe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?$g(e):$g.ceil(e),dn(e.getUTCFullYear()%1e4,t,4)}function _Oe(){return"+0000"}function DM(){return"%"}function IM(e){return+e}function FM(e){return Math.floor(+e/1e3)}var Kp,vZ,yZ;SOe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SOe(e){return Kp=STe(e),vZ=Kp.format,Kp.parse,yZ=Kp.utcFormat,Kp.utcParse,Kp}function AOe(e){return new Date(e)}function COe(e){return e instanceof Date?+e:+new Date(+e)}function t6(e,t,r,n,a,s,o,l,c,u){var d=zO(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),y=u("%b %d"),b=u("%B"),j=u("%Y");function _(P){return(c(P)<P?m:l(P)<P?g:o(P)<P?p:s(P)<P?x:n(P)<P?a(P)<P?v:y:r(P)<P?b:j)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?h(Array.from(P,COe)):h().map(AOe)},d.ticks=function(P){var k=h();return e(k[0],k[k.length-1],P??10)},d.tickFormat=function(P,k){return k==null?_:u(k)},d.nice=function(P){var k=h();return(!P||typeof P.range!="function")&&(P=t(k[0],k[k.length-1],P??10)),P?h(iZ(k,P)):d},d.copy=function(){return Lb(d,t6(e,t,r,n,a,s,o,l,c,u))},d}function EOe(){return Hl.apply(t6(NTe,_Te,Pd,JO,cS,$b,QO,YO,xm,vZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function POe(){return Hl.apply(t6(wTe,jTe,kd,e6,uS,lS,ZO,XO,xm,yZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dS(){var e=0,t=1,r,n,a,s,o=Zs,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(Px),u.rangeRound=d(BO),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Nh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bZ(){var e=jh(dS()(Zs));return e.copy=function(){return Nh(e,bZ())},$d.apply(e,arguments)}function wZ(){var e=VO(dS()).domain([1,10]);return e.copy=function(){return Nh(e,wZ()).base(e.base())},$d.apply(e,arguments)}function jZ(){var e=WO(dS());return e.copy=function(){return Nh(e,jZ()).constant(e.constant())},$d.apply(e,arguments)}function r6(){var e=HO(dS());return e.copy=function(){return Nh(e,r6()).exponent(e.exponent())},$d.apply(e,arguments)}function kOe(){return r6.apply(null,arguments).exponent(.5)}function NZ(){var e=[],t=Zs;function r(n){if(n!=null&&!isNaN(n=+n))return t((Rb(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Zf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>gke(e,s/n))},r.copy=function(){return NZ(t).domain(e)},$d.apply(r,arguments)}function fS(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=Zs,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-s)*(n*p<n*s?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(x){var v,y,b;return arguments.length?([v,y,b]=x,u=qke(p,[v,y,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(Px),m.rangeRound=g(BO),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),s=p(t),o=p(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function _Z(){var e=jh(fS()(Zs));return e.copy=function(){return Nh(e,_Z())},$d.apply(e,arguments)}function SZ(){var e=VO(fS()).domain([.1,1,10]);return e.copy=function(){return Nh(e,SZ()).base(e.base())},$d.apply(e,arguments)}function AZ(){var e=WO(fS());return e.copy=function(){return Nh(e,AZ()).constant(e.constant())},$d.apply(e,arguments)}function n6(){var e=HO(fS());return e.copy=function(){return Nh(e,n6()).exponent(e.exponent())},$d.apply(e,arguments)}function TOe(){return n6.apply(null,arguments).exponent(.5)}const RM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ny,scaleDiverging:_Z,scaleDivergingLog:SZ,scaleDivergingPow:n6,scaleDivergingSqrt:TOe,scaleDivergingSymlog:AZ,scaleIdentity:aZ,scaleImplicit:KE,scaleLinear:ON,scaleLog:sZ,scaleOrdinal:MO,scalePoint:h1,scalePow:GO,scaleQuantile:cZ,scaleQuantize:uZ,scaleRadial:lZ,scaleSequential:bZ,scaleSequentialLog:wZ,scaleSequentialPow:r6,scaleSequentialQuantile:NZ,scaleSequentialSqrt:kOe,scaleSequentialSymlog:jZ,scaleSqrt:dTe,scaleSymlog:oZ,scaleThreshold:dZ,scaleTime:EOe,scaleUtc:POe,tickFormat:nZ},Symbol.toStringTag,{value:"Module"}));var OOe=bx;function DOe(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!OOe(o):r(o,l)))var l=o,c=s}return c}var hS=DOe;function IOe(e,t){return e>t}var CZ=IOe,FOe=hS,ROe=CZ,MOe=Ex;function LOe(e){return e&&e.length?FOe(e,MOe,ROe):void 0}var $Oe=LOe;const Rf=Nn($Oe);function BOe(e,t){return e<t}var EZ=BOe,zOe=hS,qOe=EZ,UOe=Ex;function VOe(e){return e&&e.length?zOe(e,UOe,qOe):void 0}var WOe=VOe;const mS=Nn(WOe);var HOe=xO,GOe=_u,KOe=RQ,YOe=Eo;function XOe(e,t){var r=YOe(e)?HOe:KOe;return r(e,GOe(t))}var QOe=XOe,ZOe=IQ,JOe=QOe;function e6e(e,t){return ZOe(JOe(e,t),1)}var t6e=e6e;const r6e=Nn(t6e);var n6e=OO;function a6e(e,t){return n6e(e,t)}var i6e=a6e;const tp=Nn(i6e);var kx=1e9,s6e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},i6,ca=!0,ql="[DecimalError] ",Im=ql+"Invalid argument: ",a6=ql+"Exponent out of range: ",Tx=Math.floor,rm=Math.pow,o6e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jo,Ti=1e7,ta=7,PZ=9007199254740991,RN=Tx(PZ/ta),Kt={};Kt.absoluteValue=Kt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Kt.comparedTo=Kt.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Kt.decimalPlaces=Kt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ta;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Kt.dividedBy=Kt.div=function(e){return md(this,new this.constructor(e))};Kt.dividedToIntegerBy=Kt.idiv=function(e){var t=this,r=t.constructor;return Vn(md(t,new r(e),0,1),r.precision)};Kt.equals=Kt.eq=function(e){return!this.cmp(e)};Kt.exponent=function(){return oi(this)};Kt.greaterThan=Kt.gt=function(e){return this.cmp(e)>0};Kt.greaterThanOrEqualTo=Kt.gte=function(e){return this.cmp(e)>=0};Kt.isInteger=Kt.isint=function(){return this.e>this.d.length-2};Kt.isNegative=Kt.isneg=function(){return this.s<0};Kt.isPositive=Kt.ispos=function(){return this.s>0};Kt.isZero=function(){return this.s===0};Kt.lessThan=Kt.lt=function(e){return this.cmp(e)<0};Kt.lessThanOrEqualTo=Kt.lte=function(e){return this.cmp(e)<1};Kt.logarithm=Kt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Jo))throw Error(ql+"NaN");if(r.s<1)throw Error(ql+(r.s?"NaN":"-Infinity"));return r.eq(Jo)?new n(0):(ca=!1,t=md(Ey(r,s),Ey(e,s),s),ca=!0,Vn(t,a))};Kt.minus=Kt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OZ(t,e):kZ(t,(e.s=-e.s,e))};Kt.modulo=Kt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ql+"NaN");return r.s?(ca=!1,t=md(r,e,0,1).times(e),ca=!0,r.minus(t)):Vn(new n(r),a)};Kt.naturalExponential=Kt.exp=function(){return TZ(this)};Kt.naturalLogarithm=Kt.ln=function(){return Ey(this)};Kt.negated=Kt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Kt.plus=Kt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kZ(t,e):OZ(t,(e.s=-e.s,e))};Kt.precision=Kt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Im+e);if(t=oi(a)+1,n=a.d.length-1,r=n*ta+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Kt.squareRoot=Kt.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ql+"NaN")}for(e=oi(l),ca=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ou(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Tx((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(md(l,s,o+2)).times(.5),ou(s.d).slice(0,o)===(t=ou(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Vn(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return ca=!0,Vn(n,r)};Kt.times=Kt.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%Ti|0,t=l/Ti|0;s[a]=(s[a]+t)%Ti|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,ca?Vn(e,f.precision):e};Kt.toDecimalPlaces=Kt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(bu(e,0,kx),t===void 0?t=n.rounding:bu(t,0,8),Vn(r,e+oi(r)+1,t))};Kt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=rp(n,!0):(bu(e,0,kx),t===void 0?t=a.rounding:bu(t,0,8),n=Vn(new a(n),e+1,t),r=rp(n,!0,e+1)),r};Kt.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?rp(a):(bu(e,0,kx),t===void 0?t=s.rounding:bu(t,0,8),n=Vn(new s(a),e+oi(a)+1,t),r=rp(n.abs(),!1,e+oi(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Kt.toInteger=Kt.toint=function(){var e=this,t=e.constructor;return Vn(new t(e),oi(e)+1,t.rounding)};Kt.toNumber=function(){return+this};Kt.toPower=Kt.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Jo);if(l=new c(l),!l.s){if(e.s<1)throw Error(ql+"Infinity");return l}if(l.eq(Jo))return l;if(n=c.precision,e.eq(Jo))return Vn(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=PZ){for(a=new c(Jo),t=Math.ceil(n/ta+4),ca=!1;r%2&&(a=a.times(l),LM(a.d,t)),r=Tx(r/2),r!==0;)l=l.times(l),LM(l.d,t);return ca=!0,e.s<0?new c(Jo).div(a):Vn(a,n)}}else if(s<0)throw Error(ql+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ca=!1,a=e.times(Ey(l,n+u)),ca=!0,a=TZ(a),a.s=s,a};Kt.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=oi(a),n=rp(a,r<=s.toExpNeg||r>=s.toExpPos)):(bu(e,1,kx),t===void 0?t=s.rounding:bu(t,0,8),a=Vn(new s(a),e,t),r=oi(a),n=rp(a,e<=r||r<=s.toExpNeg,e)),n};Kt.toSignificantDigits=Kt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(bu(e,1,kx),t===void 0?t=n.rounding:bu(t,0,8)),Vn(new n(r),e,t)};Kt.toString=Kt.valueOf=Kt.val=Kt.toJSON=Kt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=oi(e),r=e.constructor;return rp(e,t<=r.toExpNeg||t>=r.toExpPos)};function kZ(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ca?Vn(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/ta),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Ti|0,c[s]%=Ti;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ca?Vn(t,f):t}function bu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Im+e)}function ou(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=ta-n.length,r&&(s+=yf(r)),s+=n;o=e[t],n=o+"",r=ta-n.length,r&&(s+=yf(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var md=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%Ti|0,o=s/Ti|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*Ti+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,g,p,x,v,y,b,j,_,P,k,S,E=n.constructor,M=n.s==a.s?1:-1,T=n.d,C=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(ql+"Division by zero");for(c=n.e-a.e,k=C.length,_=T.length,m=new E(M),g=m.d=[],u=0;C[u]==(T[u]||0);)++u;if(C[u]>(T[u]||0)&&--c,s==null?y=s=E.precision:o?y=s+(oi(n)-oi(a))+1:y=s,y<0)return new E(0);if(y=y/ta+2|0,u=0,k==1)for(d=0,C=C[0],y++;(u<_||d)&&y--;u++)b=d*Ti+(T[u]||0),g[u]=b/C|0,d=b%C|0;else{for(d=Ti/(C[0]+1)|0,d>1&&(C=e(C,d),T=e(T,d),k=C.length,_=T.length),j=k,p=T.slice(0,k),x=p.length;x<k;)p[x++]=0;S=C.slice(),S.unshift(0),P=C[0],C[1]>=Ti/2&&++P;do d=0,l=t(C,p,k,x),l<0?(v=p[0],k!=x&&(v=v*Ti+(p[1]||0)),d=v/P|0,d>1?(d>=Ti&&(d=Ti-1),f=e(C,d),h=f.length,x=p.length,l=t(f,p,h,x),l==1&&(d--,r(f,k<h?S:C,h))):(d==0&&(l=d=1),f=C.slice()),h=f.length,h<x&&f.unshift(0),r(p,f,x),l==-1&&(x=p.length,l=t(C,p,k,x),l<1&&(d++,r(p,k<x?S:C,x))),x=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[x++]=T[j]||0:(p=[T[j]],x=1);while((j++<_||p[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=c,Vn(m,o?s+oi(m)+1:s)}}();function TZ(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(oi(e)>16)throw Error(a6+oi(e));if(!e.s)return new d(Jo);for(ca=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(rm(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Jo),d.precision=l;;){if(a=Vn(a.times(e),l),r=r.times(++c),o=s.plus(md(a,r,l)),ou(o.d).slice(0,l)===ou(s.d).slice(0,l)){for(;u--;)s=Vn(s.times(s),l);return d.precision=f,t==null?(ca=!0,Vn(s,f)):s}s=o}}function oi(e){for(var t=e.e*ta,r=e.d[0];r>=10;r/=10)t++;return t}function BA(e,t,r){if(t>e.LN10.sd())throw ca=!0,r&&(e.precision=r),Error(ql+"LN10 precision limit exceeded");return Vn(new e(e.LN10),t)}function yf(e){for(var t="";e--;)t+="0";return t}function Ey(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,x=p.precision;if(m.s<1)throw Error(ql+(m.s?"NaN":"-Infinity"));if(m.eq(Jo))return new p(0);if(t==null?(ca=!1,u=x):u=t,m.eq(10))return t==null&&(ca=!0),BA(p,u);if(u+=h,p.precision=u,r=ou(g),n=r.charAt(0),s=oi(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ou(m.d),n=r.charAt(0),f++;s=oi(m),n>1?(m=new p("0."+r),s++):m=new p(n+"."+r.slice(1))}else return c=BA(p,u+2,x).times(s+""),m=Ey(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=x,t==null?(ca=!0,Vn(m,x)):m;for(l=o=m=md(m.minus(Jo),m.plus(Jo),u),d=Vn(m.times(m),u),a=3;;){if(o=Vn(o.times(d),u),c=l.plus(md(o,new p(a),u)),ou(c.d).slice(0,u)===ou(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(BA(p,u+2,x).times(s+""))),l=md(l,new p(f),u),p.precision=x,t==null?(ca=!0,Vn(l,x)):l;l=c,a+=2}}function MM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Tx(r/ta),e.d=[],n=(r+1)%ta,r<0&&(n+=ta),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ta;n<a;)e.d.push(+t.slice(n,n+=ta));t=t.slice(n),n=ta-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ca&&(e.e>RN||e.e<-RN))throw Error(a6+r)}else e.s=0,e.e=0,e.d=[0];return e}function Vn(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=ta,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/ta),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=ta,a=n-ta+o}if(r!==void 0&&(s=rm(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/rm(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=oi(e),f.length=1,t=t-s-1,f[0]=rm(10,(ta-t%ta)%ta),e.e=Tx(-t/ta)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=rm(10,ta-n),f[d]=a>0?(u/rm(10,o-a)%rm(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Ti&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Ti)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(ca&&(e.e>RN||e.e<-RN))throw Error(a6+oi(e));return e}function OZ(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ca?Vn(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/ta),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Ti-1;--c[s],c[a]+=Ti}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ca?Vn(t,m):t):new h(0)}function rp(e,t,r){var n,a=oi(e),s=ou(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+yf(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+yf(-a-1)+s,r&&(n=r-o)>0&&(s+=yf(n))):a>=o?(s+=yf(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+yf(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=yf(n))),e.s<0?"-"+s:s}function LM(e,t){if(e.length>t)return e.length=t,!0}function DZ(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Im+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return MM(o,s.toString())}else if(typeof s!="string")throw Error(Im+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,o6e.test(s))MM(o,s);else throw Error(Im+s)}if(a.prototype=Kt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=DZ,a.config=a.set=l6e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function l6e(e){if(!e||typeof e!="object")throw Error(ql+"Object expected");var t,r,n,a=["precision",1,kx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Tx(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Im+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Im+r+": "+n);return this}var i6=DZ(s6e);Jo=new i6(1);const Ln=i6;function c6e(e){return h6e(e)||f6e(e)||d6e(e)||u6e()}function u6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d6e(e,t){if(e){if(typeof e=="string")return ZE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZE(e,t)}}function f6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function h6e(e){if(Array.isArray(e))return ZE(e)}function ZE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m6e=function(t){return t},IZ={},FZ=function(t){return t===IZ},$M=function(t){return function r(){return arguments.length===0||arguments.length===1&&FZ(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},p6e=function e(t,r){return t===1?r:$M(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==IZ}).length;return o>=t?r.apply(void 0,a):e(t-o,$M(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return FZ(f)?c.shift():f});return r.apply(void 0,c6e(d).concat(c))}))})},pS=function(t){return p6e(t.length,t)},JE=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},g6e=pS(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),x6e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return m6e;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},eP=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},RZ=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function v6e(e){var t;return e===0?t=1:t=Math.floor(new Ln(e).abs().log(10).toNumber())+1,t}function y6e(e,t,r){for(var n=new Ln(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var b6e=pS(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),w6e=pS(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),j6e=pS(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const gS={rangeStep:y6e,getDigitCount:v6e,interpolateNumber:b6e,uninterpolateNumber:w6e,uninterpolateTruncation:j6e};function tP(e){return S6e(e)||_6e(e)||MZ(e)||N6e()}function N6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function S6e(e){if(Array.isArray(e))return rP(e)}function Py(e,t){return E6e(e)||C6e(e,t)||MZ(e,t)||A6e()}function A6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MZ(e,t){if(e){if(typeof e=="string")return rP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rP(e,t)}}function rP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C6e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function E6e(e){if(Array.isArray(e))return e}function LZ(e){var t=Py(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function $Z(e,t,r){if(e.lte(0))return new Ln(0);var n=gS.getDigitCount(e.toNumber()),a=new Ln(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Ln(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Ln(Math.ceil(c))}function P6e(e,t,r){var n=1,a=new Ln(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Ln(10).pow(gS.getDigitCount(e)-1),a=new Ln(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Ln(Math.floor(e)))}else e===0?a=new Ln(Math.floor((t-1)/2)):r||(a=new Ln(Math.floor(e)));var o=Math.floor((t-1)/2),l=x6e(g6e(function(c){return a.add(new Ln(c-o).mul(n)).toNumber()}),JE);return l(0,t)}function BZ(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ln(0),tickMin:new Ln(0),tickMax:new Ln(0)};var s=$Z(new Ln(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Ln(0):(o=new Ln(e).add(t).div(2),o=o.sub(new Ln(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Ln(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?BZ(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Ln(l).mul(s)),tickMax:o.add(new Ln(c).mul(s))})}function k6e(e){var t=Py(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=LZ([r,n]),c=Py(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(tP(JE(0,a-1).map(function(){return 1/0}))):[].concat(tP(JE(0,a-1).map(function(){return-1/0})),[d]);return r>n?eP(f):f}if(u===d)return P6e(u,a,s);var h=BZ(u,d,o,s),m=h.step,g=h.tickMin,p=h.tickMax,x=gS.rangeStep(g,p.add(new Ln(.1).mul(m)),m);return r>n?eP(x):x}function T6e(e,t){var r=Py(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=LZ([n,a]),l=Py(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=$Z(new Ln(u).sub(c).div(d-1),s,0),h=[].concat(tP(gS.rangeStep(new Ln(c),new Ln(u).sub(new Ln(.99).mul(f)),f)),[u]);return n>a?eP(h):h}var O6e=RZ(k6e),D6e=RZ(T6e),I6e="Invariant failed";function np(e,t){throw new Error(I6e)}var F6e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function MN(){return MN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MN.apply(this,arguments)}function R6e(e,t){return B6e(e)||$6e(e,t)||L6e(e,t)||M6e()}function M6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L6e(e,t){if(e){if(typeof e=="string")return BM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BM(e,t)}}function BM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function B6e(e){if(Array.isArray(e))return e}function z6e(e,t){if(e==null)return{};var r=q6e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UZ(n.key),n)}}function W6e(e,t,r){return t&&V6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H6e(e,t,r){return t=LN(t),G6e(e,zZ()?Reflect.construct(t,r||[],LN(e).constructor):t.apply(e,r))}function G6e(e,t){if(t&&(Bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K6e(e)}function K6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zZ=function(){return!!e})()}function LN(e){return LN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},LN(e)}function Y6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nP(e,t)}function nP(e,t){return nP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nP(e,t)}function qZ(e,t,r){return t=UZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UZ(e){var t=X6e(e,"string");return Bg(t)=="symbol"?t:t+""}function X6e(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bb=function(e){function t(){return U6e(this,t),H6e(this,t,arguments)}return Y6e(t,e),W6e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=z6e(n,F6e),m=or(h,!1);this.props.direction==="x"&&d.type!=="number"&&np();var g=c.map(function(p){var x=u(p,l),v=x.x,y=x.y,b=x.value,j=x.errorVal;if(!j)return null;var _=[],P,k;if(Array.isArray(j)){var S=R6e(j,2);P=S[0],k=S[1]}else P=k=j;if(s==="vertical"){var E=d.scale,M=y+a,T=M+o,C=M-o,I=E(b-P),L=E(b+k);_.push({x1:L,y1:T,x2:L,y2:C}),_.push({x1:I,y1:M,x2:L,y2:M}),_.push({x1:I,y1:T,x2:I,y2:C})}else if(s==="horizontal"){var z=f.scale,G=v+a,W=G-o,q=G+o,K=z(b-P),ae=z(b+k);_.push({x1:W,y1:ae,x2:q,y2:ae}),_.push({x1:G,y1:K,x2:G,y2:ae}),_.push({x1:W,y1:K,x2:q,y2:K})}return he.createElement(Yr,MN({className:"recharts-errorBar",key:"bar-".concat(_.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},m),_.map(function(ie){return he.createElement("line",MN({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return he.createElement(Yr,{className:"recharts-errorBars"},g)}}])}(he.Component);qZ(Bb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});qZ(Bb,"displayName","ErrorBar");function ky(e){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ky(e)}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){Q6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q6e(e,t,r){return t=Z6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z6e(e){var t=J6e(e,"string");return ky(t)=="symbol"?t:t+""}function J6e(e,t){if(ky(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VZ=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=Wo(r,hd);if(!o)return null;var l=hd.defaultProps,c=l!==void 0?Kh(Kh({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Kh(Kh({},h),f.props):{},g=m.dataKey,p=m.name,x=m.legendType,v=m.hide;return{inactive:v,dataKey:g,type:c.iconType||x||"square",color:s6(f),value:p||g,payload:m}}),Kh(Kh(Kh({},c),hd.getWithHeight(o,a)),{},{payload:u,item:o})};function Ty(e){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ty(e)}function qM(e){return nDe(e)||rDe(e)||tDe(e)||eDe()}function eDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tDe(e,t){if(e){if(typeof e=="string")return aP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aP(e,t)}}function rDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nDe(e){if(Array.isArray(e))return aP(e)}function aP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(r),!0).forEach(function(n){G0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G0(e,t,r){return t=aDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aDe(e){var t=iDe(e,"string");return Ty(t)=="symbol"?t:t+""}function iDe(e,t){if(Ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wa(e,t,r){return Or(e)||Or(t)?r:Ai(t)?cl(e,t,r):mr(t)?t(e):r}function m1(e,t,r,n){var a=r6e(e,function(l){return Wa(l,t)});if(r==="number"){var s=a.filter(function(l){return At(l)||parseFloat(l)});return s.length?[mS(s),Rf(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Or(l)}):a;return o.map(function(l){return Ai(l)||l instanceof Date?l:""})}var sDe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Xs(f-d)!==Xs(h-f)){var g=[];if(Xs(h-f)===Xs(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var x=h+c[1]-c[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var v=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(t>(y+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},s6=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Aa(Aa({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},oDe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,x=g.cateAxisId,v=p.filter(function(k){return fd(k.type).indexOf("Bar")>=0});if(v&&v.length){var y=v[0].type.defaultProps,b=y!==void 0?Aa(Aa({},y),v[0].props):v[0].props,j=b.barSize,_=b[x];o[_]||(o[_]=[]);var P=Or(j)?r:j;o[_].push({item:v[0],stackList:v.slice(1),barSize:Or(P)?void 0:Qs(P,n,0)})}}return o},lDe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Qs(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,g=o.reduce(function(j,_){return j+_.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,x={offset:p-u,size:0};d=o.reduce(function(j,_){var P={item:_.item,position:{offset:x.offset+x.size+u,size:h?m:_.barSize}},k=[].concat(qM(j),[P]);return x=k[k.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(S){k.push({item:S,position:x})}),k},f)}else{var v=Qs(n,a,0,!0);a-2*v-(c-1)*u<=0&&(u=0);var y=(a-2*v-(c-1)*u)/c;y>1&&(y>>=0);var b=l===+l?Math.min(y,l):y;d=o.reduce(function(j,_,P){var k=[].concat(qM(j),[{item:_.item,position:{offset:v+(y+u)*P+(y-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(S){k.push({item:S,position:k[k.length-1].position})}),k},f)}return d},cDe=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=VZ({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&At(t[m]))return Aa(Aa({},t),{},G0({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&At(t[g]))return Aa(Aa({},t),{},G0({},g,t[g]+(h||0)))}return t},uDe=function(t,r,n){return Or(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},WZ=function(t,r,n,a,s){var o=r.props.children,l=ul(o,Bb).filter(function(u){return uDe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Wa(d,n);if(Or(f))return u;var h=Array.isArray(f)?[mS(f),Rf(f)]:[f,f],m=c.reduce(function(g,p){var x=Wa(d,p,0),v=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},dDe=function(t,r,n,a,s){var o=r.map(function(l){return WZ(t,l,n,s,a)}).filter(function(l){return!Or(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},HZ=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&WZ(t,c,u,a)||m1(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},GZ=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},KZ=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},sd=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Xs(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Sx(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},zA=new WeakMap,uw=function(t,r){if(typeof r!="function")return t;zA.has(t)||zA.set(t,new WeakMap);var n=zA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},YZ=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ny(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ON(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:h1(),realScaleType:"point"}:s==="category"?{scale:Ny(),realScaleType:"band"}:{scale:ON(),realScaleType:"linear"};if(Ib(a)){var c="scale".concat(eS(a));return{scale:(RM[c]||h1)(),realScaleType:RM[c]?c:"point"}}return mr(a)?{scale:a}:{scale:h1(),realScaleType:"point"}},VM=1e-4,XZ=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-VM,o=Math.max(a[0],a[1])+VM,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},fDe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},hDe=function(t,r){if(!r||r.length!==2||!At(r[0])||!At(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!At(t[0])||t[0]<n)&&(s[0]=n),(!At(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},mDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Sx(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},pDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=Sx(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},gDe={sign:mDe,expand:FNe,none:Og,silhouette:RNe,wiggle:MNe,positive:pDe},xDe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=gDe[n],o=INe().keys(a).value(function(l,c){return+Wa(l,c,0)}).order(PE).offset(s);return o(t)},vDe=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Aa(Aa({},h.type.defaultProps),h.props):h.props,p=g.stackId,x=g.hide;if(x)return f;var v=g[n],y=f[v]||{hasStack:!1,stackGroups:{}};if(Ai(p)){var b=y.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[p]=b}else y.stackGroups[vp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Aa(Aa({},f),{},G0({},v,y))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,x){var v=m.stackGroups[x];return Aa(Aa({},p),{},G0({},x,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:xDe(t,v.items,s)}))},g)}return Aa(Aa({},f),{},G0({},h,m))},d)},QZ=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=O6e(u,s,l);return t.domain([mS(d),Rf(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=D6e(f,s,l);return{niceTicks:h}}return null};function $N(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Or(a[t.dataKey])){var l=dN(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Wa(a,Or(o)?t.dataKey:o);return Or(c)?null:t.scale(c)}var WM=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Wa(o,r.dataKey,r.domain[l]);return Or(c)?null:r.scale(c)-s/2+a},yDe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},bDe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Aa(Aa({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Ai(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},wDe=function(t){return t.reduce(function(r,n){return[mS(n.concat([r[0]]).filter(At)),Rf(n.concat([r[1]]).filter(At))]},[1/0,-1/0])},ZZ=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=wDe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},HM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iP=function(t,r,n){if(mr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(At(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(HM.test(t[0])){var s=+HM.exec(t[0])[1];a[0]=r[0]-s}else mr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(At(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(GM.test(t[1])){var o=+GM.exec(t[1])[1];a[1]=r[1]+o}else mr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},BN=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=IO(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},KM=function(t,r,n){return!t||!t.length||tp(t,cl(n,"type.defaultProps.domain"))?r:t},JZ=function(t,r){var n=t.type.defaultProps?Aa(Aa({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Aa(Aa({},or(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:s6(t),value:Wa(r,a),type:c,payload:r,chartType:u,hide:d})};function Oy(e){"@babel/helpers - typeof";return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oy(e)}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(n){eJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eJ(e,t,r){return t=jDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jDe(e){var t=NDe(e,"string");return Oy(t)=="symbol"?t:t+""}function NDe(e,t){if(Oy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _De(e,t){return EDe(e)||CDe(e,t)||ADe(e,t)||SDe()}function SDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ADe(e,t){if(e){if(typeof e=="string")return XM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XM(e,t)}}function XM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function EDe(e){if(Array.isArray(e))return e}var zN=Math.PI/180,PDe=function(t){return t*180/Math.PI},Xn=function(t,r,n,a){return{x:t+Math.cos(-zN*a)*n,y:r+Math.sin(-zN*a)*n}},tJ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},kDe=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Qs(t.cx,o,o/2),f=Qs(t.cy,l,l/2),h=tJ(o,l,n),m=Qs(t.innerRadius,h,0),g=Qs(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(x,v){var y=r[v],b=y.domain,j=y.reversed,_;if(Or(y.range))a==="angleAxis"?_=[c,u]:a==="radiusAxis"&&(_=[m,g]),j&&(_=[_[1],_[0]]);else{_=y.range;var P=_,k=_De(P,2);c=k[0],u=k[1]}var S=YZ(y,s),E=S.realScaleType,M=S.scale;M.domain(b).range(_),XZ(M);var T=QZ(M,Gu(Gu({},y),{},{realScaleType:E})),C=Gu(Gu(Gu({},y),T),{},{range:_,radius:g,realScaleType:E,scale:M,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return Gu(Gu({},x),{},eJ({},v,C))},{})},TDe=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},ODe=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=TDe({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:PDe(u),angleInRadian:u}},DDe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},IDe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},QM=function(t,r){var n=t.x,a=t.y,s=ODe({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=DDe(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?Gu(Gu({},r),{},{radius:o,angle:IDe(m,r)}):null},rJ=function(t){return!N.isValidElement(t)&&!mr(t)&&typeof t!="boolean"?t.className:""};function Dy(e){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dy(e)}var FDe=["offset"];function RDe(e){return BDe(e)||$De(e)||LDe(e)||MDe()}function MDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LDe(e,t){if(e){if(typeof e=="string")return sP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sP(e,t)}}function $De(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BDe(e){if(Array.isArray(e))return sP(e)}function sP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zDe(e,t){if(e==null)return{};var r=qDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){UDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UDe(e,t,r){return t=VDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VDe(e){var t=WDe(e,"string");return Dy(t)=="symbol"?t:t+""}function WDe(e,t){if(Dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(this,arguments)}var HDe=function(t){var r=t.value,n=t.formatter,a=Or(t.children)?r:t.children;return mr(n)?n(a):a},GDe=function(t,r){var n=Xs(r-t),a=Math.min(Math.abs(r-t),360);return n*a},KDe=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,x=(f+h)/2,v=GDe(m,g),y=v>=0?1:-1,b,j;a==="insideStart"?(b=m+y*o,j=p):a==="insideEnd"?(b=g-y*o,j=!p):a==="end"&&(b=g+y*o,j=p),j=v<=0?j:!j;var _=Xn(u,d,x,b),P=Xn(u,d,x,b+(j?1:-1)*359),k="M".concat(_.x,",").concat(_.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(j?0:1,`,
    `).concat(P.x,",").concat(P.y),S=Or(t.id)?vp("recharts-radial-line-"):t.id;return he.createElement("text",Iy({},n,{dominantBaseline:"central",className:Rr("recharts-radial-bar-label",l)}),he.createElement("defs",null,he.createElement("path",{id:S,d:k})),he.createElement("textPath",{xlinkHref:"#".concat(S)},r))},YDe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=Xn(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,v=Xn(o,l,x,h),y=v.x,b=v.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},XDe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,x=p*a,v=p>0?"end":"start",y=p>0?"start":"end";if(s==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return xi(xi({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return xi(xi({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var _={x:l-x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return xi(xi({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(s==="right"){var P={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return xi(xi({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return s==="insideLeft"?xi({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},k):s==="insideRight"?xi({x:l+u-x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},k):s==="insideTop"?xi({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},k):s==="insideBottom"?xi({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},k):s==="insideTopLeft"?xi({x:l+x,y:c+h,textAnchor:y,verticalAnchor:g},k):s==="insideTopRight"?xi({x:l+u-x,y:c+h,textAnchor:v,verticalAnchor:g},k):s==="insideBottomLeft"?xi({x:l+x,y:c+d-h,textAnchor:y,verticalAnchor:m},k):s==="insideBottomRight"?xi({x:l+u-x,y:c+d-h,textAnchor:v,verticalAnchor:m},k):wx(s)&&(At(s.x)||pm(s.x))&&(At(s.y)||pm(s.y))?xi({x:l+Qs(s.x,u),y:c+Qs(s.y,d),textAnchor:"end",verticalAnchor:"end"},k):xi({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},QDe=function(t){return"cx"in t&&At(t.cx)};function Ii(e){var t=e.offset,r=t===void 0?5:t,n=zDe(e,FDe),a=xi({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Or(l)&&Or(c)&&!N.isValidElement(u)&&!mr(u))return null;if(N.isValidElement(u))return N.cloneElement(u,a);var m;if(mr(u)){if(m=N.createElement(u,a),N.isValidElement(m))return m}else m=HDe(a);var g=QDe(s),p=or(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return KDe(a,m,p);var x=g?YDe(a):XDe(a);return he.createElement(ep,Iy({className:Rr("recharts-label",f)},p,x,{breakAll:h}),m)}Ii.displayName="Label";var nJ=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,x=t.height,v=t.clockWise,y=t.labelViewBox;if(y)return y;if(At(p)&&At(x)){if(At(f)&&At(h))return{x:f,y:h,width:p,height:x};if(At(m)&&At(g))return{x:m,y:g,width:p,height:x}}return At(f)&&At(h)?{x:f,y:h,width:0,height:0}:At(r)&&At(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},ZDe=function(t,r){return t?t===!0?he.createElement(Ii,{key:"label-implicit",viewBox:r}):Ai(t)?he.createElement(Ii,{key:"label-implicit",viewBox:r,value:t}):N.isValidElement(t)?t.type===Ii?N.cloneElement(t,{key:"label-implicit",viewBox:r}):he.createElement(Ii,{key:"label-implicit",content:t,viewBox:r}):mr(t)?he.createElement(Ii,{key:"label-implicit",content:t,viewBox:r}):wx(t)?he.createElement(Ii,Iy({viewBox:r},t,{key:"label-implicit"})):null:null},JDe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=nJ(t),o=ul(a,Ii).map(function(c,u){return N.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=ZDe(t.label,r||s);return[l].concat(RDe(o))};Ii.parseViewBox=nJ;Ii.renderCallByParent=JDe;function e8e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var t8e=e8e;const r8e=Nn(t8e);function Fy(e){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fy(e)}var n8e=["valueAccessor"],a8e=["data","dataKey","clockWise","id","textBreakAll"];function i8e(e){return c8e(e)||l8e(e)||o8e(e)||s8e()}function s8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o8e(e,t){if(e){if(typeof e=="string")return oP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oP(e,t)}}function l8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c8e(e){if(Array.isArray(e))return oP(e)}function oP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qN.apply(this,arguments)}function JM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(r),!0).forEach(function(n){u8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u8e(e,t,r){return t=d8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8e(e){var t=f8e(e,"string");return Fy(t)=="symbol"?t:t+""}function f8e(e,t){if(Fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tL(e,t){if(e==null)return{};var r=h8e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var m8e=function(t){return Array.isArray(t.value)?r8e(t.value):t.value};function pu(e){var t=e.valueAccessor,r=t===void 0?m8e:t,n=tL(e,n8e),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=tL(n,a8e);return!a||!a.length?null:he.createElement(Yr,{className:"recharts-label-list"},a.map(function(d,f){var h=Or(s)?r(d,f):Wa(d&&d.payload,s),m=Or(l)?{}:{id:"".concat(l,"-").concat(f)};return he.createElement(Ii,qN({},or(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Ii.parseViewBox(Or(o)?d:eL(eL({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}pu.displayName="LabelList";function p8e(e,t){return e?e===!0?he.createElement(pu,{key:"labelList-implicit",data:t}):he.isValidElement(e)||mr(e)?he.createElement(pu,{key:"labelList-implicit",data:t,content:e}):wx(e)?he.createElement(pu,qN({data:t},e,{key:"labelList-implicit"})):null:null}function g8e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ul(n,pu).map(function(o,l){return N.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=p8e(e.label,t);return[s].concat(i8e(a))}pu.renderCallByParent=g8e;function Ry(e){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(e)}function lP(){return lP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lP.apply(this,arguments)}function rL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rL(Object(r),!0).forEach(function(n){x8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x8e(e,t,r){return t=v8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v8e(e){var t=y8e(e,"string");return Ry(t)=="symbol"?t:t+""}function y8e(e,t){if(Ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b8e=function(t,r){var n=Xs(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},dw=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/zN,h=u?s:s+o*f,m=Xn(r,n,d,h),g=Xn(r,n,a,h),p=u?s-o*f:s,x=Xn(r,n,d*Math.cos(f*zN),p);return{center:m,circleTangency:g,lineTangency:x,theta:f}},aJ=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=b8e(o,l),u=o+c,d=Xn(r,n,s,o),f=Xn(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Xn(r,n,a,o),g=Xn(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},w8e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Xs(d-u),h=dw({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,x=dw({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=x.circleTangency,y=x.lineTangency,b=x.theta,j=c?Math.abs(u-d):Math.abs(u-d)-p-b;if(j<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):aJ({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var P=dw({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=P.circleTangency,S=P.lineTangency,E=P.theta,M=dw({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=M.circleTangency,C=M.lineTangency,I=M.theta,L=c?Math.abs(u-d):Math.abs(u-d)-E-I;if(L<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},j8e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iJ=function(t){var r=nL(nL({},j8e),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=Rr("recharts-sector",h),g=o-s,p=Qs(l,g,0,!0),x;return p>0&&Math.abs(d-f)<360?x=w8e({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=aJ({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),he.createElement("path",lP({},or(r,!0),{className:m,d:x,role:"img"}))};function My(e){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},My(e)}function cP(){return cP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cP.apply(this,arguments)}function aL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(r),!0).forEach(function(n){N8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N8e(e,t,r){return t=_8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _8e(e){var t=S8e(e,"string");return My(t)=="symbol"?t:t+""}function S8e(e,t){if(My(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sL={curveBasisClosed:NNe,curveBasisOpen:_Ne,curveBasis:jNe,curveBumpX:lNe,curveBumpY:cNe,curveLinearClosed:SNe,curveLinear:rS,curveMonotoneX:ANe,curveMonotoneY:CNe,curveNatural:ENe,curveStep:PNe,curveStepAfter:TNe,curveStepBefore:kNe},fw=function(t){return t.x===+t.x&&t.y===+t.y},Tv=function(t){return t.x},Ov=function(t){return t.y},A8e=function(t,r){if(mr(t))return t;var n="curve".concat(eS(t));return(n==="curveMonotone"||n==="curveBump")&&r?sL["".concat(n).concat(r==="vertical"?"Y":"X")]:sL[n]||rS},C8e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=A8e(n,l),f=u?s.filter(function(p){return fw(p)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return fw(p)}):o,g=f.map(function(p,x){return iL(iL({},p),{},{base:m[x]})});return l==="vertical"?h=rw().y(Ov).x1(Tv).x0(function(p){return p.base.x}):h=rw().x(Tv).y1(Ov).y0(function(p){return p.base.y}),h.defined(fw).curve(d),h(g)}return l==="vertical"&&At(o)?h=rw().y(Ov).x1(Tv).x0(o):At(o)?h=rw().x(Tv).y1(Ov).y0(o):h=JX().x(Tv).y(Ov),h.defined(fw).curve(d),h(f)},Fm=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?C8e(t):a;return he.createElement("path",cP({},or(t,!1),fN(t),{className:Rr("recharts-curve",r),d:o,ref:s}))},sJ={exports:{}},E8e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",P8e=E8e,k8e=P8e;function oJ(){}function lJ(){}lJ.resetWarningCache=oJ;var T8e=function(){function e(n,a,s,o,l,c){if(c!==k8e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:lJ,resetWarningCache:oJ};return r.PropTypes=r,r};sJ.exports=T8e();var O8e=sJ.exports;const bn=Nn(O8e);var D8e=Object.getOwnPropertyNames,I8e=Object.getOwnPropertySymbols,F8e=Object.prototype.hasOwnProperty;function oL(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function hw(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function lL(e){return D8e(e).concat(I8e(e))}var R8e=Object.hasOwn||function(e,t){return F8e.call(e,t)};function wp(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var M8e="__v",L8e="__o",$8e="_owner",cL=Object.getOwnPropertyDescriptor,uL=Object.keys;function B8e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function z8e(e,t){return wp(e.getTime(),t.getTime())}function q8e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function U8e(e,t){return e===t}function dL(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var V8e=wp;function W8e(e,t,r){var n=uL(e),a=n.length;if(uL(t).length!==a)return!1;for(;a-- >0;)if(!cJ(e,t,r,n[a]))return!1;return!0}function Dv(e,t,r){var n=lL(e),a=n.length;if(lL(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!cJ(e,t,r,s)||(o=cL(e,s),l=cL(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function H8e(e,t){return wp(e.valueOf(),t.valueOf())}function G8e(e,t){return e.source===t.source&&e.flags===t.flags}function fL(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function K8e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Y8e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function cJ(e,t,r,n){return(n===$8e||n===L8e||n===M8e)&&(e.$$typeof||t.$$typeof)?!0:R8e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var X8e="[object Arguments]",Q8e="[object Boolean]",Z8e="[object Date]",J8e="[object Error]",eIe="[object Map]",tIe="[object Number]",rIe="[object Object]",nIe="[object RegExp]",aIe="[object Set]",iIe="[object String]",sIe="[object URL]",oIe=Array.isArray,hL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,mL=Object.assign,lIe=Object.prototype.toString.call.bind(Object.prototype.toString);function cIe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,p,x){if(g===p)return!0;if(g==null||p==null)return!1;var v=typeof g;if(v!==typeof p)return!1;if(v!=="object")return v==="number"?o(g,p,x):v==="function"?a(g,p,x):!1;var y=g.constructor;if(y!==p.constructor)return!1;if(y===Object)return l(g,p,x);if(oIe(g))return t(g,p,x);if(hL!=null&&hL(g))return f(g,p,x);if(y===Date)return r(g,p,x);if(y===RegExp)return u(g,p,x);if(y===Map)return s(g,p,x);if(y===Set)return d(g,p,x);var b=lIe(g);return b===Z8e?r(g,p,x):b===nIe?u(g,p,x):b===eIe?s(g,p,x):b===aIe?d(g,p,x):b===rIe?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,x):b===sIe?h(g,p,x):b===J8e?n(g,p,x):b===X8e?l(g,p,x):b===Q8e||b===tIe||b===iIe?c(g,p,x):!1}}function uIe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Dv:B8e,areDatesEqual:z8e,areErrorsEqual:q8e,areFunctionsEqual:U8e,areMapsEqual:n?oL(dL,Dv):dL,areNumbersEqual:V8e,areObjectsEqual:n?Dv:W8e,arePrimitiveWrappersEqual:H8e,areRegExpsEqual:G8e,areSetsEqual:n?oL(fL,Dv):fL,areTypedArraysEqual:n?Dv:K8e,areUrlsEqual:Y8e};if(r&&(a=mL({},a,r(a))),t){var s=hw(a.areArraysEqual),o=hw(a.areMapsEqual),l=hw(a.areObjectsEqual),c=hw(a.areSetsEqual);a=mL({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function dIe(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function fIe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var hIe=_h();_h({strict:!0});_h({circular:!0});_h({circular:!0,strict:!0});_h({createInternalComparator:function(){return wp}});_h({strict:!0,createInternalComparator:function(){return wp}});_h({circular:!0,createInternalComparator:function(){return wp}});_h({circular:!0,createInternalComparator:function(){return wp},strict:!0});function _h(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=uIe(e),c=cIe(l),u=n?n(c):dIe(c);return fIe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function mIe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function pL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):mIe(a)};requestAnimationFrame(n)}function uP(e){"@babel/helpers - typeof";return uP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uP(e)}function pIe(e){return yIe(e)||vIe(e)||xIe(e)||gIe()}function gIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xIe(e,t){if(e){if(typeof e=="string")return gL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gL(e,t)}}function gL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yIe(e){if(Array.isArray(e))return e}function bIe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=pIe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){pL(a.bind(null,u),c);return}a(c),pL(a.bind(null,u));return}uP(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Ly(e){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ly(e)}function xL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xL(Object(r),!0).forEach(function(n){uJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uJ(e,t,r){return t=wIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wIe(e){var t=jIe(e,"string");return Ly(t)==="symbol"?t:String(t)}function jIe(e,t){if(Ly(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ly(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NIe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},_Ie=function(t){return t},SIe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},p1=function(t,r){return Object.keys(r).reduce(function(n,a){return vL(vL({},n),{},uJ({},a,t(a,r[a])))},{})},yL=function(t,r,n){return t.map(function(a){return"".concat(SIe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function AIe(e,t){return PIe(e)||EIe(e,t)||dJ(e,t)||CIe()}function CIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function PIe(e){if(Array.isArray(e))return e}function kIe(e){return DIe(e)||OIe(e)||dJ(e)||TIe()}function TIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dJ(e,t){if(e){if(typeof e=="string")return dP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dP(e,t)}}function OIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DIe(e){if(Array.isArray(e))return dP(e)}function dP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var UN=1e-4,fJ=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},hJ=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},bL=function(t,r){return function(n){var a=fJ(t,r);return hJ(a,n)}},IIe=function(t,r){return function(n){var a=fJ(t,r),s=[].concat(kIe(a.map(function(o,l){return o*l}).slice(1)),[0]);return hJ(s,n)}},wL=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=AIe(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=bL(a,o),h=bL(s,l),m=IIe(a,o),g=function(v){return v>1?1:v<0?0:v},p=function(v){for(var y=v>1?1:v,b=y,j=0;j<8;++j){var _=f(b)-y,P=m(b);if(Math.abs(_-y)<UN||P<UN)return h(b);b=g(b-_/P)}return h(b)};return p.isStepper=!1,p},FIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*s,p=h+(m-g)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<UN&&Math.abs(p)<UN?[f,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},RIe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wL(a);case"spring":return FIe();default:if(a.split("(")[0]==="cubic-bezier")return wL(a)}return typeof a=="function"?a:null};function $y(e){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$y(e)}function jL(e){return $Ie(e)||LIe(e)||mJ(e)||MIe()}function MIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Ie(e){if(Array.isArray(e))return hP(e)}function NL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NL(Object(r),!0).forEach(function(n){fP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fP(e,t,r){return t=BIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BIe(e){var t=zIe(e,"string");return $y(t)==="symbol"?t:String(t)}function zIe(e,t){if($y(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($y(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qIe(e,t){return WIe(e)||VIe(e,t)||mJ(e,t)||UIe()}function UIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mJ(e,t){if(e){if(typeof e=="string")return hP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hP(e,t)}}function hP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function WIe(e){if(Array.isArray(e))return e}var VN=function(t,r,n){return t+(r-t)*n},mP=function(t){var r=t.from,n=t.to;return r!==n},HIe=function e(t,r,n){var a=p1(function(s,o){if(mP(o)){var l=t(o.from,o.to,o.velocity),c=qIe(l,2),u=c[0],d=c[1];return Zi(Zi({},o),{},{from:u,velocity:d})}return o},r);return n<1?p1(function(s,o){return mP(o)?Zi(Zi({},o),{},{velocity:VN(o.velocity,a[s].velocity,n),from:VN(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const GIe=function(e,t,r,n,a){var s=NIe(e,t),o=s.reduce(function(x,v){return Zi(Zi({},x),{},fP({},v,[e[v],t[v]]))},{}),l=s.reduce(function(x,v){return Zi(Zi({},x),{},fP({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return p1(function(v,y){return y.from},l)},m=function(){return!Object.values(l).filter(mP).length},g=function(v){u||(u=v);var y=v-u,b=y/r.dt;l=HIe(r,l,b),a(Zi(Zi(Zi({},e),t),h())),u=v,m()||(c=requestAnimationFrame(f))},p=function(v){d||(d=v);var y=(v-d)/n,b=p1(function(_,P){return VN.apply(void 0,jL(P).concat([r(y)]))},o);if(a(Zi(Zi(Zi({},e),t),b)),y<1)c=requestAnimationFrame(f);else{var j=p1(function(_,P){return VN.apply(void 0,jL(P).concat([r(1)]))},o);a(Zi(Zi(Zi({},e),t),j))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}var KIe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function YIe(e,t){if(e==null)return{};var r=XIe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XIe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function qA(e){return eFe(e)||JIe(e)||ZIe(e)||QIe()}function QIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZIe(e,t){if(e){if(typeof e=="string")return pP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pP(e,t)}}function JIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eFe(e){if(Array.isArray(e))return pP(e)}function pP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_L(Object(r),!0).forEach(function(n){Kv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kv(e,t,r){return t=pJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pJ(n.key),n)}}function nFe(e,t,r){return t&&rFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pJ(e){var t=aFe(e,"string");return zg(t)==="symbol"?t:String(t)}function aFe(e,t){if(zg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gP(e,t)}function gP(e,t){return gP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gP(e,t)}function sFe(e){var t=oFe();return function(){var n=WN(e),a;if(t){var s=WN(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return xP(this,a)}}function xP(e,t){if(t&&(zg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vP(e)}function vP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function WN(e){return WN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},WN(e)}var kc=function(e){iFe(r,e);var t=sFe(r);function r(n,a){var s;tFe(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(vP(s)),s.changeStyle=s.changeStyle.bind(vP(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),xP(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},xP(s);s.state={style:c?Kv({},c,u):u}}else s.state={style:{}};return s}return nFe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?Kv({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(hIe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&h){var x={style:c?Kv({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(x)}this.runAnimation(ec(ec({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=GIe(o,l,RIe(u),c,this.changeStyle),g=function(){s.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,x,v){if(v===0)return p;var y=x.duration,b=x.easing,j=b===void 0?"ease":b,_=x.style,P=x.properties,k=x.onAnimationEnd,S=v>0?o[v-1]:x,E=P||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(qA(p),[s.runJSAnimation.bind(s,{from:S.style,to:_,duration:y,easing:j}),y]);var M=yL(E,y,j),T=ec(ec(ec({},S.style),_),{},{transition:M});return[].concat(qA(p),[T,y,k]).filter(_Ie)};return this.manager.start([c].concat(qA(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=bIe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?Kv({},l,c):c,x=yL(Object.keys(p),o,u);g.start([d,s,ec(ec({},p),{},{transition:x}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=YIe(a,KIe),u=N.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var g=m.props,p=g.style,x=p===void 0?{}:p,v=g.className,y=N.cloneElement(m,ec(ec({},c),{},{style:ec(ec({},x),d),className:v}));return y};return u===1?f(N.Children.only(s)):he.createElement("div",null,N.Children.map(s,function(h){return f(h)}))}}]),r}(N.PureComponent);kc.displayName="Animate";kc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};kc.propTypes={from:bn.oneOfType([bn.object,bn.string]),to:bn.oneOfType([bn.object,bn.string]),attributeName:bn.string,duration:bn.number,begin:bn.number,easing:bn.oneOfType([bn.string,bn.func]),steps:bn.arrayOf(bn.shape({duration:bn.number.isRequired,style:bn.object.isRequired,easing:bn.oneOfType([bn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),bn.func]),properties:bn.arrayOf("string"),onAnimationEnd:bn.func})),children:bn.oneOfType([bn.node,bn.func]),isActive:bn.bool,canBegin:bn.bool,onAnimationEnd:bn.func,shouldReAnimate:bn.bool,onAnimationStart:bn.func,onAnimationReStart:bn.func};function By(e){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},By(e)}function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HN.apply(this,arguments)}function lFe(e,t){return fFe(e)||dFe(e,t)||uFe(e,t)||cFe()}function cFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uFe(e,t){if(e){if(typeof e=="string")return SL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SL(e,t)}}function SL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fFe(e){if(Array.isArray(e))return e}function AL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(r),!0).forEach(function(n){hFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hFe(e,t,r){return t=mFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mFe(e){var t=pFe(e,"string");return By(t)=="symbol"?t:t+""}function pFe(e,t){if(By(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(By(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EL=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},gFe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},xFe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},o6=function(t){var r=CL(CL({},xFe),t),n=N.useRef(),a=N.useState(-1),s=lFe(a,2),o=s[0],l=s[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,v=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Rr("recharts-rectangle",m);return y?he.createElement(kc,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(j){var _=j.width,P=j.height,k=j.x,S=j.y;return he.createElement(kc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:v,easing:g},he.createElement("path",HN({},or(r,!0),{className:b,d:EL(k,S,_,P,h),ref:n})))}):he.createElement("path",HN({},or(r,!0),{className:b,d:EL(c,u,d,f,h)}))},vFe=["points","className","baseLinePoints","connectNulls"];function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C0.apply(this,arguments)}function yFe(e,t){if(e==null)return{};var r=bFe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PL(e){return _Fe(e)||NFe(e)||jFe(e)||wFe()}function wFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jFe(e,t){if(e){if(typeof e=="string")return yP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yP(e,t)}}function NFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Fe(e){if(Array.isArray(e))return yP(e)}function yP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kL=function(t){return t&&t.x===+t.x&&t.y===+t.y},SFe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){kL(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),kL(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},g1=function(t,r){var n=SFe(t);r&&(n=[n.reduce(function(s,o){return[].concat(PL(s),PL(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},AFe=function(t,r,n){var a=g1(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(g1(r.reverse(),n).slice(1))},CFe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=yFe(t,vFe);if(!r||!r.length)return null;var l=Rr("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=AFe(r,a,s);return he.createElement("g",{className:l},he.createElement("path",C0({},or(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?he.createElement("path",C0({},or(o,!0),{fill:"none",d:g1(r,s)})):null,c?he.createElement("path",C0({},or(o,!0),{fill:"none",d:g1(a,s)})):null)}var d=g1(r,s);return he.createElement("path",C0({},or(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function bP(){return bP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bP.apply(this,arguments)}var zb=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=Rr("recharts-dot",s);return r===+r&&n===+n&&a===+a?he.createElement("circle",bP({},or(t,!1),fN(t),{className:o,cx:r,cy:n,r:a})):null};function zy(e){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zy(e)}var EFe=["x","y","top","left","width","height","className"];function wP(){return wP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wP.apply(this,arguments)}function TL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PFe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(r),!0).forEach(function(n){kFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kFe(e,t,r){return t=TFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TFe(e){var t=OFe(e,"string");return zy(t)=="symbol"?t:t+""}function OFe(e,t){if(zy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DFe(e,t){if(e==null)return{};var r=IFe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var FFe=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},RFe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=DFe(t,EFe),x=PFe({x:n,y:s,top:l,left:u,width:f,height:m},p);return!At(n)||!At(s)||!At(f)||!At(m)||!At(l)||!At(u)?null:he.createElement("path",wP({},or(x,!0),{className:Rr("recharts-cross",g),d:FFe(n,s,f,m,l,u)}))},MFe=hS,LFe=CZ,$Fe=_u;function BFe(e,t){return e&&e.length?MFe(e,$Fe(t),LFe):void 0}var zFe=BFe;const qFe=Nn(zFe);var UFe=hS,VFe=_u,WFe=EZ;function HFe(e,t){return e&&e.length?UFe(e,VFe(t),WFe):void 0}var GFe=HFe;const KFe=Nn(GFe);var YFe=["cx","cy","angle","ticks","axisLine"],XFe=["ticks","tick","angle","tickFormatter","stroke"];function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x1.apply(this,arguments)}function OL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OL(Object(r),!0).forEach(function(n){xS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DL(e,t){if(e==null)return{};var r=QFe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xJ(n.key),n)}}function JFe(e,t,r){return t&&IL(e.prototype,t),r&&IL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eRe(e,t,r){return t=GN(t),tRe(e,gJ()?Reflect.construct(t,r||[],GN(e).constructor):t.apply(e,r))}function tRe(e,t){if(t&&(qg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rRe(e)}function rRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gJ=function(){return!!e})()}function GN(e){return GN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},GN(e)}function nRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jP(e,t)}function jP(e,t){return jP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jP(e,t)}function xS(e,t,r){return t=xJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xJ(e){var t=aRe(e,"string");return qg(t)=="symbol"?t:t+""}function aRe(e,t){if(qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vS=function(e){function t(){return ZFe(this,t),eRe(this,t,arguments)}return nRe(t,e),JFe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return Xn(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=qFe(l,function(d){return d.coordinate||0}),u=KFe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=DL(n,YFe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=Xn(a,s,d[0],o),h=Xn(a,s,d[1],o),m=Yh(Yh(Yh({},or(u,!1)),{},{fill:"none"},or(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return he.createElement("line",x1({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=DL(a,XFe),f=this.getTickTextAnchor(),h=or(d,!1),m=or(o,!1),g=s.map(function(p,x){var v=n.getTickValueCoord(p),y=Yh(Yh(Yh(Yh({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:x},v),{},{payload:p});return he.createElement(Yr,x1({className:Rr("recharts-polar-radius-axis-tick",rJ(o)),key:"tick-".concat(p.coordinate)},Jm(n.props,p,x)),t.renderTickItem(o,y,c?c(p.value,x):p.value))});return he.createElement(Yr,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:he.createElement(Yr,{className:Rr("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Ii.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return he.isValidElement(n)?o=he.cloneElement(n,a):mr(n)?o=n(a):o=he.createElement(ep,x1({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(N.PureComponent);xS(vS,"displayName","PolarRadiusAxis");xS(vS,"axisType","radiusAxis");xS(vS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},am.apply(this,arguments)}function FL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FL(Object(r),!0).forEach(function(n){yS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yJ(n.key),n)}}function sRe(e,t,r){return t&&RL(e.prototype,t),r&&RL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oRe(e,t,r){return t=KN(t),lRe(e,vJ()?Reflect.construct(t,r||[],KN(e).constructor):t.apply(e,r))}function lRe(e,t){if(t&&(Ug(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cRe(e)}function cRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vJ=function(){return!!e})()}function KN(e){return KN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},KN(e)}function uRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NP(e,t)}function NP(e,t){return NP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NP(e,t)}function yS(e,t,r){return t=yJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yJ(e){var t=dRe(e,"string");return Ug(t)=="symbol"?t:t+""}function dRe(e,t){if(Ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fRe=Math.PI/180,ML=1e-5,bS=function(e){function t(){return iRe(this,t),oRe(this,t,arguments)}return uRe(t,e),sRe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Xn(s,o,l,n.coordinate),h=Xn(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*fRe),o;return s>ML?o=a==="outer"?"start":"end":s<-ML?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Xh(Xh({},or(this.props,!1)),{},{fill:"none"},or(l,!1));if(c==="circle")return he.createElement(zb,am({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return Xn(a,s,o,h.coordinate)});return he.createElement(CFe,am({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=or(this.props,!1),f=or(o,!1),h=Xh(Xh({},d),{},{fill:"none"},or(l,!1)),m=s.map(function(g,p){var x=n.getTickLineCoord(g),v=n.getTickTextAnchor(g),y=Xh(Xh(Xh({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:x.x2,y:x.y2});return he.createElement(Yr,am({className:Rr("recharts-polar-angle-axis-tick",rJ(o)),key:"tick-".concat(g.coordinate)},Jm(n.props,g,p)),l&&he.createElement("line",am({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,y,c?c(g.value,p):g.value))});return he.createElement(Yr,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:he.createElement(Yr,{className:Rr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return he.isValidElement(n)?o=he.cloneElement(n,a):mr(n)?o=n(a):o=he.createElement(ep,am({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(N.PureComponent);yS(bS,"displayName","PolarAngleAxis");yS(bS,"axisType","angleAxis");yS(bS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var hRe=NQ,mRe=hRe(Object.getPrototypeOf,Object),pRe=mRe,gRe=Md,xRe=pRe,vRe=Ld,yRe="[object Object]",bRe=Function.prototype,wRe=Object.prototype,bJ=bRe.toString,jRe=wRe.hasOwnProperty,NRe=bJ.call(Object);function _Re(e){if(!vRe(e)||gRe(e)!=yRe)return!1;var t=xRe(e);if(t===null)return!0;var r=jRe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&bJ.call(r)==NRe}var SRe=_Re;const ARe=Nn(SRe);var CRe=Md,ERe=Ld,PRe="[object Boolean]";function kRe(e){return e===!0||e===!1||ERe(e)&&CRe(e)==PRe}var TRe=kRe;const ORe=Nn(TRe);function qy(e){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qy(e)}function YN(){return YN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YN.apply(this,arguments)}function DRe(e,t){return MRe(e)||RRe(e,t)||FRe(e,t)||IRe()}function IRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FRe(e,t){if(e){if(typeof e=="string")return LL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LL(e,t)}}function LL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function MRe(e){if(Array.isArray(e))return e}function $L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(r),!0).forEach(function(n){LRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LRe(e,t,r){return t=$Re(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Re(e){var t=BRe(e,"string");return qy(t)=="symbol"?t:t+""}function BRe(e,t){if(qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zL=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},zRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qRe=function(t){var r=BL(BL({},zRe),t),n=N.useRef(),a=N.useState(-1),s=DRe(a,2),o=s[0],l=s[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Rr("recharts-trapezoid",m);return v?he.createElement(kc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:v},function(b){var j=b.upperWidth,_=b.lowerWidth,P=b.height,k=b.x,S=b.y;return he.createElement(kc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:g},he.createElement("path",YN({},or(r,!0),{className:y,d:zL(k,S,j,_,P),ref:n})))}):he.createElement("g",null,he.createElement("path",YN({},or(r,!0),{className:y,d:zL(c,u,d,f,h)})))},URe=["option","shapeType","propTransformer","activeClassName","isActive"];function Uy(e){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uy(e)}function VRe(e,t){if(e==null)return{};var r=WRe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qL(Object(r),!0).forEach(function(n){HRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HRe(e,t,r){return t=GRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GRe(e){var t=KRe(e,"string");return Uy(t)=="symbol"?t:t+""}function KRe(e,t){if(Uy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YRe(e,t){return XN(XN({},t),e)}function XRe(e,t){return e==="symbols"}function UL(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return he.createElement(o6,r);case"trapezoid":return he.createElement(qRe,r);case"sector":return he.createElement(iJ,r);case"symbols":if(XRe(t))return he.createElement(AO,r);break;default:return null}}function QRe(e){return N.isValidElement(e)?e.props:e}function wJ(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?YRe:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=VRe(e,URe),u;if(N.isValidElement(t))u=N.cloneElement(t,XN(XN({},c),QRe(t)));else if(mr(t))u=t(c);else if(ARe(t)&&!ORe(t)){var d=a(t,c);u=he.createElement(UL,{shapeType:r,elementProps:d})}else{var f=c;u=he.createElement(UL,{shapeType:r,elementProps:f})}return l?he.createElement(Yr,{className:o},u):u}function wS(e,t){return t!=null&&"trapezoids"in e.props}function jS(e,t){return t!=null&&"sectors"in e.props}function Vy(e,t){return t!=null&&"points"in e.props}function ZRe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function JRe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function eMe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function tMe(e,t){var r;return wS(e,t)?r=ZRe:jS(e,t)?r=JRe:Vy(e,t)&&(r=eMe),r}function rMe(e,t){var r;return wS(e,t)?r="trapezoids":jS(e,t)?r="sectors":Vy(e,t)&&(r="points"),r}function nMe(e,t){if(wS(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(jS(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Vy(e,t)?t.payload:{}}function aMe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=rMe(r,t),s=nMe(r,t),o=n.filter(function(c,u){var d=tp(s,c),f=r.props[a].filter(function(g){var p=tMe(r,t);return p(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var oj;function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(this,arguments)}function VL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VL(Object(r),!0).forEach(function(n){Dl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NJ(n.key),n)}}function sMe(e,t,r){return t&&WL(e.prototype,t),r&&WL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oMe(e,t,r){return t=QN(t),lMe(e,jJ()?Reflect.construct(t,r||[],QN(e).constructor):t.apply(e,r))}function lMe(e,t){if(t&&(Vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cMe(e)}function cMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jJ=function(){return!!e})()}function QN(e){return QN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},QN(e)}function uMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_P(e,t)}function _P(e,t){return _P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_P(e,t)}function Dl(e,t,r){return t=NJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NJ(e){var t=dMe(e,"string");return Vg(t)=="symbol"?t:t+""}function dMe(e,t){if(Vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fc=function(e){function t(r){var n;return iMe(this,t),n=oMe(this,t,[r]),Dl(n,"pieRef",null),Dl(n,"sectorRefs",[]),Dl(n,"id",vp("recharts-pie-")),Dl(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),mr(a)&&a()}),Dl(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),mr(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return uMe(t,e),sMe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=or(this.props,!1),f=or(o,!1),h=or(l,!1),m=o&&o.offsetRadius||20,g=n.map(function(p,x){var v=(p.startAngle+p.endAngle)/2,y=Xn(p.cx,p.cy,p.outerRadius+m,v),b=Gn(Gn(Gn(Gn({},d),p),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(y.x,p.cx)},y),j=Gn(Gn(Gn(Gn({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:x,points:[Xn(p.cx,p.cy,p.outerRadius,v),y]}),_=c;return Or(c)&&Or(u)?_="value":Or(c)&&(_=u),he.createElement(Yr,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,b,Wa(p,_)))});return he.createElement(Yr,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,g=Gn(Gn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return he.createElement(Yr,E0({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Jm(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),he.createElement(wJ,E0({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return he.createElement(kc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,x=[],v=s&&s[0],y=v.startAngle;return s.forEach(function(b,j){var _=h&&h[j],P=j>0?cl(b,"paddingAngle",0):0;if(_){var k=Ni(_.endAngle-_.startAngle,b.endAngle-b.startAngle),S=Gn(Gn({},b),{},{startAngle:y+P,endAngle:y+k(p)+P});x.push(S),y=S.endAngle}else{var E=b.endAngle,M=b.startAngle,T=Ni(0,E-M),C=T(p),I=Gn(Gn({},b),{},{startAngle:y+P,endAngle:y+C+P});x.push(I),y=I.endAngle}}),he.createElement(Yr,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!tp(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(s||!o||!o.length||!At(u)||!At(d)||!At(f)||!At(h))return null;var p=Rr("recharts-pie",l);return he.createElement(Yr,{tabIndex:this.props.rootTabIndex,className:p,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),Ii.renderCallByParent(this.props,null,!1),(!m||g)&&pu.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(he.isValidElement(n))return he.cloneElement(n,a);if(mr(n))return n(a);var o=Rr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return he.createElement(Fm,E0({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(he.isValidElement(n))return he.cloneElement(n,a);var o=s;if(mr(n)&&(o=n(a),he.isValidElement(o)))return o;var l=Rr("recharts-pie-label-text",typeof n!="boolean"&&!mr(n)?n.className:"");return he.createElement(ep,E0({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(N.PureComponent);oj=Fc;Dl(Fc,"displayName","Pie");Dl(Fc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wh.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Dl(Fc,"parseDeltaAngle",function(e,t){var r=Xs(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Dl(Fc,"getRealPieData",function(e){var t=e.data,r=e.children,n=or(e,!1),a=ul(r,Qf);return t&&t.length?t.map(function(s,o){return Gn(Gn(Gn({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return Gn(Gn({},n),s.props)}):[]});Dl(Fc,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=tJ(a,s),l=n+Qs(e.cx,a,a/2),c=r+Qs(e.cy,s,s/2),u=Qs(e.innerRadius,o,0),d=Qs(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Dl(Fc,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Gn(Gn({},t.type.defaultProps),t.props):t.props,a=oj.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=oj.parseCoordinateOfPie(n,r),p=oj.parseDeltaAngle(o,l),x=Math.abs(p),v=u;Or(u)&&Or(f)?(_c(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Or(u)&&(_c(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var y=a.filter(function(S){return Wa(S,v,0)!==0}).length,b=(x>=360?y:y-1)*c,j=x-y*m-b,_=a.reduce(function(S,E){var M=Wa(E,v,0);return S+(At(M)?M:0)},0),P;if(_>0){var k;P=a.map(function(S,E){var M=Wa(S,v,0),T=Wa(S,d,E),C=(At(M)?M:0)/_,I;E?I=k.endAngle+Xs(p)*c*(M!==0?1:0):I=o;var L=I+Xs(p)*((M!==0?m:0)+C*j),z=(I+L)/2,G=(g.innerRadius+g.outerRadius)/2,W=[{name:T,value:M,payload:S,dataKey:v,type:h}],q=Xn(g.cx,g.cy,G,z);return k=Gn(Gn(Gn({percent:C,cornerRadius:s,name:T,tooltipPayload:W,midAngle:z,middleRadius:G,tooltipPosition:q},S),g),{},{value:Wa(S,v),startAngle:I,endAngle:L,payload:S,paddingAngle:Xs(p)*c}),k})}return Gn(Gn({},g),{},{sectors:P,data:a})});var fMe=Math.ceil,hMe=Math.max;function mMe(e,t,r,n){for(var a=-1,s=hMe(fMe((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var pMe=mMe,gMe=qQ,HL=1/0,xMe=17976931348623157e292;function vMe(e){if(!e)return e===0?e:0;if(e=gMe(e),e===HL||e===-HL){var t=e<0?-1:1;return t*xMe}return e===e?e:0}var _J=vMe,yMe=pMe,bMe=sS,UA=_J;function wMe(e){return function(t,r,n){return n&&typeof n!="number"&&bMe(t,r,n)&&(r=n=void 0),t=UA(t),r===void 0?(r=t,t=0):r=UA(r),n=n===void 0?t<r?1:-1:UA(n),yMe(t,r,n,e)}}var jMe=wMe,NMe=jMe,_Me=NMe(),SMe=_Me;const ZN=Nn(SMe);function Wy(e){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wy(e)}function GL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GL(Object(r),!0).forEach(function(n){SJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SJ(e,t,r){return t=AMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AMe(e){var t=CMe(e,"string");return Wy(t)=="symbol"?t:t+""}function CMe(e,t){if(Wy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EMe=["Webkit","Moz","O","ms"],PMe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=EMe.reduce(function(s,o){return KL(KL({},s),{},SJ({},o+n,r))},{});return a[t]=r,a};function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function JN(){return JN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JN.apply(this,arguments)}function YL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YL(Object(r),!0).forEach(function(n){zo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CJ(n.key),n)}}function TMe(e,t,r){return t&&XL(e.prototype,t),r&&XL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OMe(e,t,r){return t=e5(t),DMe(e,AJ()?Reflect.construct(t,r||[],e5(e).constructor):t.apply(e,r))}function DMe(e,t){if(t&&(Wg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IMe(e)}function IMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AJ=function(){return!!e})()}function e5(e){return e5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e5(e)}function FMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SP(e,t)}function SP(e,t){return SP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SP(e,t)}function zo(e,t,r){return t=CJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CJ(e){var t=RMe(e,"string");return Wg(t)=="symbol"?t:t+""}function RMe(e,t){if(Wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MMe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=h1().domain(ZN(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},QL=function(t){return t.changedTouches&&!!t.changedTouches.length},Hg=function(e){function t(r){var n;return kMe(this,t),n=OMe(this,t,[r]),zo(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),zo(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),zo(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),zo(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),zo(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),zo(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),zo(n,"handleSlideDragStart",function(a){var s=QL(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return FMe(t,e),TMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Wa(s[n],l,n);return mr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-s;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==h||x.endIndex!==m)&&g&&g(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=QL(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,x=d.data,v={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,f+h-m-u):y<0&&(y=Math.max(y,f-u)),v[o]=u+y;var b=this.getIndex(v),j=b.startIndex,_=b.endIndex,P=function(){var S=x.length-1;return o==="startX"&&(l>c?j%p===0:_%p===0)||l<c&&_===S||o==="endX"&&(l>c?_%p===0:j%p===0)||l>c&&_===S};this.setState(zo(zo({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&P()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(zo({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return he.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=N.Children.only(u);return f?he.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,x=c.endIndex,v=Math.max(n,this.props.x),y=VA(VA({},or(this.props,!1)),{},{x:v,y:u,width:d,height:f}),b=m||"Min value: ".concat((s=g[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return he.createElement(Yr,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return he.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return he.createElement(Yr,{className:"recharts-brush-texts"},he.createElement(ep,JN({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(a)),he.createElement(ep,JN({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,x=h.isSlideMoving,v=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!At(l)||!At(c)||!At(u)||!At(d)||u<=0||d<=0)return null;var b=Rr("recharts-brush",s),j=he.Children.count(o)===1,_=PMe("userSelect","none");return he.createElement(Yr,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||x||v||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return he.createElement(he.Fragment,null,he.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),he.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),he.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return he.isValidElement(n)?s=he.cloneElement(n,a):mr(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return VA({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?MMe({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(N.PureComponent);zo(Hg,"displayName","Brush");zo(Hg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var LMe=DO;function $Me(e,t){var r;return LMe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var BMe=$Me,zMe=pQ,qMe=_u,UMe=BMe,VMe=Eo,WMe=sS;function HMe(e,t,r){var n=VMe(e)?zMe:UMe;return r&&WMe(e,t,r)&&(t=void 0),n(e,qMe(t))}var GMe=HMe;const KMe=Nn(GMe);var gu=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},ZL=MQ;function YMe(e,t,r){t=="__proto__"&&ZL?ZL(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var XMe=YMe,QMe=XMe,ZMe=FQ,JMe=_u;function eLe(e,t){var r={};return t=JMe(t),ZMe(e,function(n,a,s){QMe(r,a,t(n,a,s))}),r}var tLe=eLe;const rLe=Nn(tLe);function nLe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var aLe=nLe,iLe=DO;function sLe(e,t){var r=!0;return iLe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var oLe=sLe,lLe=aLe,cLe=oLe,uLe=_u,dLe=Eo,fLe=sS;function hLe(e,t,r){var n=dLe(e)?lLe:cLe;return r&&fLe(e,t,r)&&(t=void 0),n(e,uLe(t))}var mLe=hLe;const EJ=Nn(mLe);var pLe=["x","y"];function Hy(e){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hy(e)}function AP(){return AP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AP.apply(this,arguments)}function JL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(r),!0).forEach(function(n){gLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gLe(e,t,r){return t=xLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xLe(e){var t=vLe(e,"string");return Hy(t)=="symbol"?t:t+""}function vLe(e,t){if(Hy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yLe(e,t){if(e==null)return{};var r=bLe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wLe(e,t){var r=e.x,n=e.y,a=yLe(e,pLe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Iv(Iv(Iv(Iv(Iv({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function e7(e){return he.createElement(wJ,AP({shapeType:"rectangle",propTransformer:wLe,activeClassName:"recharts-active-bar"},e))}var jLe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=typeof n=="number";return s?t(n,a):(s||np(),r)}},NLe=["value","background"],PJ;function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function _Le(e,t){if(e==null)return{};var r=SLe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function t5(){return t5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t5.apply(this,arguments)}function t7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t7(Object(r),!0).forEach(function(n){Mf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ALe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TJ(n.key),n)}}function CLe(e,t,r){return t&&r7(e.prototype,t),r&&r7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ELe(e,t,r){return t=r5(t),PLe(e,kJ()?Reflect.construct(t,r||[],r5(e).constructor):t.apply(e,r))}function PLe(e,t){if(t&&(Gg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kLe(e)}function kLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kJ=function(){return!!e})()}function r5(e){return r5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r5(e)}function TLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CP(e,t)}function CP(e,t){return CP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CP(e,t)}function Mf(e,t,r){return t=TJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TJ(e){var t=OLe(e,"string");return Gg(t)=="symbol"?t:t+""}function OLe(e,t){if(Gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nl=function(e){function t(){var r;ALe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=ELe(this,t,[].concat(a)),Mf(r,"state",{isAnimationFinished:!1}),Mf(r,"id",vp("recharts-bar-")),Mf(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Mf(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return TLe(t,e),CLe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=or(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=ti(ti(ti({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return he.createElement(Yr,t5({className:"recharts-bar-rectangle"},Jm(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),he.createElement(e7,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return he.createElement(kc,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=s.map(function(x,v){var y=h&&h[v];if(y){var b=Ni(y.x,x.x),j=Ni(y.y,x.y),_=Ni(y.width,x.width),P=Ni(y.height,x.height);return ti(ti({},x),{},{x:b(g),y:j(g),width:_(g),height:P(g)})}if(o==="horizontal"){var k=Ni(0,x.height),S=k(g);return ti(ti({},x),{},{y:x.y+x.height-S,height:S})}var E=Ni(0,x.width),M=E(g);return ti(ti({},x),{},{width:M})});return he.createElement(Yr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!tp(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=or(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=_Le(u,NLe);if(!f)return null;var m=ti(ti(ti(ti(ti({},h),{},{fill:"#eee"},f),c),Jm(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return he.createElement(e7,t5({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ul(d,Bb);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,v){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Wa(x,v)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return he.createElement(Yr,g,f.map(function(p){return he.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!s||!s.length)return null;var x=this.state.isAnimationFinished,v=Rr("recharts-bar",o),y=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,j=y||b,_=Or(p)?this.id:p;return he.createElement(Yr,{className:v},y||b?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(_)},he.createElement("rect",{x:y?u:u-f/2,y:b?d:d-h/2,width:y?f:f*2,height:b?h:h*2}))):null,he.createElement(Yr,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!m||x)&&pu.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(N.PureComponent);PJ=nl;Mf(nl,"displayName","Bar");Mf(nl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Mf(nl,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=fDe(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,x=p!==void 0?ti(ti({},p),r.props):r.props,v=x.dataKey,y=x.children,b=x.minPointSize,j=g==="horizontal"?o:s,_=u?j.scale.domain():null,P=yDe({numericAxis:j}),k=ul(y,Qf),S=f.map(function(E,M){var T,C,I,L,z,G;u?T=hDe(u[d+M],_):(T=Wa(E,v),Array.isArray(T)||(T=[P,T]));var W=jLe(b,PJ.defaultProps.minPointSize)(T[1],M);if(g==="horizontal"){var q,K=[o.scale(T[0]),o.scale(T[1])],ae=K[0],ie=K[1];C=WM({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:E,index:M}),I=(q=ie??ae)!==null&&q!==void 0?q:void 0,L=m.size;var O=ae-ie;if(z=Number.isNaN(O)?0:O,G={x:C,y:o.y,width:L,height:o.height},Math.abs(W)>0&&Math.abs(z)<Math.abs(W)){var V=Xs(z||W)*(Math.abs(W)-Math.abs(z));I-=V,z+=V}}else{var D=[s.scale(T[0]),s.scale(T[1])],B=D[0],Q=D[1];if(C=B,I=WM({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:E,index:M}),L=Q-B,z=m.size,G={x:s.x,y:I,width:s.width,height:z},Math.abs(W)>0&&Math.abs(L)<Math.abs(W)){var Y=Xs(L||W)*(Math.abs(W)-Math.abs(L));L+=Y}}return ti(ti(ti({},E),{},{x:C,y:I,width:L,height:z,value:u?T:T[1],payload:E,background:G},k&&k[M]&&k[M].props),{},{tooltipPayload:[JZ(r,E)],tooltipPosition:{x:C+L/2,y:I+z/2}})});return ti({data:S,layout:g},h)});function Gy(e){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gy(e)}function DLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OJ(n.key),n)}}function ILe(e,t,r){return t&&n7(e.prototype,t),r&&n7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a7(Object(r),!0).forEach(function(n){NS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NS(e,t,r){return t=OJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OJ(e){var t=FLe(e,"string");return Gy(t)=="symbol"?t:t+""}function FLe(e,t){if(Gy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l6=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Wo(u,nl);return d.reduce(function(m,g){var p=r[g],x=p.orientation,v=p.domain,y=p.padding,b=y===void 0?{}:y,j=p.mirror,_=p.reversed,P="".concat(x).concat(j?"Mirror":""),k,S,E,M,T;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var C=v[1]-v[0],I=1/0,L=p.categoricalDomain.sort();if(L.forEach(function(D,B){B>0&&(I=Math.min((D||0)-(L[B-1]||0),I))}),Number.isFinite(I)){var z=I/C,G=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(k=z*G/2),p.padding==="no-gap"){var W=Qs(t.barCategoryGap,z*G),q=z*G/2;k=q-W-(q-W)/G*W}}}a==="xAxis"?S=[n.left+(b.left||0)+(k||0),n.left+n.width-(b.right||0)-(k||0)]:a==="yAxis"?S=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(k||0),n.top+n.height-(b.bottom||0)-(k||0)]:S=p.range,_&&(S=[S[1],S[0]]);var K=YZ(p,s,h),ae=K.scale,ie=K.realScaleType;ae.domain(v).range(S),XZ(ae);var O=QZ(ae,lc(lc({},p),{},{realScaleType:ie}));a==="xAxis"?(T=x==="top"&&!j||x==="bottom"&&j,E=n.left,M=f[P]-T*p.height):a==="yAxis"&&(T=x==="left"&&!j||x==="right"&&j,E=f[P]-T*p.width,M=n.top);var V=lc(lc(lc({},p),O),{},{realScaleType:ie,x:E,y:M,scale:ae,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return V.bandSize=BN(V,O),!p.hide&&a==="xAxis"?f[P]+=(T?-1:1)*V.height:p.hide||(f[P]+=(T?-1:1)*V.width),lc(lc({},m),{},NS({},g,V))},{})},DJ=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},RLe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return DJ({x:r,y:n},{x:a,y:s})},IJ=function(){function e(t){DLe(this,e),this.scale=t}return ILe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();NS(IJ,"EPS",1e-4);var c6=function(t){var r=Object.keys(t).reduce(function(n,a){return lc(lc({},n),{},NS({},a,IJ.create(t[a])))},{});return lc(lc({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return rLe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return EJ(a,function(s,o){return r[o].isInRange(s)})}})};function MLe(e){return(e%180+180)%180}var LLe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=MLe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},$Le=_u,BLe=Fb,zLe=aS;function qLe(e){return function(t,r,n){var a=Object(t);if(!BLe(t)){var s=$Le(r);t=zLe(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var ULe=qLe,VLe=_J;function WLe(e){var t=VLe(e),r=t%1;return t===t?r?t-r:t:0}var HLe=WLe,GLe=PQ,KLe=_u,YLe=HLe,XLe=Math.max;function QLe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:YLe(r);return a<0&&(a=XLe(n+a,0)),GLe(e,KLe(t),a)}var ZLe=QLe,JLe=ULe,e7e=ZLe,t7e=JLe(e7e),r7e=t7e;const n7e=Nn(r7e);var a7e=rwe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),u6=N.createContext(void 0),d6=N.createContext(void 0),FJ=N.createContext(void 0),RJ=N.createContext({}),MJ=N.createContext(void 0),LJ=N.createContext(0),$J=N.createContext(0),i7=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=a7e(s);return he.createElement(u6.Provider,{value:n},he.createElement(d6.Provider,{value:a},he.createElement(RJ.Provider,{value:s},he.createElement(FJ.Provider,{value:d},he.createElement(MJ.Provider,{value:o},he.createElement(LJ.Provider,{value:u},he.createElement($J.Provider,{value:c},l)))))))},i7e=function(){return N.useContext(MJ)},BJ=function(t){var r=N.useContext(u6);r==null&&np();var n=r[t];return n==null&&np(),n},s7e=function(){var t=N.useContext(u6);return Nf(t)},o7e=function(){var t=N.useContext(d6),r=n7e(t,function(n){return EJ(n.domain,Number.isFinite)});return r||Nf(t)},zJ=function(t){var r=N.useContext(d6);r==null&&np();var n=r[t];return n==null&&np(),n},l7e=function(){var t=N.useContext(FJ);return t},c7e=function(){return N.useContext(RJ)},f6=function(){return N.useContext($J)},h6=function(){return N.useContext(LJ)};function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function u7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UJ(n.key),n)}}function f7e(e,t,r){return t&&d7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h7e(e,t,r){return t=n5(t),m7e(e,qJ()?Reflect.construct(t,r||[],n5(e).constructor):t.apply(e,r))}function m7e(e,t){if(t&&(Kg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p7e(e)}function p7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qJ=function(){return!!e})()}function n5(e){return n5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n5(e)}function g7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EP(e,t)}function EP(e,t){return EP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EP(e,t)}function s7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s7(Object(r),!0).forEach(function(n){m6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m6(e,t,r){return t=UJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UJ(e){var t=x7e(e,"string");return Kg(t)=="symbol"?t:t+""}function x7e(e,t){if(Kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function v7e(e,t){return j7e(e)||w7e(e,t)||b7e(e,t)||y7e()}function y7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b7e(e,t){if(e){if(typeof e=="string")return l7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l7(e,t)}}function l7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function j7e(e){if(Array.isArray(e))return e}function PP(){return PP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PP.apply(this,arguments)}var N7e=function(t,r){var n;return he.isValidElement(t)?n=he.cloneElement(t,r):mr(t)?n=t(r):n=he.createElement("line",PP({},r,{className:"recharts-reference-line-line"})),n},_7e=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(gu(u,"discard")&&!t.y.isInRange(p))return null;var x=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?x.reverse():x}if(r){var v=u.x,y=t.x.apply(v,{position:o});if(gu(u,"discard")&&!t.x.isInRange(y))return null;var b=[{x:y,y:f+m},{x:y,y:f}];return l==="top"?b.reverse():b}if(a){var j=u.segment,_=j.map(function(P){return t.apply(P,{position:o})});return gu(u,"discard")&&KMe(_,function(P){return!t.isInRange(P)})?null:_}return null};function S7e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=i7e(),d=BJ(a),f=zJ(s),h=l7e();if(!u||!h)return null;_c(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=c6({x:d.scale,y:f.scale}),g=Ai(t),p=Ai(r),x=n&&n.length===2,v=_7e(m,g,p,x,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var y=v7e(v,2),b=y[0],j=b.x,_=b.y,P=y[1],k=P.x,S=P.y,E=gu(e,"hidden")?"url(#".concat(u,")"):void 0,M=o7(o7({clipPath:E},or(e,!0)),{},{x1:j,y1:_,x2:k,y2:S});return he.createElement(Yr,{className:Rr("recharts-reference-line",l)},N7e(o,M),Ii.renderCallByParent(e,RLe({x1:j,y1:_,x2:k,y2:S})))}var p6=function(e){function t(){return u7e(this,t),h7e(this,t,arguments)}return g7e(t,e),f7e(t,[{key:"render",value:function(){return he.createElement(S7e,this.props)}}])}(he.Component);m6(p6,"displayName","ReferenceLine");m6(p6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function kP(){return kP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kP.apply(this,arguments)}function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function c7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c7(Object(r),!0).forEach(function(n){_S(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WJ(n.key),n)}}function E7e(e,t,r){return t&&C7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P7e(e,t,r){return t=a5(t),k7e(e,VJ()?Reflect.construct(t,r||[],a5(e).constructor):t.apply(e,r))}function k7e(e,t){if(t&&(Yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T7e(e)}function T7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VJ=function(){return!!e})()}function a5(e){return a5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a5(e)}function O7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TP(e,t)}function TP(e,t){return TP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TP(e,t)}function _S(e,t,r){return t=WJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WJ(e){var t=D7e(e,"string");return Yg(t)=="symbol"?t:t+""}function D7e(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var I7e=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=c6({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return gu(t,"discard")&&!o.isInRange(l)?null:l},SS=function(e){function t(){return A7e(this,t),P7e(this,t,arguments)}return O7e(t,e),E7e(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Ai(a),d=Ai(s);if(_c(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=I7e(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,x=g.className,v=gu(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=u7(u7({clipPath:v},or(this.props,!0)),{},{cx:h,cy:m});return he.createElement(Yr,{className:Rr("recharts-reference-dot",x)},t.renderDot(p,y),Ii.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(he.Component);_S(SS,"displayName","ReferenceDot");_S(SS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_S(SS,"renderDot",function(e,t){var r;return he.isValidElement(e)?r=he.cloneElement(e,t):mr(e)?r=e(t):r=he.createElement(zb,kP({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function OP(){return OP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OP.apply(this,arguments)}function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function d7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d7(Object(r),!0).forEach(function(n){AS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GJ(n.key),n)}}function M7e(e,t,r){return t&&R7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L7e(e,t,r){return t=i5(t),$7e(e,HJ()?Reflect.construct(t,r||[],i5(e).constructor):t.apply(e,r))}function $7e(e,t){if(t&&(Xg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B7e(e)}function B7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HJ=function(){return!!e})()}function i5(e){return i5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i5(e)}function z7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DP(e,t)}function DP(e,t){return DP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DP(e,t)}function AS(e,t,r){return t=GJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GJ(e){var t=q7e(e,"string");return Xg(t)=="symbol"?t:t+""}function q7e(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var U7e=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=c6({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return gu(s,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:DJ(m,g)},CS=function(e){function t(){return F7e(this,t),L7e(this,t,arguments)}return z7e(t,e),M7e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;_c(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ai(a),h=Ai(s),m=Ai(o),g=Ai(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var x=U7e(f,h,m,g,this.props);if(!x&&!p)return null;var v=gu(this.props,"hidden")?"url(#".concat(d,")"):void 0;return he.createElement(Yr,{className:Rr("recharts-reference-area",c)},t.renderRect(p,f7(f7({clipPath:v},or(this.props,!0)),x)),Ii.renderCallByParent(this.props,x))}}])}(he.Component);AS(CS,"displayName","ReferenceArea");AS(CS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});AS(CS,"renderRect",function(e,t){var r;return he.isValidElement(e)?r=he.cloneElement(e,t):mr(e)?r=e(t):r=he.createElement(o6,OP({},t,{className:"recharts-reference-area-rect"})),r});function KJ(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function V7e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return LLe(n,r)}function W7e(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function s5(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function H7e(e,t){return KJ(e,t+1)}function G7e(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:KJ(n,u)};var p=c,x,v=function(){return x===void 0&&(x=r(g,p)),x},y=g.coordinate,b=c===0||s5(e,y,v,d,l);b||(c=0,d=o,u+=1),b&&(d=y+e*(v()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Ky(e){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ky(e)}function h7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h7(Object(r),!0).forEach(function(n){K7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K7e(e,t,r){return t=Y7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y7e(e){var t=X7e(e,"string");return Ky(t)=="symbol"?t:t+""}function X7e(e,t){if(Ky(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q7e(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var x=e*(m.coordinate+e*p()/2-c);s[h]=m=js(js({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else s[h]=m=js(js({},m),{},{tickCoord:m.coordinate});var v=s5(e,m.tickCoord,p,l,c);v&&(c=m.tickCoord-e*(p()/2+a),s[h]=js(js({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function Z7e(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=js(js({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=s5(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=js(js({},d),{},{isShow:!0}))}for(var g=s?l-1:l,p=function(y){var b=o[y],j,_=function(){return j===void 0&&(j=r(b,y)),j};if(y===0){var P=e*(b.coordinate-e*_()/2-c);o[y]=b=js(js({},b),{},{tickCoord:P<0?b.coordinate-P*e:b.coordinate})}else o[y]=b=js(js({},b),{},{tickCoord:b.coordinate});var k=s5(e,b.tickCoord,_,c,u);k&&(c=b.tickCoord+e*(_()/2+a),o[y]=js(js({},b),{},{isShow:!0}))},x=0;x<g;x++)p(x);return o}function g6(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(At(c)||wh.isSsr)return H7e(a,typeof c=="number"&&At(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?f1(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(b,j){var _=mr(u)?u(b.value,j):b.value;return m==="width"?V7e(f1(_,{fontSize:t,letterSpacing:r}),g,f):f1(_,{fontSize:t,letterSpacing:r})[m]},x=a.length>=2?Xs(a[1].coordinate-a[0].coordinate):1,v=W7e(s,x,m);return c==="equidistantPreserveStart"?G7e(x,v,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Z7e(x,v,p,a,o,c==="preserveStartEnd"):h=Q7e(x,v,p,a,o),h.filter(function(y){return y.isShow}))}var J7e=["viewBox"],e$e=["viewBox"],t$e=["ticks"];function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}function m7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m7(Object(r),!0).forEach(function(n){x6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WA(e,t){if(e==null)return{};var r=r$e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XJ(n.key),n)}}function a$e(e,t,r){return t&&p7(e.prototype,t),r&&p7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i$e(e,t,r){return t=o5(t),s$e(e,YJ()?Reflect.construct(t,r||[],o5(e).constructor):t.apply(e,r))}function s$e(e,t){if(t&&(Qg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o$e(e)}function o$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YJ=function(){return!!e})()}function o5(e){return o5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o5(e)}function l$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IP(e,t)}function IP(e,t){return IP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IP(e,t)}function x6(e,t,r){return t=XJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XJ(e){var t=c$e(e,"string");return Qg(t)=="symbol"?t:t+""}function c$e(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ox=function(e){function t(r){var n;return n$e(this,t),n=i$e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return l$e(t,e),a$e(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=WA(n,J7e),l=this.props,c=l.viewBox,u=WA(l,e$e);return!W0(s,c)||!W0(o,u)||!W0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,p,x,v,y,b=f?-1:1,j=n.tickSize||d,_=At(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,x=o+ +!f*c,p=x-b*j,y=p-b*h,v=_;break;case"left":p=x=n.coordinate,g=s+ +!f*l,m=g-b*j,v=m-b*h,y=_;break;case"right":p=x=n.coordinate,g=s+ +f*l,m=g+b*j,v=m+b*h,y=_;break;default:m=g=n.coordinate,x=o+ +f*c,p=x+b*j,y=p+b*h,v=_;break}return{line:{x1:m,y1:p,x2:g,y2:x},tick:{x:v,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=$s($s($s({},or(this.props,!1)),or(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=$s($s({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=$s($s({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+l})}return he.createElement("line",P0({},f,{className:Rr("recharts-cartesian-axis-line",cl(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=g6($s($s({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=or(this.props,!1),v=or(d,!1),y=$s($s({},x),{},{fill:"none"},or(c,!1)),b=m.map(function(j,_){var P=o.getTickLineCoord(j),k=P.line,S=P.tick,E=$s($s($s($s({textAnchor:g,verticalAnchor:p},x),{},{stroke:"none",fill:u},v),S),{},{index:_,payload:j,visibleTicksCount:m.length,tickFormatter:f});return he.createElement(Yr,P0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Jm(o.props,j,_)),c&&he.createElement("line",P0({},y,k,{className:Rr("recharts-cartesian-axis-tick-line",cl(c,"className"))})),d&&t.renderTickItem(d,E,"".concat(mr(f)?f(j.value,_):j.value).concat(h||"")))});return he.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=WA(f,t$e),g=h;return mr(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:he.createElement(Yr,{className:Rr("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Ii.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return he.isValidElement(n)?o=he.cloneElement(n,a):mr(n)?o=n(a):o=he.createElement(ep,P0({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(N.Component);x6(Ox,"displayName","CartesianAxis");x6(Ox,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var u$e=["x1","y1","x2","y2","key"],d$e=["offset"];function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function g7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g7(Object(r),!0).forEach(function(n){f$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f$e(e,t,r){return t=h$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h$e(e){var t=m$e(e,"string");return ap(t)=="symbol"?t:t+""}function m$e(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vm.apply(this,arguments)}function x7(e,t){if(e==null)return{};var r=p$e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var g$e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return he.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function QJ(e,t){var r;if(he.isValidElement(e))r=he.cloneElement(e,t);else if(mr(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=x7(t,u$e),u=or(c,!1);u.offset;var d=x7(u,d$e);r=he.createElement("line",vm({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function x$e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Ss(Ss({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return QJ(a,u)});return he.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function v$e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Ss(Ss({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return QJ(a,u)});return he.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function y$e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+o-h:d[m+1]-h;if(p<=0)return null;var x=m%t.length;return he.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return he.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function b$e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+l-h:d[m+1]-h;if(p<=0)return null;var x=m%n.length;return he.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return he.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var w$e=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return KZ(g6(Ss(Ss(Ss({},Ox.defaultProps),n),{},{ticks:sd(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},j$e=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return KZ(g6(Ss(Ss(Ss({},Ox.defaultProps),n),{},{ticks:sd(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},Yp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function el(e){var t,r,n,a,s,o,l=f6(),c=h6(),u=c7e(),d=Ss(Ss({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Yp.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Yp.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Yp.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Yp.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Yp.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Yp.verticalFill,x:At(e.x)?e.x:u.left,y:At(e.y)?e.y:u.top,width:At(e.width)?e.width:u.width,height:At(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,x=d.horizontalValues,v=d.verticalValues,y=s7e(),b=o7e();if(!At(m)||m<=0||!At(g)||g<=0||!At(f)||f!==+f||!At(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||w$e,_=d.horizontalCoordinatesGenerator||j$e,P=d.horizontalPoints,k=d.verticalPoints;if((!P||!P.length)&&mr(_)){var S=x&&x.length,E=_({yAxis:b?Ss(Ss({},b),{},{ticks:S?x:b.ticks}):void 0,width:l,height:c,offset:u},S?!0:p);_c(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ap(E),"]")),Array.isArray(E)&&(P=E)}if((!k||!k.length)&&mr(j)){var M=v&&v.length,T=j({xAxis:y?Ss(Ss({},y),{},{ticks:M?v:y.ticks}):void 0,width:l,height:c,offset:u},M?!0:p);_c(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ap(T),"]")),Array.isArray(T)&&(k=T)}return he.createElement("g",{className:"recharts-cartesian-grid"},he.createElement(g$e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),he.createElement(x$e,vm({},d,{offset:u,horizontalPoints:P,xAxis:y,yAxis:b})),he.createElement(v$e,vm({},d,{offset:u,verticalPoints:k,xAxis:y,yAxis:b})),he.createElement(y$e,vm({},d,{horizontalPoints:P})),he.createElement(b$e,vm({},d,{verticalPoints:k})))}el.displayName="CartesianGrid";var N$e=["type","layout","connectNulls","ref"],_$e=["key"];function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function v7(e,t){if(e==null)return{};var r=S$e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v1.apply(this,arguments)}function y7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(r),!0).forEach(function(n){cc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xp(e){return P$e(e)||E$e(e)||C$e(e)||A$e()}function A$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C$e(e,t){if(e){if(typeof e=="string")return FP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FP(e,t)}}function E$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P$e(e){if(Array.isArray(e))return FP(e)}function FP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JJ(n.key),n)}}function T$e(e,t,r){return t&&b7(e.prototype,t),r&&b7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O$e(e,t,r){return t=l5(t),D$e(e,ZJ()?Reflect.construct(t,r||[],l5(e).constructor):t.apply(e,r))}function D$e(e,t){if(t&&(Zg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I$e(e)}function I$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZJ=function(){return!!e})()}function l5(e){return l5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l5(e)}function F$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RP(e,t)}function RP(e,t){return RP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RP(e,t)}function cc(e,t,r){return t=JJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JJ(e){var t=R$e(e,"string");return Zg(t)=="symbol"?t:t+""}function R$e(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dl=function(e){function t(){var r;k$e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=O$e(this,t,[].concat(a)),cc(r,"state",{isAnimationFinished:!0,totalLength:0}),cc(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),cc(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(v,y){return v+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(Xp(c.slice(0,g)),[f-p]);break}var x=m.length%2===0?[0,h]:[h];return[].concat(Xp(t.repeat(c,d)),Xp(m),x).map(function(v){return"".concat(v,"px")}).join(", ")}),cc(r,"id",vp("recharts-line-")),cc(r,"pathRef",function(o){r.mainCurve=o}),cc(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),cc(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return F$e(t,e),T$e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ul(d,Bb);if(!f)return null;var h=function(p,x){return{x:p.x,y:p.y,value:p.value,errorVal:Wa(p.payload,x)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return he.createElement(Yr,m,f.map(function(g){return he.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=or(this.props,!1),h=or(c,!0),m=u.map(function(p,x){var v=Bo(Bo(Bo({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,v)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return he.createElement(Yr,v1({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=v7(l,N$e),h=Bo(Bo(Bo({},or(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return he.createElement(Fm,v1({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,x=o.height,v=this.state,y=v.prevPoints,b=v.totalLength;return he.createElement(kc,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var _=j.t;if(y){var P=y.length/l.length,k=l.map(function(C,I){var L=Math.floor(I*P);if(y[L]){var z=y[L],G=Ni(z.x,C.x),W=Ni(z.y,C.y);return Bo(Bo({},C),{},{x:G(_),y:W(_)})}if(g){var q=Ni(p*2,C.x),K=Ni(x/2,C.y);return Bo(Bo({},C),{},{x:q(_),y:K(_)})}return Bo(Bo({},C),{},{x:C.x,y:C.y})});return s.renderCurveStatically(k,n,a)}var S=Ni(0,b),E=S(_),M;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});M=s.getStrokeDasharray(E,b,T)}else M=s.generateSimpleStrokeDasharray(b,E);return s.renderCurveStatically(l,n,a,{strokeDasharray:M})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!tp(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,x=a.id;if(s||!l||!l.length)return null;var v=this.state.isAnimationFinished,y=l.length===1,b=Rr("recharts-line",c),j=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,P=j||_,k=Or(x)?this.id:x,S=(n=or(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=S.r,M=E===void 0?3:E,T=S.strokeWidth,C=T===void 0?2:T,I=BX(o)?o:{},L=I.clipDot,z=L===void 0?!0:L,G=M*2+C;return he.createElement(Yr,{className:b},j||_?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(k)},he.createElement("rect",{x:j?h:h-m/2,y:_?f:f-g/2,width:j?m:m*2,height:_?g:g*2})),!z&&he.createElement("clipPath",{id:"clipPath-dots-".concat(k)},he.createElement("rect",{x:h-G/2,y:f-G/2,width:m+G,height:g+G}))):null,!y&&this.renderCurve(P,k),this.renderErrorBar(P,k),(y||o)&&this.renderDots(P,z,k),(!p||v)&&pu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Xp(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Xp(o),Xp(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(he.isValidElement(n))s=he.cloneElement(n,a);else if(mr(n))s=n(a);else{var o=a.key,l=v7(a,_$e),c=Rr("recharts-line-dot",typeof n!="boolean"?n.className:"");s=he.createElement(zb,v1({key:o},l,{className:c}))}return s}}])}(N.PureComponent);cc(dl,"displayName","Line");cc(dl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});cc(dl,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=Wa(h,o);return d==="horizontal"?{x:$N({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Or(g)?null:n.scale(g),value:g,payload:h}:{x:Or(g)?null:r.scale(g),y:$N({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:g,payload:h}});return Bo({points:f,layout:d},u)});var M$e=["layout","type","stroke","connectNulls","isRange","ref"],L$e=["key"],eee;function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function tee(e,t){if(e==null)return{};var r=$$e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(this,arguments)}function w7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w7(Object(r),!0).forEach(function(n){lu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nee(n.key),n)}}function z$e(e,t,r){return t&&j7(e.prototype,t),r&&j7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function q$e(e,t,r){return t=c5(t),U$e(e,ree()?Reflect.construct(t,r||[],c5(e).constructor):t.apply(e,r))}function U$e(e,t){if(t&&(Jg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V$e(e)}function V$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ree(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ree=function(){return!!e})()}function c5(e){return c5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c5(e)}function W$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MP(e,t)}function MP(e,t){return MP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MP(e,t)}function lu(e,t,r){return t=nee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nee(e){var t=H$e(e,"string");return Jg(t)=="symbol"?t:t+""}function H$e(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sh=function(e){function t(){var r;B$e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=q$e(this,t,[].concat(a)),lu(r,"state",{isAnimationFinished:!0}),lu(r,"id",vp("recharts-area-")),lu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),mr(o)&&o()}),lu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),mr(o)&&o()}),r}return W$e(t,e),z$e(t,[{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=or(this.props,!1),m=or(u,!0),g=d.map(function(x,v){var y=gf(gf(gf({key:"dot-".concat(v),r:3},h),m),{},{index:v,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,y)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return he.createElement(Yr,ym({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=Rf(o.map(function(h){return h.y||0}));return At(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Rf(s.map(function(h){return h.y||0})),f)),At(f)?he.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=Rf(o.map(function(h){return h.x||0}));return At(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Rf(s.map(function(h){return h.x||0})),f)),At(f)?he.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=tee(l,M$e);return he.createElement(Yr,{clipPath:s?"url(#clipPath-".concat(o,")"):null},he.createElement(Fm,ym({},or(m,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&he.createElement(Fm,ym({},or(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&he.createElement(Fm,ym({},or(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,x=g.prevBaseLine;return he.createElement(kc,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var y=v.t;if(p){var b=p.length/l.length,j=l.map(function(S,E){var M=Math.floor(E*b);if(p[M]){var T=p[M],C=Ni(T.x,S.x),I=Ni(T.y,S.y);return gf(gf({},S),{},{x:C(y),y:I(y)})}return S}),_;if(At(c)&&typeof c=="number"){var P=Ni(x,c);_=P(y)}else if(Or(c)||Sx(c)){var k=Ni(x,0);_=k(y)}else _=c.map(function(S,E){var M=Math.floor(E*b);if(x[M]){var T=x[M],C=Ni(T.x,S.x),I=Ni(T.y,S.y);return gf(gf({},S),{},{x:C(y),y:I(y)})}return S});return s.renderAreaStatically(j,_,n,a)}return he.createElement(Yr,null,he.createElement("defs",null,he.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(y))),he.createElement(Yr,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!tp(d,o)||!tp(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,g=a.height,p=a.isAnimationActive,x=a.id;if(s||!l||!l.length)return null;var v=this.state.isAnimationFinished,y=l.length===1,b=Rr("recharts-area",c),j=f&&f.allowDataOverflow,_=h&&h.allowDataOverflow,P=j||_,k=Or(x)?this.id:x,S=(n=or(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=S.r,M=E===void 0?3:E,T=S.strokeWidth,C=T===void 0?2:T,I=BX(o)?o:{},L=I.clipDot,z=L===void 0?!0:L,G=M*2+C;return he.createElement(Yr,{className:b},j||_?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(k)},he.createElement("rect",{x:j?d:d-m/2,y:_?u:u-g/2,width:j?m:m*2,height:_?g:g*2})),!z&&he.createElement("clipPath",{id:"clipPath-dots-".concat(k)},he.createElement("rect",{x:d-G/2,y:u-G/2,width:m+G,height:g+G}))):null,y?null:this.renderArea(P,k),(o||y)&&this.renderDots(P,z,k),(!p||v)&&pu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(N.PureComponent);eee=Sh;lu(Sh,"displayName","Area");lu(Sh,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!wh.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});lu(Sh,"getBaseValue",function(e,t,r,n){var a=e.layout,s=e.baseValue,o=t.props.baseValue,l=o??s;if(At(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});lu(Sh,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,g=u&&u.length,p=eee.getBaseValue(t,r,n,a),x=m==="horizontal",v=!1,y=f.map(function(j,_){var P;g?P=u[d+_]:(P=Wa(j,c),Array.isArray(P)?v=!0:P=[p,P]);var k=P[1]==null||g&&Wa(j,c)==null;return x?{x:$N({axis:n,ticks:s,bandSize:l,entry:j,index:_}),y:k?null:a.scale(P[1]),value:P,payload:j}:{x:k?null:n.scale(P[1]),y:$N({axis:a,ticks:o,bandSize:l,entry:j,index:_}),value:P,payload:j}}),b;return g||v?b=y.map(function(j){var _=Array.isArray(j.value)?j.value[0]:null;return x?{x:j.x,y:_!=null&&j.y!=null?a.scale(_):null}:{x:_!=null?n.scale(_):null,y:j.y}}):b=x?a.scale(p):n.scale(p),gf({points:y,baseLine:b,layout:m,isRange:v},h)});lu(Sh,"renderDotItem",function(e,t){var r;if(he.isValidElement(e))r=he.cloneElement(e,t);else if(mr(e))r=e(t);else{var n=Rr("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,s=tee(t,L$e);r=he.createElement(zb,ym({},s,{key:a,className:n}))}return r});function ex(e){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ex(e)}function G$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,see(n.key),n)}}function Y$e(e,t,r){return t&&K$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function X$e(e,t,r){return t=u5(t),Q$e(e,aee()?Reflect.construct(t,r||[],u5(e).constructor):t.apply(e,r))}function Q$e(e,t){if(t&&(ex(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z$e(e)}function Z$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aee=function(){return!!e})()}function u5(e){return u5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u5(e)}function J$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LP(e,t)}function LP(e,t){return LP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LP(e,t)}function iee(e,t,r){return t=see(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function see(e){var t=e9e(e,"string");return ex(t)=="symbol"?t:t+""}function e9e(e,t){if(ex(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $P(){return $P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$P.apply(this,arguments)}function t9e(e){var t=e.xAxisId,r=f6(),n=h6(),a=BJ(t);return a==null?null:he.createElement(Ox,$P({},a,{className:Rr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return sd(o,!0)}}))}var rs=function(e){function t(){return G$e(this,t),X$e(this,t,arguments)}return J$e(t,e),Y$e(t,[{key:"render",value:function(){return he.createElement(t9e,this.props)}}])}(he.Component);iee(rs,"displayName","XAxis");iee(rs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function tx(e){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tx(e)}function r9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cee(n.key),n)}}function a9e(e,t,r){return t&&n9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i9e(e,t,r){return t=d5(t),s9e(e,oee()?Reflect.construct(t,r||[],d5(e).constructor):t.apply(e,r))}function s9e(e,t){if(t&&(tx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o9e(e)}function o9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oee=function(){return!!e})()}function d5(e){return d5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d5(e)}function l9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BP(e,t)}function BP(e,t){return BP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BP(e,t)}function lee(e,t,r){return t=cee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cee(e){var t=c9e(e,"string");return tx(t)=="symbol"?t:t+""}function c9e(e,t){if(tx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zP(){return zP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zP.apply(this,arguments)}var u9e=function(t){var r=t.yAxisId,n=f6(),a=h6(),s=zJ(r);return s==null?null:he.createElement(Ox,zP({},s,{className:Rr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return sd(l,!0)}}))},ns=function(e){function t(){return r9e(this,t),i9e(this,t,arguments)}return l9e(t,e),a9e(t,[{key:"render",value:function(){return he.createElement(u9e,this.props)}}])}(he.Component);lee(ns,"displayName","YAxis");lee(ns,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function N7(e){return m9e(e)||h9e(e)||f9e(e)||d9e()}function d9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f9e(e,t){if(e){if(typeof e=="string")return qP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qP(e,t)}}function h9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m9e(e){if(Array.isArray(e))return qP(e)}function qP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var UP=function(t,r,n,a,s){var o=ul(t,p6),l=ul(t,SS),c=[].concat(N7(o),N7(l)),u=ul(t,CS),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,x){if(x.props[d]===n&&gu(x.props,"extendDomain")&&At(x.props[f])){var v=x.props[f];return[Math.min(p[0],v),Math.max(p[1],v)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,x){if(x.props[d]===n&&gu(x.props,"extendDomain")&&At(x.props[m])&&At(x.props[g])){var v=x.props[m],y=x.props[g];return[Math.min(p[0],v,y),Math.max(p[1],v,y)]}return p},h)}return s&&s.length&&(h=s.reduce(function(p,x){return At(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},h)),h},uee={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var x=this._events[p],v=arguments.length,y,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,g),!0}for(b=1,y=new Array(v-1);b<v;b++)y[b-1]=arguments[b];x.fn.apply(x.context,y)}else{var j=x.length,_;for(b=0;b<j;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),v){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!y)for(_=1,y=new Array(v-1);_<v;_++)y[_-1]=arguments[_];x[b].fn.apply(x[b].context,y)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,x=[],v=g.length;p<v;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&x.push(g[p]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(uee);var p9e=uee.exports;const g9e=Nn(p9e);var HA=new g9e,GA="recharts.syncMouseEvents";function Yy(e){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yy(e)}function x9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dee(n.key),n)}}function y9e(e,t,r){return t&&v9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KA(e,t,r){return t=dee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dee(e){var t=b9e(e,"string");return Yy(t)=="symbol"?t:t+""}function b9e(e,t){if(Yy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var w9e=function(){function e(){x9e(this,e),KA(this,"activeIndex",0),KA(this,"coordinateList",[]),KA(this,"layout","horizontal")}return y9e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function j9e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&At(n)&&At(a))return!0}return!1}function N9e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function fee(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=Xn(t,r,n,a),l=Xn(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function _9e(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Xn(l,c,u,f),m=Xn(l,c,d,f);n=h.x,a=h.y,s=m.x,o=m.y}else return fee(t);return[{x:n,y:a},{x:s,y:o}]}function Xy(e){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xy(e)}function _7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_7(Object(r),!0).forEach(function(n){S9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S9e(e,t,r){return t=A9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A9e(e){var t=C9e(e,"string");return Xy(t)=="symbol"?t:t+""}function C9e(e,t){if(Xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E9e(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,p=Fm;if(h==="ScatterChart")g=o,p=RFe;else if(h==="BarChart")g=N9e(f,o,c,d),p=o6;else if(f==="radial"){var x=fee(o),v=x.cx,y=x.cy,b=x.radius,j=x.startAngle,_=x.endAngle;g={cx:v,cy:y,startAngle:j,endAngle:_,innerRadius:b,outerRadius:b},p=iJ}else g={points:_9e(f,o,c)},p=Fm;var P=mw(mw(mw(mw({stroke:"#ccc",pointerEvents:"none"},c),g),or(m,!1)),{},{payload:l,payloadIndex:u,className:Rr("recharts-tooltip-cursor",m.className)});return N.isValidElement(m)?N.cloneElement(m,P):N.createElement(p,P)}var P9e=["item"],k9e=["children","className","width","height","style","compact","title","desc"];function rx(e){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rx(e)}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(this,arguments)}function S7(e,t){return D9e(e)||O9e(e,t)||mee(e,t)||T9e()}function T9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function D9e(e){if(Array.isArray(e))return e}function A7(e,t){if(e==null)return{};var r=I9e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pee(n.key),n)}}function M9e(e,t,r){return t&&R9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L9e(e,t,r){return t=f5(t),$9e(e,hee()?Reflect.construct(t,r||[],f5(e).constructor):t.apply(e,r))}function $9e(e,t){if(t&&(rx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B9e(e)}function B9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hee=function(){return!!e})()}function f5(e){return f5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f5(e)}function z9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VP(e,t)}function VP(e,t){return VP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VP(e,t)}function nx(e){return V9e(e)||U9e(e)||mee(e)||q9e()}function q9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mee(e,t){if(e){if(typeof e=="string")return WP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WP(e,t)}}function U9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V9e(e){if(Array.isArray(e))return WP(e)}function WP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C7(Object(r),!0).forEach(function(n){hr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hr(e,t,r){return t=pee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pee(e){var t=W9e(e,"string");return rx(t)=="symbol"?t:t+""}function W9e(e,t){if(rx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H9e={xAxis:["bottom","top"],yAxis:["left","right"]},G9e={width:"100%",height:"100%"},gee={x:0,y:0};function pw(e){return e}var K9e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Y9e=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return it(it(it({},a),Xn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return it(it(it({},a),Xn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return gee},ES=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(nx(l),nx(u)):l},[]);return o.length>0?o:t&&t.length&&At(a)&&At(s)?t.slice(a,s+1):[]};function xee(e){return e==="number"?[0,"auto"]:void 0}var HP=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=ES(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=dN(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(nx(c),[JZ(u,h)]):c},[])},E7=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=K9e(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=sDe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=HP(t,r,d,f),m=Y9e(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},X9e=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=GZ(d,s);return n.reduce(function(g,p){var x,v=p.type.defaultProps!==void 0?it(it({},p.type.defaultProps),p.props):p.props,y=v.type,b=v.dataKey,j=v.allowDataOverflow,_=v.allowDuplicatedCategory,P=v.scale,k=v.ticks,S=v.includeHidden,E=v[o];if(g[E])return g;var M=ES(t.data,{graphicalItems:a.filter(function(O){var V,D=o in O.props?O.props[o]:(V=O.type.defaultProps)===null||V===void 0?void 0:V[o];return D===E}),dataStartIndex:c,dataEndIndex:u}),T=M.length,C,I,L;j9e(v.domain,j,y)&&(C=iP(v.domain,null,j),m&&(y==="number"||P!=="auto")&&(L=m1(M,b,"category")));var z=xee(y);if(!C||C.length===0){var G,W=(G=v.domain)!==null&&G!==void 0?G:z;if(b){if(C=m1(M,b,y),y==="category"&&m){var q=Qwe(C);_&&q?(I=C,C=ZN(0,T)):_||(C=KM(W,C,p).reduce(function(O,V){return O.indexOf(V)>=0?O:[].concat(nx(O),[V])},[]))}else if(y==="category")_?C=C.filter(function(O){return O!==""&&!Or(O)}):C=KM(W,C,p).reduce(function(O,V){return O.indexOf(V)>=0||V===""||Or(V)?O:[].concat(nx(O),[V])},[]);else if(y==="number"){var K=dDe(M,a.filter(function(O){var V,D,B=o in O.props?O.props[o]:(V=O.type.defaultProps)===null||V===void 0?void 0:V[o],Q="hide"in O.props?O.props.hide:(D=O.type.defaultProps)===null||D===void 0?void 0:D.hide;return B===E&&(S||!Q)}),b,s,d);K&&(C=K)}m&&(y==="number"||P!=="auto")&&(L=m1(M,b,"category"))}else m?C=ZN(0,T):l&&l[E]&&l[E].hasStack&&y==="number"?C=h==="expand"?[0,1]:ZZ(l[E].stackGroups,c,u):C=HZ(M,a.filter(function(O){var V=o in O.props?O.props[o]:O.type.defaultProps[o],D="hide"in O.props?O.props.hide:O.type.defaultProps.hide;return V===E&&(S||!D)}),y,d,!0);if(y==="number")C=UP(f,C,E,s,k),W&&(C=iP(W,C,j));else if(y==="category"&&W){var ae=W,ie=C.every(function(O){return ae.indexOf(O)>=0});ie&&(C=ae)}}return it(it({},g),{},hr({},E,it(it({},v),{},{axisType:s,domain:C,categoricalDomain:L,duplicateDomain:I,originalDomain:(x=v.domain)!==null&&x!==void 0?x:z,isCategorical:m,layout:d})))},{})},Q9e=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=ES(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=GZ(d,s),p=-1;return n.reduce(function(x,v){var y=v.type.defaultProps!==void 0?it(it({},v.type.defaultProps),v.props):v.props,b=y[o],j=xee("number");if(!x[b]){p++;var _;return g?_=ZN(0,m):l&&l[b]&&l[b].hasStack?(_=ZZ(l[b].stackGroups,c,u),_=UP(f,_,b,s)):(_=iP(j,HZ(h,n.filter(function(P){var k,S,E=o in P.props?P.props[o]:(k=P.type.defaultProps)===null||k===void 0?void 0:k[o],M="hide"in P.props?P.props.hide:(S=P.type.defaultProps)===null||S===void 0?void 0:S.hide;return E===b&&!M}),"number",d),a.defaultProps.allowDataOverflow),_=UP(f,_,b,s)),it(it({},x),{},hr({},b,it(it({axisType:s},a.defaultProps),{},{hide:!0,orientation:cl(H9e,"".concat(s,".").concat(p%2),null),domain:_,originalDomain:j,isCategorical:g,layout:d})))}return x},{})},Z9e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=ul(d,s),m={};return h&&h.length?m=X9e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=Q9e(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},J9e=function(t){var r=Nf(t),n=sd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:IO(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:BN(r,n)}},P7=function(t){var r=t.children,n=t.defaultShowTooltip,a=Wo(r,Hg),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},eBe=function(t){return!t||!t.length?!1:t.some(function(r){var n=fd(r&&r.type);return n&&n.indexOf("Bar")>=0})},k7=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tBe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Wo(f,Hg),g=Wo(f,hd),p=Object.keys(c).reduce(function(_,P){var k=c[P],S=k.orientation;return!k.mirror&&!k.hide?it(it({},_),{},hr({},S,_[S]+k.width)):_},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(_,P){var k=o[P],S=k.orientation;return!k.mirror&&!k.hide?it(it({},_),{},hr({},S,cl(_,"".concat(S))+k.height)):_},{top:h.top||0,bottom:h.bottom||0}),v=it(it({},x),p),y=v.bottom;m&&(v.bottom+=m.props.height||Hg.defaultProps.height),g&&r&&(v=cDe(v,a,n,r));var b=u-v.left-v.right,j=d-v.top-v.bottom;return it(it({brushBottom:y},v),{},{width:Math.max(b,0),height:Math.max(j,0)})},rBe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},PS=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,y){var b=y.graphicalItems,j=y.stackGroups,_=y.offset,P=y.updateId,k=y.dataStartIndex,S=y.dataEndIndex,E=v.barSize,M=v.layout,T=v.barGap,C=v.barCategoryGap,I=v.maxBarSize,L=k7(M),z=L.numericAxisName,G=L.cateAxisName,W=eBe(b),q=[];return b.forEach(function(K,ae){var ie=ES(v.data,{graphicalItems:[K],dataStartIndex:k,dataEndIndex:S}),O=K.type.defaultProps!==void 0?it(it({},K.type.defaultProps),K.props):K.props,V=O.dataKey,D=O.maxBarSize,B=O["".concat(z,"Id")],Q=O["".concat(G,"Id")],Y={},ee=c.reduce(function(ot,ge){var ke=y["".concat(ge.axisType,"Map")],Be=O["".concat(ge.axisType,"Id")];ke&&ke[Be]||ge.axisType==="zAxis"||np();var Xe=ke[Be];return it(it({},ot),{},hr(hr({},ge.axisType,Xe),"".concat(ge.axisType,"Ticks"),sd(Xe)))},Y),X=ee[G],U=ee["".concat(G,"Ticks")],me=j&&j[B]&&j[B].hasStack&&bDe(K,j[B].stackGroups),oe=fd(K.type).indexOf("Bar")>=0,Se=BN(X,U),_e=[],se=W&&oDe({barSize:E,stackGroups:j,totalSize:rBe(ee,G)});if(oe){var ft,de,ce=Or(D)?I:D,Ee=(ft=(de=BN(X,U,!0))!==null&&de!==void 0?de:ce)!==null&&ft!==void 0?ft:0;_e=lDe({barGap:T,barCategoryGap:C,bandSize:Ee!==Se?Ee:Se,sizeList:se[Q],maxBarSize:ce}),Ee!==Se&&(_e=_e.map(function(ot){return it(it({},ot),{},{position:it(it({},ot.position),{},{offset:ot.position.offset-Ee/2})})}))}var rt=K&&K.type&&K.type.getComposedData;rt&&q.push({props:it(it({},rt(it(it({},ee),{},{displayedData:ie,props:v,dataKey:V,item:K,bandSize:Se,barPosition:_e,offset:_,stackedData:me,layout:M,dataStartIndex:k,dataEndIndex:S}))),{},hr(hr(hr({key:K.key||"item-".concat(ae)},z,ee[z]),G,ee[G]),"animationId",P)),childIndex:lje(K,v.children),item:K})}),q},m=function(v,y){var b=v.props,j=v.dataStartIndex,_=v.dataEndIndex,P=v.updateId;if(!qF({props:b}))return null;var k=b.children,S=b.layout,E=b.stackOffset,M=b.data,T=b.reverseStackOrder,C=k7(S),I=C.numericAxisName,L=C.cateAxisName,z=ul(k,n),G=vDe(M,z,"".concat(I,"Id"),"".concat(L,"Id"),E,T),W=c.reduce(function(O,V){var D="".concat(V.axisType,"Map");return it(it({},O),{},hr({},D,Z9e(b,it(it({},V),{},{graphicalItems:z,stackGroups:V.axisType===I&&G,dataStartIndex:j,dataEndIndex:_}))))},{}),q=tBe(it(it({},W),{},{props:b,graphicalItems:z}),y==null?void 0:y.legendBBox);Object.keys(W).forEach(function(O){W[O]=d(b,W[O],q,O.replace("Map",""),r)});var K=W["".concat(L,"Map")],ae=J9e(K),ie=h(b,it(it({},W),{},{dataStartIndex:j,dataEndIndex:_,updateId:P,graphicalItems:z,stackGroups:G,offset:q}));return it(it({formattedGraphicalItems:ie,graphicalItems:z,offset:q,stackGroups:G},ae),W)},g=function(x){function v(y){var b,j,_;return F9e(this,v),_=L9e(this,v,[y]),hr(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),hr(_,"accessibilityManager",new w9e),hr(_,"handleLegendBBoxUpdate",function(P){if(P){var k=_.state,S=k.dataStartIndex,E=k.dataEndIndex,M=k.updateId;_.setState(it({legendBBox:P},m({props:_.props,dataStartIndex:S,dataEndIndex:E,updateId:M},it(it({},_.state),{},{legendBBox:P}))))}}),hr(_,"handleReceiveSyncEvent",function(P,k,S){if(_.props.syncId===P){if(S===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(k)}}),hr(_,"handleBrushChange",function(P){var k=P.startIndex,S=P.endIndex;if(k!==_.state.dataStartIndex||S!==_.state.dataEndIndex){var E=_.state.updateId;_.setState(function(){return it({dataStartIndex:k,dataEndIndex:S},m({props:_.props,dataStartIndex:k,dataEndIndex:S,updateId:E},_.state))}),_.triggerSyncEvent({dataStartIndex:k,dataEndIndex:S})}}),hr(_,"handleMouseEnter",function(P){var k=_.getMouseInfo(P);if(k){var S=it(it({},k),{},{isTooltipActive:!0});_.setState(S),_.triggerSyncEvent(S);var E=_.props.onMouseEnter;mr(E)&&E(S,P)}}),hr(_,"triggeredAfterMouseMove",function(P){var k=_.getMouseInfo(P),S=k?it(it({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(S),_.triggerSyncEvent(S);var E=_.props.onMouseMove;mr(E)&&E(S,P)}),hr(_,"handleItemMouseEnter",function(P){_.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),hr(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),hr(_,"handleMouseMove",function(P){P.persist(),_.throttleTriggeredAfterMouseMove(P)}),hr(_,"handleMouseLeave",function(P){_.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};_.setState(k),_.triggerSyncEvent(k);var S=_.props.onMouseLeave;mr(S)&&S(k,P)}),hr(_,"handleOuterEvent",function(P){var k=oje(P),S=cl(_.props,"".concat(k));if(k&&mr(S)){var E,M;/.*touch.*/i.test(k)?M=_.getMouseInfo(P.changedTouches[0]):M=_.getMouseInfo(P),S((E=M)!==null&&E!==void 0?E:{},P)}}),hr(_,"handleClick",function(P){var k=_.getMouseInfo(P);if(k){var S=it(it({},k),{},{isTooltipActive:!0});_.setState(S),_.triggerSyncEvent(S);var E=_.props.onClick;mr(E)&&E(S,P)}}),hr(_,"handleMouseDown",function(P){var k=_.props.onMouseDown;if(mr(k)){var S=_.getMouseInfo(P);k(S,P)}}),hr(_,"handleMouseUp",function(P){var k=_.props.onMouseUp;if(mr(k)){var S=_.getMouseInfo(P);k(S,P)}}),hr(_,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),hr(_,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&_.handleMouseDown(P.changedTouches[0])}),hr(_,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&_.handleMouseUp(P.changedTouches[0])}),hr(_,"handleDoubleClick",function(P){var k=_.props.onDoubleClick;if(mr(k)){var S=_.getMouseInfo(P);k(S,P)}}),hr(_,"handleContextMenu",function(P){var k=_.props.onContextMenu;if(mr(k)){var S=_.getMouseInfo(P);k(S,P)}}),hr(_,"triggerSyncEvent",function(P){_.props.syncId!==void 0&&HA.emit(GA,_.props.syncId,P,_.eventEmitterSymbol)}),hr(_,"applySyncEvent",function(P){var k=_.props,S=k.layout,E=k.syncMethod,M=_.state.updateId,T=P.dataStartIndex,C=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)_.setState(it({dataStartIndex:T,dataEndIndex:C},m({props:_.props,dataStartIndex:T,dataEndIndex:C,updateId:M},_.state)));else if(P.activeTooltipIndex!==void 0){var I=P.chartX,L=P.chartY,z=P.activeTooltipIndex,G=_.state,W=G.offset,q=G.tooltipTicks;if(!W)return;if(typeof E=="function")z=E(q,P);else if(E==="value"){z=-1;for(var K=0;K<q.length;K++)if(q[K].value===P.activeLabel){z=K;break}}var ae=it(it({},W),{},{x:W.left,y:W.top}),ie=Math.min(I,ae.x+ae.width),O=Math.min(L,ae.y+ae.height),V=q[z]&&q[z].value,D=HP(_.state,_.props.data,z),B=q[z]?{x:S==="horizontal"?q[z].coordinate:ie,y:S==="horizontal"?O:q[z].coordinate}:gee;_.setState(it(it({},P),{},{activeLabel:V,activeCoordinate:B,activePayload:D,activeTooltipIndex:z}))}else _.setState(P)}),hr(_,"renderCursor",function(P){var k,S=_.state,E=S.isTooltipActive,M=S.activeCoordinate,T=S.activePayload,C=S.offset,I=S.activeTooltipIndex,L=S.tooltipAxisBandSize,z=_.getTooltipEventType(),G=(k=P.props.active)!==null&&k!==void 0?k:E,W=_.props.layout,q=P.key||"_recharts-cursor";return he.createElement(E9e,{key:q,activeCoordinate:M,activePayload:T,activeTooltipIndex:I,chartName:r,element:P,isActive:G,layout:W,offset:C,tooltipAxisBandSize:L,tooltipEventType:z})}),hr(_,"renderPolarAxis",function(P,k,S){var E=cl(P,"type.axisType"),M=cl(_.state,"".concat(E,"Map")),T=P.type.defaultProps,C=T!==void 0?it(it({},T),P.props):P.props,I=M&&M[C["".concat(E,"Id")]];return N.cloneElement(P,it(it({},I),{},{className:Rr(E,I.className),key:P.key||"".concat(k,"-").concat(S),ticks:sd(I,!0)}))}),hr(_,"renderPolarGrid",function(P){var k=P.props,S=k.radialLines,E=k.polarAngles,M=k.polarRadius,T=_.state,C=T.radiusAxisMap,I=T.angleAxisMap,L=Nf(C),z=Nf(I),G=z.cx,W=z.cy,q=z.innerRadius,K=z.outerRadius;return N.cloneElement(P,{polarAngles:Array.isArray(E)?E:sd(z,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(M)?M:sd(L,!0).map(function(ae){return ae.coordinate}),cx:G,cy:W,innerRadius:q,outerRadius:K,key:P.key||"polar-grid",radialLines:S})}),hr(_,"renderLegend",function(){var P=_.state.formattedGraphicalItems,k=_.props,S=k.children,E=k.width,M=k.height,T=_.props.margin||{},C=E-(T.left||0)-(T.right||0),I=VZ({children:S,formattedGraphicalItems:P,legendWidth:C,legendContent:u});if(!I)return null;var L=I.item,z=A7(I,P9e);return N.cloneElement(L,it(it({},z),{},{chartWidth:E,chartHeight:M,margin:T,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),hr(_,"renderTooltip",function(){var P,k=_.props,S=k.children,E=k.accessibilityLayer,M=Wo(S,ts);if(!M)return null;var T=_.state,C=T.isTooltipActive,I=T.activeCoordinate,L=T.activePayload,z=T.activeLabel,G=T.offset,W=(P=M.props.active)!==null&&P!==void 0?P:C;return N.cloneElement(M,{viewBox:it(it({},G),{},{x:G.left,y:G.top}),active:W,label:z,payload:W?L:[],coordinate:I,accessibilityLayer:E})}),hr(_,"renderBrush",function(P){var k=_.props,S=k.margin,E=k.data,M=_.state,T=M.offset,C=M.dataStartIndex,I=M.dataEndIndex,L=M.updateId;return N.cloneElement(P,{key:P.key||"_recharts-brush",onChange:uw(_.handleBrushChange,P.props.onChange),data:E,x:At(P.props.x)?P.props.x:T.left,y:At(P.props.y)?P.props.y:T.top+T.height+T.brushBottom-(S.bottom||0),width:At(P.props.width)?P.props.width:T.width,startIndex:C,endIndex:I,updateId:"brush-".concat(L)})}),hr(_,"renderReferenceElement",function(P,k,S){if(!P)return null;var E=_,M=E.clipPathId,T=_.state,C=T.xAxisMap,I=T.yAxisMap,L=T.offset,z=P.type.defaultProps||{},G=P.props,W=G.xAxisId,q=W===void 0?z.xAxisId:W,K=G.yAxisId,ae=K===void 0?z.yAxisId:K;return N.cloneElement(P,{key:P.key||"".concat(k,"-").concat(S),xAxis:C[q],yAxis:I[ae],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:M})}),hr(_,"renderActivePoints",function(P){var k=P.item,S=P.activePoint,E=P.basePoint,M=P.childIndex,T=P.isRange,C=[],I=k.props.key,L=k.item.type.defaultProps!==void 0?it(it({},k.item.type.defaultProps),k.item.props):k.item.props,z=L.activeDot,G=L.dataKey,W=it(it({index:M,dataKey:G,cx:S.x,cy:S.y,r:4,fill:s6(k.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},or(z,!1)),fN(z));return C.push(v.renderActiveDot(z,W,"".concat(I,"-activePoint-").concat(M))),E?C.push(v.renderActiveDot(z,it(it({},W),{},{cx:E.x,cy:E.y}),"".concat(I,"-basePoint-").concat(M))):T&&C.push(null),C}),hr(_,"renderGraphicChild",function(P,k,S){var E=_.filterFormatItem(P,k,S);if(!E)return null;var M=_.getTooltipEventType(),T=_.state,C=T.isTooltipActive,I=T.tooltipAxis,L=T.activeTooltipIndex,z=T.activeLabel,G=_.props.children,W=Wo(G,ts),q=E.props,K=q.points,ae=q.isRange,ie=q.baseLine,O=E.item.type.defaultProps!==void 0?it(it({},E.item.type.defaultProps),E.item.props):E.item.props,V=O.activeDot,D=O.hide,B=O.activeBar,Q=O.activeShape,Y=!!(!D&&C&&W&&(V||B||Q)),ee={};M!=="axis"&&W&&W.props.trigger==="click"?ee={onClick:uw(_.handleItemMouseEnter,P.props.onClick)}:M!=="axis"&&(ee={onMouseLeave:uw(_.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:uw(_.handleItemMouseEnter,P.props.onMouseEnter)});var X=N.cloneElement(P,it(it({},E.props),ee));function U(ge){return typeof I.dataKey=="function"?I.dataKey(ge.payload):null}if(Y)if(L>=0){var me,oe;if(I.dataKey&&!I.allowDuplicatedCategory){var Se=typeof I.dataKey=="function"?U:"payload.".concat(I.dataKey.toString());me=dN(K,Se,z),oe=ae&&ie&&dN(ie,Se,z)}else me=K==null?void 0:K[L],oe=ae&&ie&&ie[L];if(Q||B){var _e=P.props.activeIndex!==void 0?P.props.activeIndex:L;return[N.cloneElement(P,it(it(it({},E.props),ee),{},{activeIndex:_e})),null,null]}if(!Or(me))return[X].concat(nx(_.renderActivePoints({item:E,activePoint:me,basePoint:oe,childIndex:L,isRange:ae})))}else{var se,ft=(se=_.getItemByXY(_.state.activeCoordinate))!==null&&se!==void 0?se:{graphicalItem:X},de=ft.graphicalItem,ce=de.item,Ee=ce===void 0?P:ce,rt=de.childIndex,ot=it(it(it({},E.props),ee),{},{activeIndex:rt});return[N.cloneElement(Ee,ot),null,null]}return ae?[X,null,null]:[X,null]}),hr(_,"renderCustomized",function(P,k,S){return N.cloneElement(P,it(it({key:"recharts-customized-".concat(S)},_.props),_.state))}),hr(_,"renderMap",{CartesianGrid:{handler:pw,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:pw},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:pw},YAxis:{handler:pw},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:vp("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=UQ(_.triggeredAfterMouseMove,(j=y.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return z9e(v,x),M9e(v,[{key:"componentDidMount",value:function(){var b,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,j=b.children,_=b.data,P=b.height,k=b.layout,S=Wo(j,ts);if(S){var E=S.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,T=HP(this.state,_,E,M),C=this.state.tooltipTicks[E].coordinate,I=(this.state.offset.top+P)/2,L=k==="horizontal",z=L?{x:C,y:I}:{y:C,x:I},G=this.state.formattedGraphicalItems.find(function(q){var K=q.item;return K.type.name==="Scatter"});G&&(z=it(it({},z),G.props.points[E].tooltipPosition),T=G.props.points[E].tooltipPayload);var W={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:M,activePayload:T,activeCoordinate:z};this.setState(W),this.renderCursor(S),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,P;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(b){bE([Wo(b.children,ts)],[Wo(this.props.children,ts)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Wo(this.props.children,ts);if(b&&typeof b.props.shared=="boolean"){var j=b.props.shared?"axis":"item";return l.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),P=IPe(_),k={chartX:Math.round(b.pageX-P.left),chartY:Math.round(b.pageY-P.top)},S=_.width/j.offsetWidth||1,E=this.inRange(k.chartX,k.chartY,S);if(!E)return null;var M=this.state,T=M.xAxisMap,C=M.yAxisMap,I=this.getTooltipEventType(),L=E7(this.state,this.props.data,this.props.layout,E);if(I!=="axis"&&T&&C){var z=Nf(T).scale,G=Nf(C).scale,W=z&&z.invert?z.invert(k.chartX):null,q=G&&G.invert?G.invert(k.chartY):null;return it(it({},k),{},{xValue:W,yValue:q},L)}return L?it(it({},k),L):null}},{key:"inRange",value:function(b,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,k=b/_,S=j/_;if(P==="horizontal"||P==="vertical"){var E=this.state.offset,M=k>=E.left&&k<=E.left+E.width&&S>=E.top&&S<=E.top+E.height;return M?{x:k,y:S}:null}var T=this.state,C=T.angleAxisMap,I=T.radiusAxisMap;if(C&&I){var L=Nf(C);return QM({x:k,y:S},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,j=this.getTooltipEventType(),_=Wo(b,ts),P={};_&&j==="axis"&&(_.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=fN(this.props,this.handleOuterEvent);return it(it({},k),P)}},{key:"addListener",value:function(){HA.on(GA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){HA.removeListener(GA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,j,_){for(var P=this.state.formattedGraphicalItems,k=0,S=P.length;k<S;k++){var E=P[k];if(E.item===b||E.props.key===b.key||j===fd(E.item.type)&&_===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,j=this.state.offset,_=j.left,P=j.top,k=j.height,S=j.width;return he.createElement("defs",null,he.createElement("clipPath",{id:b},he.createElement("rect",{x:_,y:P,height:k,width:S})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(j,_){var P=S7(_,2),k=P[0],S=P[1];return it(it({},j),{},hr({},k,S.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(j,_){var P=S7(_,2),k=P[0],S=P[1];return it(it({},j),{},hr({},k,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(b){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(b){var j=this.state,_=j.formattedGraphicalItems,P=j.activeItem;if(_&&_.length)for(var k=0,S=_.length;k<S;k++){var E=_[k],M=E.props,T=E.item,C=T.type.defaultProps!==void 0?it(it({},T.type.defaultProps),T.props):T.props,I=fd(T.type);if(I==="Bar"){var L=(M.data||[]).find(function(q){return gFe(b,q)});if(L)return{graphicalItem:E,payload:L}}else if(I==="RadialBar"){var z=(M.data||[]).find(function(q){return QM(b,q)});if(z)return{graphicalItem:E,payload:z}}else if(wS(E,P)||jS(E,P)||Vy(E,P)){var G=aMe({graphicalItem:E,activeTooltipItem:P,itemData:C.data}),W=C.activeIndex===void 0?G:C.activeIndex;return{graphicalItem:it(it({},E),{},{childIndex:W}),payload:Vy(E,P)?C.data[G]:E.props.data[G]}}}return null}},{key:"render",value:function(){var b=this;if(!qF(this))return null;var j=this.props,_=j.children,P=j.className,k=j.width,S=j.height,E=j.style,M=j.compact,T=j.title,C=j.desc,I=A7(j,k9e),L=or(I,!1);if(M)return he.createElement(i7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement(jE,k0({},L,{width:k,height:S,title:T,desc:C}),this.renderClipPath(),VF(_,this.renderMap)));if(this.props.accessibilityLayer){var z,G;L.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,L.role=(G=this.props.role)!==null&&G!==void 0?G:"application",L.onKeyDown=function(q){b.accessibilityManager.keyboardEvent(q)},L.onFocus=function(){b.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return he.createElement(i7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement("div",k0({className:Rr("recharts-wrapper",P),style:it({position:"relative",cursor:"default",width:k,height:S},E)},W,{ref:function(K){b.container=K}}),he.createElement(jE,k0({},L,{width:k,height:S,title:T,desc:C,style:G9e}),this.renderClipPath(),VF(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);hr(g,"displayName",r),hr(g,"defaultProps",it({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),hr(g,"getDerivedStateFromProps",function(x,v){var y=x.dataKey,b=x.data,j=x.children,_=x.width,P=x.height,k=x.layout,S=x.stackOffset,E=x.margin,M=v.dataStartIndex,T=v.dataEndIndex;if(v.updateId===void 0){var C=P7(x);return it(it(it({},C),{},{updateId:0},m(it(it({props:x},C),{},{updateId:0}),v)),{},{prevDataKey:y,prevData:b,prevWidth:_,prevHeight:P,prevLayout:k,prevStackOffset:S,prevMargin:E,prevChildren:j})}if(y!==v.prevDataKey||b!==v.prevData||_!==v.prevWidth||P!==v.prevHeight||k!==v.prevLayout||S!==v.prevStackOffset||!W0(E,v.prevMargin)){var I=P7(x),L={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},z=it(it({},E7(v,b,k)),{},{updateId:v.updateId+1}),G=it(it(it({},I),L),z);return it(it(it({},G),m(it({props:x},G),v)),{},{prevDataKey:y,prevData:b,prevWidth:_,prevHeight:P,prevLayout:k,prevStackOffset:S,prevMargin:E,prevChildren:j})}if(!bE(j,v.prevChildren)){var W,q,K,ae,ie=Wo(j,Hg),O=ie&&(W=(q=ie.props)===null||q===void 0?void 0:q.startIndex)!==null&&W!==void 0?W:M,V=ie&&(K=(ae=ie.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&K!==void 0?K:T,D=O!==M||V!==T,B=!Or(b),Q=B&&!D?v.updateId:v.updateId+1;return it(it({updateId:Q},m(it(it({props:x},v),{},{updateId:Q,dataStartIndex:O,dataEndIndex:V}),v)),{},{prevChildren:j,dataStartIndex:O,dataEndIndex:V})}return null}),hr(g,"renderActiveDot",function(x,v,y){var b;return N.isValidElement(x)?b=N.cloneElement(x,v):mr(x)?b=x(v):b=he.createElement(zb,v),he.createElement(Yr,{className:"recharts-active-dot",key:y},b)});var p=N.forwardRef(function(v,y){return he.createElement(g,k0({},v,{ref:y}))});return p.displayName=g.displayName,p},kS=PS({chartName:"LineChart",GraphicalChild:dl,axisComponents:[{axisType:"xAxis",AxisComp:rs},{axisType:"yAxis",AxisComp:ns}],formatAxisMap:l6}),bm=PS({chartName:"BarChart",GraphicalChild:nl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:rs},{axisType:"yAxis",AxisComp:ns}],formatAxisMap:l6}),v6=PS({chartName:"PieChart",GraphicalChild:Fc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:bS},{axisType:"radiusAxis",AxisComp:vS}],formatAxisMap:kDe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),nBe=PS({chartName:"AreaChart",GraphicalChild:Sh,axisComponents:[{axisType:"xAxis",AxisComp:rs},{axisType:"yAxis",AxisComp:ns}],formatAxisMap:l6});const aBe={light:"",dark:".dark"},vee=N.createContext(null);function yee(){const e=N.useContext(vee);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const hc=N.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const o=N.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return i.jsx(vee.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:s,className:ht("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[i.jsx(iBe,{id:l,config:n}),i.jsx(fc,{children:r})]})})});hc.displayName="Chart";const iBe=({id:e,config:t})=>{const r=Object.entries(t).filter(([,n])=>n.theme||n.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(aBe).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Lf=ts,od=N.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},m)=>{const{config:g}=yee(),p=N.useMemo(()=>{var _;if(a||!(t!=null&&t.length))return null;const[v]=t,y=`${h||(v==null?void 0:v.dataKey)||(v==null?void 0:v.name)||"value"}`,b=GP(g,v,y),j=!h&&typeof o=="string"?((_=g[o])==null?void 0:_.label)||o:b==null?void 0:b.label;return l?i.jsx("div",{className:ht("font-medium",c),children:l(j,t)}):j?i.jsx("div",{className:ht("font-medium",c),children:j}):null},[o,l,t,a,c,g,h]);if(!e||!(t!=null&&t.length))return null;const x=t.length===1&&n!=="dot";return i.jsxs("div",{ref:m,className:ht("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[x?null:p,i.jsx("div",{className:"grid gap-1.5",children:t.map((v,y)=>{const b=`${f||v.name||v.dataKey||"value"}`,j=GP(g,v,b),_=d||v.payload.fill||v.color;return i.jsx("div",{className:ht("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(v==null?void 0:v.value)!==void 0&&v.name?u(v.value,v.name,v,y,v.payload):i.jsxs(i.Fragment,{children:[j!=null&&j.icon?i.jsx(j.icon,{}):!s&&i.jsx("div",{className:ht("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":x&&n==="dashed"}),style:{"--color-bg":_,"--color-border":_}}),i.jsxs("div",{className:ht("flex flex-1 justify-between leading-none",x?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[x?p:null,i.jsx("span",{className:"text-muted-foreground",children:(j==null?void 0:j.label)||v.name})]}),v.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:v.value.toLocaleString()})]})]})},v.dataKey)})})]})});od.displayName="ChartTooltip";const sBe=N.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:o}=yee();return r!=null&&r.length?i.jsx("div",{ref:s,className:ht("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=GP(o,l,c);return i.jsxs("div",{className:ht("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});sBe.displayName="ChartLegend";function GP(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}const oBe={note:ai,document:ai,interaction:DT,plan_change:As,communication:sl},T7={note:"bg-blue-500/10 text-blue-700 border-blue-500/30",document:"bg-purple-500/10 text-purple-700 border-purple-500/30",interaction:"bg-green-500/10 text-green-700 border-green-500/30",plan_change:"bg-orange-500/10 text-orange-700 border-orange-500/30",communication:"bg-pink-500/10 text-pink-700 border-pink-500/30"},lBe=[{value:"phone",label:"Telefone",icon:u_},{value:"email",label:"Email",icon:sl},{value:"video",label:"Videoconferncia",icon:xG},{value:"meeting",label:"Reunio",icon:Si},{value:"other",label:"Outro",icon:DT}];function cBe({userId:e}){const{toast:t}=Qr(),r=Ya(),[n,a]=N.useState(!1),[s,o]=N.useState({type:"phone",description:""}),{data:l=[],isLoading:c}=ir({queryKey:[`/api/admin/clients/${e}/timeline`],queryFn:async()=>(await Pr("GET",`/api/admin/clients/${e}/timeline`)).json()}),u=rr({mutationFn:async f=>(await Pr("POST",`/api/admin/clients/${e}/interactions`,f)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/admin/clients/${e}/timeline`]}),t({title:"Interao registrada",description:"A interao foi registrada com sucesso"}),a(!1),o({type:"phone",description:""})},onError:()=>{t({title:"Erro",description:"No foi possvel registrar a interao",variant:"destructive"})}}),d=()=>{if(!s.description.trim()){t({title:"Erro",description:"Digite uma descrio para a interao",variant:"destructive"});return}u.mutate({interaction_type:s.type,description:s.description})};return c?i.jsx("div",{className:"text-center py-8",children:"Carregando timeline..."}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Timeline de Atividades"}),i.jsxs(kr,{open:n,onOpenChange:a,children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{size:"sm",children:[i.jsx(zl,{className:"h-4 w-4 mr-2"}),"Registrar Interao"]})}),i.jsxs(Sr,{children:[i.jsx(yr,{children:i.jsx(br,{children:"Registrar Nova Interao"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{children:"Tipo de Interao"}),i.jsxs(Cr,{value:s.type,onValueChange:f=>o({...s,type:f}),children:[i.jsx(Nr,{children:i.jsx(Er,{})}),i.jsx(_r,{children:lBe.map(f=>i.jsx(Je,{value:f.value,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(f.icon,{className:"h-4 w-4"}),f.label]})},f.value))})]})]}),i.jsxs("div",{children:[i.jsx(De,{children:"Descrio"}),i.jsx(Es,{placeholder:"Descreva o que foi discutido ou acordado...",value:s.description,onChange:f=>o({...s,description:f.target.value}),rows:4})]}),i.jsx(ye,{onClick:d,className:"w-full",disabled:u.isPending,children:u.isPending?"Salvando...":"Salvar Interao"})]})]})]})]}),i.jsx("div",{className:"space-y-3",children:l.length===0?i.jsx(Ae,{children:i.jsx(Pe,{className:"py-8 text-center text-muted-foreground",children:"Nenhuma atividade registrada ainda"})}):l.map(f=>{const h=oBe[f.event_type]||DT;return i.jsx(Ae,{className:"border-l-4",children:i.jsx(Pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${T7[f.event_type]||"bg-gray-500/10"}`,children:i.jsx(h,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(It,{variant:"outline",className:T7[f.event_type],children:f.event_type.replace("_"," ")}),i.jsx("span",{className:"text-xs text-muted-foreground",children:Ea(new Date(f.event_date),"dd/MM/yyyy 's' HH:mm",{locale:Va})})]}),f.subject&&i.jsx("p",{className:"font-medium text-sm mb-1",children:f.subject}),i.jsx("p",{className:"text-sm text-muted-foreground",children:f.description})]})]})})},`${f.event_type}-${f.id}`)})})]})}function uBe({userId:e}){const{toast:t}=Qr(),r=Ya(),[n,a]=N.useState(!1),[s,o]=N.useState(null),[l,c]=N.useState(""),{data:u=[],isLoading:d}=ir({queryKey:[`/api/admin/clients/${e}/notes`],queryFn:async()=>(await Pr("GET",`/api/admin/clients/${e}/notes`)).json()}),f=rr({mutationFn:async x=>(await Pr("POST",`/api/admin/clients/${e}/notes`,{content:x})).json(),onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/admin/clients/${e}/notes`]}),t({title:"Nota criada",description:"A nota foi criada com sucesso"}),a(!1),c("")}}),h=rr({mutationFn:async({id:x,content:v})=>(await Pr("PUT",`/api/admin/clients/notes/${x}`,{content:v})).json(),onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/admin/clients/${e}/notes`]}),t({title:"Nota atualizada",description:"A nota foi atualizada com sucesso"}),o(null),c("")}}),m=rr({mutationFn:async x=>{await Pr("DELETE",`/api/admin/clients/notes/${x}`)},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/admin/clients/${e}/notes`]}),t({title:"Nota deletada",description:"A nota foi removida com sucesso"})}}),g=()=>{if(!l.trim()){t({title:"Erro",description:"Digite o contedo da nota",variant:"destructive"});return}s?h.mutate({id:s.id,content:l}):f.mutate(l)},p=x=>{o(x),c(x.content),a(!0)};return d?i.jsx("div",{className:"text-center py-8",children:"Carregando notas..."}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Notas Internas"}),i.jsxs(kr,{open:n,onOpenChange:x=>{a(x),x||(o(null),c(""))},children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{size:"sm",children:[i.jsx(zl,{className:"h-4 w-4 mr-2"}),"Nova Nota"]})}),i.jsxs(Sr,{children:[i.jsx(yr,{children:i.jsx(br,{children:s?"Editar Nota":"Nova Nota"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Es,{placeholder:"Digite a nota...",value:l,onChange:x=>c(x.target.value),rows:6}),i.jsx(ye,{onClick:g,className:"w-full",children:s?"Atualizar Nota":"Salvar Nota"})]})]})]})]}),i.jsx("div",{className:"space-y-3",children:u.length===0?i.jsx(Ae,{children:i.jsxs(Pe,{className:"py-8 text-center text-muted-foreground",children:[i.jsx(ai,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"Nenhuma nota registrada ainda"})]})}):u.map(x=>i.jsx(Ae,{children:i.jsx(Pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:x.content}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:Ea(new Date(x.created_at),"dd/MM/yyyy 's' HH:mm",{locale:Va})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>p(x),children:i.jsx(Q1,{className:"h-4 w-4"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>{confirm("Deseja realmente deletar esta nota?")&&m.mutate(x.id)},children:i.jsx(Ei,{className:"h-4 w-4 text-destructive"})})]})]})})},x.id))})]})}function dBe({isPublicAdmin:e=!1}){const[t,r]=N.useState([]),[n,a]=N.useState([]),[s,o]=N.useState(""),[l,c]=N.useState("all"),[u,d]=N.useState("all"),[f,h]=N.useState(1),[m,g]=N.useState(!0),p=20,{toast:x}=Qr();N.useEffect(()=>{v()},[]),N.useEffect(()=>{y()},[t,s,l,u]);const v=async()=>{try{g(!0);const T=e?"/api/admin/all-logs?limit=500":"/api/logs-admin?limit=500",C=localStorage.getItem("user");if(!C){console.warn(" Usurio no encontrado no localStorage"),r([]),g(!1);return}const I=JSON.parse(C),L=await fetch(T,{headers:{"x-user-id":I.id,"x-is-admin":"true"}});if(!L.ok)throw console.error(` Erro na API: ${L.status} ${L.statusText}`),new Error("Erro ao buscar logs");const z=await L.json();if(console.log(" Dados recebidos da API:",z),console.log(" Total de logs:",Array.isArray(z)?z.length:0),!Array.isArray(z)){console.warn(" Dados de logs no so um array:",z),r([]);return}const G=z.filter(W=>W&&(W.data||W.timestamp)&&(W.acao||W.action)).map((W,q)=>({id:W.id||q+1,timestamp:W.data||W.timestamp||new Date().toISOString(),admin_email:W.usuario_email||W.admin_email||"Sistema",admin_name:W.usuario_nome||W.admin_name||"Sistema",action:W.acao||W.action||"Ao desconhecida",target_user:W.target_user||"",details:W.detalhes||W.details||"",ip_address:W.ip_address||"",user_agent:W.user_agent||"",session_duration:W.session_duration})).sort((W,q)=>new Date(q.timestamp).getTime()-new Date(W.timestamp).getTime());console.log(` ${G.length} logs processados com sucesso`),r(G)}catch(T){console.error(" Erro ao buscar logs:",T),x({title:"Erro ao carregar logs",description:"No foi possvel carregar os logs de auditoria. Tente novamente.",variant:"destructive"}),r([])}finally{g(!1)}},y=()=>{let T=[...t];if(s){const C=s.toLowerCase();T=T.filter(I=>I.admin_email&&I.admin_email.toLowerCase().includes(C)||I.admin_name&&I.admin_name.toLowerCase().includes(C)||I.action&&I.action.toLowerCase().includes(C)||I.details&&I.details.toLowerCase().includes(C)||I.target_user&&I.target_user.toLowerCase().includes(C))}l!=="all"&&(T=T.filter(C=>C.action&&C.action.includes(l))),u!=="all"&&(T=T.filter(C=>C.admin_email&&C.admin_email===u)),a(T),h(1)},b=Array.from(new Set(t.map(T=>T.admin_email).filter(Boolean))),j=Array.from(new Set(t.map(T=>{const C=T.action;if(!C)return null;const I=C.match(/^[A-Z_]+/);return I?I[0]:C}).filter(Boolean))),_=Math.ceil(n.length/p),P=n.slice((f-1)*p,f*p),k=()=>{const T=["Data/Hora","Admin","Email","Ao","Usurio Alvo","Detalhes","IP","User Agent","Durao Sesso"],C=n.map(G=>[new Date(G.timestamp).toLocaleString("pt-BR"),G.admin_name||"",G.admin_email||"",G.action||"",G.target_user||"",G.details||"",G.ip_address||"",G.user_agent||"",G.session_duration?`${G.session_duration}s`:""]),I=[T,...C].map(G=>G.map(W=>`"${String(W).replace(/"/g,'""')}"`).join(",")).join(`
`),L=new Blob(["\uFEFF"+I],{type:"text/csv;charset=utf-8;"}),z=document.createElement("a");z.href=URL.createObjectURL(L),z.download=`admin-logs-${new Date().toISOString().split("T")[0]}.csv`,z.click()},S=T=>T.includes("LOGIN")?i.jsx(eo,{className:"h-4 w-4 text-green-500"}):T.includes("LOGOUT")?i.jsx(OT,{className:"h-4 w-4 text-gray-500"}):T.includes("VIEW")||T.includes("ACESSO")?i.jsx(rd,{className:"h-4 w-4 text-blue-500"}):T.includes("UPDATE")||T.includes("EDIT")?i.jsx(Q1,{className:"h-4 w-4 text-yellow-500"}):T.includes("DELETE")?i.jsx(Ei,{className:"h-4 w-4 text-red-500"}):i.jsx(ET,{className:"h-4 w-4 text-purple-500"}),E=T=>T.includes("LOGIN")?"bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/30":T.includes("LOGOUT")?"bg-gray-500/10 text-gray-700 dark:text-gray-400 border-gray-500/30":T.includes("VIEW")||T.includes("ACESSO")?"bg-blue-500/10 text-blue-700 dark:text-blue-400 border-blue-500/30":T.includes("UPDATE")||T.includes("EDIT")?"bg-yellow-500/10 text-yellow-700 dark:text-yellow-400 border-yellow-500/30":T.includes("DELETE")?"bg-red-500/10 text-red-700 dark:text-red-400 border-red-500/30":"bg-purple-500/10 text-purple-700 dark:text-purple-400 border-purple-500/30",M=t.filter(T=>{const C=new Date(T.timestamp),I=new Date(Date.now()-24*60*60*1e3);return C>=I}).length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Logs de Administradores"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitore todas as aes realizadas pelos administradores do sistema"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{onClick:k,className:"gap-2",variant:"outline",children:[i.jsx(fm,{className:"h-4 w-4"}),"Exportar CSV"]}),e&&i.jsxs(ye,{onClick:()=>window.dispatchEvent(new CustomEvent("open-limpar-logs")),variant:"destructive",className:"gap-2",children:[i.jsx(Ei,{className:"h-4 w-4"}),"Limpar Logs"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs(Ae,{children:[i.jsx(qe,{className:"pb-2",children:i.jsx(Ue,{className:"text-sm font-medium",children:"Total de Logs"})}),i.jsx(Pe,{children:i.jsx("div",{className:"text-2xl font-bold",children:n.length})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{className:"pb-2",children:i.jsx(Ue,{className:"text-sm font-medium",children:"Admins Ativos"})}),i.jsx(Pe,{children:i.jsx("div",{className:"text-2xl font-bold",children:b.length})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{className:"pb-2",children:i.jsx(Ue,{className:"text-sm font-medium",children:"ltimas 24h"})}),i.jsx(Pe,{children:i.jsx("div",{className:"text-2xl font-bold",children:M})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{className:"pb-2",children:i.jsx(Ue,{className:"text-sm font-medium",children:"Tipos de Aes"})}),i.jsx(Pe,{children:i.jsx("div",{className:"text-2xl font-bold",children:j.length})})]})]}),i.jsx(Ae,{children:i.jsx(Pe,{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{placeholder:"Buscar logs...",value:s,onChange:T=>o(T.target.value),className:"pl-9"})]}),i.jsxs(Cr,{value:u,onValueChange:d,children:[i.jsxs(Nr,{children:[i.jsx(Tm,{className:"h-4 w-4 mr-2"}),i.jsx(Er,{placeholder:"Filtrar por Admin"})]}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todos os Admins"}),b.map(T=>i.jsx(Je,{value:T||"",children:T},T))]})]}),i.jsxs(Cr,{value:l,onValueChange:c,children:[i.jsxs(Nr,{children:[i.jsx(TT,{className:"h-4 w-4 mr-2"}),i.jsx(Er,{placeholder:"Filtrar por Ao"})]}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todas as Aes"}),j.map(T=>i.jsx(Je,{value:T,children:T},T))]})]})]})})}),m?i.jsx(Ae,{children:i.jsx(Pe,{className:"py-12 text-center",children:i.jsx("p",{children:"Carregando logs..."})})}):n.length===0?i.jsx(Ae,{children:i.jsxs(Pe,{className:"py-12 text-center",children:[i.jsx(Ys,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum log encontrado"}),i.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os filtros"})]})}):i.jsxs(Ae,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Data/Hora"}),i.jsx(Me,{children:"Administrador"}),i.jsx(Me,{children:"Ao"}),i.jsx(Me,{children:"Alvo"}),i.jsx(Me,{children:"Detalhes"}),i.jsx(Me,{children:"IP"})]})}),i.jsx(gn,{children:P.map(T=>{var C;return i.jsxs(Bt,{children:[i.jsx(Ie,{className:"font-mono text-xs",children:new Date(T.timestamp).toLocaleString("pt-BR")}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold",children:((C=T.admin_name)==null?void 0:C.charAt(0).toUpperCase())||"S"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm",children:T.admin_name||"Sistema"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:T.admin_email})]})]})}),i.jsx(Ie,{children:i.jsxs(It,{variant:"outline",className:`flex items-center gap-1 ${E(T.action)}`,children:[S(T.action),i.jsx("span",{className:"text-xs",children:T.action})]})}),i.jsx(Ie,{className:"text-sm",children:T.target_user||""}),i.jsx(Ie,{className:"text-sm max-w-md truncate",children:T.details}),i.jsx(Ie,{className:"font-mono text-xs",children:T.ip_address||""})]},T.id)})})]})}),_>1&&i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Exibindo ",(f-1)*p+1," a ",Math.min(f*p,n.length)," de ",n.length]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"outline",size:"sm",onClick:()=>h(T=>Math.max(1,T-1)),disabled:f===1,children:i.jsx(PT,{className:"h-4 w-4"})}),i.jsxs("span",{className:"text-sm px-2",children:[f," de ",_]}),i.jsx(ye,{variant:"outline",size:"sm",onClick:()=>h(T=>Math.min(_,T+1)),disabled:f===_,children:i.jsx(Nb,{className:"h-4 w-4"})})]})]})]}),i.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[i.jsxs("p",{className:"text-sm font-medium mb-2",children:[n.length," registro",n.length!==1?"s":""," encontrado",n.length!==1?"s":""]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Use os filtros acima para refinar a busca"})]})]})}function fBe({expirationDate:e,planName:t,status:r}){const[n,a]=N.useState(null);if(N.useEffect(()=>{if(!e){a(null);return}const l=()=>{const u=new Date,f=new Date(e).getTime()-u.getTime();if(f<=0)return{days:0,hours:0,minutes:0,seconds:0,expired:!0};const h=Math.floor(f/(1e3*60*60*24)),m=Math.floor(f%(1e3*60*60*24)/(1e3*60*60)),g=Math.floor(f%(1e3*60*60)/(1e3*60)),p=Math.floor(f%(1e3*60)/1e3);return{days:h,hours:m,minutes:g,seconds:p,expired:!1}};a(l());const c=setInterval(()=>{a(l())},1e3);return()=>clearInterval(c)},[e]),!e)return i.jsx(Ae,{className:"border-green-200",children:i.jsx(Pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(La,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600",children:"Plano Ativo"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Sem data de expirao"})]})]})})});if(!n)return null;const s=n.expired||r==="bloqueado",o=!s&&n.days<=3;return i.jsx(Ae,{className:`${s?"border-red-500 bg-red-50 dark:bg-red-950/20":o?"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/20":"border-blue-200"}`,children:i.jsx(Pe,{className:"p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[s?i.jsx(ji,{className:"h-5 w-5 text-red-600"}):i.jsx(Ys,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:t}),i.jsx("p",{className:"text-xs text-muted-foreground",children:s?"Expirado":"Tempo Restante"})]})]}),!s&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-center mb-2",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vence em ",n.days," dia",n.days!==1?"s":"",n.hours>0&&` e ${n.hours}h`]})}),i.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[i.jsxs("div",{className:"text-center p-2 bg-background rounded border",children:[i.jsx("div",{className:"text-2xl font-bold",children:n.days}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Dias"})]}),i.jsxs("div",{className:"text-center p-2 bg-background rounded border",children:[i.jsx("div",{className:"text-2xl font-bold",children:n.hours}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Horas"})]}),i.jsxs("div",{className:"text-center p-2 bg-background rounded border",children:[i.jsx("div",{className:"text-2xl font-bold",children:n.minutes}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Min"})]}),i.jsxs("div",{className:"text-center p-2 bg-background rounded border",children:[i.jsx("div",{className:"text-2xl font-bold",children:n.seconds}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Seg"})]})]})]}),s&&i.jsx("div",{className:"text-center py-2 px-3 bg-red-100 dark:bg-red-900/30 rounded border border-red-300 dark:border-red-700",children:i.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"Plano Expirado - Conta Bloqueada"})})]})})})}function hBe({user:e,open:t,onOpenChange:r}){const{toast:n}=Qr(),a=Ya(),[s,o]=N.useState({nome:(e==null?void 0:e.nome)||"",email:(e==null?void 0:e.email)||"",senha:"",plano:(e==null?void 0:e.plano)||"free",status:(e==null?void 0:e.status)||"ativo",cpf_cnpj:(e==null?void 0:e.cpf_cnpj)||"",telefone:(e==null?void 0:e.telefone)||"",endereco:(e==null?void 0:e.endereco)||"",max_funcionarios:(e==null?void 0:e.max_funcionarios)||1,data_expiracao_plano:(e==null?void 0:e.data_expiracao_plano)||(e==null?void 0:e.data_expiracao_trial)||""});N.useEffect(()=>{e&&o({nome:e.nome||"",email:e.email||"",senha:"",plano:e.plano||"free",status:e.status||"ativo",cpf_cnpj:e.cpf_cnpj||"",telefone:e.telefone||"",endereco:e.endereco||"",max_funcionarios:e.max_funcionarios||1,data_expiracao_plano:e.data_expiracao_plano||e.data_expiracao_trial||""})},[e]);const l=rr({mutationFn:async()=>{if(e){const c={...s};return c.senha||delete c.senha,(await oa("PATCH",`/api/users/${e.id}`,c)).json()}else return(await oa("POST","/api/auth/register",s)).json()},onSuccess:()=>{n({title:e?"Usurio atualizado!":"Usurio criado!",description:e?"As informaes foram atualizadas com sucesso.":"O novo usurio foi criado com sucesso."}),a.invalidateQueries({queryKey:["/api/users"]}),r(!1)},onError:c=>{n({title:"Erro",description:c.message,variant:"destructive"})}});return i.jsx(kr,{open:t,onOpenChange:r,children:i.jsxs(Sr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(yr,{children:[i.jsx(br,{children:e?"Editar Usurio":"Criar Novo Usurio"}),i.jsx(tn,{children:e?"Atualize as informaes do usurio":"Preencha os dados para criar um novo usurio"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Nome *"}),i.jsx(Ze,{value:s.nome,onChange:c=>o({...s,nome:c.target.value}),placeholder:"Nome completo"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Email *"}),i.jsx(Ze,{type:"email",value:s.email,onChange:c=>o({...s,email:c.target.value}),placeholder:"email@exemplo.com",disabled:!!e})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(De,{children:["Senha ",e?"(deixe em branco para manter a atual)":"*"]}),i.jsx(Ze,{type:"password",value:s.senha,onChange:c=>o({...s,senha:c.target.value}),placeholder:e?"Digite para alterar a senha":"Digite a senha"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Plano"}),i.jsxs(Cr,{value:s.plano,onValueChange:c=>o({...s,plano:c}),children:[i.jsx(Nr,{children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"free",children:"Free"}),i.jsx(Je,{value:"trial",children:"Trial"}),i.jsx(Je,{value:"premium_mensal",children:"Premium Mensal"}),i.jsx(Je,{value:"premium_anual",children:"Premium Anual"}),i.jsx(Je,{value:"premium",children:"Premium"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Status"}),i.jsxs(Cr,{value:s.status,onValueChange:c=>o({...s,status:c}),children:[i.jsx(Nr,{children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"ativo",children:"Ativo"}),i.jsx(Je,{value:"inativo",children:"Inativo"}),i.jsx(Je,{value:"bloqueado",children:"Bloqueado"}),i.jsx(Je,{value:"cancelado",children:"Cancelado"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"CPF/CNPJ"}),i.jsx(Ze,{value:s.cpf_cnpj,onChange:c=>o({...s,cpf_cnpj:c.target.value}),placeholder:"000.000.000-00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Telefone"}),i.jsx(Ze,{value:s.telefone,onChange:c=>o({...s,telefone:c.target.value}),placeholder:"(00) 00000-0000"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Endereo"}),i.jsx(Ze,{value:s.endereco,onChange:c=>o({...s,endereco:c.target.value}),placeholder:"Endereo completo"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Mximo de Funcionrios"}),i.jsx(Ze,{type:"number",min:"1",value:s.max_funcionarios,onChange:c=>o({...s,max_funcionarios:parseInt(c.target.value)})})]}),e&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Dias de Plano Restantes"}),i.jsx(Ze,{type:"number",min:"0",value:e.data_expiracao_plano||e.data_expiracao_trial?Math.max(0,Math.ceil((new Date(e.data_expiracao_plano||e.data_expiracao_trial).getTime()-new Date().getTime())/(1e3*60*60*24))):0,onChange:c=>{const u=parseInt(c.target.value)||0,d=new Date;d.setDate(d.getDate()+u),o({...s,data_expiracao_plano:d.toISOString()})}}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Define quantos dias o plano permanecer ativo"})]})]}),i.jsxs(to,{children:[i.jsx(ye,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),i.jsxs(ye,{onClick:()=>l.mutate(),disabled:l.isPending,children:[l.isPending&&i.jsx(Ha,{className:"h-4 w-4 mr-2 animate-spin"}),e?"Salvar Alteraes":"Criar Usurio"]})]})]})})}function mBe(){const{toast:e}=Qr(),t=Ya(),[r,n]=N.useState({access_token:"",public_key:"",webhook_url:""}),{data:a,isLoading:s}=ir({queryKey:["/api/config-mercadopago"],retry:1});N.useEffect(()=>{a&&n({access_token:a.access_token||"",public_key:a.public_key||"",webhook_url:a.webhook_url||""})},[a]);const o=rr({mutationFn:async()=>(await oa("POST","/api/config-mercadopago",r)).json(),onSuccess:()=>{e({title:"Configurao salva!",description:"As configuraes do Mercado Pago foram atualizadas."}),t.invalidateQueries({queryKey:["/api/config-mercadopago"]})},onError:f=>{e({title:"Erro ao salvar",description:f.message,variant:"destructive"})}}),l=rr({mutationFn:async()=>(await oa("POST","/api/config-mercadopago/test",{access_token:r.access_token})).json(),onSuccess:f=>{e({title:f.success?" Conexo bem-sucedida!":" Falha na conexo",description:f.message,variant:f.success?"default":"destructive"})},onError:f=>{e({title:" Erro ao testar conexo",description:f.message||"Erro desconhecido ao conectar com Mercado Pago",variant:"destructive"})}}),u=s?{color:"bg-gray-500",text:"Verificando...",icon:Ha}:!a||!a.access_token?{color:"bg-red-500",text:"No Configurado",icon:jc}:a.status_conexao==="conectado"?{color:"bg-green-500",text:"Conectado",icon:La}:{color:"bg-yellow-500",text:"Configurado (no testado)",icon:ud},d=u.icon;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(ET,{className:"h-5 w-5 text-blue-600"}),"Status da Integrao"]})}),i.jsx(Pe,{children:i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 ${u.color} rounded-full`,children:i.jsx(d,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Mercado Pago"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gateway de Pagamento"})]})]}),i.jsx(It,{className:u.color,children:u.text})]})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(As,{className:"h-5 w-5 text-blue-600"}),"Credenciais da API"]}),i.jsx(Ht,{children:"Configure as credenciais da API do Mercado Pago para processar pagamentos"})]}),i.jsxs(Pe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Access Token"}),i.jsx(Ze,{type:"text",value:r.access_token,onChange:f=>n({...r,access_token:f.target.value}),placeholder:"APP_USR-...","data-testid":"input-mp-access-token"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" Cole aqui o Access Token gerado no painel do Mercado Pago"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Public Key"}),i.jsx(Ze,{value:r.public_key,onChange:f=>n({...r,public_key:f.target.value}),placeholder:"APP_USR-...","data-testid":"input-mp-public-key"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"mp-webhook",children:"Webhook URL"}),i.jsx(Ze,{id:"mp-webhook",value:r.webhook_url,onChange:f=>n({...r,webhook_url:f.target.value}),placeholder:"https://seu-dominio.com/api/webhooks/mercadopago","data-testid":"input-mp-webhook"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" URL onde o Mercado Pago enviar notificaes de pagamento"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"button-save-mp-config",className:"bg-blue-600 hover:bg-blue-700",children:[o.isPending&&i.jsx(Ha,{className:"h-4 w-4 mr-2 animate-spin"}),i.jsx(IT,{className:"h-4 w-4 mr-2"}),"Salvar Configurao"]}),i.jsxs(ye,{variant:"outline",onClick:()=>l.mutate(),disabled:l.isPending||!r.access_token,"data-testid":"button-test-mp-connection",children:[l.isPending&&i.jsx(Ha,{className:"h-4 w-4 mr-2 animate-spin"}),"Testar Conexo"]})]}),a&&a.webhook_url&&i.jsx("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-900",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(La,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-green-700 dark:text-green-400",children:"Webhook Configurado"}),i.jsx("p",{className:"text-sm text-green-600 dark:text-green-300 mt-1 break-all",children:a.webhook_url}),i.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-2",children:" Configure esta URL no painel do Mercado Pago quando tiver seu domnio premium"})]})]})})]})]})]})}function pBe(){const{toast:e}=Qr(),t=Ya(),[r,n]=N.useState(!1),[a,s]=N.useState(null),[o,l]=N.useState({codigo:"",tipo:"percentual",valor:0,planos_aplicaveis:["premium_mensal","premium_anual"],data_inicio:new Date().toISOString().split("T")[0],data_expiracao:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],quantidade_maxima:null,descricao:""}),c=JSON.parse(localStorage.getItem("user")||"{}"),[u,d]=N.useState(!1),[f,h]=N.useState({pacote_5:49.99,pacote_10:89.99,pacote_20:159.99,pacote_50:349.99}),m=C=>{if(!C)return"";try{return Ea(new Date(C),"dd/MM/yyyy",{locale:Va})}catch{return C}},g=C=>{const L={ativo:{variant:"default",label:"Ativo"},inativo:{variant:"secondary",label:"Inativo"},expirado:{variant:"destructive",label:"Expirado"}}[C]||{variant:"outline",label:C};return i.jsx(It,{variant:L.variant,children:L.label})},{data:p=[],isLoading:x}=ir({queryKey:["/api/cupons"],retry:1}),v=rr({mutationFn:async()=>{const C=a?`/api/cupons/${a.id}`:"/api/cupons",I=a?"PUT":"POST",L={...o,criado_por:c.id},z=await fetch(C,{method:I,headers:{"Content-Type":"application/json","x-user-id":c.id,"x-is-admin":"true"},body:JSON.stringify(L)});if(!z.ok){const G=await z.json();throw new Error(G.error||"Erro ao salvar cupom")}return z.json()},onSuccess:()=>{e({title:a?"Cupom atualizado!":"Cupom criado!",description:a?"O cupom foi atualizado com sucesso":"O novo cupom est disponvel para uso"}),t.invalidateQueries({queryKey:["/api/cupons"]}),n(!1),b()},onError:C=>{e({title:"Erro",description:C.message,variant:"destructive"})}}),y=rr({mutationFn:async C=>{const I=await fetch(`/api/cupons/${C}`,{method:"DELETE",headers:{"x-user-id":c.id,"x-is-admin":"true"}});if(!I.ok){const L=await I.json();throw new Error(L.error||"Erro ao deletar cupom")}return I.json()},onSuccess:()=>{e({title:"Cupom deletado!",description:"O cupom foi removido com sucesso"}),t.invalidateQueries({queryKey:["/api/cupons"]})},onError:C=>{e({title:"Erro",description:C.message,variant:"destructive"})}}),b=()=>{s(null),l({codigo:"",tipo:"percentual",valor:0,planos_aplicaveis:["premium_mensal","premium_anual"],data_inicio:new Date().toISOString().split("T")[0],data_expiracao:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],quantidade_maxima:null,descricao:""})},j=C=>{var I,L;s(C),l({codigo:C.codigo,tipo:C.tipo,valor:C.valor,planos_aplicaveis:C.planos_aplicaveis||["premium_mensal","premium_anual"],data_inicio:((I=C.data_inicio)==null?void 0:I.split("T")[0])||new Date().toISOString().split("T")[0],data_expiracao:((L=C.data_expiracao)==null?void 0:L.split("T")[0])||new Date().toISOString().split("T")[0],quantidade_maxima:C.quantidade_maxima,descricao:C.descricao||""}),n(!0)},_=p.filter(C=>C.status==="ativo");p.filter(C=>C.status==="expirado");const[P,k]=N.useState(!1),[S,E]=N.useState({premium_mensal:79.99,premium_anual:767.04}),M=rr({mutationFn:async()=>{if(!S.premium_mensal||S.premium_mensal<=0)throw new Error("Preo mensal invlido");if(!S.premium_anual||S.premium_anual<=0)throw new Error("Preo anual invlido");console.log(" [MUTATION] Salvando preos:",S),Eve();const C=await fetch("/api/plan-prices",{method:"POST",headers:{"Content-Type":"application/json","x-user-id":c.id,"x-is-admin":"true","Cache-Control":"no-cache"},body:JSON.stringify({premium_mensal:Number(S.premium_mensal),premium_anual:Number(S.premium_anual)})});if(!C.ok){const L=await C.json();throw console.error(" [MUTATION] Erro ao salvar:",L),new Error(L.error||"Erro ao salvar preos")}const I=await C.json();if(console.log(" [MUTATION] Resposta do servidor:",I),I.success&&I.precos)return Cve(I.precos),await R_(),I.precos;throw new Error("Resposta invlida do servidor")},onSuccess:async C=>{console.log(" [MUTATION] onSuccess:",C),C.precos&&E(C.precos),e({title:" Preos atualizados!",description:"Os valores dos planos foram atualizados com sucesso em todo o sistema"}),k(!1),await t.invalidateQueries({queryKey:["/api/plan-prices"]}),await t.refetchQueries({queryKey:["/api/plan-prices"]}),setTimeout(()=>{window.location.reload()},1e3)},onError:C=>{console.error(" [MUTATION] onError:",C),e({title:"Erro ao salvar preos",description:C.message,variant:"destructive"})}}),T=rr({mutationFn:async()=>{const C=[f.pacote_5,f.pacote_10,f.pacote_20,f.pacote_50];for(const z of C)if(!z||z<=0)throw new Error("Todos os preos devem ser maiores que zero");console.log(" Salvando pacotes:",f);const I=await fetch("/api/employee-package-prices",{method:"POST",headers:{"Content-Type":"application/json","x-user-id":c.id,"x-is-admin":"true"},body:JSON.stringify({pacote_5:Number(f.pacote_5),pacote_10:Number(f.pacote_10),pacote_20:Number(f.pacote_20),pacote_50:Number(f.pacote_50)})});if(!I.ok){const z=await I.json();throw console.error(" Erro ao salvar pacotes:",z),new Error(z.error||"Erro ao salvar preos dos pacotes")}const L=await I.json();return console.log(" Pacotes salvos:",L),L},onSuccess:C=>{console.log(" Mutation onSuccess (pacotes):",C),e({title:" Preos dos pacotes atualizados!",description:"Os valores dos pacotes de funcionrios foram atualizados com sucesso"}),d(!1),t.invalidateQueries({queryKey:["/api/employee-package-prices"]})},onError:C=>{console.error(" Mutation onError (pacotes):",C),e({title:"Erro ao salvar pacotes",description:C.message,variant:"destructive"})}});return N.useEffect(()=>{(async()=>{var I;try{console.log(" [FRONTEND] Carregando preos...");const L=await fetch("/api/plan-prices",{headers:{Accept:"application/json"},cache:"no-store"});if(console.log(" [FRONTEND] Response status:",L.status),console.log(" [FRONTEND] Content-Type:",L.headers.get("content-type")),L.ok&&((I=L.headers.get("content-type"))!=null&&I.includes("application/json"))){const z=await L.json();console.log(" [FRONTEND] Dados recebidos:",z),z&&typeof z.premium_mensal=="number"&&typeof z.premium_anual=="number"?(console.log(" [FRONTEND] Atualizando preos no estado:",z),E(z)):(console.warn(" [FRONTEND] Dados invlidos, usando padro"),E({premium_mensal:79.99,premium_anual:767.04}))}else console.warn(" [FRONTEND] Response invlida, usando padro"),E({premium_mensal:79.99,premium_anual:767.04})}catch(L){console.error(" [FRONTEND] Erro ao carregar preos:",L),E({premium_mensal:79.99,premium_anual:767.04})}})()},[M.isSuccess]),N.useEffect(()=>{(async()=>{var I;try{const L=await fetch("/api/employee-package-prices",{headers:{Accept:"application/json"}});if(L.ok&&((I=L.headers.get("content-type"))!=null&&I.includes("application/json"))){const z=await L.json();z&&Object.keys(z).length>0&&h(z)}}catch{}})()},[]),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ae,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200",children:[i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Cs,{className:"h-5 w-5 text-blue-600"}),"Preos dos Planos"]}),P?i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{onClick:()=>{k(!1);const C=localStorage.getItem("planos_precos");E(C?JSON.parse(C):{premium_mensal:79.99,premium_anual:767.04})},variant:"outline",children:"Cancelar"}),i.jsxs(ye,{onClick:()=>{if(!S.premium_mensal||!S.premium_anual){e({title:"Erro",description:"Preencha todos os campos",variant:"destructive"});return}if(S.premium_mensal<=0||S.premium_anual<=0){e({title:"Erro",description:"Os preos devem ser maiores que zero",variant:"destructive"});return}console.log(" Iniciando salvamento de preos..."),M.mutate()},disabled:M.isPending,children:[M.isPending&&i.jsx(Ha,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvar"]})]}):i.jsxs(ye,{onClick:()=>k(!0),variant:"outline",children:[i.jsx(ej,{className:"h-4 w-4 mr-2"}),"Editar Preos"]})]})}),i.jsx(Pe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Ae,{className:"bg-white dark:bg-gray-800",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Si,{className:"h-5 w-5 text-blue-600"}),i.jsx("h3",{className:"font-semibold",children:"Premium Mensal"})]}),P?i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Valor Mensal (R$)"}),i.jsx(Ze,{type:"number",step:"0.01",value:S.premium_mensal,onChange:C=>E({...S,premium_mensal:parseFloat(C.target.value)})})]}):i.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["R$ ",S.premium_mensal.toFixed(2),i.jsx("span",{className:"text-sm text-gray-500",children:"/ms"})]})]})})}),i.jsx(Ae,{className:"bg-white dark:bg-gray-800 border-2 border-purple-200",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(rl,{className:"h-5 w-5 text-purple-600"}),i.jsx("h3",{className:"font-semibold",children:"Premium Anual"}),i.jsx(It,{variant:"secondary",className:"text-xs",children:"Mais Popular"})]}),P?i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Valor Anual (R$)"}),i.jsx(Ze,{type:"number",step:"0.01",value:S.premium_anual,onChange:C=>E({...S,premium_anual:parseFloat(C.target.value)})}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Mensal: R$ ",(S.premium_anual/12).toFixed(2),"/ms"]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["R$ ",(S.premium_anual/12).toFixed(2),i.jsx("span",{className:"text-sm text-gray-500",children:"/ms"})]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Total anual: R$ ",S.premium_anual.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-green-600",children:["Economize R$ ",(S.premium_mensal*12-S.premium_anual).toFixed(2)," por ano"]})]})]})})})]})})]}),i.jsxs(Ae,{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border-purple-200",children:[i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Ba,{className:"h-5 w-5 text-purple-600"}),"Preos dos Pacotes de Funcionrios"]}),i.jsxs(ye,{onClick:()=>d(!0),variant:"outline",children:[i.jsx(ej,{className:"h-4 w-4 mr-2"}),"Editar Pacotes"]})]})}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(Ae,{className:"bg-white dark:bg-gray-800",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"space-y-2 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Ba,{className:"h-4 w-4 text-blue-600"}),i.jsx("h3",{className:"font-semibold text-sm",children:"+5 Funcionrios"})]}),i.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["R$ ",f.pacote_5.toFixed(2)]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Pagamento nico"})]})})}),i.jsx(Ae,{className:"bg-white dark:bg-gray-800 border-2 border-purple-200",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"space-y-2 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Ba,{className:"h-4 w-4 text-purple-600"}),i.jsx("h3",{className:"font-semibold text-sm",children:"+10 Funcionrios"})]}),i.jsx(It,{variant:"secondary",className:"text-xs mb-2",children:"Mais Popular"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["R$ ",f.pacote_10.toFixed(2)]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Pagamento nico"})]})})}),i.jsx(Ae,{className:"bg-white dark:bg-gray-800",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"space-y-2 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Ba,{className:"h-4 w-4 text-green-600"}),i.jsx("h3",{className:"font-semibold text-sm",children:"+20 Funcionrios"})]}),i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",f.pacote_20.toFixed(2)]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Pagamento nico"})]})})}),i.jsx(Ae,{className:"bg-white dark:bg-gray-800",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"space-y-2 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Ba,{className:"h-4 w-4 text-orange-600"}),i.jsx("h3",{className:"font-semibold text-sm",children:"+50 Funcionrios"})]}),i.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["R$ ",f.pacote_50.toFixed(2)]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Pagamento nico"})]})})})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-4 text-center",children:" Estes valores so exibidos para os usurios quando eles tentam adicionar mais funcionrios"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ae,{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-green-200",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-green-600",children:_.length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Cupons Ativos"})]})})}),i.jsx(Ae,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-blue-600",children:p.reduce((C,I)=>C+(I.quantidade_utilizada||0),0)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Usos"})]})})}),i.jsx(Ae,{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border-purple-200",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-purple-600",children:p.length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Cupons"})]})})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Cs,{className:"h-5 w-5 text-green-600"}),"Gerenciar Cupons de Desconto"]}),i.jsxs(ye,{onClick:()=>{b(),n(!0)},children:[i.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Novo Cupom"]})]})}),i.jsx(Pe,{children:x?i.jsx("div",{className:"text-center py-8",children:i.jsx(Ha,{className:"h-8 w-8 animate-spin mx-auto text-blue-600"})}):p.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Cs,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"text-gray-500",children:"Nenhum cupom criado ainda"}),i.jsx(ye,{variant:"outline",className:"mt-4",onClick:()=>n(!0),children:"Criar primeiro cupom"})]}):i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Cdigo"}),i.jsx(Me,{children:"Tipo"}),i.jsx(Me,{children:"Valor"}),i.jsx(Me,{children:"Planos"}),i.jsx(Me,{children:"Validade"}),i.jsx(Me,{children:"Usos"}),i.jsx(Me,{children:"Status"}),i.jsx(Me,{children:"Aes"})]})}),i.jsx(gn,{children:p.map(C=>i.jsxs(Bt,{children:[i.jsx(Ie,{className:"font-mono font-bold",children:C.codigo}),i.jsx(Ie,{children:i.jsx(It,{variant:"outline",children:C.tipo==="percentual"?"Percentual":"Valor Fixo"})}),i.jsx(Ie,{className:"font-semibold",children:C.tipo==="percentual"?`${C.valor}%`:`R$ ${C.valor.toFixed(2)}`}),i.jsx(Ie,{children:i.jsx("div",{className:"flex gap-1",children:(C.planos_aplicaveis||["todos"]).map((I,L)=>i.jsx(It,{variant:"secondary",className:"text-xs",children:I==="premium_mensal"?"Mensal":I==="premium_anual"?"Anual":I},L))})}),i.jsxs(Ie,{className:"text-xs",children:[m(C.data_inicio)," at ",m(C.data_expiracao)]}),i.jsxs(Ie,{children:[C.quantidade_utilizada||0,C.quantidade_maxima?` / ${C.quantidade_maxima}`:" / "]}),i.jsx(Ie,{children:g(C.status)}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>j(C),title:"Editar cupom",children:i.jsx(ej,{className:"h-4 w-4"})}),i.jsx(ye,{variant:"ghost",size:"sm",onClick:async()=>{const I=C.status==="ativo"?"inativo":"ativo";try{(await fetch(`/api/cupons/${C.id}`,{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":c.id,"x-is-admin":"true"},body:JSON.stringify({status:I})})).ok&&(e({title:`Cupom ${I==="ativo"?"ativado":"desativado"}`,description:`O cupom ${C.codigo} foi ${I==="ativo"?"ativado":"desativado"}`}),t.invalidateQueries({queryKey:["/api/cupons"]}))}catch{e({title:"Erro",description:"Erro ao alterar status do cupom",variant:"destructive"})}},title:C.status==="ativo"?"Desativar cupom":"Ativar cupom",children:C.status==="ativo"?i.jsx(nhe,{className:"h-4 w-4 text-orange-500"}):i.jsx(La,{className:"h-4 w-4 text-green-500"})}),i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>{confirm(`Deletar cupom ${C.codigo}?`)&&y.mutate(C.id)},title:"Deletar cupom",children:i.jsx(Ei,{className:"h-4 w-4 text-red-500"})})]})})]},C.id))})]})})]}),i.jsx(kr,{open:r,onOpenChange:n,children:i.jsxs(Sr,{className:"max-w-2xl",children:[i.jsxs(yr,{children:[i.jsx(br,{children:a?"Editar Cupom":"Criar Novo Cupom"}),i.jsx(tn,{children:"Configure os detalhes do cupom de desconto"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Cdigo do Cupom *"}),i.jsx(Ze,{value:o.codigo,onChange:C=>l({...o,codigo:C.target.value.toUpperCase()}),placeholder:"BLACKFRIDAY2025",className:"font-mono"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Tipo de Desconto"}),i.jsxs(Cr,{value:o.tipo,onValueChange:C=>l({...o,tipo:C}),children:[i.jsx(Nr,{children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"percentual",children:"Percentual (%)"}),i.jsx(Je,{value:"valor_fixo",children:"Valor Fixo (R$)"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Valor do Desconto *"}),i.jsx(Ze,{type:"number",step:"0.01",value:o.valor,onChange:C=>l({...o,valor:parseFloat(C.target.value)}),placeholder:o.tipo==="percentual"?"10 (para 10%)":"50 (para R$ 50,00)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Planos Aplicveis"}),i.jsx("div",{className:"flex gap-2 flex-wrap",children:["premium_mensal","premium_anual"].map(C=>i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:o.planos_aplicaveis.includes(C),onChange:I=>{I.target.checked?l({...o,planos_aplicaveis:[...o.planos_aplicaveis,C]}):l({...o,planos_aplicaveis:o.planos_aplicaveis.filter(L=>L!==C)})},className:"rounded border-gray-300"}),i.jsx("span",{className:"text-sm",children:C==="premium_mensal"?"Premium Mensal":"Premium Anual"})]},C))}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Selecione os planos onde o cupom pode ser usado"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Descrio"}),i.jsx(Es,{value:o.descricao,onChange:C=>l({...o,descricao:C.target.value}),placeholder:"Black Friday - 20% de desconto em todos os planos"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Data Incio"}),i.jsx(Ze,{type:"date",value:o.data_inicio,onChange:C=>l({...o,data_inicio:C.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Data Expirao"}),i.jsx(Ze,{type:"date",value:o.data_expiracao,onChange:C=>l({...o,data_expiracao:C.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Quantidade Mxima de Usos"}),i.jsx(Ze,{type:"number",value:o.quantidade_maxima||"",onChange:C=>l({...o,quantidade_maxima:C.target.value?parseInt(C.target.value):null}),placeholder:"Deixe vazio para ilimitado"})]})]}),i.jsxs(to,{children:[i.jsx(ye,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),i.jsxs(ye,{onClick:()=>{if(!o.codigo||!o.valor){e({title:"Campos obrigatrios",description:"Cdigo e valor so obrigatrios",variant:"destructive"});return}if(o.planos_aplicaveis.length===0){e({title:"Planos obrigatrios",description:"Selecione pelo menos um plano aplicvel",variant:"destructive"});return}v.mutate()},disabled:v.isPending,children:[v.isPending&&i.jsx(Ha,{className:"h-4 w-4 mr-2 animate-spin"}),a?"Salvar Alteraes":"Criar Cupom"]})]})]})}),i.jsx(kr,{open:u,onOpenChange:d,children:i.jsxs(Sr,{className:"max-w-2xl",children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Editar Preos dos Pacotes de Funcionrios"}),i.jsx(tn,{children:"Configure os valores que sero exibidos para os usurios ao comprar pacotes adicionais de funcionrios"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Pacote +5 Funcionrios"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"R$"}),i.jsx(Ze,{type:"number",step:"0.01",value:f.pacote_5,onChange:C=>h({...f,pacote_5:parseFloat(C.target.value)}),placeholder:"49.99"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Pacote +10 Funcionrios"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"R$"}),i.jsx(Ze,{type:"number",step:"0.01",value:f.pacote_10,onChange:C=>h({...f,pacote_10:parseFloat(C.target.value)}),placeholder:"89.99"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Pacote +20 Funcionrios"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"R$"}),i.jsx(Ze,{type:"number",step:"0.01",value:f.pacote_20,onChange:C=>h({...f,pacote_20:parseFloat(C.target.value)}),placeholder:"159.99"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Pacote +50 Funcionrios"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"R$"}),i.jsx(Ze,{type:"number",step:"0.01",value:f.pacote_50,onChange:C=>h({...f,pacote_50:parseFloat(C.target.value)}),placeholder:"349.99"})]})]})]}),i.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:i.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",i.jsx("strong",{children:"Dica:"})," Estes valores sero exibidos imediatamente para todos os usurios no dialog de compra de funcionrios."]})})]}),i.jsxs(to,{children:[i.jsx(ye,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),i.jsxs(ye,{onClick:()=>T.mutate(),disabled:T.isPending,children:[T.isPending&&i.jsx(Ha,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvar Alteraes"]})]})]})})]})}function gBe({users:e,subscriptions:t}){var g,p,x,v,y,b;const{toast:r}=Qr(),n=Ya(),[a,s]=N.useState(!1);t.filter(j=>j.status==="ativo").length,t.filter(j=>j.status==="pendente").length,t.filter(j=>j.status==="ativo").reduce((j,_)=>j+_.valor,0);const{data:o,isLoading:l,refetch:c}=ir({queryKey:["/api/system/health"],refetchInterval:6e4}),{data:u}=ir({queryKey:["/api/system/autofix-history"],refetchInterval:6e4}),d=async()=>{s(!0);try{(await fetch("/api/system/health/check",{method:"POST",headers:{"x-user-id":JSON.parse(localStorage.getItem("user")||"{}").id,"x-is-admin":"true"}})).ok&&(r({title:"Verificao concluda!",description:"Verificaes de sade executadas com sucesso"}),n.invalidateQueries({queryKey:["/api/system/health"]}),n.invalidateQueries({queryKey:["/api/system/autofix-history"]}))}catch{r({title:"Erro",description:"Erro ao executar verificaes",variant:"destructive"})}finally{s(!1)}},f=j=>{if(!j)return"degraded";const _=j.filter(k=>k.status==="critical").length,P=j.filter(k=>k.status==="degraded").length;return _>0?"offline":P>0?"degraded":"online"},h=j=>{switch(j){case"healthy":return i.jsx(La,{className:"h-4 w-4 text-green-500"});case"degraded":return i.jsx(ud,{className:"h-4 w-4 text-yellow-500"});case"critical":return i.jsx(jc,{className:"h-4 w-4 text-red-500"});default:return i.jsx(ud,{className:"h-4 w-4 text-gray-500"})}},m=f(o==null?void 0:o.checks);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(kT,{className:"h-5 w-5 text-blue-600"}),"Status do Sistema"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{variant:"outline",size:"sm",onClick:d,disabled:a,"data-testid":"button-verify-health",children:[a?i.jsx(Ha,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Verificar Agora"]}),i.jsxs(ye,{variant:"default",size:"sm",onClick:()=>window.open("/test-suite","_blank"),className:"bg-purple-600 hover:bg-purple-700","data-testid":"button-run-tests",children:[i.jsx(dd,{className:"h-4 w-4 mr-2"}),"Executar Testes"]})]})]})}),i.jsx(Pe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:`flex items-center justify-between p-6 rounded-lg border-2 ${m==="online"?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-900":m==="degraded"?"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-900":"bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-900"}`,children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`p-3 rounded-full ${m==="online"?"bg-emerald-500":m==="degraded"?"bg-amber-500":"bg-rose-500"}`,children:m==="online"?i.jsx(La,{className:"h-6 w-6 text-white"}):m==="degraded"?i.jsx(ud,{className:"h-6 w-6 text-white"}):i.jsx(jc,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-bold mb-1",children:m==="online"?"Sistema Operacional":m==="degraded"?"Sistema com Alertas":"Sistema com Problemas"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[((g=o==null?void 0:o.summary)==null?void 0:g.healthy)||0," servios saudveis, ",((p=o==null?void 0:o.summary)==null?void 0:p.degraded)||0," com alertas, ",((x=o==null?void 0:o.summary)==null?void 0:x.critical)||0," crticos"]}),(o==null?void 0:o.lastCheck)&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["ltima verificao: ",new Date(o.lastCheck).toLocaleString("pt-BR")]})]})]}),i.jsx(It,{className:`text-sm px-3 py-1 ${m==="online"?"bg-emerald-500 hover:bg-emerald-600":m==="degraded"?"bg-amber-500 hover:bg-amber-600":"bg-rose-500 hover:bg-rose-600"}`,children:m==="online"?"Online":m==="degraded"?"Degradado":"Offline"})]}),((v=o==null?void 0:o.summary)==null?void 0:v.autoFixed)&&o.summary.autoFixed>0&&i.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-900",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-500 rounded-full",children:i.jsx(ma,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-400",children:" Auto-Healing Ativo"}),i.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:[o.summary.autoFixed," problema(s) corrigido(s) automaticamente"]})]})]})}),(o==null?void 0:o.checks)&&o.checks.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-base font-semibold",children:"Verificaes de Sade:"}),((y=o.summary)==null?void 0:y.degraded)>0||((b=o.summary)==null?void 0:b.critical)>0?i.jsxs(ye,{size:"sm",variant:"default",className:"bg-blue-600 hover:bg-blue-700",onClick:d,disabled:a,"data-testid":"button-try-fix",children:[a?i.jsx(Ha,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Z1,{className:"h-4 w-4 mr-2"}),"Tentar Corrigir"]}):null]}),i.jsx("div",{className:"grid gap-3",children:o.checks.map((j,_)=>i.jsxs("div",{className:`flex items-start justify-between p-4 rounded-lg border-2 transition-all ${j.status==="healthy"?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-900":j.status==="degraded"?"bg-amber-50 dark:bg-amber-900/10 border-amber-200 dark:border-amber-900":"bg-rose-50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-900"}`,children:[i.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[i.jsx("div",{className:"mt-0.5",children:h(j.status)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-semibold text-base capitalize mb-1",children:j.service.replace(/_/g," ")}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:j.message}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[j.autoFixed&&i.jsxs(It,{className:"bg-blue-100 text-blue-700 border-blue-200 hover:bg-blue-200",variant:"outline",children:[i.jsx(ma,{className:"h-3 w-3 mr-1"}),"Corrigido Automaticamente"]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(j.timestamp).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[j.status!=="healthy"&&j.service==="email_service"&&i.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>{const P=document.querySelector("aside"),k=Array.from((P==null?void 0:P.querySelectorAll("button"))||[]).find(S=>{var E;return(E=S.textContent)==null?void 0:E.includes("Configuraes")});k instanceof HTMLElement&&(k.click(),setTimeout(()=>{const S=document.getElementById("smtp-config");S==null||S.scrollIntoView({behavior:"smooth",block:"center"})},200))},className:"whitespace-nowrap","data-testid":"button-configure-smtp",children:[i.jsx(FT,{className:"h-4 w-4 mr-1"}),"Configurar"]}),j.status!=="healthy"&&j.service==="memory_usage"&&i.jsxs(ye,{variant:"outline",size:"sm",onClick:async()=>{try{await fetch("/api/system/health/check",{method:"POST",headers:{"x-user-id":JSON.parse(localStorage.getItem("user")||"{}").id,"x-is-admin":"true"}}),await c(),r({title:"Memria liberada!",description:"Garbage collection executado com sucesso"})}catch{r({title:"Erro",description:"Erro ao tentar liberar memria",variant:"destructive"})}},className:"whitespace-nowrap","data-testid":"button-free-memory",children:[i.jsx(Z1,{className:"h-4 w-4 mr-1"}),"Liberar"]})]})]},_))})]})]})})]}),u&&u.length>0&&i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(ET,{className:"h-5 w-5 text-purple-600"}),"Histrico de Correes Automticas"]})}),i.jsx(Pe,{children:i.jsx("div",{className:"space-y-2",children:u.slice(0,10).map((j,_)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ma,{className:"h-4 w-4 text-green-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:j.service.replace(/_/g," ")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:j.message})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(j.timestamp).toLocaleString("pt-BR")})]},_))})})]}),i.jsxs(Ae,{className:"bg-gradient-to-br from-purple-50 to-purple-100/30 dark:from-purple-950/20 dark:to-purple-900/10 border-purple-200/50 dark:border-purple-800/30",children:[i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(dd,{className:"h-5 w-5 text-purple-600"}),"Suite de Testes Automatizados"]}),i.jsx(Ht,{className:"mt-2",children:"Valide funcionalidades crticas do sistema: bloqueios, pacotes de funcionrios, emails e webhooks"})]}),i.jsxs(ye,{variant:"default",onClick:()=>window.open("/test-suite","_blank"),className:"bg-purple-600 hover:bg-purple-700","data-testid":"button-open-test-suite",children:[i.jsx(dd,{className:"h-4 w-4 mr-2"}),"Abrir Suite de Testes"]})]})}),i.jsx(Pe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{className:"p-4 bg-white dark:bg-gray-900 rounded-lg border border-purple-200 dark:border-purple-800",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:i.jsx(eo,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Fluxo de Bloqueio"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Usurios e funcionrios"})]})]})}),i.jsx("div",{className:"p-4 bg-white dark:bg-gray-900 rounded-lg border border-purple-200 dark:border-purple-800",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:i.jsx(Ba,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Pacotes de Funcionrios"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Compra e limites"})]})]})}),i.jsx("div",{className:"p-4 bg-white dark:bg-gray-900 rounded-lg border border-purple-200 dark:border-purple-800",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:i.jsx(sl,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Sistema de Emails"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Templates e SMTP"})]})]})}),i.jsx("div",{className:"p-4 bg-white dark:bg-gray-900 rounded-lg border border-purple-200 dark:border-purple-800",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:i.jsx(As,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Webhooks Mercado Pago"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Integrao de pagamento"})]})]})})]})})]})]})}function xBe(){const{toast:e}=Qr(),t=Ya(),[,r]=ui(),[n,a]=N.useState(""),[s,o]=N.useState(null),[l,c]=N.useState(!0),[u,d]=N.useState("dashboard"),[f,h]=N.useState("config"),[m,g]=N.useState(!1),[p,x]=N.useState(null),[v,y]=N.useState(!1),[b,j]=N.useState("todos"),[_,P]=N.useState(!1),[k,S]=N.useState(""),[E,M]=N.useState(!1),[T,C]=N.useState(null),I=typeof window<"u"?JSON.parse(localStorage.getItem("user")||"{}"):{},L=rr({mutationFn:async()=>{const ce=await fetch("/api/admin/all-logs",{method:"DELETE",headers:{"x-user-id":(I==null?void 0:I.id)||"","x-is-admin":"true"}});if(!ce.ok){const Ee=await ce.json();throw new Error(Ee.error||"Erro ao limpar logs")}return ce.json()},onSuccess:ce=>{t.invalidateQueries({queryKey:["/api/admin/all-logs"]}),e({title:" Logs limpos com sucesso",description:`${ce.deletedCount} registro(s) removido(s)`}),y(!1)},onError:ce=>{e({title:"Erro ao limpar logs",description:ce.message,variant:"destructive"})}}),z=rr({mutationFn:async ce=>(await oa("POST","/api/admin/subscriptions/reprocess-webhook",{paymentId:ce,gateway:"mercadopago"})).json(),onSuccess:()=>{e({title:" Sucesso!",description:"Webhook reprocessado com sucesso!"}),t.invalidateQueries({queryKey:["/api/subscriptions"]}),t.invalidateQueries({queryKey:["/api/users"]}),P(!1),S("")},onError:ce=>{e({title:" Erro",description:ce.message||"Erro ao reprocessar webhook",variant:"destructive"})}}),G=rr({mutationFn:async ce=>{const Ee=await fetch(`/api/admin/subscriptions/${ce}/cancel`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":(I==null?void 0:I.id)||"","x-is-admin":"true"},body:JSON.stringify({})});if(!Ee.ok){const rt=await Ee.json();throw new Error(rt.error||"Erro ao cancelar assinatura")}return Ee.json()},onSuccess:ce=>{const Ee=ce.detalhes||{};e({title:" Assinatura cancelada!",description:`Usurio bloqueado, ${Ee.funcionariosBloqueados||0} funcionrio(s) bloqueado(s), pacotes cancelados e email enviado.`}),t.invalidateQueries({queryKey:["/api/subscriptions"]}),t.invalidateQueries({queryKey:["/api/users"]})},onError:ce=>{e({title:" Erro ao cancelar",description:ce.message,variant:"destructive"})}}),W=ce=>{confirm(` ATENO: Cancelamento Imediato

Ao cancelar esta assinatura:

 O usurio ser BLOQUEADO IMEDIATAMENTE
 Plano ser revertido para FREE
 TODOS os funcionrios sero bloqueados
 Pacotes de funcionrios sero cancelados
 Limite de funcionrios ser revertido para 1
 Email de notificao ser enviado

Usurio: ${ce.user_id}
Plano: ${ce.plano}

Deseja continuar?`)&&G.mutate(ce.id)},{data:q=[],isLoading:K,error:ae}=ir({queryKey:["/api/subscriptions"],retry:1,staleTime:3e4}),{data:ie=[],isLoading:O,error:V}=ir({queryKey:["/api/users"],retry:1,staleTime:3e4}),{data:D=[],isLoading:B}=ir({queryKey:["/api/admin/employee-packages"],retry:1,staleTime:3e4}),Q=rr({mutationFn:async ce=>(await oa("DELETE",`/api/users/${ce}`)).json(),onSuccess:()=>{e({title:"Usurio excludo!",description:"O usurio foi removido com sucesso."}),t.invalidateQueries({queryKey:["/api/users"]})},onError:ce=>{e({title:"Erro ao excluir",description:ce.message,variant:"destructive"})}}),Y=q.filter(ce=>ce.status==="ativo").length,ee=q.filter(ce=>ce.status==="pendente").length,X=q.filter(ce=>ce.status==="ativo").reduce((ce,Ee)=>ce+Ee.valor,0),U=N.useMemo(()=>{const ce={};ie.forEach(rt=>{ce[rt.plano]=(ce[rt.plano]||0)+1});const Ee={free:"#94a3b8",trial:"#60a5fa",mensal:"#3b82f6",premium_mensal:"#3b82f6",anual:"#10b981",premium_anual:"#10b981",premium:"#8b5cf6"};return Object.entries(ce).map(([rt,ot])=>({name:rt.charAt(0).toUpperCase()+rt.slice(1).replace("_"," "),value:ot,color:Ee[rt]||"#facc15"}))},[ie]),me=ce=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ce),oe=ce=>ce?Ea(new Date(ce),"dd/MM/yyyy",{locale:Va}):"-",Se=ce=>{const rt={ativo:{variant:"default",label:"Ativo",color:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20"},pendente:{variant:"secondary",label:"Pendente",color:"bg-amber-500/10 text-amber-400 border-amber-500/20"},expirado:{variant:"destructive",label:"Expirado",color:"bg-red-500/10 text-red-400 border-red-500/20"},cancelado:{variant:"outline",label:"Cancelado",color:"bg-gray-500/10 text-gray-400 border-gray-500/20"},inativo:{variant:"outline",label:"Inativo",color:"bg-gray-500/10 text-gray-400 border-gray-500/20"},bloqueado:{variant:"destructive",label:"Bloqueado",color:"bg-red-500/10 text-red-400 border-red-500/20"}}[ce]||{label:ce,color:"bg-gray-500/10 text-gray-400 border-gray-500/20"};return i.jsx(It,{className:`${rt.color} border`,children:rt.label})};N.useEffect(()=>{const ce=()=>{y(!0)};return window.addEventListener("open-limpar-logs",ce),()=>window.removeEventListener("open-limpar-logs",ce)},[]);const _e=ie.filter(ce=>ce.plano==="free"||ce.plano==="trial").length,se=()=>{L.mutate()},ft=()=>{if(!k){e({title:"Erro",description:"Digite o Payment ID",variant:"destructive"});return}z.mutate(k)},de=async ce=>{try{const Ee=await fetch(`/api/admin/subscriptions/payment-details/${ce}?gateway=mercadopago`,{headers:{"x-user-id":(I==null?void 0:I.id)||"","x-is-admin":"true"}});if(!Ee.ok)throw new Error("Erro ao buscar detalhes do pagamento");const rt=await Ee.json();C(rt.payment),M(!0)}catch(Ee){e({title:"Erro",description:Ee.message,variant:"destructive"})}};return K||O?i.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx(Ha,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-lg",children:"Carregando painel..."})]})}):ae||V?i.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center",children:i.jsx(Ae,{className:"max-w-md",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx(ud,{className:"h-12 w-12 text-red-600 mx-auto"}),i.jsx("h2",{className:"text-xl font-bold",children:"Erro ao carregar dados"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(ae==null?void 0:ae.message)||(V==null?void 0:V.message)||"Erro desconhecido"}),i.jsx(ye,{onClick:()=>{t.invalidateQueries({queryKey:["/api/subscriptions"]}),t.invalidateQueries({queryKey:["/api/users"]})},children:"Tentar novamente"})]})})})}):i.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900",children:[i.jsxs("aside",{className:`${l?"w-64":"w-20"} bg-slate-800 text-white transition-all duration-300 flex flex-col`,children:[i.jsx("div",{className:"p-4 border-b border-slate-700",children:i.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>c(!l),className:"hover:bg-slate-700 w-full",children:i.jsx(gG,{className:"h-5 w-5"})})}),i.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[i.jsxs(ye,{variant:"ghost",className:`w-full justify-start hover:bg-slate-700 ${!s&&u==="dashboard"?"bg-slate-700":""}`,onClick:()=>{o(null),d("dashboard")},children:[i.jsx(o1,{className:"h-5 w-5 mr-3"}),l&&"Dashboard"]}),i.jsxs(ye,{variant:"ghost",className:`w-full justify-start hover:bg-slate-700 ${!s&&u==="clientes"?"bg-slate-700":""}`,onClick:()=>{o(null),d("clientes")},children:[i.jsx(Ba,{className:"h-5 w-5 mr-3"}),l&&"Clientes"]}),i.jsxs(ye,{variant:"ghost",className:`w-full justify-start hover:bg-slate-700 ${!s&&u==="assinaturas"?"bg-slate-700":""}`,onClick:()=>{o(null),d("assinaturas")},children:[i.jsx(As,{className:"h-5 w-5 mr-3"}),l&&"Assinaturas"]}),i.jsxs(ye,{variant:"ghost",className:`w-full justify-start hover:bg-slate-700 ${!s&&u==="configuracoes"?"bg-slate-700":""}`,onClick:()=>{o(null),d("configuracoes")},children:[i.jsx(FT,{className:"h-5 w-5 mr-3"}),l&&"Configuraes"]}),i.jsxs(ye,{variant:"ghost",className:`w-full justify-start hover:bg-slate-700 ${!s&&u==="sistema"?"bg-slate-700":""}`,onClick:()=>{o(null),d("sistema")},children:[i.jsx(kT,{className:"h-5 w-5 mr-3"}),l&&"Sistema"]}),i.jsxs(ye,{variant:"ghost",className:`w-full justify-start hover:bg-slate-700 ${!s&&u==="metricas"?"bg-slate-700":""}`,onClick:()=>{o(null),d("metricas")},children:[i.jsx(o1,{className:"h-5 w-5 mr-3"}),l&&"Mtricas"]}),i.jsxs(ye,{variant:"ghost",className:`w-full justify-start hover:bg-slate-700 ${!s&&u==="assinaturas_funcionarios"?"bg-slate-700":""}`,onClick:()=>{o(null),d("assinaturas_funcionarios")},children:[i.jsx(Ga,{className:"h-5 w-5 mr-3"}),l&&"Assinaturas Func."]}),i.jsxs(ye,{variant:"ghost",className:`w-full justify-start hover:bg-slate-700 ${!s&&u==="logs"?"bg-slate-700":""}`,onClick:()=>{o(null),d("logs")},children:[i.jsx(ai,{className:"h-5 w-5 mr-3"}),l&&"Logs Admin"]}),i.jsxs(ye,{variant:"ghost",className:`w-full justify-start hover:bg-slate-700 ${!s&&u==="promocoes"?"bg-slate-700":""}`,onClick:()=>{o(null),d("promocoes")},children:[i.jsx(Cs,{className:"h-5 w-5 mr-3"}),l&&"Promoes"]})]}),i.jsx("div",{className:"p-4 border-t border-slate-700",children:i.jsxs(ye,{variant:"ghost",className:"w-full justify-start text-red-400 hover:bg-slate-700 hover:text-red-300",onClick:()=>r("/dashboard"),children:[i.jsx(OT,{className:"h-5 w-5 mr-3"}),l&&"Sair"]})})]}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsxs("header",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:s?"Cliente 360":u==="logs"?"Logs de Administradores":"Painel Principal"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Bem-vindo, Administrador Master"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(ye,{variant:"outline",size:"icon",className:"relative",children:[i.jsx(dG,{className:"h-5 w-5"}),i.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:ee})]}),i.jsxs(ye,{onClick:()=>{t.invalidateQueries({queryKey:["/api/subscriptions"]}),t.invalidateQueries({queryKey:["/api/users"]}),u==="logs"&&t.invalidateQueries({queryKey:["/api/admin/logs"]})},variant:"outline",size:"sm",children:[i.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]})]}),i.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:s?i.jsxs("div",{className:"space-y-6",children:[i.jsx(ye,{variant:"outline",onClick:()=>o(null),children:" Voltar para Dashboard"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsx(Ue,{children:"Timeline de Atividades"})}),i.jsx(Pe,{children:i.jsx(cBe,{userId:s})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsx(Ue,{children:"Notas Internas"})}),i.jsx(Pe,{children:i.jsx(uBe,{userId:s})})]})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsx(Ue,{children:"Contagem Regressiva do Plano"})}),i.jsx(Pe,{children:(()=>{const ce=ie.find(Ee=>Ee.id===s);return ce?i.jsx(fBe,{expirationDate:ce.data_expiracao_plano||ce.data_expiracao_trial,planName:ce.plano==="trial"?"Trial":ce.plano==="premium_mensal"?"Premium Mensal":ce.plano==="premium_anual"?"Premium Anual":"Free",status:ce.status||"ativo"}):i.jsx("p",{children:"Cliente no encontrado"})})()})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsx(Ue,{children:"Informaes do Cliente"})}),i.jsx(Pe,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:(()=>{const ce=ie.find(ge=>ge.id===s),Ee=q.filter(ge=>ge.user_id===s);if(!ce)return i.jsx("p",{className:"col-span-4 text-sm text-muted-foreground",children:"Cliente no encontrado"});const rt=ce.data_expiracao_plano||ce.data_expiracao_trial,ot=rt?Math.max(0,Math.ceil((new Date(rt).getTime()-new Date().getTime())/(1e3*60*60*24))):null;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Plano Atual"}),i.jsx("p",{className:"font-semibold",children:ce.plano||"Free"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),i.jsx(It,{variant:ce.status==="ativo"?"default":"secondary",children:ce.status||"Desconhecido"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Assinaturas"}),i.jsx("p",{className:"font-semibold",children:Ee.length})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Data Cadastro"}),i.jsx("p",{className:"font-semibold",children:ce.data_criacao?oe(ce.data_criacao):"-"})]}),rt&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Expira em"}),i.jsx("p",{className:"font-semibold",children:oe(rt)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Dias Restantes"}),i.jsxs("p",{className:`font-semibold ${ot&&ot<=7?"text-red-600":"text-green-600"}`,children:[ot," dias"]})]})]})]})})()})})]})]}):u==="clientes"?i.jsx("div",{className:"space-y-6",children:i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Ba,{className:"h-5 w-5 text-blue-600"}),"Gerenciar Clientes"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative w-64",children:[i.jsx(Ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(Ze,{placeholder:"Buscar clientes...",value:n,onChange:ce=>a(ce.target.value),className:"pl-10"})]}),i.jsxs(ye,{onClick:()=>{x(null),g(!0)},children:[i.jsx(RT,{className:"h-4 w-4 mr-2"}),"Novo Usurio"]})]})]})}),i.jsx(Pe,{children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Nome"}),i.jsx(Me,{children:"Email"}),i.jsx(Me,{children:"Plano"}),i.jsx(Me,{children:"Status"}),i.jsx(Me,{children:"Data Cadastro"}),i.jsx(Me,{children:"Aes"})]})}),i.jsx(gn,{children:ie&&ie.length>0?ie.filter(ce=>{var Ee,rt;return(((Ee=ce.nome)==null?void 0:Ee.toLowerCase())||"").includes(n.toLowerCase())||(((rt=ce.email)==null?void 0:rt.toLowerCase())||"").includes(n.toLowerCase())}).map(ce=>i.jsxs(Bt,{children:[i.jsx(Ie,{className:"font-medium",children:ce.nome||"-"}),i.jsx(Ie,{children:ce.email||"-"}),i.jsx(Ie,{children:i.jsxs(It,{variant:"outline",children:[ce.plano==="trial"&&"Trial",ce.plano==="free"&&"Free",ce.plano==="premium_mensal"&&"Premium Mensal",ce.plano==="premium_anual"&&"Premium Anual",!["trial","free","premium_mensal","premium_anual"].includes(ce.plano)&&"Free"]})}),i.jsx(Ie,{children:Se(ce.status||"expirado")}),i.jsx(Ie,{children:oe(ce.data_criacao)}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>o(ce.id),children:i.jsx(rd,{className:"h-4 w-4"})}),i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>{x(ce),g(!0)},children:i.jsx(ej,{className:"h-4 w-4"})}),i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>{confirm(`Tem certeza que deseja excluir o usurio ${ce.nome}?`)&&Q.mutate(ce.id)},children:i.jsx(Ei,{className:"h-4 w-4 text-red-500"})})]})})]},ce.id)):i.jsx(Bt,{children:i.jsx(Ie,{colSpan:6,className:"text-center text-muted-foreground",children:"Nenhum cliente encontrado"})})})]})})]})}):u==="assinaturas"?i.jsxs("div",{className:"space-y-6",children:[i.jsx(Ae,{className:"border-blue-200 bg-blue-50/50 dark:bg-blue-950/20 dark:border-blue-900",children:i.jsx(qe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(pG,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ue,{className:"text-base text-blue-900 dark:text-blue-100",children:"Gerenciamento de Assinaturas"}),i.jsx(Ht,{className:"text-sm text-blue-700 dark:text-blue-300",children:i.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Reprocessar Webhook:"})," Forar processamento de pagamentos aprovados"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Ver Detalhes:"})," Clique no Payment ID para ver status no gateway"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Ver Cliente:"})," Acesse a viso 360 do cliente"]})]})})]})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Assinaturas Ativas"}),i.jsx(La,{className:"h-4 w-4 text-green-500"})]}),i.jsx(Pe,{children:i.jsx("div",{className:"text-2xl font-bold",children:Y})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Em Processamento"}),i.jsx(Ys,{className:"h-4 w-4 text-orange-500"})]}),i.jsx(Pe,{children:i.jsx("div",{className:"text-2xl font-bold",children:ee})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Receita Mensal"}),i.jsx(Ci,{className:"h-4 w-4 text-blue-500"})]}),i.jsx(Pe,{children:i.jsx("div",{className:"text-2xl font-bold",children:me(X)})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Total de Assinaturas"}),i.jsx(As,{className:"h-4 w-4 text-purple-500"})]}),i.jsx(Pe,{children:i.jsx("div",{className:"text-2xl font-bold",children:q.length})})]})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsx(Ue,{children:"Filtros"})}),i.jsx(Pe,{children:i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsxs("div",{className:"flex-1 min-w-[200px]",children:[i.jsx(De,{children:"Buscar"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{placeholder:"Nome, email ou payment ID...",value:n,onChange:ce=>a(ce.target.value),className:"pl-9","data-testid":"input-search-subscriptions"})]})]}),i.jsxs("div",{className:"w-[200px]",children:[i.jsx(De,{children:"Status"}),i.jsxs(Cr,{value:b,onValueChange:j,children:[i.jsx(Nr,{"data-testid":"select-filter-status-subscriptions",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"todos",children:"Todos"}),i.jsx(Je,{value:"ativo",children:"Ativos"}),i.jsx(Je,{value:"pendente",children:"Pendentes"}),i.jsx(Je,{value:"cancelado",children:"Cancelados"}),i.jsx(Je,{value:"expirado",children:"Expirados"})]})]})]})]})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(As,{className:"h-5 w-5 text-purple-600"}),"Histrico Completo de Assinaturas"]}),i.jsx(Ht,{children:"Acompanhe todas as assinaturas de planos - ativas, pendentes e histricas"})]}),i.jsxs(ye,{variant:"outline",onClick:()=>{P(!0)},children:[i.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Reprocessar Webhook"]})]})}),i.jsx(Pe,{children:q&&q.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Cliente"}),i.jsx(Me,{children:"Plano"}),i.jsx(Me,{children:"Valor"}),i.jsx(Me,{children:"Status"}),i.jsx(Me,{children:"Payment ID"}),i.jsx(Me,{children:"Data Pagamento"}),i.jsx(Me,{children:"Forma Pagamento"}),i.jsx(Me,{children:"Vencimento"}),i.jsx(Me,{className:"text-right",children:"Aes"})]})}),i.jsx(gn,{children:q.filter(ce=>{var ke,Be,Xe;const Ee=ie.find(et=>et.id===ce.user_id),rt=n.toLowerCase(),ot=!n||((ke=Ee==null?void 0:Ee.nome)==null?void 0:ke.toLowerCase().includes(rt))||((Be=Ee==null?void 0:Ee.email)==null?void 0:Be.toLowerCase().includes(rt))||((Xe=ce.mercadopago_payment_id)==null?void 0:Xe.toLowerCase().includes(rt)),ge=b==="todos"||ce.status===b;return ot&&ge}).map(ce=>{const Ee=ie.find(rt=>rt.id===ce.user_id);return i.jsxs(Bt,{children:[i.jsx(Ie,{children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:(Ee==null?void 0:Ee.nome)||"Usurio Desconhecido"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(Ee==null?void 0:Ee.email)||"-"})]})}),i.jsx(Ie,{children:i.jsx(It,{variant:"outline",children:ce.plano})}),i.jsx(Ie,{className:"font-semibold",children:me(ce.valor)}),i.jsx(Ie,{children:Se(ce.status)}),i.jsx(Ie,{children:ce.mercadopago_payment_id?i.jsxs(ye,{variant:"ghost",size:"sm",className:"h-auto p-0 font-mono text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",onClick:()=>de(ce.mercadopago_payment_id||""),"data-testid":`button-view-sub-details-${ce.id}`,children:[ce.mercadopago_payment_id.substring(0,12),"..."]}):i.jsx(It,{variant:"secondary",className:"font-mono text-xs",children:"MANUAL"})}),i.jsx(Ie,{children:ce.data_inicio?i.jsx("div",{className:"text-sm",children:oe(ce.data_inicio)}):i.jsx(It,{variant:"secondary",className:"text-xs",children:"Pendente"})}),i.jsx(Ie,{children:i.jsx(It,{variant:"outline",className:"text-xs",children:ce.forma_pagamento||"N/A"})}),i.jsx(Ie,{children:oe(ce.data_vencimento)}),i.jsx(Ie,{className:"text-right",children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[ce.status==="pendente"&&ce.mercadopago_payment_id&&i.jsxs(ye,{size:"sm",variant:"ghost",onClick:()=>{S(ce.mercadopago_payment_id||""),P(!0)},"data-testid":`button-reprocess-sub-${ce.id}`,children:[i.jsx(Fl,{className:"h-3 w-3 mr-1"}),"Reprocessar"]}),(ce.status==="ativo"||ce.status==="pendente")&&i.jsxs(ye,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",onClick:()=>{confirm(`Tem certeza que deseja cancelar a assinatura de ${Ee==null?void 0:Ee.nome}?`)&&W(ce.id)},"data-testid":`button-cancel-sub-${ce.id}`,children:[i.jsx(jc,{className:"h-3 w-3 mr-1"}),"Cancelar"]}),i.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>o(ce.user_id),children:[i.jsx(rd,{className:"h-4 w-4 mr-2"}),"Ver Cliente"]})]})})]},ce.id)})})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(As,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:n||b!=="todos"?"Nenhuma assinatura encontrada com os filtros aplicados":"Nenhuma assinatura encontrada"})]})})]}),i.jsx(kr,{open:_,onOpenChange:P,children:i.jsxs(Sr,{children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Reprocessar Webhook de Assinatura"}),i.jsx(tn,{children:"Forar o processamento de um pagamento j aprovado que no foi ativado automaticamente"})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(De,{children:"Payment ID"}),i.jsx(Ze,{placeholder:"Ex: 1234567890",value:k,onChange:ce=>S(ce.target.value),"data-testid":"input-sub-payment-id"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"ID do pagamento no Mercado Pago"})]})}),i.jsxs(to,{children:[i.jsx(ye,{variant:"outline",onClick:()=>{P(!1),S("")},"data-testid":"button-cancel-reprocess-sub",children:"Cancelar"}),i.jsx(ye,{onClick:ft,disabled:z.isPending,"data-testid":"button-confirm-reprocess-sub",children:z.isPending?"Reprocessando...":"Reprocessar"})]})]})}),i.jsx(kr,{open:E,onOpenChange:M,children:i.jsxs(Sr,{className:"max-w-2xl",children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Detalhes do Pagamento"}),i.jsx(tn,{children:"Informaes diretas do gateway de pagamento"})]}),T&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"ID do Pagamento"}),i.jsx("p",{className:"font-mono text-sm",children:T.id})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"Status"}),i.jsx("p",{className:"font-semibold",children:T.status})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"External Reference"}),i.jsx("p",{className:"font-mono text-sm",children:T.external_reference})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"Valor"}),i.jsxs("p",{className:"font-semibold",children:[T.currency_id," ",T.transaction_amount]})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"Email do Pagador"}),i.jsx("p",{className:"text-sm",children:T.payer_email})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"Mtodo de Pagamento"}),i.jsx("p",{className:"text-sm",children:T.payment_method_id})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"Data de Criao"}),i.jsx("p",{className:"text-sm",children:T.date_created?Ea(new Date(T.date_created),"dd/MM/yyyy HH:mm",{locale:Va}):"-"})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"Data de Aprovao"}),i.jsx("p",{className:"text-sm",children:T.date_approved?Ea(new Date(T.date_approved),"dd/MM/yyyy HH:mm",{locale:Va}):"-"})]})]}),T.status_detail&&i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"Detalhes do Status"}),i.jsx("p",{className:"text-sm",children:T.status_detail})]})]}),i.jsx(to,{children:i.jsx(ye,{onClick:()=>M(!1),children:"Fechar"})})]})})]}):u==="configuracoes"?i.jsx("div",{className:"space-y-6",children:i.jsx(mBe,{})}):u==="sistema"?i.jsx(gBe,{users:ie,subscriptions:q}):u==="metricas"?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[i.jsx(Ae,{children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Usurios"}),i.jsx("p",{className:"text-3xl font-bold",children:ie.length}),i.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"+12% desde a semana passada"})]})})}),i.jsx(Ae,{children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Assinaturas"}),i.jsx("p",{className:"text-3xl font-bold",children:q.length})]})})}),i.jsx(Ae,{children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Assinaturas Ativas"}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:Y})]})})}),i.jsx(Ae,{children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receita Mensal"}),i.jsx("p",{className:"text-3xl font-bold text-blue-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(X)})]})})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Ci,{className:"h-5 w-5 text-blue-600"}),"Mtricas do Sistema"]})}),i.jsx(Pe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/20 dark:to-orange-900/20",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-orange-900 dark:text-orange-100",children:"Assinaturas Pendentes"}),i.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300",children:"Aguardando pagamento"})]}),i.jsx(It,{variant:"secondary",className:"text-lg",children:ee})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/20 dark:to-blue-900/20",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Taxa de Converso"}),i.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Assinaturas ativas / total"})]}),i.jsxs(It,{className:"text-lg",children:[q.length>0?(Y/q.length*100).toFixed(1):"0.0","%"]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/20 dark:to-purple-900/20",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-purple-900 dark:text-purple-100",children:"Planos Free/Trial"}),i.jsx("p",{className:"text-xs text-purple-700 dark:text-purple-300",children:"Usurios no plano gratuito"})]}),i.jsx(It,{variant:"secondary",className:"text-lg",children:_e})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/20 dark:to-green-900/20",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-green-900 dark:text-green-100",children:"Ticket Mdio"}),i.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Receita por assinatura"})]}),i.jsx(It,{className:"text-lg bg-green-600",children:Y>0?me(X/Y):"R$ 0,00"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/20 dark:to-red-900/20",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-red-900 dark:text-red-100",children:"Contas Bloqueadas"}),i.jsx("p",{className:"text-xs text-red-700 dark:text-red-300",children:"Por falta de pagamento"})]}),i.jsx(It,{variant:"destructive",className:"text-lg",children:ie.filter(ce=>ce.status==="bloqueado").length})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-950/20 dark:to-indigo-900/20",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-indigo-900 dark:text-indigo-100",children:"Cadastros Hoje"}),i.jsx("p",{className:"text-xs text-indigo-700 dark:text-indigo-300",children:"Novos usurios"})]}),i.jsx(It,{variant:"secondary",className:"text-lg",children:ie.filter(ce=>{const Ee=new Date().toDateString();return new Date(ce.data_criacao||"").toDateString()===Ee}).length})]})]})})]})]}):u==="logs"?i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(ai,{className:"h-5 w-5 text-blue-600"}),"Logs de Administradores"]}),i.jsxs(ye,{variant:"destructive",size:"sm",onClick:()=>y(!0),"data-testid":"button-clear-logs",children:[i.jsx(Ei,{className:"h-4 w-4 mr-1"}),"Limpar Todos os Logs"]})]})}),i.jsx(Pe,{children:i.jsx(dBe,{isPublicAdmin:!0})})]}),i.jsx(kr,{open:v,onOpenChange:y,children:i.jsxs(Sr,{className:"sm:max-w-[425px]",children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Confirmar Limpeza de Logs"}),i.jsx(tn,{children:"Tem certeza que deseja remover todos os registros de logs? Esta ao no pode ser desfeita."})]}),i.jsxs(to,{children:[i.jsx(ye,{variant:"outline",onClick:()=>y(!1),children:"Cancelar"}),i.jsxs(ye,{variant:"destructive",onClick:se,disabled:L.isPending,children:[L.isPending&&i.jsx(Ha,{className:"h-4 w-4 mr-2 animate-spin"}),"Limpar Logs"]})]})]})})]}):u==="assinaturas_funcionarios"?i.jsxs("div",{className:"space-y-6",children:[i.jsxs($i,{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 border-purple-200 dark:border-purple-800",children:[i.jsx(Ga,{className:"h-5 w-5 text-purple-600"}),i.jsx(wo,{className:"text-purple-900 dark:text-purple-100",children:"Verso Resumida - Acesse a Pgina Completa"}),i.jsxs(Bi,{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{className:"text-purple-800 dark:text-purple-200",children:"Esta  uma viso simplificada. Para acessar todas as funcionalidades como ativar pacotes manualmente, reprocessar webhooks e ver detalhes completos, clique no boto ao lado."}),i.jsxs(ye,{onClick:()=>window.location.href="/assinaturasfuncionarios",className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shrink-0","data-testid":"button-full-page",children:[i.jsx(X1,{className:"h-4 w-4 mr-2"}),"Abrir Pgina Completa"]})]})]}),D.filter(ce=>ce.status==="pendente").length>0&&i.jsxs($i,{className:"bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:border-amber-800",children:[i.jsx(ud,{className:"h-5 w-5 text-amber-600"}),i.jsxs(wo,{className:"text-amber-900 dark:text-amber-100",children:[D.filter(ce=>ce.status==="pendente").length," pagamento(s) aguardando confirmao"]}),i.jsx(Bi,{className:"text-amber-800 dark:text-amber-200",children:'Os pacotes aparecero como "Pendente" at que o Mercado Pago confirme o pagamento via webhook.'})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[i.jsx(Ae,{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 border-green-200",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:D.filter(ce=>ce.status==="ativo").length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pacotes Ativos"})]}),i.jsx(La,{className:"h-10 w-10 text-green-500/30"})]})})}),i.jsx(Ae,{className:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 border-amber-200",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:D.filter(ce=>ce.status==="pendente").length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Em Processamento"})]}),i.jsx(Ys,{className:"h-10 w-10 text-yellow-500/30"})]})})}),i.jsx(Ae,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 border-blue-200",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:me(D.filter(ce=>ce.status==="ativo").reduce((ce,Ee)=>ce+(Ee.price||0),0))}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receita Total"})]}),i.jsx(Cs,{className:"h-10 w-10 text-blue-500/30"})]})})}),i.jsx(Ae,{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 border-purple-200",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:D.reduce((ce,Ee)=>ce+(Ee.quantity||0),0)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Func. Vendidos"})]}),i.jsx(Ba,{className:"h-10 w-10 text-purple-500/30"})]})})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Ga,{className:"h-5 w-5 text-purple-600"}),"Histrico Completo de Compras"]}),i.jsx(Ht,{children:"Acompanhe todos os pacotes de funcionrios - ativos, pendentes e histricos"})]}),i.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>{t.invalidateQueries({queryKey:["/api/admin/employee-packages"]}),t.invalidateQueries({queryKey:["/api/users"]})},children:[i.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]})}),i.jsx(Pe,{children:B?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ha,{className:"h-8 w-8 animate-spin mx-auto text-blue-600"}),i.jsx("p",{className:"mt-3 text-muted-foreground",children:"Carregando pacotes..."})]}):D.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ga,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),i.jsx("p",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Nenhum pacote registrado"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"As compras de pacotes de funcionrios aparecero aqui"})]}):i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Cliente"}),i.jsx(Me,{children:"Plano Atual"}),i.jsx(Me,{children:"Pacote"}),i.jsx(Me,{children:"Funcionrios"}),i.jsx(Me,{children:"Valor"}),i.jsx(Me,{children:"Status"}),i.jsx(Me,{children:"Mercado Pago ID"}),i.jsx(Me,{children:"Data Compra"}),i.jsx(Me,{children:"Vencimento"}),i.jsx(Me,{children:"Aes"})]})}),i.jsx(gn,{children:D.map(ce=>{const Ee=ie.find(ge=>ge.id===ce.user_id),ot={pacote_5:"+5 Funcionrios",pacote_10:"+10 Funcionrios",pacote_20:"+20 Funcionrios",pacote_50:"+50 Funcionrios"}[ce.package_type]||ce.package_type;return i.jsxs(Bt,{className:ce.status==="pendente"?"bg-amber-50/50 dark:bg-amber-900/10":"",children:[i.jsx(Ie,{children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:(Ee==null?void 0:Ee.nome)||"Usurio Desconhecido"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:(Ee==null?void 0:Ee.email)||"-"})]})}),i.jsx(Ie,{children:i.jsx(It,{variant:(Ee==null?void 0:Ee.plano)==="premium_mensal"||(Ee==null?void 0:Ee.plano)==="premium_anual"?"default":"secondary",children:(Ee==null?void 0:Ee.plano)==="premium_mensal"?"Premium Mensal":(Ee==null?void 0:Ee.plano)==="premium_anual"?"Premium Anual":(Ee==null?void 0:Ee.plano)==="trial"?"Trial":"Free"})}),i.jsx(Ie,{children:i.jsx("span",{className:"font-medium",children:ot})}),i.jsx(Ie,{children:i.jsxs(It,{variant:"outline",className:"font-semibold",children:[i.jsx(Ba,{className:"h-3 w-3 mr-1"}),"+",ce.quantity]})}),i.jsx(Ie,{className:"font-semibold text-green-600",children:me(ce.price)}),i.jsx(Ie,{children:ce.status==="pendente"?i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(It,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-300",children:[i.jsx(Ys,{className:"h-3 w-3 mr-1"}),"Processando"]})}):Se(ce.status)}),i.jsx(Ie,{children:ce.mercadopago_payment_id?i.jsxs("code",{className:"text-xs bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:[ce.mercadopago_payment_id.substring(0,12),"..."]}):i.jsx("span",{className:"text-xs text-muted-foreground",children:"Aguardando"})}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm",children:ce.data_compra?oe(ce.data_compra):"-"}),ce.data_compra&&i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(ce.data_compra).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})}),i.jsx(Ie,{children:ce.data_vencimento?i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm",children:oe(ce.data_vencimento)}),ce.status==="ativo"&&(()=>{const ge=Math.ceil((new Date(ce.data_vencimento).getTime()-new Date().getTime())/864e5);return i.jsxs("span",{className:`text-xs ${ge<=7?"text-red-600":"text-green-600"}`,children:[ge," dias restantes"]})})()]}):"-"}),i.jsx(Ie,{children:i.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>o(ce.user_id),children:[i.jsx(rd,{className:"h-4 w-4 mr-1"}),"Ver Cliente"]})})]},ce.id)})})]})})]}),i.jsx(Ae,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ud,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Como funciona o processamento de pagamentos"}),i.jsxs("ul",{className:"space-y-2 text-sm text-blue-800 dark:text-blue-200",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 mt-0.5",children:"1."}),i.jsx("span",{children:"Cliente seleciona um pacote e  redirecionado ao Mercado Pago"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 mt-0.5",children:"2."}),i.jsxs("span",{children:["Status inicial: ",i.jsx("strong",{children:'"Pendente"'})," (aguardando confirmao do pagamento)"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 mt-0.5",children:"3."}),i.jsx("span",{children:"Mercado Pago processa o pagamento e envia webhook para nosso sistema"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 mt-0.5",children:"4."}),i.jsxs("span",{children:["Sistema recebe confirmao e atualiza para ",i.jsx("strong",{children:'"Ativo"'})]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 mt-0.5",children:"5."}),i.jsx("span",{children:"Limite de funcionrios  aumentado automaticamente"})]})]}),i.jsx("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-800/30 rounded-lg",children:i.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-semibold",children:" Tempo de processamento: geralmente 5-30 segundos aps o pagamento ser aprovado"})})]})]})})})]}):u==="promocoes"?i.jsx(pBe,{}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[i.jsx(Ae,{className:"border-l-4 border-l-blue-500",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Usurios"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:ie.length}),i.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"+12% desde a semana passada"})]}),i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:i.jsx(Ba,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})}),i.jsx(Ae,{className:"border-l-4 border-l-green-500",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"MRR (Receita Mensal)"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:me(X)}),i.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"+8.5% este ms"})]}),i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-full",children:i.jsx(Cs,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})}),i.jsx(Ae,{className:"border-l-4 border-l-purple-500",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Assinaturas Ativas"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:Y}),i.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:["Taxa de converso: ",q.length>0?(Y/q.length*100).toFixed(1):0,"%"]})]}),i.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:i.jsx(La,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})}),i.jsx(Ae,{className:"border-l-4 border-l-amber-500",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Pendentes"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:ee}),i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"Aguardando pagamento"})]}),i.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/30 rounded-full",children:i.jsx(Ys,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(o1,{className:"h-5 w-5 text-blue-600"}),"Distribuio de Planos"]})}),i.jsx(Pe,{children:i.jsx(hc,{config:{},className:"h-[300px]",children:i.jsx(fc,{width:"100%",height:"100%",children:i.jsxs(v6,{children:[i.jsx(Fc,{data:U,cx:"50%",cy:"50%",labelLine:!1,label:({name:ce,percent:Ee})=>`${ce}: ${(Ee*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:U.map((ce,Ee)=>i.jsx(Qf,{fill:ce.color},`cell-${Ee}`))}),i.jsx(Lf,{content:i.jsx(od,{})})]})})})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Ci,{className:"h-5 w-5 text-green-600"}),"Crescimento Mensal"]})}),i.jsx(Pe,{children:i.jsx(hc,{config:{},className:"h-[300px]",children:i.jsx(fc,{width:"100%",height:"100%",children:i.jsxs(nBe,{data:[{month:"Jan",users:45,revenue:3500},{month:"Fev",users:52,revenue:4200},{month:"Mar",users:61,revenue:4800},{month:"Abr",users:70,revenue:5500},{month:"Mai",users:85,revenue:6800},{month:"Jun",users:ie.length,revenue:X}],children:[i.jsx(el,{strokeDasharray:"3 3"}),i.jsx(rs,{dataKey:"month"}),i.jsx(ns,{}),i.jsx(Lf,{content:i.jsx(od,{})}),i.jsx(Sh,{type:"monotone",dataKey:"users",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3})]})})})})]})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Ba,{className:"h-5 w-5 text-blue-600"}),"Clientes Recentes"]}),i.jsxs("div",{className:"relative w-64",children:[i.jsx(Ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(Ze,{placeholder:"Buscar clientes...",value:n,onChange:ce=>a(ce.target.value),className:"pl-10"})]})]})}),i.jsx(Pe,{children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Nome"}),i.jsx(Me,{children:"Email"}),i.jsx(Me,{children:"Plano"}),i.jsx(Me,{children:"Status"}),i.jsx(Me,{children:"Aes"})]})}),i.jsx(gn,{children:ie&&ie.length>0?ie.filter(ce=>{var Ee,rt;return(((Ee=ce.nome)==null?void 0:Ee.toLowerCase())||"").includes(n.toLowerCase())||(((rt=ce.email)==null?void 0:rt.toLowerCase())||"").includes(n.toLowerCase())}).slice(0,10).map(ce=>i.jsxs(Bt,{children:[i.jsx(Ie,{className:"font-medium",children:ce.nome||"-"}),i.jsx(Ie,{children:ce.email||"-"}),i.jsx(Ie,{children:i.jsxs(It,{variant:"outline",children:[ce.plano==="trial"&&"Trial",ce.plano==="free"&&"Free",ce.plano==="premium_mensal"&&"Premium Mensal",ce.plano==="premium_anual"&&"Premium Anual",!["trial","free","premium_mensal","premium_anual"].includes(ce.plano)&&"Free"]})}),i.jsx(Ie,{children:Se(ce.status||"expirado")}),i.jsx(Ie,{children:i.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>o(ce.id),children:[i.jsx(rd,{className:"h-4 w-4 mr-2"}),"Ver Detalhes"]})})]},ce.id)):i.jsx(Bt,{children:i.jsx(Ie,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhum cliente encontrado"})})})]})})]})]})})]}),i.jsx(hBe,{user:p,open:m,onOpenChange:g})]})}var bee="AlertDialog",[vBe]=zi(bee,[pK]),Bd=pK(),wee=e=>{const{__scopeAlertDialog:t,...r}=e,n=Bd(t);return i.jsx(S_,{...n,...r,modal:!0})};wee.displayName=bee;var yBe="AlertDialogTrigger",jee=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Bd(r);return i.jsx(TK,{...a,...n,ref:t})});jee.displayName=yBe;var bBe="AlertDialogPortal",Nee=e=>{const{__scopeAlertDialog:t,...r}=e,n=Bd(t);return i.jsx(A_,{...n,...r})};Nee.displayName=bBe;var wBe="AlertDialogOverlay",_ee=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Bd(r);return i.jsx(gx,{...a,...n,ref:t})});_ee.displayName=wBe;var K0="AlertDialogContent",[jBe,NBe]=vBe(K0),_Be=$H("AlertDialogContent"),See=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=Bd(r),o=N.useRef(null),l=Lr(t,o),c=N.useRef(null);return i.jsx(W0e,{contentName:K0,titleName:Aee,docsSlug:"alert-dialog",children:i.jsx(jBe,{scope:r,cancelRef:c,children:i.jsxs(xx,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:Ct(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(_Be,{children:n}),i.jsx(ABe,{contentRef:o})]})})})});See.displayName=K0;var Aee="AlertDialogTitle",Cee=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Bd(r);return i.jsx(Eb,{...a,...n,ref:t})});Cee.displayName=Aee;var Eee="AlertDialogDescription",Pee=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Bd(r);return i.jsx(Pb,{...a,...n,ref:t})});Pee.displayName=Eee;var SBe="AlertDialogAction",kee=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Bd(r);return i.jsx(C_,{...a,...n,ref:t})});kee.displayName=SBe;var Tee="AlertDialogCancel",Oee=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=NBe(Tee,r),s=Bd(r),o=Lr(t,a);return i.jsx(C_,{...s,...n,ref:o})});Oee.displayName=Tee;var ABe=({contentRef:e})=>{const t=`\`${K0}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${K0}\` by passing a \`${Eee}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${K0}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},CBe=wee,EBe=jee,PBe=Nee,Dee=_ee,Iee=See,Fee=kee,Ree=Oee,Mee=Cee,Lee=Pee;const h5=CBe,kBe=EBe,TBe=PBe,$ee=N.forwardRef(({className:e,...t},r)=>i.jsx(Dee,{className:ht("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));$ee.displayName=Dee.displayName;const Qy=N.forwardRef(({className:e,...t},r)=>i.jsxs(TBe,{children:[i.jsx($ee,{}),i.jsx(Iee,{ref:r,className:ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Qy.displayName=Iee.displayName;const Zy=({className:e,...t})=>i.jsx("div",{className:ht("flex flex-col space-y-2 text-center sm:text-left",e),...t});Zy.displayName="AlertDialogHeader";const TS=({className:e,...t})=>i.jsx("div",{className:ht("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});TS.displayName="AlertDialogFooter";const Jy=N.forwardRef(({className:e,...t},r)=>i.jsx(Mee,{ref:r,className:ht("text-lg font-semibold",e),...t}));Jy.displayName=Mee.displayName;const OS=N.forwardRef(({className:e,...t},r)=>i.jsx(Lee,{ref:r,className:ht("text-sm text-muted-foreground",e),...t}));OS.displayName=Lee.displayName;const DS=N.forwardRef(({className:e,...t},r)=>i.jsx(Fee,{ref:r,className:ht(XT(),e),...t}));DS.displayName=Fee.displayName;const IS=N.forwardRef(({className:e,...t},r)=>i.jsx(Ree,{ref:r,className:ht(XT({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));IS.displayName=Ree.displayName;function OBe(){const{toast:e}=Qr(),{user:t}=Rd(),[,r]=ui();if(N.useEffect(()=>{t&&(t.email!=="pavisoft.suporte@gmail.com"||t.is_admin!=="true")&&(e({title:" Acesso Negado",description:"Esta pgina  restrita ao Administrador Master do sistema.",variant:"destructive"}),r("/dashboard"))},[t,r,e]),!t||t.email!=="pavisoft.suporte@gmail.com"||t.is_admin!=="true")return i.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:i.jsxs(Ae,{className:"max-w-md w-full",children:[i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ZC,{className:"h-8 w-8 text-red-600"}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-red-600",children:"Acesso Negado"}),i.jsx(Ht,{children:"rea Restrita"})]})]})}),i.jsxs(Pe,{children:[i.jsxs($i,{variant:"destructive",children:[i.jsx(ZC,{className:"h-4 w-4"}),i.jsx(wo,{children:"Permisso Insuficiente"}),i.jsx(Bi,{children:"Esta pgina  exclusiva para o Administrador Master do sistema. Voc ser redirecionado para o dashboard."})]}),i.jsx(ye,{onClick:()=>r("/dashboard"),className:"w-full mt-4","data-testid":"button-back-dashboard",children:"Voltar ao Dashboard"})]})]})});const[n,a]=N.useState("todos"),[s,o]=N.useState(""),[l,c]=N.useState(!1),[u,d]=N.useState(!1),[f,h]=N.useState(!1),[m,g]=N.useState(""),[p,x]=N.useState("pacote_5"),[v,y]=N.useState(5),[b,j]=N.useState(39.9),[_,P]=N.useState(""),[k,S]=N.useState("mercadopago"),[E,M]=N.useState(null),{data:T=[],isLoading:C}=ir({queryKey:["/api/users"]}),{data:I=[],isLoading:L}=ir({queryKey:["/api/admin/employee-packages"]}),z=rr({mutationFn:async U=>(await Pr("POST","/api/admin/employee-packages/activate-manual",U)).json(),onSuccess:()=>{e({title:" Sucesso!",description:"Pacote ativado com sucesso!"}),Gs.invalidateQueries({queryKey:["/api/admin/employee-packages"]}),Gs.invalidateQueries({queryKey:["/api/users"]}),c(!1)},onError:U=>{e({title:" Erro",description:U.message||"Erro ao ativar pacote",variant:"destructive"})}}),G=rr({mutationFn:async U=>(await Pr("POST","/api/admin/employee-packages/reprocess-webhook",U)).json(),onSuccess:()=>{e({title:" Sucesso!",description:"Webhook reprocessado com sucesso!"}),Gs.invalidateQueries({queryKey:["/api/admin/employee-packages"]}),Gs.invalidateQueries({queryKey:["/api/users"]}),d(!1),P("")},onError:U=>{e({title:" Erro",description:U.message||"Erro ao reprocessar webhook",variant:"destructive"})}}),W=rr({mutationFn:async U=>(await Pr("POST",`/api/admin/employee-packages/${U}/cancel`)).json(),onSuccess:()=>{e({title:" Sucesso!",description:"Pacote cancelado com sucesso!"}),Gs.invalidateQueries({queryKey:["/api/admin/employee-packages"]}),Gs.invalidateQueries({queryKey:["/api/users"]})},onError:U=>{e({title:" Erro",description:U.message||"Erro ao cancelar pacote",variant:"destructive"})}}),q=()=>{if(!m){e({title:"Erro",description:"Selecione um usurio",variant:"destructive"});return}z.mutate({userId:m,packageType:p,quantity:v,price:b})},K=()=>{if(!_){e({title:"Erro",description:"Digite o Payment ID",variant:"destructive"});return}G.mutate({paymentId:_,gateway:k})},ae=async(U,me="mercadopago")=>{try{const oe=await fetch(`/api/admin/employee-packages/payment-details/${U}?gateway=${me}`,{headers:{"x-user-id":localStorage.getItem("userId")||""}});if(!oe.ok)throw new Error("Erro ao buscar detalhes do pagamento");const Se=await oe.json();M(Se.payment),h(!0)}catch(oe){e({title:"Erro",description:oe.message,variant:"destructive"})}},ie=[{value:"pacote_5",label:"+5 Funcionrios",quantity:5,price:39.9},{value:"pacote_10",label:"+10 Funcionrios",quantity:10,price:69.9},{value:"pacote_20",label:"+20 Funcionrios",quantity:20,price:119.9},{value:"pacote_50",label:"+50 Funcionrios",quantity:50,price:249.9}],O=U=>{const me={ativo:{variant:"default",icon:La,label:"Ativo"},pendente:{variant:"outline",icon:Ys,label:"Pendente"},cancelado:{variant:"destructive",icon:jc,label:"Cancelado"},expirado:{variant:"secondary",icon:jc,label:"Expirado"}},oe=me[U]||me.pendente,Se=oe.icon;return i.jsxs(It,{variant:oe.variant,className:"flex items-center gap-1 w-fit",children:[i.jsx(Se,{className:"h-3 w-3"}),oe.label]})},V=U=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U),D=U=>({pacote_5:"+5 Funcionrios",pacote_10:"+10 Funcionrios",pacote_20:"+20 Funcionrios",pacote_50:"+50 Funcionrios"})[U]||U;if(C||L)return i.jsx("div",{className:"p-6",children:"Carregando..."});const B=I.filter(U=>n==="todos"||U.status===n).filter(U=>{var Se,_e,se;if(!s)return!0;const me=T.find(ft=>ft.id===U.user_id),oe=s.toLowerCase();return((Se=me==null?void 0:me.nome)==null?void 0:Se.toLowerCase().includes(oe))||((_e=me==null?void 0:me.email)==null?void 0:_e.toLowerCase().includes(oe))||((se=U.payment_id)==null?void 0:se.toLowerCase().includes(oe))}),Q=I.filter(U=>U.status==="ativo").length,Y=I.filter(U=>U.status==="pendente").length,ee=I.filter(U=>U.status==="ativo").reduce((U,me)=>U+(me.price||0),0),X=I.filter(U=>U.status==="ativo").reduce((U,me)=>U+(me.quantity||0),0);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Gerenciamento de Pacotes"}),i.jsx("p",{className:"text-muted-foreground",children:"Controle total sobre compras de pacotes de funcionrios"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(kr,{open:l,onOpenChange:c,children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{variant:"default","data-testid":"button-activate-manual",children:[i.jsx(KC,{className:"h-4 w-4 mr-2"}),"Ativar Manualmente"]})}),i.jsxs(Sr,{children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Ativar Pacote Manualmente"}),i.jsx(tn,{children:"Ative um pacote de funcionrios para um cliente sem passar pelo gateway de pagamento"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{children:"Selecionar Cliente"}),i.jsxs(Cr,{value:m,onValueChange:g,children:[i.jsx(Nr,{"data-testid":"select-user",children:i.jsx(Er,{placeholder:"Escolha um cliente"})}),i.jsx(_r,{children:T.map(U=>i.jsxs(Je,{value:U.id,children:[U.nome," (",U.email,")"]},U.id))})]})]}),i.jsxs("div",{children:[i.jsx(De,{children:"Tipo de Pacote"}),i.jsxs(Cr,{value:p,onValueChange:U=>{x(U);const me=ie.find(oe=>oe.value===U);me&&(y(me.quantity),j(me.price))},children:[i.jsx(Nr,{"data-testid":"select-package-type",children:i.jsx(Er,{})}),i.jsx(_r,{children:ie.map(U=>i.jsxs(Je,{value:U.value,children:[U.label," - ",V(U.price)]},U.value))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(De,{children:"Quantidade"}),i.jsx(Ze,{type:"number",value:v,onChange:U=>y(parseInt(U.target.value)),"data-testid":"input-quantity"})]}),i.jsxs("div",{children:[i.jsx(De,{children:"Valor (R$)"}),i.jsx(Ze,{type:"number",step:"0.01",value:b,onChange:U=>j(parseFloat(U.target.value)),"data-testid":"input-price"})]})]})]}),i.jsxs(to,{children:[i.jsx(ye,{variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel-activate",children:"Cancelar"}),i.jsx(ye,{onClick:q,disabled:z.isPending,"data-testid":"button-confirm-activate",children:z.isPending?"Ativando...":"Ativar Pacote"})]})]})]}),i.jsxs(kr,{open:u,onOpenChange:d,children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{variant:"outline","data-testid":"button-reprocess-webhook",children:[i.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Reprocessar Webhook"]})}),i.jsxs(Sr,{children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Reprocessar Webhook"}),i.jsx(tn,{children:"Forar o processamento de um pagamento j aprovado que no foi ativado automaticamente"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{children:"Payment ID"}),i.jsx(Ze,{placeholder:"Ex: 1234567890",value:_,onChange:U=>P(U.target.value),"data-testid":"input-payment-id"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"ID do pagamento no gateway (Mercado Pago ou Asaas)"})]}),i.jsxs("div",{children:[i.jsx(De,{children:"Gateway de Pagamento"}),i.jsxs(Cr,{value:k,onValueChange:S,children:[i.jsx(Nr,{"data-testid":"select-gateway",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"mercadopago",children:"Mercado Pago"}),i.jsx(Je,{value:"asaas",children:"Asaas"})]})]})]})]}),i.jsxs(to,{children:[i.jsx(ye,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-reprocess",children:"Cancelar"}),i.jsx(ye,{onClick:K,disabled:G.isPending,"data-testid":"button-confirm-reprocess",children:G.isPending?"Reprocessando...":"Reprocessar"})]})]})]})]})]}),i.jsx(Ae,{className:"border-blue-200 bg-blue-50/50 dark:bg-blue-950/20 dark:border-blue-900",children:i.jsx(qe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(pG,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ue,{className:"text-base text-blue-900 dark:text-blue-100",children:"Como usar esta ferramenta"}),i.jsx(Ht,{className:"text-sm text-blue-700 dark:text-blue-300",children:i.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Ativar Manualmente:"})," Cria um pacote sem pagamento (til para bnus/cortesia)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Reprocessar Webhook:"})," Processa pagamentos aprovados que falharam no webhook"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Ver Detalhes:"})," Clique no Payment ID para ver status no gateway"]})]})})]})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Pacotes Ativos"}),i.jsx(Ga,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(Pe,{children:i.jsx("div",{className:"text-2xl font-bold",children:Q})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Em Processamento"}),i.jsx(Ys,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(Pe,{children:i.jsx("div",{className:"text-2xl font-bold",children:Y})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Receita Total"}),i.jsx(Ci,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(Pe,{children:i.jsx("div",{className:"text-2xl font-bold",children:V(ee)})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Total Func. Vendidos"}),i.jsx(Ba,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(Pe,{children:i.jsx("div",{className:"text-2xl font-bold",children:X})})]})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsx(Ue,{children:"Filtros"})}),i.jsx(Pe,{children:i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsxs("div",{className:"flex-1 min-w-[200px]",children:[i.jsx(De,{children:"Buscar"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{placeholder:"Nome, email ou payment ID...",value:s,onChange:U=>o(U.target.value),className:"pl-9","data-testid":"input-search"})]})]}),i.jsxs("div",{className:"w-[200px]",children:[i.jsx(De,{children:"Status"}),i.jsxs(Cr,{value:n,onValueChange:a,children:[i.jsx(Nr,{"data-testid":"select-filter-status",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"todos",children:"Todos"}),i.jsx(Je,{value:"ativo",children:"Ativos"}),i.jsx(Je,{value:"pendente",children:"Pendentes"}),i.jsx(Je,{value:"cancelado",children:"Cancelados"}),i.jsx(Je,{value:"expirado",children:"Expirados"})]})]})]})]})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{children:"Histrico Completo de Compras"}),i.jsx(Ht,{children:"Acompanhe todos os pacotes de funcionrios - ativos, pendentes e histricos"})]}),i.jsx(Pe,{children:B.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ga,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:s||n!=="todos"?"Nenhum pacote encontrado com os filtros aplicados":"Nenhum pacote de funcionrios foi comprado ainda"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Cliente"}),i.jsx(Me,{children:"Pacote"}),i.jsx(Me,{children:"Quantidade"}),i.jsx(Me,{children:"Valor"}),i.jsx(Me,{children:"Status"}),i.jsx(Me,{children:"Payment ID"}),i.jsx(Me,{children:"Data Compra"}),i.jsx(Me,{children:"Vencimento"}),i.jsx(Me,{className:"text-right",children:"Aes"})]})}),i.jsx(gn,{children:B.map(U=>{var Se,_e;const me=T.find(se=>se.id===U.user_id),oe=(Se=U.payment_id)==null?void 0:Se.startsWith("MANUAL_");return i.jsxs(Bt,{"data-testid":`row-package-${U.id}`,children:[i.jsx(Ie,{children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:(me==null?void 0:me.nome)||"Usurio Desconhecido"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(me==null?void 0:me.email)||"-"})]})}),i.jsx(Ie,{children:D(U.package_type)}),i.jsx(Ie,{children:i.jsxs(It,{variant:"outline",children:[i.jsx(Ba,{className:"h-3 w-3 mr-1"}),U.quantity]})}),i.jsx(Ie,{className:"font-semibold",children:V(U.price)}),i.jsx(Ie,{children:O(U.status)}),i.jsx(Ie,{children:oe?i.jsx(It,{variant:"secondary",className:"font-mono text-xs",children:"MANUAL"}):i.jsxs(ye,{variant:"ghost",size:"sm",className:"h-auto p-0 font-mono text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",onClick:()=>ae(U.payment_id),"data-testid":`button-view-details-${U.id}`,children:[(_e=U.payment_id)==null?void 0:_e.substring(0,12),"..."]})}),i.jsx(Ie,{children:U.data_compra?Ea(new Date(U.data_compra),"dd/MM/yyyy",{locale:Va}):"-"}),i.jsx(Ie,{children:U.data_vencimento?Ea(new Date(U.data_vencimento),"dd/MM/yyyy",{locale:Va}):"-"}),i.jsx(Ie,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[U.status==="pendente"&&!oe&&i.jsxs(ye,{size:"sm",variant:"ghost",onClick:()=>{P(U.payment_id),d(!0)},"data-testid":`button-reprocess-${U.id}`,children:[i.jsx(Fl,{className:"h-3 w-3 mr-1"}),"Reprocessar"]}),U.status==="ativo"&&i.jsxs(h5,{children:[i.jsx(kBe,{asChild:!0,children:i.jsxs(ye,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300","data-testid":`button-cancel-${U.id}`,children:[i.jsx(jc,{className:"h-3 w-3 mr-1"}),"Cancelar"]})}),i.jsxs(Qy,{children:[i.jsxs(Zy,{children:[i.jsx(Jy,{children:"Cancelar Pacote de Funcionrios"}),i.jsxs(OS,{children:["Tem certeza que deseja cancelar este pacote? Esta ao ir:",i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"Reduzir o limite de funcionrios do usurio"}),i.jsx("li",{children:"Bloquear funcionrios excedentes automaticamente"}),i.jsx("li",{children:"Marcar o pacote como cancelado"})]}),i.jsx("p",{className:"mt-2 font-semibold text-destructive",children:"Esta ao no pode ser desfeita!"})]})]}),i.jsxs(TS,{children:[i.jsx(IS,{"data-testid":"button-cancel-cancel",children:"Voltar"}),i.jsx(DS,{onClick:()=>W.mutate(U.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":`button-confirm-cancel-${U.id}`,children:W.isPending?"Cancelando...":"Sim, cancelar pacote"})]})]})]})]})})]},U.id)})})]})})})]}),i.jsx(kr,{open:f,onOpenChange:h,children:i.jsxs(Sr,{className:"max-w-2xl",children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Detalhes do Pagamento"}),i.jsx(tn,{children:"Informaes diretas do gateway de pagamento"})]}),E&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"ID do Pagamento"}),i.jsx("p",{className:"font-mono text-sm",children:E.id})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"Status"}),i.jsx("p",{className:"font-semibold",children:E.status})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"External Reference"}),i.jsx("p",{className:"font-mono text-sm",children:E.external_reference})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"Valor"}),i.jsxs("p",{className:"font-semibold",children:[E.currency_id," ",E.transaction_amount]})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"Email do Pagador"}),i.jsx("p",{className:"text-sm",children:E.payer_email})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"Mtodo de Pagamento"}),i.jsx("p",{className:"text-sm",children:E.payment_method_id})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"Data de Criao"}),i.jsx("p",{className:"text-sm",children:E.date_created?Ea(new Date(E.date_created),"dd/MM/yyyy HH:mm",{locale:Va}):"-"})]}),i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"Data de Aprovao"}),i.jsx("p",{className:"text-sm",children:E.date_approved?Ea(new Date(E.date_approved),"dd/MM/yyyy HH:mm",{locale:Va}):"-"})]})]}),E.status_detail&&i.jsxs("div",{children:[i.jsx(De,{className:"text-muted-foreground",children:"Detalhes do Status"}),i.jsx("p",{className:"text-sm",children:E.status_detail})]})]}),i.jsx(to,{children:i.jsx(ye,{onClick:()=>h(!1),children:"Fechar"})})]})})]})}function DBe({totalProdutos:e=0,produtosBaixoEstoque:t=0,vendasHoje:r=0}){return i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(Ae,{className:"relative overflow-hidden border-blue-200 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950 dark:to-background transition-all hover:shadow-lg",children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Total de Produtos"}),i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-full",children:i.jsx(Ga,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})]}),i.jsxs(Pe,{children:[i.jsx("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300","data-testid":"text-total-products",children:e}),i.jsx("p",{className:"text-xs text-blue-500 dark:text-blue-400 mt-1",children:"Itens cadastrados"})]})]}),i.jsxs(Ae,{className:`relative overflow-hidden transition-all hover:shadow-lg ${t>0?"border-orange-200 bg-gradient-to-br from-orange-50 to-white dark:from-orange-950 dark:to-background":"border-green-200 bg-gradient-to-br from-green-50 to-white dark:from-green-950 dark:to-background"}`,children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[i.jsx(Ue,{className:`text-sm font-medium ${t>0?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`,children:"Baixo Estoque"}),i.jsx("div",{className:`p-2 rounded-full ${t>0?"bg-orange-100 dark:bg-orange-900":"bg-green-100 dark:bg-green-900"}`,children:i.jsx(ji,{className:`h-4 w-4 ${t>0?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`})})]}),i.jsxs(Pe,{children:[i.jsx("p",{className:`text-3xl font-bold ${t>0?"text-orange-700 dark:text-orange-300":"text-green-700 dark:text-green-300"}`,"data-testid":"text-low-stock-count",children:t}),i.jsx("p",{className:`text-xs mt-1 ${t>0?"text-orange-500 dark:text-orange-400":"text-green-500 dark:text-green-400"}`,children:t>0?"Produtos em alerta":"Estoque normal"})]})]}),i.jsxs(Ae,{className:"relative overflow-hidden border-purple-200 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950 dark:to-background transition-all hover:shadow-lg",children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"Vendas Hoje"}),i.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-full",children:i.jsx(Ci,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})})]}),i.jsxs(Pe,{children:[i.jsxs("p",{className:"text-3xl font-bold text-purple-700 dark:text-purple-300","data-testid":"text-sales-today",children:["R$ ",r.toFixed(2)]}),i.jsx("p",{className:"text-xs text-purple-500 dark:text-purple-400 mt-1",children:"Faturamento do dia"})]})]})]})}const IBe=N.memo(DBe);function y1(e){if(!e)return null;const t=new Date,n=new Date(e).getTime()-t.getTime();return Math.ceil(n/(1e3*60*60*24))}function FBe(e){const t=y1(e);return t===null?null:t<0?"expired":t<=7?"critical":t<=30?"warning":"ok"}function im(e){return new Date(e).toLocaleDateString("pt-BR")}function KP(e){const t=new Date(e),r=t.toLocaleDateString("pt-BR"),n=t.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return`${r} ${n}`}function RBe({id:e,nome:t,categoria:r,preco:n,quantidade:a,estoque_minimo:s,codigo_barras:o,vencimento:l,quantidadeBloqueada:c=0,bloqueios:u=[],onEdit:d,onDelete:f}){const h=a<s,m=FBe(l||null),g=y1(l||null),p=c>0;return i.jsx(Ae,{className:ht("group hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br backdrop-blur-sm",h?"from-orange-500/10 via-orange-500/5 to-transparent":"from-blue-500/5 via-purple-500/5 to-transparent"),"data-testid":`card-product-${e}`,children:i.jsx(Pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[i.jsx("h3",{className:"font-semibold text-foreground group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors","data-testid":`text-product-name-${e}`,children:t}),h&&i.jsxs(It,{variant:"destructive",className:"flex items-center gap-1","data-testid":`badge-low-stock-${e}`,children:[i.jsx(ji,{className:"h-3 w-3"}),"Estoque Baixo"]}),m==="critical"&&g!==null&&i.jsxs(It,{variant:"destructive",className:"flex items-center gap-1","data-testid":`badge-expiry-critical-${e}`,children:[i.jsx(Si,{className:"h-3 w-3"}),"Vence em ",g," dia",g!==1?"s":""]}),m==="warning"&&g!==null&&i.jsxs(It,{className:"flex items-center gap-1 bg-orange-500 text-white","data-testid":`badge-expiry-warning-${e}`,children:[i.jsx(Si,{className:"h-3 w-3"}),"Vence em ",g," dias"]}),m==="expired"&&i.jsxs(It,{variant:"destructive",className:"flex items-center gap-1","data-testid":`badge-expired-${e}`,children:[i.jsx(Si,{className:"h-3 w-3"}),"Vencido"]}),p&&i.jsxs(It,{variant:"secondary",className:"flex items-center gap-1 bg-blue-500/20 text-blue-700 dark:text-blue-300 border-blue-500/30","data-testid":`badge-bloqueado-${e}`,children:[i.jsx(_o,{className:"h-3 w-3"}),c," Bloqueado",c>1?"s":""]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:r}),p&&u.length>0&&i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsx("p",{className:"font-medium",children:"Bloqueado em:"}),u.map((x,v)=>i.jsxs("p",{"data-testid":`text-bloqueio-${e}-${v}`,children:[" Oramento ",x.numero_orcamento,": ",x.quantidade_bloqueada," un."]},v))]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Preo: "}),i.jsxs("span",{className:"font-medium","data-testid":`text-price-${e}`,children:["R$ ",n.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Qtd: "}),i.jsx("span",{className:`font-medium ${h?"text-destructive":""}`,"data-testid":`text-quantity-${e}`,children:a})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Mn: "}),i.jsx("span",{className:"font-medium",children:s})]}),o&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ihe,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("span",{className:"text-muted-foreground text-xs","data-testid":`text-barcode-${e}`,children:o})]}),l&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Si,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("span",{className:"text-muted-foreground text-xs","data-testid":`text-expiry-${e}`,children:im(l)})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{size:"icon",variant:"outline",onClick:()=>d==null?void 0:d(e),"data-testid":`button-edit-${e}`,className:"bg-transparent hover:bg-accent border-accent/50 hover:border-accent text-muted-foreground hover:text-foreground transition-colors duration-300",children:i.jsx(_d,{className:"h-4 w-4"})}),i.jsx(ye,{size:"icon",variant:"outline",onClick:()=>f==null?void 0:f(e),"data-testid":`button-delete-${e}`,className:"bg-transparent hover:bg-accent border-accent/50 hover:border-accent text-muted-foreground hover:text-foreground transition-colors duration-300",children:i.jsx(Ei,{className:"h-4 w-4"})})]})]})})})}const Bee=N.memo(RBe);var y6="Progress",b6=100,[MBe]=zi(y6),[LBe,$Be]=MBe(y6),zee=N.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=BBe,...o}=e;(a||a===0)&&!O7(a)&&console.error(zBe(`${a}`,"Progress"));const l=O7(a)?a:b6;n!==null&&!D7(n,l)&&console.error(qBe(`${n}`,"Progress"));const c=D7(n,l)?n:null,u=m5(c)?s(c,l):void 0;return i.jsx(LBe,{scope:r,value:c,max:l,children:i.jsx(zt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":m5(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Vee(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});zee.displayName=y6;var qee="ProgressIndicator",Uee=N.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=$Be(qee,r);return i.jsx(zt.div,{"data-state":Vee(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});Uee.displayName=qee;function BBe(e,t){return`${Math.round(e/t*100)}%`}function Vee(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function m5(e){return typeof e=="number"}function O7(e){return m5(e)&&!isNaN(e)&&e>0}function D7(e,t){return m5(e)&&!isNaN(e)&&e<=t&&e>=0}function zBe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${b6}\`.`}function qBe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${b6} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Wee=zee,UBe=Uee;const Hee=N.forwardRef(({className:e,value:t,...r},n)=>i.jsx(Wee,{ref:n,className:ht("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(UBe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Hee.displayName=Wee.displayName;const gw=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],VBe=15e3;function WBe(){const[,e]=ui(),{toast:t}=Qr(),r=Ya(),[n,a]=N.useState(VBe);N.useEffect(()=>{(async()=>{try{const G=localStorage.getItem("user");if(!G)return;const W=JSON.parse(G),q=await fetch("/api/users",{headers:{"x-user-id":W.id}});if(q.ok){const ae=(await q.json()).find(ie=>ie.id===W.id);ae!=null&&ae.meta_mensal&&a(ae.meta_mensal)}}catch(G){console.error("Erro ao buscar meta do usurio:",G)}})()},[]);const[s,o]=N.useState(!1),[l,c]=N.useState(""),{data:u=[],isLoading:d}=ir({queryKey:["/api/produtos"],refetchInterval:15e3}),{data:f=[]}=ir({queryKey:["/api/vendas"],refetchInterval:1e4}),h=rr({mutationFn:async z=>{const G=await fetch(`/api/produtos/${z}`,{method:"DELETE"});if(!G.ok)throw new Error("Erro ao deletar produto");return G.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/produtos"]}),t({title:"Produto excludo!",description:"O produto foi removido do estoque"})},onError:()=>{t({title:"Erro",description:"No foi possvel excluir o produto",variant:"destructive"})}}),m=z=>{confirm("Tem certeza que deseja excluir este produto?")&&h.mutate(z)},p=u.filter(z=>z&&typeof z.quantidade=="number"&&typeof z.estoque_minimo=="number").filter(z=>z.quantidade<z.estoque_minimo),x=new Date().toISOString().split("T")[0],y=f.filter(z=>z&&z.data&&z.valor_total!=null).filter(z=>{var G;try{return(G=z.data)==null?void 0:G.startsWith(x)}catch{return console.error("Erro ao processar data de venda:",z),!1}}),b=y.reduce((z,G)=>z+(Number(G.valor_total)||0),0);console.log(" VENDAS HOJE:",{data:x,quantidade:y.length,vendas:y.map(z=>({id:z.id,produto:z.produto,valor:z.valor_total,data:z.data,vendedor:z.vendedor,orcamento:z.orcamento_numero})),total:b});const j=N.useMemo(()=>{const z=u.reduce((G,W)=>{const q=W.categoria||"Sem categoria";return G[q]=(G[q]||0)+1,G},{});return Object.entries(z).map(([G,W])=>({name:G,value:W}))},[u]),_=N.useMemo(()=>{const z=u.filter(q=>q.quantidade>=q.estoque_minimo).length,G=u.filter(q=>q.quantidade<q.estoque_minimo&&q.quantidade>0).length,W=u.filter(q=>q.quantidade===0).length;return[{name:"Estoque Normal",value:z,color:"#00C49F"},{name:"Estoque Baixo",value:G,color:"#FFBB28"},{name:"Sem Estoque",value:W,color:"#FF8042"}].filter(q=>q.value>0)},[u]),P=N.useMemo(()=>Array.from({length:7},(G,W)=>{const q=new Date;return q.setDate(q.getDate()-(6-W)),q.toISOString().split("T")[0]}).map(G=>{const W=new Date(G).toLocaleDateString("pt-BR",{weekday:"short"}),q=f.filter(K=>{var ae;return(ae=K.data)==null?void 0:ae.startsWith(G)}).reduce((K,ae)=>K+(ae.valor_total||0),0);return{day:W,vendas:Number(q.toFixed(2))}}),[f]),k=N.useMemo(()=>{const z=f.reduce((G,W)=>{const q=W.produto||"Desconhecido";return G[q]=(G[q]||0)+(W.quantidade_vendida||0),G},{});return Object.entries(z).map(([G,W])=>({name:G,quantidade:W})).sort((G,W)=>W.quantidade-G.quantidade).slice(0,5)},[f]),S=N.useMemo(()=>{const z=Array.from({length:24},(G,W)=>({hour:`${W}h`,vendas:0,valor:0}));return f.forEach(G=>{if(G.data){const W=new Date(G.data).getHours();z[W].vendas+=1,z[W].valor+=G.valor_total||0}}),z},[f]),E=N.useMemo(()=>{const z=Array.from({length:6},(G,W)=>{const q=new Date;return q.setMonth(q.getMonth()-(5-W)),{month:q.toLocaleDateString("pt-BR",{month:"short"}),fullMonth:q.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),year:q.getFullYear(),monthNum:q.getMonth(),vendas:0}});return f.forEach(G=>{if(G.data){const W=new Date(G.data),q=W.getMonth(),K=W.getFullYear(),ae=z.find(ie=>ie.monthNum===q&&ie.year===K);ae&&(ae.vendas+=G.valor_total||0)}}),z},[f]),M=N.useMemo(()=>{const z=new Date,G=z.getMonth(),W=z.getFullYear();return f.filter(q=>{if(!q.data)return!1;const K=new Date(q.data);return K.getMonth()===G&&K.getFullYear()===W}).reduce((q,K)=>q+(K.valor_total||0),0)},[f]),T=M/n*100,C=rr({mutationFn:async z=>(await Pr("POST","/api/user/meta-vendas",{meta_mensal:z})).json(),onSuccess:z=>{a(z.meta_mensal),r.invalidateQueries({queryKey:["/api/users"]}),t({title:"Meta atualizada",description:`Nova meta de vendas: R$ ${z.meta_mensal.toFixed(2)}`}),o(!1),c("")},onError:z=>{t({title:"Erro ao atualizar meta",description:z instanceof Error?z.message:"Ocorreu um erro",variant:"destructive"})}}),I=()=>{if(l){const z=parseFloat(l);z>0?C.mutate(z):t({title:"Meta invlida",description:"A meta deve ser maior que zero",variant:"destructive"})}},L={vendas:{label:"Vendas",color:"hsl(var(--primary))"}};return d?i.jsx("div",{children:"Carregando..."}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Dashboard"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Viso geral do seu estoque"})]}),i.jsxs(It,{className:"bg-yellow-500 text-white",children:[i.jsx(rl,{className:"h-3 w-3 mr-1"}),"Premium"]})]}),i.jsx(IBe,{totalProdutos:u.length,produtosBaixoEstoque:p.length,vendasHoje:b}),i.jsxs(Ae,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950",children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ahe,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Meta de Vendas do Ms"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(It,{variant:T>=100?"default":"secondary",children:[T.toFixed(1),"%"]}),i.jsxs(kr,{open:s,onOpenChange:o,children:[i.jsx(ii,{asChild:!0,children:i.jsx(ye,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>c(n.toString()),children:i.jsx(_d,{className:"h-4 w-4"})})}),i.jsxs(Sr,{children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Editar Meta de Vendas"}),i.jsx(tn,{children:"Defina a nova meta mensal de vendas"})]}),i.jsxs("div",{className:"space-y-4 pt-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"nova-meta",children:"Valor da Meta (R$)"}),i.jsx(Ze,{id:"nova-meta",type:"number",min:"0",step:"0.01",value:l,onChange:z=>c(z.target.value),placeholder:"Ex: 15000.00"})]}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(ye,{variant:"outline",onClick:()=>{o(!1),c("")},children:"Cancelar"}),i.jsx(ye,{onClick:I,children:"Salvar Meta"})]})]})]})]})]})]})}),i.jsxs(Pe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Realizado"}),i.jsxs("span",{className:"font-bold",children:["R$ ",M.toFixed(2)]})]}),i.jsx(Hee,{value:Math.min(T,100),className:"h-3"}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Meta"}),i.jsxs("span",{className:"font-semibold",children:["R$ ",n.toFixed(2)]})]})]}),T>=100?i.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:" Parabns! Meta atingida!"}):i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Faltam R$ ",(n-M).toFixed(2)," para atingir a meta"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Ci,{className:"h-5 w-5 text-primary"}),"Vendas por Hora do Dia"]})}),i.jsx(Pe,{children:i.jsx(hc,{config:L,className:"h-[300px]",children:i.jsx(fc,{width:"100%",height:"100%",children:i.jsxs(bm,{data:S,children:[i.jsx(el,{strokeDasharray:"3 3",className:"stroke-muted"}),i.jsx(rs,{dataKey:"hour",className:"text-xs",interval:2}),i.jsx(ns,{className:"text-xs"}),i.jsx(ts,{content:({active:z,payload:G})=>z&&G&&G.length?i.jsxs("div",{className:"bg-background border rounded-lg p-2 shadow-lg",children:[i.jsx("p",{className:"font-semibold",children:G[0].payload.hour}),i.jsxs("p",{className:"text-sm",children:["Vendas: ",G[0].payload.vendas]}),i.jsxs("p",{className:"text-sm",children:["Valor: R$ ",G[0].payload.valor.toFixed(2)]})]}):null}),i.jsx(nl,{dataKey:"valor",fill:"hsl(var(--primary))",radius:[4,4,0,0],children:S.map((z,G)=>i.jsx(Qf,{fill:z.valor>0?gw[G%gw.length]:"#e0e0e0"},`cell-${G}`))})]})})})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Si,{className:"h-5 w-5 text-primary"}),"Comparativo Mensal (6 meses)"]})}),i.jsx(Pe,{children:i.jsx(hc,{config:L,className:"h-[300px]",children:i.jsx(fc,{width:"100%",height:"100%",children:i.jsxs(bm,{data:E,children:[i.jsx(el,{strokeDasharray:"3 3",className:"stroke-muted"}),i.jsx(rs,{dataKey:"month",className:"text-xs"}),i.jsx(ns,{className:"text-xs"}),i.jsx(ts,{content:({active:z,payload:G})=>z&&G&&G.length?i.jsxs("div",{className:"bg-background border rounded-lg p-2 shadow-lg",children:[i.jsx("p",{className:"font-semibold",children:G[0].payload.fullMonth}),i.jsxs("p",{className:"text-sm",children:["R$ ",G[0].payload.vendas.toFixed(2)]})]}):null}),i.jsx(nl,{dataKey:"vendas",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Ci,{className:"h-5 w-5 text-primary"}),"Tendncia de Vendas (7 dias)"]})}),i.jsx(Pe,{children:i.jsx(hc,{config:L,className:"h-[300px]",children:i.jsx(fc,{width:"100%",height:"100%",children:i.jsxs(kS,{data:P,children:[i.jsx(el,{strokeDasharray:"3 3",className:"stroke-muted"}),i.jsx(rs,{dataKey:"day",className:"text-xs"}),i.jsx(ns,{className:"text-xs"}),i.jsx(Lf,{content:i.jsx(od,{})}),i.jsx(dl,{type:"monotone",dataKey:"vendas",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:4}})]})})})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Ga,{className:"h-5 w-5 text-primary"}),"Status do Estoque"]})}),i.jsx(Pe,{children:i.jsx(hc,{config:L,className:"h-[300px]",children:i.jsx(fc,{width:"100%",height:"100%",children:i.jsxs(v6,{children:[i.jsx(Fc,{data:_,cx:"50%",cy:"50%",labelLine:!1,label:({name:z,percent:G})=>`${z}: ${(G*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:_.map((z,G)=>i.jsx(Qf,{fill:z.color},`cell-${G}`))}),i.jsx(Lf,{content:i.jsx(od,{})})]})})})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(gp,{className:"h-5 w-5 text-primary"}),"Top 5 Produtos Vendidos"]})}),i.jsx(Pe,{children:i.jsx(hc,{config:L,className:"h-[300px]",children:i.jsx(fc,{width:"100%",height:"100%",children:i.jsxs(bm,{data:k,layout:"vertical",children:[i.jsx(el,{strokeDasharray:"3 3",className:"stroke-muted"}),i.jsx(rs,{type:"number",className:"text-xs"}),i.jsx(ns,{dataKey:"name",type:"category",width:100,className:"text-xs"}),i.jsx(Lf,{content:i.jsx(od,{})}),i.jsx(nl,{dataKey:"quantidade",fill:"hsl(var(--primary))",radius:[0,4,4,0]})]})})})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Ga,{className:"h-5 w-5 text-primary"}),"Produtos por Categoria"]})}),i.jsx(Pe,{children:i.jsx(hc,{config:L,className:"h-[300px]",children:i.jsx(fc,{width:"100%",height:"100%",children:i.jsxs(bm,{data:j,children:[i.jsx(el,{strokeDasharray:"3 3",className:"stroke-muted"}),i.jsx(rs,{dataKey:"name",className:"text-xs",angle:-45,textAnchor:"end",height:80}),i.jsx(ns,{className:"text-xs"}),i.jsx(Lf,{content:i.jsx(od,{})}),i.jsx(nl,{dataKey:"value",fill:"hsl(var(--primary))",radius:[4,4,0,0],children:j.map((z,G)=>i.jsx(Qf,{fill:gw[G%gw.length]},`cell-${G}`))})]})})})})]})]}),p.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h2",{className:"text-lg font-semibold text-destructive",children:"Produtos com Estoque Baixo"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",p.length," produtos)"]})]}),i.jsx("div",{className:"space-y-3",children:p.map(z=>i.jsx(Bee,{...z,onEdit:G=>e(`/produtos/editar/${G}`),onDelete:m},z.id))})]})]})}function HBe({product:e,onEdit:t,onDelete:r}){const{data:n}=ir({queryKey:[`/api/produtos/${e.id}/bloqueios`]});return i.jsx(Bee,{...e,quantidadeBloqueada:(n==null?void 0:n.quantidade_bloqueada)||0,bloqueios:(n==null?void 0:n.bloqueios)||[],onEdit:t,onDelete:r})}function GBe(){const[,e]=ui(),{toast:t}=Qr(),r=Ya(),[n,a]=N.useState(""),{data:s=[],isLoading:o,isError:l}=ir({queryKey:["/api/produtos"],refetchInterval:15e3}),c=N.useMemo(()=>n?s.filter(h=>{var m;return(m=h.nome)==null?void 0:m.toLowerCase().includes(n.toLowerCase())}):s,[s,n]),u=rr({mutationFn:async h=>{const m=await oa("DELETE",`/api/produtos/${h}`,void 0);if(!m.ok)throw new Error("Erro ao deletar produto");return m.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/produtos"]}),t({title:"Produto excludo!",description:"O produto foi removido do estoque"})},onError:h=>{t({title:"Erro",description:h.message||"No foi possvel excluir o produto",variant:"destructive"})}}),d=N.useCallback(h=>{confirm("Tem certeza que deseja excluir este produto?")&&u.mutate(h)},[u]),f=N.useCallback(h=>{e(`/produtos/editar/${h}`)},[e]);return o?i.jsx("div",{children:"Carregando..."}):i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[i.jsx("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent animate-in slide-in-from-left duration-700",children:"Produtos"}),i.jsx("p",{className:"text-sm text-muted-foreground animate-in slide-in-from-left duration-700 delay-100",children:"Gerencie seu catlogo com eficincia"})]}),i.jsxs(It,{className:"bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 animate-in zoom-in duration-500",children:[i.jsx(rl,{className:"h-3 w-3 mr-1 animate-pulse"}),"Premium"]}),i.jsxs("div",{className:"relative animate-in slide-in-from-top duration-700 delay-150",children:[i.jsx(Ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-primary animate-pulse"}),i.jsx(Ze,{type:"text",placeholder:"Buscar produtos...",value:n,onChange:h=>a(h.target.value),className:"pl-9 w-64 border-2 border-primary/20 focus:border-primary/50 transition-all duration-300 shadow-md hover:shadow-lg","data-testid":"input-search-products"})]}),i.jsxs(ye,{onClick:()=>e("/produtos/adicionar"),"data-testid":"button-add-product",className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 border-0 hover:scale-105 hover:shadow-2xl transition-all duration-300 shadow-lg animate-in zoom-in duration-700 delay-200",children:[i.jsx(zl,{className:"h-4 w-4 mr-2"}),"Adicionar Produto"]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:n&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.length," resultado",c.length!==1?"s":""," encontrado",c.length!==1?"s":""]})}),i.jsx("div",{className:"space-y-3",children:s.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum produto cadastrado"}):n&&c.length===0?i.jsxs("p",{className:"text-center text-muted-foreground py-8",children:['Nenhum produto encontrado para "',n,'"']}):(n?c:s).map(h=>i.jsx(HBe,{product:h,onEdit:f,onDelete:d},h.id))})]})]})}function KBe({initialData:e,onSubmit:t,onCancel:r,isPending:n=!1,isEditing:a=!1}){var _,P,k;const[s,o]=N.useState((e==null?void 0:e.nome)||""),[l,c]=N.useState((e==null?void 0:e.categoria)||""),[u,d]=N.useState(((_=e==null?void 0:e.preco)==null?void 0:_.toString())||""),[f,h]=N.useState(((P=e==null?void 0:e.quantidade)==null?void 0:P.toString())||""),[m,g]=N.useState(((k=e==null?void 0:e.estoque_minimo)==null?void 0:k.toString())||""),[p,x]=N.useState((e==null?void 0:e.codigo_barras)||""),[v,y]=N.useState((e==null?void 0:e.vencimento)||"");N.useEffect(()=>{var S,E,M;e&&(o(e.nome||""),c(e.categoria||""),d(((S=e.preco)==null?void 0:S.toString())||""),h(((E=e.quantidade)==null?void 0:E.toString())||""),g(((M=e.estoque_minimo)==null?void 0:M.toString())||""),x(e.codigo_barras||""),y(e.vencimento||""))},[e]);const b=f&&m&&parseInt(f)<parseInt(m),j=S=>{S.preventDefault();const E={nome:s,categoria:l,preco:parseFloat(u),quantidade:parseInt(f),estoque_minimo:parseInt(m),...p&&{codigo_barras:p},...v&&{vencimento:v}};t==null||t(E),console.log("Produto adicionado:",E)};return i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsx(Ue,{children:"Adicionar Produto"})}),i.jsx(Pe,{children:i.jsxs("form",{onSubmit:j,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"nome",children:"Nome do Produto"}),i.jsx(Ze,{id:"nome",value:s,onChange:S=>o(S.target.value),placeholder:"Ex: Arroz 5kg",required:!0,disabled:n,"data-testid":"input-product-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"categoria",children:"Categoria"}),i.jsx(Ze,{id:"categoria",value:l,onChange:S=>c(S.target.value),placeholder:"Ex: Alimentos",required:!0,disabled:n,"data-testid":"input-category"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"codigo-barras",children:"Cdigo de Barras (Opcional)"}),i.jsx(Ze,{id:"codigo-barras",value:p,onChange:S=>x(S.target.value),placeholder:"7891234567890",disabled:n,"data-testid":"input-barcode"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"preco",children:"Preo (R$)"}),i.jsx(Ze,{id:"preco",type:"number",step:"0.01",min:"0",value:u,onChange:S=>d(S.target.value),placeholder:"0.00",required:!0,disabled:n,"data-testid":"input-price"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"quantidade",children:"Quantidade"}),i.jsx(Ze,{id:"quantidade",type:"number",min:"0",value:f,onChange:S=>h(S.target.value),placeholder:"0",required:!0,disabled:n,"data-testid":"input-quantity"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"estoque-minimo",children:"Estoque Mnimo (Alerta de Estoque Baixo)"}),i.jsx(Ze,{id:"estoque-minimo",type:"number",min:"0",value:m,onChange:S=>g(S.target.value),placeholder:"0",required:!0,disabled:n,"data-testid":"input-min-stock"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:'Quando a quantidade em estoque ficar abaixo deste valor, o produto ser marcado como "Estoque Baixo"'})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"vencimento",children:"Data de Vencimento (Opcional)"}),i.jsx(Ze,{id:"vencimento",type:"date",value:v,onChange:S=>y(S.target.value),disabled:n,"data-testid":"input-expiry-date"})]}),b&&i.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:[i.jsxs("p",{className:"text-sm text-destructive font-medium flex items-center gap-2",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}),i.jsx("path",{d:"M12 9v4"}),i.jsx("path",{d:"M12 17h.01"})]}),'Prvia: Este produto ser marcado como "Estoque Baixo"']}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["A quantidade atual (",f,") est abaixo do estoque mnimo (",m,")"]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(ye,{type:"submit",className:"flex-1",disabled:n,"data-testid":"button-save-product",children:n?a?"Salvando...":"Adicionando...":a?"Salvar Produto":"Adicionar Produto"}),i.jsx(ye,{type:"button",variant:"outline",onClick:r,disabled:n,"data-testid":"button-cancel",children:"Cancelar"})]})]})})]})}function I7(){const[,e]=ui(),{toast:t}=Qr(),{id:r}=bH(),n=Ya(),a=!!r,{data:s}=ir({queryKey:[`/api/produtos/${r}`],enabled:a}),o=rr({mutationFn:async f=>(await Pr("POST","/api/produtos",f)).json(),onSuccess:f=>{n.invalidateQueries({queryKey:["/api/produtos"]}),t({title:"Produto adicionado!",description:`${f.nome} foi adicionado ao estoque`}),e("/produtos")}}),l=rr({mutationFn:async f=>(await Pr("PUT",`/api/produtos/${r}`,f)).json(),onSuccess:f=>{n.invalidateQueries({queryKey:["/api/produtos"]}),t({title:"Produto atualizado!",description:`${f.nome} foi atualizado`}),e("/produtos")}}),c=f=>{a?l.mutate(f):o.mutate(f)},u=()=>{e("/produtos")},d=o.isPending||l.isPending;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:a?"Editar Produto":"Adicionar Produto"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:a?"Atualize as informaes do produto":"Cadastre um novo produto no estoque"})]}),i.jsxs(It,{className:"bg-yellow-500 text-white",children:[i.jsx(rl,{className:"h-3 w-3 mr-1"}),"Premium"]})]}),i.jsx("div",{className:"max-w-2xl",children:i.jsx(KBe,{initialData:s,onSubmit:c,onCancel:u,isPending:d,isEditing:a})})]})}const YBe="modulepreload",XBe=function(e){return"/"+e},F7={},YA=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=XBe(c),c in F7)return;F7[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":YBe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function kn(e){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(e)}var Tc=Uint8Array,al=Uint16Array,w6=Int32Array,j6=new Tc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),N6=new Tc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),R7=new Tc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Gee=function(e,t){for(var r=new al(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new w6(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},Kee=Gee(j6,2),QBe=Kee.b,YP=Kee.r;QBe[28]=258,YP[258]=28;var ZBe=Gee(N6,0),M7=ZBe.r,XP=new al(32768);for(var ra=0;ra<32768;++ra){var df=(ra&43690)>>1|(ra&21845)<<1;df=(df&52428)>>2|(df&13107)<<2,df=(df&61680)>>4|(df&3855)<<4,XP[ra]=((df&65280)>>8|(df&255)<<8)>>1}var b1=function(e,t,r){for(var n=e.length,a=0,s=new al(t);a<n;++a)e[a]&&++s[e[a]-1];var o=new al(t);for(a=1;a<t;++a)o[a]=o[a-1]+s[a-1]<<1;var l;if(r){l=new al(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[XP[f]>>c]=u}else for(l=new al(n),a=0;a<n;++a)e[a]&&(l[a]=XP[o[e[a]-1]++]>>15-e[a]);return l},ip=new Tc(288);for(var ra=0;ra<144;++ra)ip[ra]=8;for(var ra=144;ra<256;++ra)ip[ra]=9;for(var ra=256;ra<280;++ra)ip[ra]=7;for(var ra=280;ra<288;++ra)ip[ra]=8;var p5=new Tc(32);for(var ra=0;ra<32;++ra)p5[ra]=5;var JBe=b1(ip,9,0),eze=b1(p5,5,0),Yee=function(e){return(e+7)/8|0},tze=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Tc(e.subarray(t,r))},zu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Fv=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},XA=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:Qee,l:0};if(a==1){var o=new Tc(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(_,P){return _.f-P.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=s[0].s,n=1;n<a;++n)s[n].s>h&&(h=s[n].s);var m=new al(h+1),g=QP(r[d-1],m,0);if(g>t){var n=0,p=0,x=g-t,v=1<<x;for(s.sort(function(P,k){return m[k.s]-m[P.s]||P.f-k.f});n<a;++n){var y=s[n].s;if(m[y]>t)p+=v-(1<<g-m[y]),m[y]=t;else break}for(p>>=x;p>0;){var b=s[n].s;m[b]<t?p-=1<<t-m[b]++-1:++n}for(;n>=0&&p;--n){var j=s[n].s;m[j]==t&&(--m[j],++p)}g=t}return{t:new Tc(m),l:g}},QP=function(e,t,r){return e.s==-1?Math.max(QP(e.l,t,r+1),QP(e.r,t,r+1)):t[e.s]=r},L7=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new al(++t),n=0,a=e[0],s=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=e[l]}return{c:r.subarray(0,n),n:t}},Rv=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Xee=function(e,t,r){var n=r.length,a=Yee(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},$7=function(e,t,r,n,a,s,o,l,c,u,d){zu(t,d++,r),++a[256];for(var f=XA(a,15),h=f.t,m=f.l,g=XA(s,15),p=g.t,x=g.l,v=L7(h),y=v.c,b=v.n,j=L7(p),_=j.c,P=j.n,k=new al(19),S=0;S<y.length;++S)++k[y[S]&31];for(var S=0;S<_.length;++S)++k[_[S]&31];for(var E=XA(k,7),M=E.t,T=E.l,C=19;C>4&&!M[R7[C-1]];--C);var I=u+5<<3,L=Rv(a,ip)+Rv(s,p5)+o,z=Rv(a,h)+Rv(s,p)+o+14+3*C+Rv(k,M)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&I<=L&&I<=z)return Xee(t,d,e.subarray(c,c+u));var G,W,q,K;if(zu(t,d,1+(z<L)),d+=2,z<L){G=b1(h,m,0),W=h,q=b1(p,x,0),K=p;var ae=b1(M,T,0);zu(t,d,b-257),zu(t,d+5,P-1),zu(t,d+10,C-4),d+=14;for(var S=0;S<C;++S)zu(t,d+3*S,M[R7[S]]);d+=3*C;for(var ie=[y,_],O=0;O<2;++O)for(var V=ie[O],S=0;S<V.length;++S){var D=V[S]&31;zu(t,d,ae[D]),d+=M[D],D>15&&(zu(t,d,V[S]>>5&127),d+=V[S]>>12)}}else G=JBe,W=ip,q=eze,K=p5;for(var S=0;S<l;++S){var B=n[S];if(B>255){var D=B>>18&31;Fv(t,d,G[D+257]),d+=W[D+257],D>7&&(zu(t,d,B>>23&31),d+=j6[D]);var Q=B&31;Fv(t,d,q[Q]),d+=K[Q],Q>3&&(Fv(t,d,B>>5&8191),d+=N6[Q])}else Fv(t,d,G[B]),d+=W[B]}return Fv(t,d,G[256]),d+W[256]},rze=new w6([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Qee=new Tc(0),nze=function(e,t,r,n,a,s){var o=s.z||e.length,l=new Tc(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=s.l,d=(s.r||0)&7;if(t){d&&(c[0]=s.r>>3);for(var f=rze[t-1],h=f>>13,m=f&8191,g=(1<<r)-1,p=s.p||new al(32768),x=s.h||new al(g+1),v=Math.ceil(r/3),y=2*v,b=function(_e){return(e[_e]^e[_e+1]<<v^e[_e+2]<<y)&g},j=new w6(25e3),_=new al(288),P=new al(32),k=0,S=0,E=s.i||0,M=0,T=s.w||0,C=0;E+2<o;++E){var I=b(E),L=E&32767,z=x[I];if(p[L]=z,x[I]=L,T<=E){var G=o-E;if((k>7e3||M>24576)&&(G>423||!u)){d=$7(e,c,0,j,_,P,S,M,C,E-C,d),M=k=S=0,C=E;for(var W=0;W<286;++W)_[W]=0;for(var W=0;W<30;++W)P[W]=0}var q=2,K=0,ae=m,ie=L-z&32767;if(G>2&&I==b(E-ie))for(var O=Math.min(h,G)-1,V=Math.min(32767,E),D=Math.min(258,G);ie<=V&&--ae&&L!=z;){if(e[E+q]==e[E+q-ie]){for(var B=0;B<D&&e[E+B]==e[E+B-ie];++B);if(B>q){if(q=B,K=ie,B>O)break;for(var Q=Math.min(ie,B-2),Y=0,W=0;W<Q;++W){var ee=E-ie+W&32767,X=p[ee],U=ee-X&32767;U>Y&&(Y=U,z=ee)}}}L=z,z=p[L],ie+=L-z&32767}if(K){j[M++]=268435456|YP[q]<<18|M7[K];var me=YP[q]&31,oe=M7[K]&31;S+=j6[me]+N6[oe],++_[257+me],++P[oe],T=E+q,++k}else j[M++]=e[E],++_[e[E]]}}for(E=Math.max(E,T);E<o;++E)j[M++]=e[E],++_[e[E]];d=$7(e,c,u,j,_,P,S,M,C,E-C,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=x,s.p=p,s.i=E,s.w=T)}else{for(var E=s.w||0;E<o+u;E+=65535){var Se=E+65535;Se>=o&&(c[d/8|0]=u,Se=o),d=Xee(c,d+1,e.subarray(E,Se))}s.i=o}return tze(l,0,n+Yee(d)+a)},Zee=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},aze=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Tc(s.length+e.length);o.set(s),o.set(e,s.length),e=o,a.w=s.length}return nze(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},Jee=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ize=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Zee();a.p(t.dictionary),Jee(e,2,a.d())}};function ZP(e,t){t||(t={});var r=Zee();r.p(e);var n=aze(e,t,t.dictionary?6:2,4);return ize(n,t),Jee(n,n.length-4,r.d()),n}var sze=typeof TextDecoder<"u"&&new TextDecoder,oze=0;try{sze.decode(Qee,{stream:!0}),oze=1}catch{}function lze(e){if(Array.isArray(e))return e}function cze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function B7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function uze(e,t){if(e){if(typeof e=="string")return B7(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B7(e,t):void 0}}function dze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z7(e,t){return lze(e)||cze(e,t)||uze(e,t)||dze()}function q7(e,t="utf8"){return new TextDecoder(t).decode(e)}const fze=new TextEncoder;function hze(e){return fze.encode(e)}const mze=1024*8,pze=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),QA={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class _6{constructor(t=mze,r={}){Oe(this,"buffer");Oe(this,"byteLength");Oe(this,"byteOffset");Oe(this,"length");Oe(this,"offset");Oe(this,"lastWrittenByte");Oe(this,"littleEndian");Oe(this,"_data");Oe(this,"_mark");Oe(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,s=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof _6)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=QA[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===pze&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new QA[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new QA[r](s);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return q7(this.readBytes(t))}decodeText(t=1,r="utf8"){return q7(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(hze(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Dx(e){let t=e.length;for(;--t>=0;)e[t]=0}const gze=3,xze=258,ete=29,vze=256,yze=vze+1+ete,tte=30,bze=512,wze=new Array((yze+2)*2);Dx(wze);const jze=new Array(tte*2);Dx(jze);const Nze=new Array(bze);Dx(Nze);const _ze=new Array(xze-gze+1);Dx(_ze);const Sze=new Array(ete);Dx(Sze);const Aze=new Array(tte);Dx(Aze);const Cze=(e,t,r,n)=>{let a=e&65535|0,s=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[n++]|0,s=s+a|0;while(--o);a%=65521,s%=65521}return a|s<<16|0};var JP=Cze;const Eze=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Pze=new Uint32Array(Eze()),kze=(e,t,r,n)=>{const a=Pze,s=n+r;e^=-1;for(let o=n;o<s;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var Wc=kze,ek={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},rte={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Tze=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Oze=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Tze(r,n)&&(e[n]=r[n])}}return e},Dze=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,s=e.length;n<s;n++){let o=e[n];r.set(o,a),a+=o.length}return r},nte={assign:Oze,flattenChunks:Dze};let ate=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ate=!1}const eb=new Uint8Array(256);for(let e=0;e<256;e++)eb[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;eb[254]=eb[254]=1;var Ize=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,s,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),s=0,a=0;s<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const Fze=(e,t)=>{if(t<65534&&e.subarray&&ate)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Rze=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const s=new Array(r*2);for(a=0,n=0;n<r;){let o=e[n++];if(o<128){s[a++]=o;continue}let l=eb[o];if(l>4){s[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){s[a++]=65533;continue}o<65536?s[a++]=o:(o-=65536,s[a++]=55296|o>>10&1023,s[a++]=56320|o&1023)}return Fze(s,a)},Mze=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+eb[e[r]]>t?r:t},tk={string2buf:Ize,buf2string:Rze,utf8border:Mze};function Lze(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var $ze=Lze;const xw=16209,Bze=16191;var zze=function(t,r){let n,a,s,o,l,c,u,d,f,h,m,g,p,x,v,y,b,j,_,P,k,S,E,M;const T=t.state;n=t.next_in,E=t.input,a=n+(t.avail_in-5),s=t.next_out,M=t.output,o=s-(r-t.avail_out),l=s+(t.avail_out-257),c=T.dmax,u=T.wsize,d=T.whave,f=T.wnext,h=T.window,m=T.hold,g=T.bits,p=T.lencode,x=T.distcode,v=(1<<T.lenbits)-1,y=(1<<T.distbits)-1;e:do{g<15&&(m+=E[n++]<<g,g+=8,m+=E[n++]<<g,g+=8),b=p[m&v];t:for(;;){if(j=b>>>24,m>>>=j,g-=j,j=b>>>16&255,j===0)M[s++]=b&65535;else if(j&16){_=b&65535,j&=15,j&&(g<j&&(m+=E[n++]<<g,g+=8),_+=m&(1<<j)-1,m>>>=j,g-=j),g<15&&(m+=E[n++]<<g,g+=8,m+=E[n++]<<g,g+=8),b=x[m&y];r:for(;;){if(j=b>>>24,m>>>=j,g-=j,j=b>>>16&255,j&16){if(P=b&65535,j&=15,g<j&&(m+=E[n++]<<g,g+=8,g<j&&(m+=E[n++]<<g,g+=8)),P+=m&(1<<j)-1,P>c){t.msg="invalid distance too far back",T.mode=xw;break e}if(m>>>=j,g-=j,j=s-o,P>j){if(j=P-j,j>d&&T.sane){t.msg="invalid distance too far back",T.mode=xw;break e}if(k=0,S=h,f===0){if(k+=u-j,j<_){_-=j;do M[s++]=h[k++];while(--j);k=s-P,S=M}}else if(f<j){if(k+=u+f-j,j-=f,j<_){_-=j;do M[s++]=h[k++];while(--j);if(k=0,f<_){j=f,_-=j;do M[s++]=h[k++];while(--j);k=s-P,S=M}}}else if(k+=f-j,j<_){_-=j;do M[s++]=h[k++];while(--j);k=s-P,S=M}for(;_>2;)M[s++]=S[k++],M[s++]=S[k++],M[s++]=S[k++],_-=3;_&&(M[s++]=S[k++],_>1&&(M[s++]=S[k++]))}else{k=s-P;do M[s++]=M[k++],M[s++]=M[k++],M[s++]=M[k++],_-=3;while(_>2);_&&(M[s++]=M[k++],_>1&&(M[s++]=M[k++]))}}else if(j&64){t.msg="invalid distance code",T.mode=xw;break e}else{b=x[(b&65535)+(m&(1<<j)-1)];continue r}break}}else if(j&64)if(j&32){T.mode=Bze;break e}else{t.msg="invalid literal/length code",T.mode=xw;break e}else{b=p[(b&65535)+(m&(1<<j)-1)];continue t}break}}while(n<a&&s<l);_=g>>3,n-=_,g-=_<<3,m&=(1<<g)-1,t.next_in=n,t.next_out=s,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=s<l?257+(l-s):257-(s-l),T.hold=m,T.bits=g};const Qp=15,U7=852,V7=592,W7=0,ZA=1,H7=2,qze=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Uze=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Vze=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Wze=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Hze=(e,t,r,n,a,s,o,l)=>{const c=l.bits;let u=0,d=0,f=0,h=0,m=0,g=0,p=0,x=0,v=0,y=0,b,j,_,P,k,S=null,E;const M=new Uint16Array(Qp+1),T=new Uint16Array(Qp+1);let C=null,I,L,z;for(u=0;u<=Qp;u++)M[u]=0;for(d=0;d<n;d++)M[t[r+d]]++;for(m=c,h=Qp;h>=1&&M[h]===0;h--);if(m>h&&(m=h),h===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<h&&M[f]===0;f++);for(m<f&&(m=f),x=1,u=1;u<=Qp;u++)if(x<<=1,x-=M[u],x<0)return-1;if(x>0&&(e===W7||h!==1))return-1;for(T[1]=0,u=1;u<Qp;u++)T[u+1]=T[u]+M[u];for(d=0;d<n;d++)t[r+d]!==0&&(o[T[t[r+d]]++]=d);if(e===W7?(S=C=o,E=20):e===ZA?(S=qze,C=Uze,E=257):(S=Vze,C=Wze,E=0),y=0,d=0,u=f,k=s,g=m,p=0,_=-1,v=1<<m,P=v-1,e===ZA&&v>U7||e===H7&&v>V7)return 1;for(;;){I=u-p,o[d]+1<E?(L=0,z=o[d]):o[d]>=E?(L=C[o[d]-E],z=S[o[d]-E]):(L=96,z=0),b=1<<u-p,j=1<<g,f=j;do j-=b,a[k+(y>>p)+j]=I<<24|L<<16|z|0;while(j!==0);for(b=1<<u-1;y&b;)b>>=1;if(b!==0?(y&=b-1,y+=b):y=0,d++,--M[u]===0){if(u===h)break;u=t[r+o[d]]}if(u>m&&(y&P)!==_){for(p===0&&(p=m),k+=f,g=u-p,x=1<<g;g+p<h&&(x-=M[g+p],!(x<=0));)g++,x<<=1;if(v+=1<<g,e===ZA&&v>U7||e===H7&&v>V7)return 1;_=y&P,a[_]=m<<24|g<<16|k-s|0}}return y!==0&&(a[k+y]=u-p<<24|64<<16|0),l.bits=m,0};var w1=Hze;const Gze=0,ite=1,ste=2,{Z_FINISH:G7,Z_BLOCK:Kze,Z_TREES:vw,Z_OK:sp,Z_STREAM_END:Yze,Z_NEED_DICT:Xze,Z_STREAM_ERROR:Ul,Z_DATA_ERROR:ote,Z_MEM_ERROR:lte,Z_BUF_ERROR:Qze,Z_DEFLATED:K7}=rte,FS=16180,Y7=16181,X7=16182,Q7=16183,Z7=16184,J7=16185,e$=16186,t$=16187,r$=16188,n$=16189,g5=16190,qu=16191,JA=16192,a$=16193,e3=16194,i$=16195,s$=16196,o$=16197,l$=16198,yw=16199,bw=16200,c$=16201,u$=16202,d$=16203,f$=16204,h$=16205,t3=16206,m$=16207,p$=16208,ia=16209,cte=16210,ute=16211,Zze=852,Jze=592,eqe=15,tqe=eqe,g$=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function rqe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const jp=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<FS||t.mode>ute?1:0},dte=e=>{if(jp(e))return Ul;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=FS,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Zze),t.distcode=t.distdyn=new Int32Array(Jze),t.sane=1,t.back=-1,sp},fte=e=>{if(jp(e))return Ul;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,dte(e)},hte=(e,t)=>{let r;if(jp(e))return Ul;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ul:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,fte(e))},mte=(e,t)=>{if(!e)return Ul;const r=new rqe;e.state=r,r.strm=e,r.window=null,r.mode=FS;const n=hte(e,t);return n!==sp&&(e.state=null),n},nqe=e=>mte(e,tqe);let x$=!0,r3,n3;const aqe=e=>{if(x$){r3=new Int32Array(512),n3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(w1(ite,e.lens,0,288,r3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;w1(ste,e.lens,0,32,n3,0,e.work,{bits:5}),x$=!1}e.lencode=r3,e.lenbits=9,e.distcode=n3,e.distbits=5},pte=(e,t,r,n)=>{let a;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(t.subarray(r-n,r-n+a),s.wnext),n-=a,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},iqe=(e,t)=>{let r,n,a,s,o,l,c,u,d,f,h,m,g,p,x=0,v,y,b,j,_,P,k,S;const E=new Uint8Array(4);let M,T;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(jp(e)||!e.output||!e.input&&e.avail_in!==0)return Ul;r=e.state,r.mode===qu&&(r.mode=JA),o=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,f=l,h=c,S=sp;e:for(;;)switch(r.mode){case FS:if(r.wrap===0){r.mode=JA;break}for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,E[0]=u&255,E[1]=u>>>8&255,r.check=Wc(r.check,E,2,0),u=0,d=0,r.mode=Y7;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=ia;break}if((u&15)!==K7){e.msg="unknown compression method",r.mode=ia;break}if(u>>>=4,d-=4,k=(u&15)+8,r.wbits===0&&(r.wbits=k),k>15||k>r.wbits){e.msg="invalid window size",r.mode=ia;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?n$:qu,u=0,d=0;break;case Y7:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==K7){e.msg="unknown compression method",r.mode=ia;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=ia;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,r.check=Wc(r.check,E,2,0)),u=0,d=0,r.mode=X7;case X7:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=Wc(r.check,E,4,0)),u=0,d=0,r.mode=Q7;case Q7:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,r.check=Wc(r.check,E,2,0)),u=0,d=0,r.mode=Z7;case Z7:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,r.check=Wc(r.check,E,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=J7;case J7:if(r.flags&1024&&(m=r.length,m>l&&(m=l),m&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+m),k)),r.flags&512&&r.wrap&4&&(r.check=Wc(r.check,n,m,s)),l-=m,s+=m,r.length-=m),r.length))break e;r.length=0,r.mode=e$;case e$:if(r.flags&2048){if(l===0)break e;m=0;do k=n[s+m++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Wc(r.check,n,m,s)),l-=m,s+=m,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=t$;case t$:if(r.flags&4096){if(l===0)break e;m=0;do k=n[s+m++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Wc(r.check,n,m,s)),l-=m,s+=m,k)break e}else r.head&&(r.head.comment=null);r.mode=r$;case r$:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=ia;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=qu;break;case n$:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}e.adler=r.check=g$(u),u=0,d=0,r.mode=g5;case g5:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,Xze;e.adler=r.check=1,r.mode=qu;case qu:if(t===Kze||t===vw)break e;case JA:if(r.last){u>>>=d&7,d-=d&7,r.mode=t3;break}for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=a$;break;case 1:if(aqe(r),r.mode=yw,t===vw){u>>>=2,d-=2;break e}break;case 2:r.mode=s$;break;case 3:e.msg="invalid block type",r.mode=ia}u>>>=2,d-=2;break;case a$:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=ia;break}if(r.length=u&65535,u=0,d=0,r.mode=e3,t===vw)break e;case e3:r.mode=i$;case i$:if(m=r.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;a.set(n.subarray(s,s+m),o),l-=m,s+=m,c-=m,o+=m,r.length-=m;break}r.mode=qu;break;case s$:for(;d<14;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=ia;break}r.have=0,r.mode=o$;case o$:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.lens[C[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},S=w1(Gze,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,S){e.msg="invalid code lengths set",r.mode=ia;break}r.have=0,r.mode=l$;case l$:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[u&(1<<r.lenbits)-1],v=x>>>24,y=x>>>16&255,b=x&65535,!(v<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(b<16)u>>>=v,d-=v,r.lens[r.have++]=b;else{if(b===16){for(T=v+2;d<T;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(u>>>=v,d-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=ia;break}k=r.lens[r.have-1],m=3+(u&3),u>>>=2,d-=2}else if(b===17){for(T=v+3;d<T;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=v,d-=v,k=0,m=3+(u&7),u>>>=3,d-=3}else{for(T=v+7;d<T;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=v,d-=v,k=0,m=11+(u&127),u>>>=7,d-=7}if(r.have+m>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=ia;break}for(;m--;)r.lens[r.have++]=k}}if(r.mode===ia)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=ia;break}if(r.lenbits=9,M={bits:r.lenbits},S=w1(ite,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,S){e.msg="invalid literal/lengths set",r.mode=ia;break}if(r.distbits=6,r.distcode=r.distdyn,M={bits:r.distbits},S=w1(ste,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,S){e.msg="invalid distances set",r.mode=ia;break}if(r.mode=yw,t===vw)break e;case yw:r.mode=bw;case bw:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,zze(e,h),o=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===qu&&(r.back=-1);break}for(r.back=0;x=r.lencode[u&(1<<r.lenbits)-1],v=x>>>24,y=x>>>16&255,b=x&65535,!(v<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(y&&!(y&240)){for(j=v,_=y,P=b;x=r.lencode[P+((u&(1<<j+_)-1)>>j)],v=x>>>24,y=x>>>16&255,b=x&65535,!(j+v<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=j,d-=j,r.back+=j}if(u>>>=v,d-=v,r.back+=v,r.length=b,y===0){r.mode=h$;break}if(y&32){r.back=-1,r.mode=qu;break}if(y&64){e.msg="invalid literal/length code",r.mode=ia;break}r.extra=y&15,r.mode=c$;case c$:if(r.extra){for(T=r.extra;d<T;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=u$;case u$:for(;x=r.distcode[u&(1<<r.distbits)-1],v=x>>>24,y=x>>>16&255,b=x&65535,!(v<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(!(y&240)){for(j=v,_=y,P=b;x=r.distcode[P+((u&(1<<j+_)-1)>>j)],v=x>>>24,y=x>>>16&255,b=x&65535,!(j+v<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=j,d-=j,r.back+=j}if(u>>>=v,d-=v,r.back+=v,y&64){e.msg="invalid distance code",r.mode=ia;break}r.offset=b,r.extra=y&15,r.mode=d$;case d$:if(r.extra){for(T=r.extra;d<T;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=ia;break}r.mode=f$;case f$:if(c===0)break e;if(m=h-c,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=ia;break}m>r.wnext?(m-=r.wnext,g=r.wsize-m):g=r.wnext-m,m>r.length&&(m=r.length),p=r.window}else p=a,g=o-r.offset,m=r.length;m>c&&(m=c),c-=m,r.length-=m;do a[o++]=p[g++];while(--m);r.length===0&&(r.mode=bw);break;case h$:if(c===0)break e;a[o++]=r.length,c--,r.mode=bw;break;case t3:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[s++]<<d,d+=8}if(h-=c,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?Wc(r.check,a,h,o-h):JP(r.check,a,h,o-h)),h=c,r.wrap&4&&(r.flags?u:g$(u))!==r.check){e.msg="incorrect data check",r.mode=ia;break}u=0,d=0}r.mode=m$;case m$:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=ia;break}u=0,d=0}r.mode=p$;case p$:S=Yze;break e;case ia:S=ote;break e;case cte:return lte;case ute:default:return Ul}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||h!==e.avail_out&&r.mode<ia&&(r.mode<t3||t!==G7))&&pte(e,e.output,e.next_out,h-e.avail_out),f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?Wc(r.check,a,h,e.next_out-h):JP(r.check,a,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===qu?128:0)+(r.mode===yw||r.mode===e3?256:0),(f===0&&h===0||t===G7)&&S===sp&&(S=Qze),S},sqe=e=>{if(jp(e))return Ul;let t=e.state;return t.window&&(t.window=null),e.state=null,sp},oqe=(e,t)=>{if(jp(e))return Ul;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,sp):Ul},lqe=(e,t)=>{const r=t.length;let n,a,s;return jp(e)||(n=e.state,n.wrap!==0&&n.mode!==g5)?Ul:n.mode===g5&&(a=1,a=JP(a,t,r,0),a!==n.check)?ote:(s=pte(e,t,r,r),s?(n.mode=cte,lte):(n.havedict=1,sp))};var cqe=fte,uqe=hte,dqe=dte,fqe=nqe,hqe=mte,mqe=iqe,pqe=sqe,gqe=oqe,xqe=lqe,vqe="pako inflate (from Nodeca project)",Xu={inflateReset:cqe,inflateReset2:uqe,inflateResetKeep:dqe,inflateInit:fqe,inflateInit2:hqe,inflate:mqe,inflateEnd:pqe,inflateGetHeader:gqe,inflateSetDictionary:xqe,inflateInfo:vqe};function yqe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var bqe=yqe;const gte=Object.prototype.toString,{Z_NO_FLUSH:wqe,Z_FINISH:jqe,Z_OK:tb,Z_STREAM_END:a3,Z_NEED_DICT:i3,Z_STREAM_ERROR:Nqe,Z_DATA_ERROR:v$,Z_MEM_ERROR:_qe}=rte;function qb(e){this.options=nte.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $ze,this.strm.avail_out=0;let r=Xu.inflateInit2(this.strm,t.windowBits);if(r!==tb)throw new Error(ek[r]);if(this.header=new bqe,Xu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=tk.string2buf(t.dictionary):gte.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Xu.inflateSetDictionary(this.strm,t.dictionary),r!==tb)))throw new Error(ek[r])}qb.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?jqe:wqe,gte.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Xu.inflate(r,o),s===i3&&a&&(s=Xu.inflateSetDictionary(r,a),s===tb?s=Xu.inflate(r,o):s===v$&&(s=i3));r.avail_in>0&&s===a3&&r.state.wrap>0&&e[r.next_in]!==0;)Xu.inflateReset(r),s=Xu.inflate(r,o);switch(s){case Nqe:case v$:case i3:case _qe:return this.onEnd(s),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||s===a3))if(this.options.to==="string"){let c=tk.utf8border(r.output,r.next_out),u=r.next_out-c,d=tk.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===tb&&l===0)){if(s===a3)return s=Xu.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};qb.prototype.onData=function(e){this.chunks.push(e)};qb.prototype.onEnd=function(e){e===tb&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=nte.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Sqe(e,t){const r=new qb(t);if(r.push(e),r.err)throw r.msg||ek[r.err];return r.result}var Aqe=qb,Cqe=Sqe,Eqe={Inflate:Aqe,inflate:Cqe};const{Inflate:Pqe,inflate:kqe}=Eqe;var y$=Pqe,Tqe=kqe;const xte=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;xte[e]=t}const b$=4294967295;function Oqe(e,t,r){let n=e;for(let a=0;a<r;a++)n=xte[(n^t[a])&255]^n>>>8;return n}function Dqe(e,t){return(Oqe(b$,e,t)^b$)>>>0}function w$(e,t,r){const n=e.readUint32(),a=Dqe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function vte(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function yte(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function bte(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function wte(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-a]>>1)&255}else{for(;s<a;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-a]+r[s]>>1)&255}}function jte(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-a]&255}else{for(;s<a;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+Iqe(t[s-a],r[s],r[s-a])&255}}function Iqe(e,t,r){const n=e+t-r,a=Math.abs(n-e),s=Math.abs(n-t),o=Math.abs(n-r);return a<=s&&a<=o?e:s<=o?t:r}function Fqe(e,t,r,n,a,s){switch(e){case 0:vte(t,r,a);break;case 1:yte(t,r,a,s);break;case 2:bte(t,r,n,a);break;case 3:wte(t,r,n,a,s);break;case 4:jte(t,r,n,a,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Rqe=new Uint16Array([255]),Mqe=new Uint8Array(Rqe.buffer),Lqe=Mqe[0]===255;function $qe(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*a,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const f=o[d],h=Math.ceil((r-f.x)/f.xStep),m=Math.ceil((n-f.y)/f.yStep);if(h<=0||m<=0)continue;const g=h*l,p=new Uint8Array(g);for(let x=0;x<m;x++){const v=t[u++],y=t.subarray(u,u+g);u+=g;const b=new Uint8Array(g);Fqe(v,y,b,p,g,l),p.set(b);for(let j=0;j<h;j++){const _=f.x+j*f.xStep,P=f.y+x*f.yStep;if(!(_>=r||P>=n))for(let k=0;k<l;k++)c[(P*r+_)*l+k]=b[j*l+k]}}}if(s===16){const d=new Uint16Array(c.buffer);if(Lqe)for(let f=0;f<d.length;f++)d[f]=Bqe(d[f]);return d}else return c}function Bqe(e){return(e&255)<<8|e>>8&255}const zqe=new Uint16Array([255]),qqe=new Uint8Array(zqe.buffer),Uqe=qqe[0]===255,Vqe=new Uint8Array(0);function j$(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,o=Math.ceil(s/8)*a,l=Math.ceil(s/8*a*r),c=new Uint8Array(n*l);let u=Vqe,d=0,f,h;for(let m=0;m<n;m++){switch(f=t.subarray(d+1,d+1+l),h=c.subarray(m*l,(m+1)*l),t[d]){case 0:vte(f,h,l);break;case 1:yte(f,h,l,o);break;case 2:bte(f,h,u,l);break;case 3:wte(f,h,u,l,o);break;case 4:jte(f,h,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=h,d+=l+1}if(s===16){const m=new Uint16Array(c.buffer);if(Uqe)for(let g=0;g<m.length;g++)m[g]=Wqe(m[g]);return m}else return c}function Wqe(e){return(e&255)<<8|e>>8&255}const lj=Uint8Array.of(137,80,78,71,13,10,26,10);function N$(e){if(!Hqe(e.readBytes(lj.length)))throw new Error("wrong PNG signature")}function Hqe(e){if(e.length<lj.length)return!1;for(let t=0;t<lj.length;t++)if(e[t]!==lj[t])return!1;return!0}const Gqe="tEXt",Kqe=0,Nte=new TextDecoder("latin1");function Yqe(e){if(Qqe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Xqe=/^[\u0000-\u00FF]*$/;function Qqe(e){if(!Xqe.test(e))throw new Error("invalid latin1 text")}function Zqe(e,t,r){const n=_te(t);e[n]=Jqe(t,r-n.length-1)}function _te(e){for(e.mark();e.readByte()!==Kqe;);const t=e.offset;e.reset();const r=Nte.decode(e.readBytes(t-e.offset-1));return e.skip(1),Yqe(r),r}function Jqe(e,t){return Nte.decode(e.readBytes(t))}const $o={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},s3={UNKNOWN:-1,DEFLATE:0},_$={UNKNOWN:-1,ADAPTIVE:0},o3={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ww={NONE:0,BACKGROUND:1,PREVIOUS:2},l3={SOURCE:0,OVER:1};class eUe extends _6{constructor(r,n={}){super(r);Oe(this,"_checkCrc");Oe(this,"_inflator");Oe(this,"_png");Oe(this,"_apng");Oe(this,"_end");Oe(this,"_hasPalette");Oe(this,"_palette");Oe(this,"_hasTransparency");Oe(this,"_transparency");Oe(this,"_compressionMethod");Oe(this,"_filterMethod");Oe(this,"_interlaceMethod");Oe(this,"_colorType");Oe(this,"_isAnimated");Oe(this,"_numberOfFrames");Oe(this,"_numberOfPlays");Oe(this,"_frames");Oe(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new y$,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=s3.UNKNOWN,this._filterMethod=_$.UNKNOWN,this._interlaceMethod=o3.UNKNOWN,this._colorType=$o.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(N$(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(N$(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Gqe:Zqe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?w$(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?w$(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=tUe(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case $o.GREYSCALE:a=1;break;case $o.TRUECOLOUR:a=3;break;case $o.INDEXED_COLOUR:a=1;break;case $o.GREYSCALE_ALPHA:a=2;break;case $o.TRUECOLOUR_ALPHA:a=4;break;case $o.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==s3.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<n;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case $o.GREYSCALE:case $o.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case $o.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case $o.UNKNOWN:case $o.GREYSCALE_ALPHA:case $o.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=_te(this),a=this.readUint8();if(a!==s3.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Tqe(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=j$({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(a,s,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case ww.NONE:break;case ww.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const l=(s*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case ww.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,s=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case l3.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case l3.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/a,h=d%(this._png.channels-1)===0?1:n.data[u+d],m=Math.floor(f*h+(1-f)*r.data[c+d]);r.data[c+d]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==_$.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===o3.NO_INTERLACE)this._png.data=j$({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===o3.ADAM7)this._png.data=$qe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ww.NONE,blendOp:l3.SOURCE,data:r}),this._inflator=new y$,this._writingDataChunks=!1}}function tUe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var S$;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(S$||(S$={}));function rUe(e,t){return new eUe(e,t).decode()}var jr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function c3(){jr.console&&typeof jr.console.log=="function"&&jr.console.log.apply(jr.console,arguments)}var Un={log:c3,warn:function(e){jr.console&&(typeof jr.console.warn=="function"?jr.console.warn.apply(jr.console,arguments):c3.call(null,arguments))},error:function(e){jr.console&&(typeof jr.console.error=="function"?jr.console.error.apply(jr.console,arguments):c3(e))}};function u3(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){nm(n.response,t,r)},n.onerror=function(){Un.error("could not download file")},n.send()}function A$(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function jw(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var nm=jr.saveAs||((typeof window>"u"?"undefined":kn(window))!=="object"||window!==jr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=jr.URL||jr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?A$(a.href)?u3(e,t,r):jw(a,a.target="_blank"):jw(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){jw(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(A$(e))u3(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){jw(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:kn(s)!=="object"&&(Un.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return u3(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(jr.HTMLElement)||jr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&(typeof FileReader>"u"?"undefined":kn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=jr.URL||jr.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Ste(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,o=a.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var cj=jr.atob.bind(jr),C$=jr.btoa.bind(jr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d3(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=xs(r,n,a,s,t[0],7,-680876936),s=xs(s,r,n,a,t[1],12,-389564586),a=xs(a,s,r,n,t[2],17,606105819),n=xs(n,a,s,r,t[3],22,-1044525330),r=xs(r,n,a,s,t[4],7,-176418897),s=xs(s,r,n,a,t[5],12,1200080426),a=xs(a,s,r,n,t[6],17,-1473231341),n=xs(n,a,s,r,t[7],22,-45705983),r=xs(r,n,a,s,t[8],7,1770035416),s=xs(s,r,n,a,t[9],12,-1958414417),a=xs(a,s,r,n,t[10],17,-42063),n=xs(n,a,s,r,t[11],22,-1990404162),r=xs(r,n,a,s,t[12],7,1804603682),s=xs(s,r,n,a,t[13],12,-40341101),a=xs(a,s,r,n,t[14],17,-1502002290),r=vs(r,n=xs(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=vs(s,r,n,a,t[6],9,-1069501632),a=vs(a,s,r,n,t[11],14,643717713),n=vs(n,a,s,r,t[0],20,-373897302),r=vs(r,n,a,s,t[5],5,-701558691),s=vs(s,r,n,a,t[10],9,38016083),a=vs(a,s,r,n,t[15],14,-660478335),n=vs(n,a,s,r,t[4],20,-405537848),r=vs(r,n,a,s,t[9],5,568446438),s=vs(s,r,n,a,t[14],9,-1019803690),a=vs(a,s,r,n,t[3],14,-187363961),n=vs(n,a,s,r,t[8],20,1163531501),r=vs(r,n,a,s,t[13],5,-1444681467),s=vs(s,r,n,a,t[2],9,-51403784),a=vs(a,s,r,n,t[7],14,1735328473),r=ys(r,n=vs(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=ys(s,r,n,a,t[8],11,-2022574463),a=ys(a,s,r,n,t[11],16,1839030562),n=ys(n,a,s,r,t[14],23,-35309556),r=ys(r,n,a,s,t[1],4,-1530992060),s=ys(s,r,n,a,t[4],11,1272893353),a=ys(a,s,r,n,t[7],16,-155497632),n=ys(n,a,s,r,t[10],23,-1094730640),r=ys(r,n,a,s,t[13],4,681279174),s=ys(s,r,n,a,t[0],11,-358537222),a=ys(a,s,r,n,t[3],16,-722521979),n=ys(n,a,s,r,t[6],23,76029189),r=ys(r,n,a,s,t[9],4,-640364487),s=ys(s,r,n,a,t[12],11,-421815835),a=ys(a,s,r,n,t[15],16,530742520),r=bs(r,n=ys(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=bs(s,r,n,a,t[7],10,1126891415),a=bs(a,s,r,n,t[14],15,-1416354905),n=bs(n,a,s,r,t[5],21,-57434055),r=bs(r,n,a,s,t[12],6,1700485571),s=bs(s,r,n,a,t[3],10,-1894986606),a=bs(a,s,r,n,t[10],15,-1051523),n=bs(n,a,s,r,t[1],21,-2054922799),r=bs(r,n,a,s,t[8],6,1873313359),s=bs(s,r,n,a,t[15],10,-30611744),a=bs(a,s,r,n,t[6],15,-1560198380),n=bs(n,a,s,r,t[13],21,1309151649),r=bs(r,n,a,s,t[4],6,-145523070),s=bs(s,r,n,a,t[11],10,-1120210379),a=bs(a,s,r,n,t[2],15,718787259),n=bs(n,a,s,r,t[9],21,-343485551),e[0]=$f(r,e[0]),e[1]=$f(n,e[1]),e[2]=$f(a,e[2]),e[3]=$f(s,e[3])}function RS(e,t,r,n,a,s){return t=$f($f(t,e),$f(n,s)),$f(t<<a|t>>>32-a,r)}function xs(e,t,r,n,a,s,o){return RS(t&r|~t&n,e,t,a,s,o)}function vs(e,t,r,n,a,s,o){return RS(t&n|r&~n,e,t,a,s,o)}function ys(e,t,r,n,a,s,o){return RS(t^r^n,e,t,a,s,o)}function bs(e,t,r,n,a,s,o){return RS(r^(t|~n),e,t,a,s,o)}function Ate(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)d3(n,nUe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(d3(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,d3(n,a),n}function nUe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var E$="0123456789abcdef".split("");function aUe(e){for(var t="",r=0;r<4;r++)t+=E$[e>>8*r+4&15]+E$[e>>8*r&15];return t}function iUe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function rk(e){return Ate(e).map(iUe).join("")}var sUe=function(e){for(var t=0;t<e.length;t++)e[t]=aUe(e[t]);return e.join("")}(Ate("hello"))!="5d41402abc4b2a76b9719d911017c592";function $f(e,t){if(sUe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function nk(e,t){var r,n,a,s;if(e!==r){for(var o=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,h=0,m=0,g="";for(c=0;c<f;c++)m=(m+(d=l[h=(h+1)%256]))%256,l[h]=l[m],l[m]=d,o=l[(l[h]+l[m])%256],g+=String.fromCharCode(t.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var P$={print:4,modify:8,copy:16,"annot-forms":32};function o0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(P$.perm!==void 0)throw new Error("Invalid permission: "+l);a+=P$[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^a)),this.encryptionKey=rk(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=nk(this.encryptionKey,this.padding)}function l0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function k$(e){if(kn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(l){jr.console&&Un.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function x5(e){if(!(this instanceof x5))return new x5(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Cte(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function sm(e,t,r,n,a){if(!(this instanceof sm))return new sm(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Cte.call(this,n,a)}function T0(e,t,r,n,a){if(!(this instanceof T0))return new T0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Cte.call(this,n,a)}function Jt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],o=[],l=1,c=16,u="S",d=null;kn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},m={internal:{},__private__:{}};m.__private__.PubSub=k$;var g="1.3",p=m.__private__.getPdfVersion=function(){return g};m.__private__.setPdfVersion=function(F){g=F};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return x};var v=m.__private__.getPageFormat=function(F){return x[F]};a=a||"a4";var y="compat",b="advanced",j=y;function _(){this.saveGraphicsState(),se(new ur($t,0,0,-$t,0,Rh()*$t).toString()+" cm"),this.setFontSize(this.getFontSize()/$t),u="n",j=b}function P(){this.restoreGraphicsState(),u="S",j=y}var k=m.__private__.combineFontStyleAndFontWeight=function(F,Z){if(F=="bold"&&Z=="normal"||F=="bold"&&Z==400||F=="normal"&&Z=="italic"||F=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(F=Z==400||Z==="normal"?F==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||F!=="normal"?(Z==700?"bold":Z)+""+F:"bold"),F};m.advancedAPI=function(F){var Z=j===y;return Z&&_.call(this),typeof F!="function"||(F(this),Z&&P.call(this)),this},m.compatAPI=function(F){var Z=j===b;return Z&&P.call(this),typeof F!="function"||(F(this),Z&&_.call(this)),this},m.isAdvancedAPI=function(){return j===b};var S,E=function(F){if(j!==b)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=m.roundToPrecision=m.__private__.roundToPrecision=function(F,Z){var je=t||Z;if(isNaN(F)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(je).replace(/0+$/,"")};S=m.hpf=m.__private__.hpf=typeof c=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return M(F,c)}:c==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return M(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return M(F,16)};var T=m.f2=m.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return M(F,2)},C=m.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return M(F,3)},I=m.scale=m.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return j===y?F*$t:j===b?F:void 0},L=function(F){return I(function(Z){return j===y?Rh()-Z:j===b?Z:void 0}(F))};m.__private__.setPrecision=m.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(t=parseInt(F,10))};var z,G="00000000000000000000000000000000",W=m.__private__.getFileId=function(){return G},q=m.__private__.setFileId=function(F){return G=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():G.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ta=new o0(d.userPermissions,d.userPassword,d.ownerPassword,G)),G};m.setFileId=function(F){return q(F),this},m.getFileId=function(){return W()};var K=m.__private__.convertDateToPDFDate=function(F){var Z=F.getTimezoneOffset(),je=Z<0?"+":"-",Te=Math.floor(Math.abs(Z/60)),$e=Math.abs(Z%60),lt=[je,D(Te),"'",D($e),"'"].join("");return["D:",F.getFullYear(),D(F.getMonth()+1),D(F.getDate()),D(F.getHours()),D(F.getMinutes()),D(F.getSeconds()),lt].join("")},ae=m.__private__.convertPDFDateToDate=function(F){var Z=parseInt(F.substr(2,4),10),je=parseInt(F.substr(6,2),10)-1,Te=parseInt(F.substr(8,2),10),$e=parseInt(F.substr(10,2),10),lt=parseInt(F.substr(12,2),10),xt=parseInt(F.substr(14,2),10);return new Date(Z,je,Te,$e,lt,xt,0)},ie=m.__private__.setCreationDate=function(F){var Z;if(F===void 0&&(F=new Date),F instanceof Date)Z=K(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=F}return z=Z},O=m.__private__.getCreationDate=function(F){var Z=z;return F==="jsDate"&&(Z=ae(z)),Z};m.setCreationDate=function(F){return ie(F),this},m.getCreationDate=function(F){return O(F)};var V,D=m.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},B=m.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},Q=0,Y=[],ee=[],X=0,U=[],me=[],oe=!1,Se=ee;m.__private__.setCustomOutputDestination=function(F){oe=!0,Se=F};var _e=function(F){oe||(Se=F)};m.__private__.resetCustomOutputDestination=function(){oe=!1,Se=ee};var se=m.__private__.out=function(F){return F=F.toString(),X+=F.length+1,Se.push(F),Se},ft=m.__private__.write=function(F){return se(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},de=m.__private__.getArrayBuffer=function(F){for(var Z=F.length,je=new ArrayBuffer(Z),Te=new Uint8Array(je);Z--;)Te[Z]=F.charCodeAt(Z);return je},ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ce};var Ee=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(F){return Ee=j===b?F/$t:F,this};var rt,ot=m.__private__.getFontSize=m.getFontSize=function(){return j===y?Ee:Ee*$t},ge=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(F){return ge=F,this},m.__private__.getR2L=m.getR2L=function(){return ge};var ke,Be=m.__private__.setZoomMode=function(F){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))rt=F;else if(isNaN(F)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');rt=F}else rt=parseInt(F,10)};m.__private__.getZoomMode=function(){return rt};var Xe,et=m.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');ke=F};m.__private__.getPageMode=function(){return ke};var ct=m.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');Xe=F};m.__private__.getLayoutMode=function(){return Xe},m.__private__.setDisplayMode=m.setDisplayMode=function(F,Z,je){return Be(F),ct(Z),et(je),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(F){if(Object.keys(dt).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[F]},m.__private__.getDocumentProperties=function(){return dt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(F){for(var Z in dt)dt.hasOwnProperty(Z)&&F[Z]&&(dt[Z]=F[Z]);return this},m.__private__.setDocumentProperty=function(F,Z){if(Object.keys(dt).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[F]=Z};var Nt,$t,Tt,rn,Vr,Vt={},dr={},nn=[],lr={},Dr={},pr={},Ve={},Ot=null,cr=0,Wt=[],Qt=new k$(m),Fn=e.hotfixes||[],Kr={},Vi={},Wi=[],ur=function F(Z,je,Te,$e,lt,xt){if(!(this instanceof F))return new F(Z,je,Te,$e,lt,xt);isNaN(Z)&&(Z=1),isNaN(je)&&(je=0),isNaN(Te)&&(Te=0),isNaN($e)&&($e=1),isNaN(lt)&&(lt=0),isNaN(xt)&&(xt=0),this._matrix=[Z,je,Te,$e,lt,xt]};Object.defineProperty(ur.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(ur.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(ur.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(ur.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(ur.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(ur.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(ur.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(ur.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(ur.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(ur.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(ur.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(ur.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(ur.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ur.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ur.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ur.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ur.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(F)},ur.prototype.multiply=function(F){var Z=F.sx*this.sx+F.shy*this.shx,je=F.sx*this.shy+F.shy*this.sy,Te=F.shx*this.sx+F.sy*this.shx,$e=F.shx*this.shy+F.sy*this.sy,lt=F.tx*this.sx+F.ty*this.shx+this.tx,xt=F.tx*this.shy+F.ty*this.sy+this.ty;return new ur(Z,je,Te,$e,lt,xt)},ur.prototype.decompose=function(){var F=this.sx,Z=this.shy,je=this.shx,Te=this.sy,$e=this.tx,lt=this.ty,xt=Math.sqrt(F*F+Z*Z),Zt=(F/=xt)*je+(Z/=xt)*Te;je-=F*Zt,Te-=Z*Zt;var ar=Math.sqrt(je*je+Te*Te);return Zt/=ar,F*(Te/=ar)<Z*(je/=ar)&&(F=-F,Z=-Z,Zt=-Zt,xt=-xt),{scale:new ur(xt,0,0,ar,0,0),translate:new ur(1,0,0,1,$e,lt),rotate:new ur(F,Z,-Z,F,0,0),skew:new ur(1,0,Zt,1,0,0)}},ur.prototype.toString=function(F){return this.join(" ")},ur.prototype.inversed=function(){var F=this.sx,Z=this.shy,je=this.shx,Te=this.sy,$e=this.tx,lt=this.ty,xt=1/(F*Te-Z*je),Zt=Te*xt,ar=-Z*xt,Ar=-je*xt,Ir=F*xt;return new ur(Zt,ar,Ar,Ir,-Zt*$e-Ar*lt,-ar*$e-Ir*lt)},ur.prototype.applyToPoint=function(F){var Z=F.x*this.sx+F.y*this.shx+this.tx,je=F.x*this.shy+F.y*this.sy+this.ty;return new Ih(Z,je)},ur.prototype.applyToRectangle=function(F){var Z=this.applyToPoint(F),je=this.applyToPoint(new Ih(F.x+F.w,F.y+F.h));return new Kx(Z.x,Z.y,je.x-Z.x,je.y-Z.y)},ur.prototype.clone=function(){var F=this.sx,Z=this.shy,je=this.shx,Te=this.sy,$e=this.tx,lt=this.ty;return new ur(F,Z,je,Te,$e,lt)},m.Matrix=ur;var oo=m.matrixMult=function(F,Z){return Z.multiply(F)},Fs=new ur(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Fs;var Bn=function(F,Z){if(!Dr[F]){var je=(Z instanceof sm?"Sh":"P")+(Object.keys(lr).length+1).toString(10);Z.id=je,Dr[F]=je,lr[je]=Z,Qt.publish("addPattern",Z)}};m.ShadingPattern=sm,m.TilingPattern=T0,m.addShadingPattern=function(F,Z){return E("addShadingPattern()"),Bn(F,Z),this},m.beginTilingPattern=function(F){E("beginTilingPattern()"),Yx(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},m.endTilingPattern=function(F,Z){E("endTilingPattern()"),Z.stream=me[V].join(`
`),Bn(F,Z),Qt.publish("endTilingPattern",Z),Wi.pop().restore()};var va,Rn=m.__private__.newObject=function(){var F=ua();return te(F,!0),F},ua=m.__private__.newObjectDeferred=function(){return Q++,Y[Q]=function(){return X},Q},te=function(F,Z){return Z=typeof Z=="boolean"&&Z,Y[F]=X,Z&&se(F+" 0 obj"),F},be=m.__private__.newAdditionalObject=function(){var F={objId:ua(),content:""};return U.push(F),F},ue=ua(),pe=ua(),we=m.__private__.decodeColorString=function(F){var Z=F.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length!==5||Z[4]!=="k"&&Z[4]!=="K"||(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var je=parseFloat(Z[0]);Z=[je,je,je,"r"]}for(var Te="#",$e=0;$e<3;$e++)Te+=("0"+Math.floor(255*parseFloat(Z[$e])).toString(16)).slice(-2);return Te},Ne=m.__private__.encodeColorString=function(F){var Z;typeof F=="string"&&(F={ch1:F});var je=F.ch1,Te=F.ch2,$e=F.ch3,lt=F.ch4,xt=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var Zt=new Ste(je);if(Zt.ok)je=Zt.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var ar=parseInt(je.substr(1),16);je=ar>>16&255,Te=ar>>8&255,$e=255&ar}if(Te===void 0||lt===void 0&&je===Te&&Te===$e)Z=typeof je=="string"?je+" "+xt[0]:F.precision===2?T(je/255)+" "+xt[0]:C(je/255)+" "+xt[0];else if(lt===void 0||kn(lt)==="object"){if(lt&&!isNaN(lt.a)&&lt.a===0)return["1.","1.","1.",xt[1]].join(" ");Z=typeof je=="string"?[je,Te,$e,xt[1]].join(" "):F.precision===2?[T(je/255),T(Te/255),T($e/255),xt[1]].join(" "):[C(je/255),C(Te/255),C($e/255),xt[1]].join(" ")}else Z=typeof je=="string"?[je,Te,$e,lt,xt[2]].join(" "):F.precision===2?[T(je),T(Te),T($e),T(lt),xt[2]].join(" "):[C(je),C(Te),C($e),C(lt),xt[2]].join(" ");return Z},We=m.__private__.getFilters=function(){return o},tt=m.__private__.putStream=function(F){var Z=(F=F||{}).data||"",je=F.filters||We(),Te=F.alreadyAppliedFilters||[],$e=F.addLength1||!1,lt=Z.length,xt=F.objectId,Zt=function(fi){return fi};if(d!==null&&xt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Zt=Ta.encryptor(xt,0));var ar={};je===!0&&(je=["FlateEncode"]);var Ar=F.additionalKeyValues||[],Ir=(ar=Jt.API.processDataByFilters!==void 0?Jt.API.processDataByFilters(Z,je):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(ar.data.length!==0&&(Ar.push({key:"Length",value:ar.data.length}),$e===!0&&Ar.push({key:"Length1",value:lt})),Ir.length!=0)if(Ir.split("/").length-1==1)Ar.push({key:"Filter",value:Ir});else{Ar.push({key:"Filter",value:"["+Ir+"]"});for(var fn=0;fn<Ar.length;fn+=1)if(Ar[fn].key==="DecodeParms"){for(var da=[],Qa=0;Qa<ar.reverseChain.split("/").length-1;Qa+=1)da.push("null");da.push(Ar[fn].value),Ar[fn].value="["+da.join(" ")+"]"}}se("<<");for(var Wn=0;Wn<Ar.length;Wn++)se("/"+Ar[Wn].key+" "+Ar[Wn].value);se(">>"),ar.data.length!==0&&(se("stream"),se(Zt(ar.data)),se("endstream"))},He=m.__private__.putPage=function(F){var Z=F.number,je=F.data,Te=F.objId,$e=F.contentsObjId;te(Te,!0),se("<</Type /Page"),se("/Parent "+F.rootDictionaryObjId+" 0 R"),se("/Resources "+F.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(S(F.mediaBox.bottomLeftX))+" "+parseFloat(S(F.mediaBox.bottomLeftY))+" "+S(F.mediaBox.topRightX)+" "+S(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&se("/CropBox ["+S(F.cropBox.bottomLeftX)+" "+S(F.cropBox.bottomLeftY)+" "+S(F.cropBox.topRightX)+" "+S(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&se("/BleedBox ["+S(F.bleedBox.bottomLeftX)+" "+S(F.bleedBox.bottomLeftY)+" "+S(F.bleedBox.topRightX)+" "+S(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&se("/TrimBox ["+S(F.trimBox.bottomLeftX)+" "+S(F.trimBox.bottomLeftY)+" "+S(F.trimBox.topRightX)+" "+S(F.trimBox.topRightY)+"]"),F.artBox!==null&&se("/ArtBox ["+S(F.artBox.bottomLeftX)+" "+S(F.artBox.bottomLeftY)+" "+S(F.artBox.topRightX)+" "+S(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&se("/UserUnit "+F.userUnit),Qt.publish("putPage",{objId:Te,pageContext:Wt[Z],pageNumber:Z,page:je}),se("/Contents "+$e+" 0 R"),se(">>"),se("endobj");var lt=je.join(`
`);return j===b&&(lt+=`
Q`),te($e,!0),tt({data:lt,filters:We(),objectId:$e}),se("endobj"),Te},Ge=m.__private__.putPages=function(){var F,Z,je=[];for(F=1;F<=cr;F++)Wt[F].objId=ua(),Wt[F].contentsObjId=ua();for(F=1;F<=cr;F++)je.push(He({number:F,data:me[F],objId:Wt[F].objId,contentsObjId:Wt[F].contentsObjId,mediaBox:Wt[F].mediaBox,cropBox:Wt[F].cropBox,bleedBox:Wt[F].bleedBox,trimBox:Wt[F].trimBox,artBox:Wt[F].artBox,userUnit:Wt[F].userUnit,rootDictionaryObjId:ue,resourceDictionaryObjId:pe}));te(ue,!0),se("<</Type /Pages");var Te="/Kids [";for(Z=0;Z<cr;Z++)Te+=je[Z]+" 0 R ";se(Te+"]"),se("/Count "+cr),se(">>"),se("endobj"),Qt.publish("postPutPages")},Qe=function(F){Qt.publish("putFont",{font:F,out:se,newObject:Rn,putStream:tt}),F.isAlreadyPutted!==!0&&(F.objectNumber=Rn(),se("<<"),se("/Type /Font"),se("/BaseFont /"+l0(F.postScriptName)),se("/Subtype /Type1"),typeof F.encoding=="string"&&se("/Encoding /"+F.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},vt=function(F){F.objectNumber=Rn();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[S(F.x),S(F.y),S(F.x+F.width),S(F.y+F.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var je=F.pages[1].join(`
`);tt({data:je,additionalKeyValues:Z,objectId:F.objectNumber}),se("endobj")},Et=function(F,Z){Z||(Z=21);var je=Rn(),Te=function(xt,Zt){var ar,Ar=[],Ir=1/(Zt-1);for(ar=0;ar<1;ar+=Ir)Ar.push(ar);if(Ar.push(1),xt[0].offset!=0){var fn={offset:0,color:xt[0].color};xt.unshift(fn)}if(xt[xt.length-1].offset!=1){var da={offset:1,color:xt[xt.length-1].color};xt.push(da)}for(var Qa="",Wn=0,fi=0;fi<Ar.length;fi++){for(ar=Ar[fi];ar>xt[Wn+1].offset;)Wn++;var Za=xt[Wn].offset,Hi=(ar-Za)/(xt[Wn+1].offset-Za),vl=xt[Wn].color,lo=xt[Wn+1].color;Qa+=B(Math.round((1-Hi)*vl[0]+Hi*lo[0]).toString(16))+B(Math.round((1-Hi)*vl[1]+Hi*lo[1]).toString(16))+B(Math.round((1-Hi)*vl[2]+Hi*lo[2]).toString(16))}return Qa.trim()}(F.colors,Z),$e=[];$e.push({key:"FunctionType",value:"0"}),$e.push({key:"Domain",value:"[0.0 1.0]"}),$e.push({key:"Size",value:"["+Z+"]"}),$e.push({key:"BitsPerSample",value:"8"}),$e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt({data:Te,additionalKeyValues:$e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),se("endobj"),F.objectNumber=Rn(),se("<< /ShadingType "+F.type),se("/ColorSpace /DeviceRGB");var lt="/Coords ["+S(parseFloat(F.coords[0]))+" "+S(parseFloat(F.coords[1]))+" ";F.type===2?lt+=S(parseFloat(F.coords[2]))+" "+S(parseFloat(F.coords[3])):lt+=S(parseFloat(F.coords[2]))+" "+S(parseFloat(F.coords[3]))+" "+S(parseFloat(F.coords[4]))+" "+S(parseFloat(F.coords[5])),se(lt+="]"),F.matrix&&se("/Matrix ["+F.matrix.toString()+"]"),se("/Function "+je+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Lt=function(F,Z){var je=ua(),Te=Rn();Z.push({resourcesOid:je,objectOid:Te}),F.objectNumber=Te;var $e=[];$e.push({key:"Type",value:"/Pattern"}),$e.push({key:"PatternType",value:"1"}),$e.push({key:"PaintType",value:"1"}),$e.push({key:"TilingType",value:"1"}),$e.push({key:"BBox",value:"["+F.boundingBox.map(S).join(" ")+"]"}),$e.push({key:"XStep",value:S(F.xStep)}),$e.push({key:"YStep",value:S(F.yStep)}),$e.push({key:"Resources",value:je+" 0 R"}),F.matrix&&$e.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),tt({data:F.stream,additionalKeyValues:$e,objectId:F.objectNumber}),se("endobj")},St=function(F){for(var Z in F.objectNumber=Rn(),se("<<"),F)switch(Z){case"opacity":se("/ca "+T(F[Z]));break;case"stroke-opacity":se("/CA "+T(F[Z]))}se(">>"),se("endobj")},Ft=function(F){te(F.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var Z in se("/Font <<"),Vt)Vt.hasOwnProperty(Z)&&(f===!1||f===!0&&h.hasOwnProperty(Z))&&se("/"+Z+" "+Vt[Z].objectNumber+" 0 R");se(">>")}(),function(){if(Object.keys(lr).length>0){for(var Z in se("/Shading <<"),lr)lr.hasOwnProperty(Z)&&lr[Z]instanceof sm&&lr[Z].objectNumber>=0&&se("/"+Z+" "+lr[Z].objectNumber+" 0 R");Qt.publish("putShadingPatternDict"),se(">>")}}(),function(Z){if(Object.keys(lr).length>0){for(var je in se("/Pattern <<"),lr)lr.hasOwnProperty(je)&&lr[je]instanceof m.TilingPattern&&lr[je].objectNumber>=0&&lr[je].objectNumber<Z&&se("/"+je+" "+lr[je].objectNumber+" 0 R");Qt.publish("putTilingPatternDict"),se(">>")}}(F.objectOid),function(){if(Object.keys(pr).length>0){var Z;for(Z in se("/ExtGState <<"),pr)pr.hasOwnProperty(Z)&&pr[Z].objectNumber>=0&&se("/"+Z+" "+pr[Z].objectNumber+" 0 R");Qt.publish("putGStateDict"),se(">>")}}(),function(){for(var Z in se("/XObject <<"),Kr)Kr.hasOwnProperty(Z)&&Kr[Z].objectNumber>=0&&se("/"+Z+" "+Kr[Z].objectNumber+" 0 R");Qt.publish("putXobjectDict"),se(">>")}(),se(">>"),se("endobj")},xr=function(F){dr[F.fontName]=dr[F.fontName]||{},dr[F.fontName][F.fontStyle]=F.id},Mn=function(F,Z,je,Te,$e){var lt={id:"F"+(Object.keys(Vt).length+1).toString(10),postScriptName:F,fontName:Z,fontStyle:je,encoding:Te,isStandardFont:$e||!1,metadata:{}};return Qt.publish("addFont",{font:lt,instance:this}),Vt[lt.id]=lt,xr(lt),lt.id},Zr=m.__private__.pdfEscape=m.pdfEscape=function(F,Z){return function(je,Te){var $e,lt,xt,Zt,ar,Ar,Ir,fn,da;if(xt=(Te=Te||{}).sourceEncoding||"Unicode",ar=Te.outputEncoding,(Te.autoencode||ar)&&Vt[Nt].metadata&&Vt[Nt].metadata[xt]&&Vt[Nt].metadata[xt].encoding&&(Zt=Vt[Nt].metadata[xt].encoding,!ar&&Vt[Nt].encoding&&(ar=Vt[Nt].encoding),!ar&&Zt.codePages&&(ar=Zt.codePages[0]),typeof ar=="string"&&(ar=Zt[ar]),ar)){for(Ir=!1,Ar=[],$e=0,lt=je.length;$e<lt;$e++)(fn=ar[je.charCodeAt($e)])?Ar.push(String.fromCharCode(fn)):Ar.push(je[$e]),Ar[$e].charCodeAt(0)>>8&&(Ir=!0);je=Ar.join("")}for($e=je.length;Ir===void 0&&$e!==0;)je.charCodeAt($e-1)>>8&&(Ir=!0),$e--;if(!Ir)return je;for(Ar=Te.noBOM?[]:[254,255],$e=0,lt=je.length;$e<lt;$e++){if((da=(fn=je.charCodeAt($e))>>8)>>8)throw new Error("Character at position "+$e+" of string '"+je+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ar.push(da),Ar.push(fn-(da<<8))}return String.fromCharCode.apply(void 0,Ar)}(F,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ya=m.__private__.beginPage=function(F){me[++cr]=[],Wt[cr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},$c(cr),_e(me[V])},Lc=function(F,Z){var je,Te,$e;switch(r=Z||r,typeof F=="string"&&(je=v(F.toLowerCase()),Array.isArray(je)&&(Te=je[0],$e=je[1])),Array.isArray(F)&&(Te=F[0]*$t,$e=F[1]*$t),isNaN(Te)&&(Te=a[0],$e=a[1]),(Te>14400||$e>14400)&&(Un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),$e=Math.min(14400,$e)),a=[Te,$e],r.substr(0,1)){case"l":$e>Te&&(a=[$e,Te]);break;case"p":Te>$e&&(a=[$e,Te])}ya(a),o4(Vx),se(Tp),Hx!==0&&se(Hx+" J"),Gx!==0&&se(Gx+" j"),Qt.publish("addPage",{pageNumber:cr})},Kl=function(F){F>0&&F<=cr&&(me.splice(F,1),Wt.splice(F,1),cr--,V>cr&&(V=cr),this.setPage(V))},$c=function(F){F>0&&F<=cr&&(V=F)},xl=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return me.length-1},Ud=function(F,Z,je){var Te,$e=void 0;return je=je||{},F=F!==void 0?F:Vt[Nt].fontName,Z=Z!==void 0?Z:Vt[Nt].fontStyle,Te=F.toLowerCase(),dr[Te]!==void 0&&dr[Te][Z]!==void 0?$e=dr[Te][Z]:dr[F]!==void 0&&dr[F][Z]!==void 0?$e=dr[F][Z]:je.disableWarning===!1&&Un.warn("Unable to look up font label for font '"+F+"', '"+Z+"'. Refer to getFontList() for available fonts."),$e||je.noFallback||($e=dr.times[Z])==null&&($e=dr.times.normal),$e},fs=m.__private__.putInfo=function(){var F=Rn(),Z=function(Te){return Te};for(var je in d!==null&&(Z=Ta.encryptor(F,0)),se("<<"),se("/Producer ("+Zr(Z("jsPDF "+Jt.version))+")"),dt)dt.hasOwnProperty(je)&&dt[je]&&se("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+Zr(Z(dt[je]))+")");se("/CreationDate ("+Zr(Z(z))+")"),se(">>"),se("endobj")},JS=m.__private__.putCatalog=function(F){var Z=(F=F||{}).rootDictionaryObjId||ue;switch(Rn(),se("<<"),se("/Type /Catalog"),se("/Pages "+Z+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+rt;je.substr(je.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&se("/OpenAction [3 0 R /XYZ null null "+T(rt)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}ke&&se("/PageMode /"+ke),Qt.publish("putCatalog"),se(">>"),se("endobj")},Xa=m.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(Q+1)),se("/Root "+Q+" 0 R"),se("/Info "+(Q-1)+" 0 R"),d!==null&&se("/Encrypt "+Ta.oid+" 0 R"),se("/ID [ <"+G+"> <"+G+"> ]"),se(">>")},e2=m.__private__.putHeader=function(){se("%PDF-"+g),se("%")},t2=m.__private__.putXRef=function(){var F="0000000000";se("xref"),se("0 "+(Q+1)),se("0000000000 65535 f ");for(var Z=1;Z<=Q;Z++)typeof Y[Z]=="function"?se((F+Y[Z]()).slice(-10)+" 00000 n "):Y[Z]!==void 0?se((F+Y[Z]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Au=m.__private__.buildDocument=function(){var F;Q=0,X=0,ee=[],Y=[],U=[],ue=ua(),pe=ua(),_e(ee),Qt.publish("buildDocument"),e2(),Ge(),function(){Qt.publish("putAdditionalObjects");for(var je=0;je<U.length;je++){var Te=U[je];te(Te.objId,!0),se(Te.content),se("endobj")}Qt.publish("postPutAdditionalObjects")}(),F=[],function(){for(var je in Vt)Vt.hasOwnProperty(je)&&(f===!1||f===!0&&h.hasOwnProperty(je))&&Qe(Vt[je])}(),function(){var je;for(je in pr)pr.hasOwnProperty(je)&&St(pr[je])}(),function(){for(var je in Kr)Kr.hasOwnProperty(je)&&vt(Kr[je])}(),function(je){var Te;for(Te in lr)lr.hasOwnProperty(Te)&&(lr[Te]instanceof sm?Et(lr[Te]):lr[Te]instanceof T0&&Lt(lr[Te],je))}(F),Qt.publish("putResources"),F.forEach(Ft),Ft({resourcesOid:pe,objectOid:Number.MAX_SAFE_INTEGER}),Qt.publish("postPutResources"),d!==null&&(Ta.oid=Rn(),se("<<"),se("/Filter /Standard"),se("/V "+Ta.v),se("/R "+Ta.r),se("/U <"+Ta.toHexString(Ta.U)+">"),se("/O <"+Ta.toHexString(Ta.O)+">"),se("/P "+Ta.P),se(">>"),se("endobj")),fs(),JS();var Z=X;return t2(),Xa(),se("startxref"),se(""+Z),se("%%EOF"),_e(me[V]),ee.join(`
`)},Eh=m.__private__.getBlob=function(F){return new Blob([de(F)],{type:"application/pdf"})},Yl=m.output=m.__private__.output=(va=function(F,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",F){case void 0:return Au();case"save":m.save(Z.filename);break;case"arraybuffer":return de(Au());case"blob":return Eh(Au());case"bloburi":case"bloburl":if(jr.URL!==void 0&&typeof jr.URL.createObjectURL=="function")return jr.URL&&jr.URL.createObjectURL(Eh(Au()))||void 0;Un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",Te=Au();try{je=C$(Te)}catch{je=C$(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+Z.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jr)==="[object Window]"){var $e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",lt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&($e=Z.pdfObjectUrl,lt="");var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+$e+'"'+lt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",Zt=jr.open();return Zt!==null&&Zt.document.write(xt),Zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jr)==="[object Window]"){var ar='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',Ar=jr.open();if(Ar!==null){Ar.document.write(ar);var Ir=this;Ar.document.documentElement.querySelector("#pdfViewer").onload=function(){Ar.document.title=Z.filename,Ar.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ir.output("bloburl"))}}return Ar}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',da=jr.open();if(da!==null&&(da.document.write(fn),da.document.title=Z.filename),da||typeof safari>"u")return da;break;case"datauri":case"dataurl":return jr.document.location.href=this.output("datauristring",Z);default:return null}},va.foo=function(){try{return va.apply(this,arguments)}catch(je){var F=je.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var Z="Error in function "+F.split(`
`)[0].split("<")[0]+": "+je.message;if(!jr.console)throw new Error(Z);jr.console.error(Z,je),jr.alert&&alert(Z)}},va.foo.bar=va,va.foo),Ph=function(F){return Array.isArray(Fn)===!0&&Fn.indexOf(F)>-1};switch(n){case"pt":$t=1;break;case"mm":$t=72/25.4;break;case"cm":$t=72/2.54;break;case"in":$t=72;break;case"px":$t=Ph("px_scaling")==1?.75:96/72;break;case"pc":case"em":$t=12;break;case"ex":$t=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);$t=n}var Ta=null;ie(),q();var zx=m.__private__.getPageInfo=m.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Wt[F].objId,pageNumber:F,pageContext:Wt[F]}},e4=m.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in Wt)if(Wt[Z].objId===F)break;return zx(Z)},t4=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Wt[V].objId,pageNumber:V,pageContext:Wt[V]}};m.addPage=function(){return Lc.apply(this,arguments),this},m.setPage=function(){return $c.apply(this,arguments),_e.call(this,me[V]),this},m.insertPage=function(F){return this.addPage(),this.movePage(V,F),this},m.movePage=function(F,Z){var je,Te;if(F>Z){je=me[F],Te=Wt[F];for(var $e=F;$e>Z;$e--)me[$e]=me[$e-1],Wt[$e]=Wt[$e-1];me[Z]=je,Wt[Z]=Te,this.setPage(Z)}else if(F<Z){je=me[F],Te=Wt[F];for(var lt=F;lt<Z;lt++)me[lt]=me[lt+1],Wt[lt]=Wt[lt+1];me[Z]=je,Wt[Z]=Te,this.setPage(Z)}return this},m.deletePage=function(){return Kl.apply(this,arguments),this},m.__private__.text=m.text=function(F,Z,je,Te,$e){var lt,xt,Zt,ar,Ar,Ir,fn,da,Qa,Wn=(Te=Te||{}).scope||this;if(typeof F=="number"&&typeof Z=="number"&&(typeof je=="string"||Array.isArray(je))){var fi=je;je=Z,Z=F,F=fi}if(arguments[3]instanceof ur==0?(Zt=arguments[4],ar=arguments[5],kn(fn=arguments[3])==="object"&&fn!==null||(typeof Zt=="string"&&(ar=Zt,Zt=null),typeof fn=="string"&&(ar=fn,fn=null),typeof fn=="number"&&(Zt=fn,fn=null),Te={flags:fn,angle:Zt,align:ar})):(E("The transform parameter of text() with a Matrix value"),Qa=$e),isNaN(Z)||isNaN(je)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return Wn;var Za,Hi="",vl=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:Th,lo=Wn.internal.scaleFactor;function c2(yn){return yn=yn.split("	").join(Array(Te.TabLen||9).join(" ")),Zr(yn,fn)}function Fp(yn){for(var zn,Da=yn.concat(),hi=[],Du=Da.length;Du--;)typeof(zn=Da.shift())=="string"?hi.push(zn):Array.isArray(yn)&&(zn.length===1||zn[1]===void 0&&zn[2]===void 0)?hi.push(zn[0]):hi.push([zn[0],zn[1],zn[2]]);return hi}function Mh(yn,zn){var Da;if(typeof yn=="string")Da=zn(yn)[0];else if(Array.isArray(yn)){for(var hi,Du,iv=yn.concat(),Lp=[],f2=iv.length;f2--;)typeof(hi=iv.shift())=="string"?Lp.push(zn(hi)[0]):Array.isArray(hi)&&typeof hi[0]=="string"&&(Du=zn(hi[0],hi[1],hi[2]),Lp.push([Du[0],Du[1],Du[2]]));Da=Lp}return Da}var Hd=!1,Lh=!0;if(typeof F=="string")Hd=!0;else if(Array.isArray(F)){var $h=F.concat();xt=[];for(var Bh,hs=$h.length;hs--;)(typeof(Bh=$h.shift())!="string"||Array.isArray(Bh)&&typeof Bh[0]!="string")&&(Lh=!1);Hd=Lh}if(Hd===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var zh=Ee/Wn.internal.scaleFactor,qh=zh*(vl-1);switch(Te.baseline){case"bottom":je-=qh;break;case"top":je+=zh-qh;break;case"hanging":je+=zh-2*qh;break;case"middle":je+=zh/2-qh}if((Ir=Te.maxWidth||0)>0&&(typeof F=="string"?F=Wn.splitTextToSize(F,Ir):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(yn,zn){return yn.concat(Wn.splitTextToSize(zn,Ir))},[]))),lt={text:F,x:Z,y:je,options:Te,mutex:{pdfEscape:Zr,activeFontKey:Nt,fonts:Vt,activeFontSize:Ee}},Qt.publish("preProcessText",lt),F=lt.text,Zt=(Te=lt.options).angle,Qa instanceof ur==0&&Zt&&typeof Zt=="number"){Zt*=Math.PI/180,Te.rotationDirection===0&&(Zt=-Zt),j===b&&(Zt=-Zt);var Xx=Math.cos(Zt),Qx=Math.sin(Zt);Qa=new ur(Xx,Qx,-Qx,Xx,0,0)}else Zt&&Zt instanceof ur&&(Qa=Zt);j!==b||Qa||(Qa=Fs),(Ar=Te.charSpace||Dp)!==void 0&&(Hi+=S(I(Ar))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(da=Te.horizontalScale)!==void 0&&(Hi+=S(100*da)+` Tz
`),Te.lang;var ba=-1,Tu=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,Rp=Wn.internal.getCurrentPageInfo().pageContext;switch(Tu){case 0:case!1:case"fill":ba=0;break;case 1:case!0:case"stroke":ba=1;break;case 2:case"fillThenStroke":ba=2;break;case 3:case"invisible":ba=3;break;case 4:case"fillAndAddForClipping":ba=4;break;case 5:case"strokeAndAddPathForClipping":ba=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ba=6;break;case 7:case"addToPathForClipping":ba=7}var u2=Rp.usedRenderingMode!==void 0?Rp.usedRenderingMode:-1;ba!==-1?Hi+=ba+` Tr
`:u2!==-1&&(Hi+=`0 Tr
`),ba!==-1&&(Rp.usedRenderingMode=ba),ar=Te.align||"left";var yl,Uh=Ee*vl,Zx=Wn.internal.pageSize.getWidth(),Jx=Vt[Nt];Ar=Te.charSpace||Dp,Ir=Te.maxWidth||0,fn=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var Gd=[],Vh=function(yn){return Wn.getStringUnitWidth(yn,{font:Jx,charSpace:Ar,fontSize:Ee,doKerning:!1})*Ee/lo};if(Object.prototype.toString.call(F)==="[object Array]"){var To;xt=Fp(F),ar!=="left"&&(yl=xt.map(Vh));var Oo,Kd=0;if(ar==="right"){Z-=yl[0],F=[],hs=xt.length;for(var Ou=0;Ou<hs;Ou++)Ou===0?(Oo=Cu(Z),To=Eu(je)):(Oo=I(Kd-yl[Ou]),To=-Uh),F.push([xt[Ou],Oo,To]),Kd=yl[Ou]}else if(ar==="center"){Z-=yl[0]/2,F=[],hs=xt.length;for(var Yd=0;Yd<hs;Yd++)Yd===0?(Oo=Cu(Z),To=Eu(je)):(Oo=I((Kd-yl[Yd])/2),To=-Uh),F.push([xt[Yd],Oo,To]),Kd=yl[Yd]}else if(ar==="left"){F=[],hs=xt.length;for(var ev=0;ev<hs;ev++)F.push(xt[ev])}else if(ar==="justify"&&Jx.encoding==="Identity-H"){F=[],hs=xt.length,Ir=Ir!==0?Ir:Zx;for(var Mp=0,Oa=0;Oa<hs;Oa++)if(To=Oa===0?Eu(je):-Uh,Oo=Oa===0?Cu(Z):Mp,Oa<hs-1){var d2=I((Ir-yl[Oa])/(xt[Oa].split(" ").length-1)),zc=xt[Oa].split(" ");F.push([zc[0]+" ",Oo,To]),Mp=0;for(var qc=1;qc<zc.length;qc++){var tv=(Vh(zc[qc-1]+" "+zc[qc])-Vh(zc[qc]))*lo+d2;qc==zc.length-1?F.push([zc[qc],tv,0]):F.push([zc[qc]+" ",tv,0]),Mp-=tv}}else F.push([xt[Oa],Oo,To]);F.push(["",Mp,0])}else{if(ar!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],hs=xt.length,Ir=Ir!==0?Ir:Zx,Oa=0;Oa<hs;Oa++){To=Oa===0?Eu(je):-Uh,Oo=Oa===0?Cu(Z):0;var rv=xt[Oa].split(" ").length-1,nv=rv>0?(Ir-yl[Oa])/rv:0;Oa<hs-1?Gd.push(S(I(nv))):Gd.push(0),F.push([xt[Oa],Oo,To])}}}(typeof Te.R2L=="boolean"?Te.R2L:ge)===!0&&(F=Mh(F,function(yn,zn,Da){return[yn.split("").reverse().join(""),zn,Da]})),lt={text:F,x:Z,y:je,options:Te,mutex:{pdfEscape:Zr,activeFontKey:Nt,fonts:Vt,activeFontSize:Ee}},Qt.publish("postProcessText",lt),F=lt.text,Za=lt.mutex.isHex||!1;var av=Vt[Nt].encoding;av!=="WinAnsiEncoding"&&av!=="StandardEncoding"||(F=Mh(F,function(yn,zn,Da){return[c2(yn),zn,Da]})),xt=Fp(F),F=[];for(var Xd,Qd,Zd,Wh=Array.isArray(xt[0])?1:0,Jd="",Hh=function(yn,zn,Da){var hi="";return Da instanceof ur?(Da=typeof Te.angle=="number"?oo(Da,new ur(1,0,0,1,yn,zn)):oo(new ur(1,0,0,1,yn,zn),Da),j===b&&(Da=oo(new ur(1,0,0,-1,0,0),Da)),hi=Da.join(" ")+` Tm
`):hi=S(yn)+" "+S(zn)+` Td
`,hi},bl=0;bl<xt.length;bl++){switch(Jd="",Wh){case 1:Zd=(Za?"<":"(")+xt[bl][0]+(Za?">":")"),Xd=parseFloat(xt[bl][1]),Qd=parseFloat(xt[bl][2]);break;case 0:Zd=(Za?"<":"(")+xt[bl]+(Za?">":")"),Xd=Cu(Z),Qd=Eu(je)}Gd!==void 0&&Gd[bl]!==void 0&&(Jd=Gd[bl]+` Tw
`),bl===0?F.push(Jd+Hh(Xd,Qd,Qa)+Zd):Wh===0?F.push(Jd+Zd):Wh===1&&F.push(Jd+Hh(Xd,Qd,Qa)+Zd)}F=Wh===0?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var Uc=`BT
/`;return Uc+=Nt+" "+Ee+` Tf
`,Uc+=S(Ee*vl)+` TL
`,Uc+=Oh+`
`,Uc+=Hi,Uc+=F,se(Uc+="ET"),h[Nt]=!0,Wn};var r4=m.__private__.clip=m.clip=function(F){return se(F==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return r4("evenodd")},m.__private__.discardPath=m.discardPath=function(){return se("n"),this};var Bc=m.__private__.isValidStyle=function(F){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(Z=!0),Z};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(F){return Bc(F)&&(u=F),this};var r2=m.__private__.getStyle=m.getStyle=function(F){var Z=u;switch(F){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=F}return Z},n2=m.close=function(){return se("h"),this};m.stroke=function(){return se("S"),this},m.fill=function(F){return Vd("f",F),this},m.fillEvenOdd=function(F){return Vd("f*",F),this},m.fillStroke=function(F){return Vd("B",F),this},m.fillStrokeEvenOdd=function(F){return Vd("B*",F),this};var Vd=function(F,Z){kn(Z)==="object"?a4(Z,F):se(F)},qx=function(F){F===null||j===b&&F===void 0||(F=r2(F),se(F))};function n4(F,Z,je,Te,$e){var lt=new T0(Z||this.boundingBox,je||this.xStep,Te||this.yStep,this.gState,$e||this.matrix);lt.stream=this.stream;var xt=F+"$$"+this.cloneIndex+++"$$";return Bn(xt,lt),lt}var a4=function(F,Z){var je=Dr[F.key],Te=lr[je];if(Te instanceof sm)se("q"),se(i4(Z)),Te.gState&&m.setGState(Te.gState),se(F.matrix.toString()+" cm"),se("/"+je+" sh"),se("Q");else if(Te instanceof T0){var $e=new ur(1,0,0,-1,0,Rh());F.matrix&&($e=$e.multiply(F.matrix||Fs),je=n4.call(Te,F.key,F.boundingBox,F.xStep,F.yStep,$e).id),se("q"),se("/Pattern cs"),se("/"+je+" scn"),Te.gState&&m.setGState(Te.gState),se(Z),se("Q")}},i4=function(F){switch(F){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ux=m.moveTo=function(F,Z){return se(S(I(F))+" "+S(L(Z))+" m"),this},kh=m.lineTo=function(F,Z){return se(S(I(F))+" "+S(L(Z))+" l"),this},Wd=m.curveTo=function(F,Z,je,Te,$e,lt){return se([S(I(F)),S(L(Z)),S(I(je)),S(L(Te)),S(I($e)),S(L(lt)),"c"].join(" ")),this};m.__private__.line=m.line=function(F,Z,je,Te,$e){if(isNaN(F)||isNaN(Z)||isNaN(je)||isNaN(Te)||!Bc($e))throw new Error("Invalid arguments passed to jsPDF.line");return j===y?this.lines([[je-F,Te-Z]],F,Z,[1,1],$e||"S"):this.lines([[je-F,Te-Z]],F,Z,[1,1]).stroke()},m.__private__.lines=m.lines=function(F,Z,je,Te,$e,lt){var xt,Zt,ar,Ar,Ir,fn,da,Qa,Wn,fi,Za,Hi;if(typeof F=="number"&&(Hi=je,je=Z,Z=F,F=Hi),Te=Te||[1,1],lt=lt||!1,isNaN(Z)||isNaN(je)||!Array.isArray(F)||!Array.isArray(Te)||!Bc($e)||typeof lt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ux(Z,je),xt=Te[0],Zt=Te[1],Ar=F.length,fi=Z,Za=je,ar=0;ar<Ar;ar++)(Ir=F[ar]).length===2?(fi=Ir[0]*xt+fi,Za=Ir[1]*Zt+Za,kh(fi,Za)):(fn=Ir[0]*xt+fi,da=Ir[1]*Zt+Za,Qa=Ir[2]*xt+fi,Wn=Ir[3]*Zt+Za,fi=Ir[4]*xt+fi,Za=Ir[5]*Zt+Za,Wd(fn,da,Qa,Wn,fi,Za));return lt&&n2(),qx($e),this},m.path=function(F){for(var Z=0;Z<F.length;Z++){var je=F[Z],Te=je.c;switch(je.op){case"m":Ux(Te[0],Te[1]);break;case"l":kh(Te[0],Te[1]);break;case"c":Wd.apply(this,Te);break;case"h":n2()}}return this},m.__private__.rect=m.rect=function(F,Z,je,Te,$e){if(isNaN(F)||isNaN(Z)||isNaN(je)||isNaN(Te)||!Bc($e))throw new Error("Invalid arguments passed to jsPDF.rect");return j===y&&(Te=-Te),se([S(I(F)),S(L(Z)),S(I(je)),S(I(Te)),"re"].join(" ")),qx($e),this},m.__private__.triangle=m.triangle=function(F,Z,je,Te,$e,lt,xt){if(isNaN(F)||isNaN(Z)||isNaN(je)||isNaN(Te)||isNaN($e)||isNaN(lt)||!Bc(xt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-F,Te-Z],[$e-je,lt-Te],[F-$e,Z-lt]],F,Z,[1,1],xt,!0),this},m.__private__.roundedRect=m.roundedRect=function(F,Z,je,Te,$e,lt,xt){if(isNaN(F)||isNaN(Z)||isNaN(je)||isNaN(Te)||isNaN($e)||isNaN(lt)||!Bc(xt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Zt=4/3*(Math.SQRT2-1);return $e=Math.min($e,.5*je),lt=Math.min(lt,.5*Te),this.lines([[je-2*$e,0],[$e*Zt,0,$e,lt-lt*Zt,$e,lt],[0,Te-2*lt],[0,lt*Zt,-$e*Zt,lt,-$e,lt],[2*$e-je,0],[-$e*Zt,0,-$e,-lt*Zt,-$e,-lt],[0,2*lt-Te],[0,-lt*Zt,$e*Zt,-lt,$e,-lt]],F+$e,Z,[1,1],xt,!0),this},m.__private__.ellipse=m.ellipse=function(F,Z,je,Te,$e){if(isNaN(F)||isNaN(Z)||isNaN(je)||isNaN(Te)||!Bc($e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var lt=4/3*(Math.SQRT2-1)*je,xt=4/3*(Math.SQRT2-1)*Te;return Ux(F+je,Z),Wd(F+je,Z-xt,F+lt,Z-Te,F,Z-Te),Wd(F-lt,Z-Te,F-je,Z-xt,F-je,Z),Wd(F-je,Z+xt,F-lt,Z+Te,F,Z+Te),Wd(F+lt,Z+Te,F+je,Z+xt,F+je,Z),qx($e),this},m.__private__.circle=m.circle=function(F,Z,je,Te){if(isNaN(F)||isNaN(Z)||isNaN(je)||!Bc(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,Z,je,je,Te)},m.setFont=function(F,Z,je){return je&&(Z=k(Z,je)),Nt=Ud(F,Z,{disableWarning:!1}),this};var s4=m.__private__.getFont=m.getFont=function(){return Vt[Ud.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var F,Z,je={};for(F in dr)if(dr.hasOwnProperty(F))for(Z in je[F]=[],dr[F])dr[F].hasOwnProperty(Z)&&je[F].push(Z);return je},m.addFont=function(F,Z,je,Te,$e){var lt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&lt.indexOf(arguments[3])!==-1?$e=arguments[3]:arguments[3]&&lt.indexOf(arguments[3])==-1&&(je=k(je,Te)),Mn.call(this,F,Z,je,$e=$e||"Identity-H")};var Th,Vx=e.lineWidth||.200025,Tr=m.__private__.getLineWidth=m.getLineWidth=function(){return Vx},o4=m.__private__.setLineWidth=m.setLineWidth=function(F){return Vx=F,se(S(I(F))+" w"),this};m.__private__.setLineDash=Jt.API.setLineDash=Jt.API.setLineDashPattern=function(F,Z){if(F=F||[],Z=Z||0,isNaN(Z)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(je){return S(I(je))}).join(" "),Z=S(I(Z)),se("["+F+"] "+Z+" d"),this};var l4=m.__private__.getLineHeight=m.getLineHeight=function(){return Ee*Th};m.__private__.getLineHeight=m.getLineHeight=function(){return Ee*Th};var c4=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(Th=F),this},u4=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Th};c4(e.lineHeight);var Cu=m.__private__.getHorizontalCoordinate=function(F){return I(F)},Eu=m.__private__.getVerticalCoordinate=function(F){return j===b?F:Wt[V].mediaBox.topRightY-Wt[V].mediaBox.bottomLeftY-I(F)},d4=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(F){return S(Cu(F))},f4=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(F){return S(Eu(F))},Tp=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return we(Tp)},m.__private__.setStrokeColor=m.setDrawColor=function(F,Z,je,Te){return Tp=Ne({ch1:F,ch2:Z,ch3:je,ch4:Te,pdfColorType:"draw",precision:2}),se(Tp),this};var Wx=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return we(Wx)},m.__private__.setFillColor=m.setFillColor=function(F,Z,je,Te){return Wx=Ne({ch1:F,ch2:Z,ch3:je,ch4:Te,pdfColorType:"fill",precision:2}),se(Wx),this};var Oh=e.textColor||"0 g",Op=m.__private__.getTextColor=m.getTextColor=function(){return we(Oh)};m.__private__.setTextColor=m.setTextColor=function(F,Z,je,Te){return Oh=Ne({ch1:F,ch2:Z,ch3:je,ch4:Te,pdfColorType:"text",precision:3}),this};var Dp=e.charSpace,h4=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Dp||0)};m.__private__.setCharSpace=m.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Dp=F,this};var Hx=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(F){var Z=m.CapJoinStyles[F];if(Z===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hx=Z,se(Z+" J"),this};var Gx=0;m.__private__.setLineJoin=m.setLineJoin=function(F){var Z=m.CapJoinStyles[F];if(Z===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gx=Z,se(Z+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(S(I(F))+" M"),this},m.GState=x5,m.setGState=function(F){(F=typeof F=="string"?pr[Ve[F]]:Dh(null,F)).equals(Ot)||(se("/"+F.id+" gs"),Ot=F)};var Dh=function(F,Z){if(!F||!Ve[F]){var je=!1;for(var Te in pr)if(pr.hasOwnProperty(Te)&&pr[Te].equals(Z)){je=!0;break}if(je)Z=pr[Te];else{var $e="GS"+(Object.keys(pr).length+1).toString(10);pr[$e]=Z,Z.id=$e}return F&&(Ve[F]=Z.id),Qt.publish("addGState",Z),Z}};m.addGState=function(F,Z){return Dh(F,Z),this},m.saveGraphicsState=function(){return se("q"),nn.push({key:Nt,size:Ee,color:Oh}),this},m.restoreGraphicsState=function(){se("Q");var F=nn.pop();return Nt=F.key,Ee=F.size,Oh=F.color,Ot=null,this},m.setCurrentTransformationMatrix=function(F){return se(F.toString()+" cm"),this},m.comment=function(F){return se("#"+F),this};var Ih=function(F,Z){var je=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(lt){isNaN(lt)||(je=parseFloat(lt))}});var Te=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(lt){isNaN(lt)||(Te=parseFloat(lt))}});var $e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return $e},set:function(lt){$e=lt.toString()}}),this},Kx=function(F,Z,je,Te){Ih.call(this,F,Z),this.type="rect";var $e=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return $e},set:function(xt){isNaN(xt)||($e=parseFloat(xt))}});var lt=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return lt},set:function(xt){isNaN(xt)||(lt=parseFloat(xt))}}),this},Ip=function(){this.page=cr,this.currentPage=V,this.pages=me.slice(0),this.pagesContext=Wt.slice(0),this.x=Tt,this.y=rn,this.matrix=Vr,this.width=a2(V),this.height=Pu(V),this.outputDestination=Se,this.id="",this.objectNumber=-1};Ip.prototype.restore=function(){cr=this.page,V=this.currentPage,Wt=this.pagesContext,me=this.pages,Tt=this.x,rn=this.y,Vr=this.matrix,i2(V,this.width),ku(V,this.height),Se=this.outputDestination};var Yx=function(F,Z,je,Te,$e){Wi.push(new Ip),cr=V=0,me=[],Tt=F,rn=Z,Vr=$e,ya([je,Te])};for(var Fh in m.beginFormObject=function(F,Z,je,Te,$e){return Yx(F,Z,je,Te,$e),this},m.endFormObject=function(F){return function(Z){if(Vi[Z])Wi.pop().restore();else{var je=new Ip,Te="Xo"+(Object.keys(Kr).length+1).toString(10);je.id=Te,Vi[Z]=Te,Kr[Te]=je,Qt.publish("addFormObject",je),Wi.pop().restore()}}(F),this},m.doFormObject=function(F,Z){var je=Kr[Vi[F]];return se("q"),se(Z.toString()+" cm"),se("/"+je.id+" Do"),se("Q"),this},m.getFormObject=function(F){var Z=Kr[Vi[F]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},m.save=function(F,Z){return F=F||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(nm(Eh(Au()),F),typeof nm.unload=="function"&&jr.setTimeout&&setTimeout(nm.unload,911),this):new Promise(function(je,Te){try{var $e=nm(Eh(Au()),F);typeof nm.unload=="function"&&jr.setTimeout&&setTimeout(nm.unload,911),je($e)}catch(lt){Te(lt.message)}})},Jt.API)Jt.API.hasOwnProperty(Fh)&&(Fh==="events"&&Jt.API.events.length?function(F,Z){var je,Te,$e;for($e=Z.length-1;$e!==-1;$e--)je=Z[$e][0],Te=Z[$e][1],F.subscribe.apply(F,[je].concat(typeof Te=="function"?[Te]:Te))}(Qt,Jt.API.events):m[Fh]=Jt.API[Fh]);function a2(F){return Wt[F].mediaBox.topRightX-Wt[F].mediaBox.bottomLeftX}function i2(F,Z){Wt[F].mediaBox.topRightX=Z+Wt[F].mediaBox.bottomLeftX}function Pu(F){return Wt[F].mediaBox.topRightY-Wt[F].mediaBox.bottomLeftY}function ku(F,Z){Wt[F].mediaBox.topRightY=Z+Wt[F].mediaBox.bottomLeftY}var s2=m.getPageWidth=function(F){return a2(F=F||V)/$t},o2=m.setPageWidth=function(F,Z){i2(F,Z*$t)},Rh=m.getPageHeight=function(F){return Pu(F=F||V)/$t},l2=m.setPageHeight=function(F,Z){ku(F,Z*$t)};return m.internal={pdfEscape:Zr,getStyle:r2,getFont:s4,getFontSize:ot,getCharSpace:h4,getTextColor:Op,getLineHeight:l4,getLineHeightFactor:u4,getLineWidth:Tr,write:ft,getHorizontalCoordinate:Cu,getVerticalCoordinate:Eu,getCoordinateString:d4,getVerticalCoordinateString:f4,collections:{},newObject:Rn,newAdditionalObject:be,newObjectDeferred:ua,newObjectDeferredBegin:te,getFilters:We,putStream:tt,events:Qt,scaleFactor:$t,pageSize:{getWidth:function(){return s2(V)},setWidth:function(F){o2(V,F)},getHeight:function(){return Rh(V)},setHeight:function(F){l2(V,F)}},encryptionOptions:d,encryption:Ta,getEncryptor:function(F){return d!==null?Ta.encryptor(F,0):function(Z){return Z}},output:Yl,getNumberOfPages:xl,pages:me,out:se,f2:T,f3:C,getPageInfo:zx,getPageInfoByObjId:e4,getCurrentPageInfo:t4,getPDFVersion:p,Point:Ih,Rectangle:Kx,Matrix:ur,hasHotfix:Ph},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return s2(V)},set:function(F){o2(V,F)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Rh(V)},set:function(F){l2(V,F)},enumerable:!0,configurable:!0}),(function(F){for(var Z=0,je=ce.length;Z<je;Z++){var Te=Mn.call(this,F[Z][0],F[Z][1],F[Z][2],ce[Z][3],!0);f===!1&&(h[Te]=!0);var $e=F[Z][0].split("-");xr({id:Te,fontName:$e[0],fontStyle:$e[1]||""})}Qt.publish("addFonts",{fonts:Vt,dictionary:dr})}).call(m,ce),Nt="F1",Lc(a,r),Qt.publish("initialized"),m}o0.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},o0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},o0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},o0.prototype.processOwnerPassword=function(e,t){return nk(rk(t).substr(0,5),e)},o0.prototype.encryptor=function(e,t){var r=rk(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return nk(r,n)}},x5.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||kn(e)!==kn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Jt.API={events:[]},Jt.version="3.0.3";var _a=Jt.API,S6=1,Np=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fr=function(e){return e.toFixed(2)},ff=function(e){return e.toFixed(5)};_a.__acroform__={};var Po=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},T$=function(e){return e*S6},Hc=function(e){var t=new Pte,r=Xt.internal.getHeight(e)||0,n=Xt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Fr(n)),Number(Fr(r))],t},oUe=_a.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},lUe=_a.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},cUe=_a.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},za=_a.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return cUe(e,t-1)},qa=_a.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return oUe(e,t-1)},Ua=_a.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return lUe(e,t-1)},uUe=_a.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(s)||0,[Number(Fr(c.lowerLeft_X)),Number(Fr(c.lowerLeft_Y)),Number(Fr(c.upperRight_X)),Number(Fr(c.upperRight_Y))]},dUe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=ak(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Fr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Hc(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},ak=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var s=r,o=Xt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Xt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(T,C,I){if(T+1<a.length){var L=C+" "+a[T+1][0];return Nw(L,e,I).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,f=Nw("3",e,s).height,h=e.multiline?o-s:(o-f)/2,m=h+=2,g=0,p=0,x=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Nw(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var v="",y=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var j=!1;if(a[b].length!==1&&x!==a[b].length-1){if((f+2)*(y+2)+2>o)continue e;v+=a[b][x],j=!0,p=b,b--}else{v=(v+=a[b][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var _=parseInt(b),P=c(_,v,s),k=b>=a.length-1;if(P&&!k){v+=" ",x=0;continue}if(P||k){if(k)p=_;else if(e.multiline&&(f+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>o)continue e;p=_}}for(var S="",E=g;E<=p;E++){var M=a[E];if(e.multiline){if(E===p){S+=M[x]+" ",x=(x+1)%M.length;continue}if(E===g){S+=M[M.length-1]+" ";continue}}S+=M[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,d=Nw(S,e,s).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=Fr(u)+" "+Fr(m)+` Td
`,t+="("+Np(S)+`) Tj
`,t+=-Fr(u)+` 0 Td
`,m=-(s+2),d=0,g=j?p:p+1,y++,v=""}break}return n.text=t,n.fontSize=s,n},Nw=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},fUe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hUe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},mUe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Rc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(fUe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");S6=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new kte,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&hUe(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=uUe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Xt.createDefaultAppearanceStream(l),kn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=dUe(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var m=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var g=m[o];typeof g=="function"&&(g=g.call(a,l)),f+="/"+o+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=m)=="function"&&(g=g.call(a,l)),f+="/"+o+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&function(p,x){for(var v in p)if(p.hasOwnProperty(v)){var y=v,b=p[v];x.internal.newObjectDeferredBegin(b.objId,!0),kn(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete p[y]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Ete=_a.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),kn(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Np(n(e[s].toString()))+")"):a+=e[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},f3=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Np(n(e))+")"},cu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};cu.prototype.toString=function(){return this.objId+" 0 R"},cu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},cu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:Ete(a,this.objId,this.scope)}):a instanceof cu?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var Pte=function(){cu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Po(Pte,cu);var kte=function(){cu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Np(r(e))+")"}},set:function(r){e=r}})};Po(kte,cu);var Rc=function e(){cu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!za(t,3)},set:function(v){v?this.F=qa(t,3):this.F=Ua(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof v5)return;s="FieldObject"+e.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Np(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/S6:u},set:function(v){u=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof v5||this instanceof Rm))return f3(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Di==0?f3(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof Di==0?v.substr(0,1)==="("?Zp(v.substr(1,v.length-2)):Zp(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Di==1?Zp(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof Di==1?"/"+v:v}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Di==0?f3(m,this.objId,this.scope):m},set:function(v){v=v.toString(),m=this instanceof Di==0?v.substr(0,1)==="("?Zp(v.substr(1,v.length-2)):Zp(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Di==1?Zp(m.substr(1,m.length-1)):m},set:function(v){v=v.toString(),m=this instanceof Di==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(v){v=!!v,p=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(v){g=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,1)},set:function(v){v?this.Ff=qa(this.Ff,1):this.Ff=Ua(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,2)},set:function(v){v?this.Ff=qa(this.Ff,2):this.Ff=Ua(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,3)},set:function(v){v?this.Ff=qa(this.Ff,3):this.Ff=Ua(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Po(Rc,cu);var Y0=function(){Rc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ete(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,o,l){l||(l=1);for(var c,u=[];c=o.exec(s);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,18)},set:function(r){r?this.Ff=qa(this.Ff,18):this.Ff=Ua(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=qa(this.Ff,19):this.Ff=Ua(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,20)},set:function(r){r?(this.Ff=qa(this.Ff,20),t.sort()):this.Ff=Ua(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,22)},set:function(r){r?this.Ff=qa(this.Ff,22):this.Ff=Ua(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,23)},set:function(r){r?this.Ff=qa(this.Ff,23):this.Ff=Ua(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,27)},set:function(r){r?this.Ff=qa(this.Ff,27):this.Ff=Ua(this.Ff,27)}}),this.hasAppearanceStream=!1};Po(Y0,Rc);var X0=function(){Y0.call(this),this.fontName="helvetica",this.combo=!1};Po(X0,Y0);var Q0=function(){X0.call(this),this.combo=!0};Po(Q0,X0);var uj=function(){Q0.call(this),this.edit=!0};Po(uj,Q0);var Di=function(){Rc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,15)},set:function(r){r?this.Ff=qa(this.Ff,15):this.Ff=Ua(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,16)},set:function(r){r?this.Ff=qa(this.Ff,16):this.Ff=Ua(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,17)},set:function(r){r?this.Ff=qa(this.Ff,17):this.Ff=Ua(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,26)},set:function(r){r?this.Ff=qa(this.Ff,26):this.Ff=Ua(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Np(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){kn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Po(Di,Rc);var dj=function(){Di.call(this),this.pushButton=!0};Po(dj,Di);var Z0=function(){Di.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Po(Z0,Di);var v5=function(){var e,t;Rc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+Np(a(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(a){kn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Po(v5,Rc),Z0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Z0.prototype.createOption=function(e){var t=new v5;return t.Parent=this,t.optionName=e,this.Kids.push(t),pUe.call(this.scope,t),t};var fj=function(){Di.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xt.CheckBox.createAppearanceStream()};Po(fj,Di);var Rm=function(){Rc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,13)},set:function(t){t?this.Ff=qa(this.Ff,13):this.Ff=Ua(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,21)},set:function(t){t?this.Ff=qa(this.Ff,21):this.Ff=Ua(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,23)},set:function(t){t?this.Ff=qa(this.Ff,23):this.Ff=Ua(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,24)},set:function(t){t?this.Ff=qa(this.Ff,24):this.Ff=Ua(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,25)},set:function(t){t?this.Ff=qa(this.Ff,25):this.Ff=Ua(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,26)},set:function(t){t?this.Ff=qa(this.Ff,26):this.Ff=Ua(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Po(Rm,Rc);var hj=function(){Rm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!za(this.Ff,14)},set:function(e){e?this.Ff=qa(this.Ff,14):this.Ff=Ua(this.Ff,14)}}),this.password=!0};Po(hj,Rm);var Xt={CheckBox:{createAppearanceStream:function(){return{N:{On:Xt.CheckBox.YesNormal},D:{On:Xt.CheckBox.YesPushDown,Off:Xt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Hc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=ak(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Fr(Xt.internal.getWidth(e))+" "+Fr(Xt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Fr(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Hc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=Xt.internal.getHeight(e),o=Xt.internal.getWidth(e),l=ak(e,e.caption);return a.push("1 g"),a.push("0 0 "+Fr(o)+" "+Fr(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Fr(o-1)+" "+Fr(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Fr(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Hc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fr(Xt.internal.getWidth(e))+" "+Fr(Xt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Xt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Xt.RadioButton.Circle.YesNormal,t.D[e]=Xt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Hc(e);t.scope=e.scope;var r=[],n=Xt.internal.getWidth(e)<=Xt.internal.getHeight(e)?Xt.internal.getWidth(e)/4:Xt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Xt.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ff(Xt.internal.getWidth(e)/2)+" "+ff(Xt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Hc(e);t.scope=e.scope;var r=[],n=Xt.internal.getWidth(e)<=Xt.internal.getHeight(e)?Xt.internal.getWidth(e)/4:Xt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Xt.internal.Bezier_C).toFixed(5)),o=Number((n*Xt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ff(Xt.internal.getWidth(e)/2)+" "+ff(Xt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ff(Xt.internal.getWidth(e)/2)+" "+ff(Xt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Hc(e);t.scope=e.scope;var r=[],n=Xt.internal.getWidth(e)<=Xt.internal.getHeight(e)?Xt.internal.getWidth(e)/4:Xt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Xt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ff(Xt.internal.getWidth(e)/2)+" "+ff(Xt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Xt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Xt.RadioButton.Cross.YesNormal,t.D[e]=Xt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Hc(e);t.scope=e.scope;var r=[],n=Xt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Fr(Xt.internal.getWidth(e)-2)+" "+Fr(Xt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Fr(n.x1.x)+" "+Fr(n.x1.y)+" m"),r.push(Fr(n.x2.x)+" "+Fr(n.x2.y)+" l"),r.push(Fr(n.x4.x)+" "+Fr(n.x4.y)+" m"),r.push(Fr(n.x3.x)+" "+Fr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Hc(e);t.scope=e.scope;var r=Xt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Fr(Xt.internal.getWidth(e))+" "+Fr(Xt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Fr(Xt.internal.getWidth(e)-2)+" "+Fr(Xt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Fr(r.x1.x)+" "+Fr(r.x1.y)+" m"),n.push(Fr(r.x2.x)+" "+Fr(r.x2.y)+" l"),n.push(Fr(r.x4.x)+" "+Fr(r.x4.y)+" m"),n.push(Fr(r.x3.x)+" "+Fr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Hc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fr(Xt.internal.getWidth(e))+" "+Fr(Xt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Xt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Xt.internal.getWidth(e),r=Xt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Xt.internal.getWidth=function(e){var t=0;return kn(e)==="object"&&(t=T$(e.Rect[2])),t},Xt.internal.getHeight=function(e){var t=0;return kn(e)==="object"&&(t=T$(e.Rect[3])),t};var pUe=_a.addField=function(e){if(mUe(this,e),!(e instanceof Rc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};_a.AcroFormChoiceField=Y0,_a.AcroFormListBox=X0,_a.AcroFormComboBox=Q0,_a.AcroFormEditBox=uj,_a.AcroFormButton=Di,_a.AcroFormPushButton=dj,_a.AcroFormRadioButton=Z0,_a.AcroFormCheckBox=fj,_a.AcroFormTextField=Rm,_a.AcroFormPasswordField=hj,_a.AcroFormAppearance=Xt,_a.AcroForm={ChoiceField:Y0,ListBox:X0,ComboBox:Q0,EditBox:uj,Button:Di,PushButton:dj,RadioButton:Z0,CheckBox:fj,TextField:Rm,PasswordField:hj,Appearance:Xt},Jt.AcroForm={ChoiceField:Y0,ListBox:X0,ComboBox:Q0,EditBox:uj,Button:Di,PushButton:dj,RadioButton:Z0,CheckBox:fj,TextField:Rm,PasswordField:hj,Appearance:Xt};Jt.AcroForm;function Tte(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(T,C){var I,L,z,G,W,q=r;if((C=C||r)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(P(T))for(W in n)for(z=n[W],I=0;I<z.length;I+=1){for(G=!0,L=0;L<z[I].length;L+=1)if(z[I][L]!==void 0&&z[I][L]!==T[L]){G=!1;break}if(G===!0){q=W;break}}else for(W in n)for(z=n[W],I=0;I<z.length;I+=1){for(G=!0,L=0;L<z[I].length;L+=1)if(z[I][L]!==void 0&&z[I][L]!==T.charCodeAt(L)){G=!1;break}if(G===!0){q=W;break}}return q===r&&C!==r&&(q=C),q},s=function T(C){for(var I=this.internal.write,L=this.internal.putStream,z=(0,this.internal.getFilters)();z.indexOf("FlateEncode")!==-1;)z.splice(z.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var G=[];if(G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Image"}),G.push({key:"Width",value:C.width}),G.push({key:"Height",value:C.height}),C.colorSpace===v.INDEXED?G.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(G.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===v.DEVICE_CMYK&&G.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),G.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&G.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var W="",q=0,K=C.transparency.length;q<K;q++)W+=C.transparency[q]+" "+C.transparency[q]+" ";G.push({key:"Mask",value:"["+W+"]"})}C.sMask!==void 0&&G.push({key:"SMask",value:C.objectId+1+" 0 R"});var ae=C.filter!==void 0?["/"+C.filter]:void 0;if(L({data:C.data,additionalKeyValues:G,alreadyAppliedFilters:ae,objectId:C.objectId}),I("endobj"),"sMask"in C&&C.sMask!==void 0){var ie,O=(ie=C.sMaskBitsPerComponent)!==null&&ie!==void 0?ie:C.bitsPerComponent,V={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:C.sMask};"filter"in C&&(V.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(C.width),V.filter=C.filter),T.call(this,V)}if(C.colorSpace===v.INDEXED){var D=this.internal.newObject();L({data:S(new Uint8Array(C.palette)),objectId:D}),I("endobj")}},o=function(){var T=this.internal.collections[t+"images"];for(var C in T)s.call(this,T[C])},l=function(){var T,C=this.internal.collections[t+"images"],I=this.internal.write;for(var L in C)I("/I"+(T=C[L]).index,T.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var T=this.internal.collections[t+"images"];return c.call(this),T},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(T){return typeof e["process"+T.toUpperCase()]=="function"},h=function(T){return kn(T)==="object"&&T.nodeType===1},m=function(T,C){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var I=""+T.getAttribute("src");if(I.indexOf("data:image/")===0)return cj(unescape(I).split("base64,").pop());var L=e.loadFile(I,!0);if(L!==void 0)return L}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var z;switch(C){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;default:z="image/jpeg"}return cj(T.toDataURL(z,1).split("base64,").pop())}},g=function(T){var C=this.internal.collections[t+"images"];if(C){for(var I in C)if(T===C[I].alias)return C[I]}},p=function(T,C,I){return T||C||(T=-96,C=-96),T<0&&(T=-1*I.width*72/T/this.internal.scaleFactor),C<0&&(C=-1*I.height*72/C/this.internal.scaleFactor),T===0&&(T=C*I.width/I.height),C===0&&(C=T*I.height/I.width),[T,C]},x=function(T,C,I,L,z,G){var W=p.call(this,I,L,z),q=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,ae=u.call(this);if(I=W[0],L=W[1],ae[z.index]=z,G){G*=Math.PI/180;var ie=Math.cos(G),O=Math.sin(G),V=function(B){return B.toFixed(4)},D=[V(ie),V(O),V(-1*O),V(ie),0,0,"cm"]}this.internal.write("q"),G?(this.internal.write([1,"0","0",1,q(T),K(C+L),"cm"].join(" ")),this.internal.write(D.join(" ")),this.internal.write([q(I),"0","0",q(L),"0","0","cm"].join(" "))):this.internal.write([q(I),"0","0",q(L),q(T),K(C+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(T){var C,I,L=0;if(typeof T=="string")for(I=T.length,C=0;C<I;C++)L=(L<<5)-L+T.charCodeAt(C),L|=0;else if(P(T))for(I=T.byteLength/2,C=0;C<I;C++)L=(L<<5)-L+T[C],L|=0;return L},j=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var C=!0;return T.length===0&&(C=!1),T.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(C=!1),C},_=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var C=T.indexOf(",");return C<0?null:T.substring(0,C).trim().endsWith("base64")?T.substring(C+1):null};e.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var P=e.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},k=e.__addimage__.binaryStringToUint8Array=function(T){for(var C=T.length,I=new Uint8Array(C),L=0;L<C;L++)I[L]=T.charCodeAt(L);return I},S=e.__addimage__.arrayBufferToBinaryString=function(T){for(var C="",I=P(T)?T:new Uint8Array(T),L=0;L<I.length;L+=8192)C+=String.fromCharCode.apply(null,I.subarray(L,L+8192));return C};e.addImage=function(){var T,C,I,L,z,G,W,q,K;if(typeof arguments[1]=="number"?(C=r,I=arguments[1],L=arguments[2],z=arguments[3],G=arguments[4],W=arguments[5],q=arguments[6],K=arguments[7]):(C=arguments[1],I=arguments[2],L=arguments[3],z=arguments[4],G=arguments[5],W=arguments[6],q=arguments[7],K=arguments[8]),kn(T=arguments[0])==="object"&&!h(T)&&"imageData"in T){var ae=T;T=ae.imageData,C=ae.format||C||r,I=ae.x||I||0,L=ae.y||L||0,z=ae.w||ae.width||z,G=ae.h||ae.height||G,W=ae.alias||W,q=ae.compression||q,K=ae.rotation||ae.angle||K}var ie=this.internal.getFilters();if(q===void 0&&ie.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(I)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var O=E.call(this,T,C,W,q);return x.call(this,I,L,z,G,O,K),this};var E=function(T,C,I,L){var z,G,W;if(typeof T=="string"&&a(T)===r){T=unescape(T);var q=M(T,!1);(q!==""||(q=e.loadFile(T,!0))!==void 0)&&(T=q)}if(h(T)&&(T=m(T,C)),C=a(T,C),!f(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((W=I)==null||W.length===0)&&(I=function(K){return typeof K=="string"||P(K)?b(K):P(K.data)?b(K.data):null}(T)),(z=g.call(this,I))||(T instanceof Uint8Array||C==="RGBA"||(G=T,T=k(T)),z=this["process"+C.toUpperCase()](T,d.call(this),I,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in e.image_compression?K:y.NONE}(L),G)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},M=e.__addimage__.convertBase64ToBinaryString=function(T,C){C=typeof C!="boolean"||C;var I,L="";if(typeof T=="string"){var z;I=(z=_(T))!==null&&z!==void 0?z:T;try{L=cj(I)}catch(G){if(C)throw j(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+G.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return L};e.getImageProperties=function(T){var C,I,L="";if(h(T)&&(T=m(T)),typeof T=="string"&&a(T)===r&&((L=M(T,!1))===""&&(L=e.loadFile(T)||""),T=L),I=a(T),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(T instanceof Uint8Array||(T=k(T)),!(C=this["process"+I.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=I,C}})(Jt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Jt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var m=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(p.objId),y=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(v(n.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(v(y))+") >>",p.content=s;var b=p.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(p.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(g(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var P=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,a,s){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,l,o,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Jt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},l=e.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&s(p)&&t[p.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&a.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&s(p)&&t[p.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&s(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&s(p)&&t[p.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&s(p)&&t[p.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(p){var x=0,v=r,y="",b=0;for(x=0;x<p.length;x+=1)v[p.charCodeAt(x)]!==void 0?(b++,typeof(v=v[p.charCodeAt(x)])=="number"&&(y+=String.fromCharCode(v),v=r,b=0),x===p.length-1&&(v=r,y+=p.charAt(x-(b-1)),x-=b-1,b=0)):(v=r,y+=p.charAt(x-b),x-=b,b=0);return y};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(p,x,v){return o(p)?s(p)===!1?-1:!u(p)||!o(x)&&!o(v)||!o(v)&&l(x)||l(p)&&!o(x)||l(p)&&c(x)||l(p)&&l(x)?0:d(p)&&o(x)&&!l(x)&&o(v)&&u(v)?3:l(p)||!o(v)?1:2:-1},m=function(p){var x=0,v=0,y=0,b="",j="",_="",P=(p=p||"").split("\\s+"),k=[];for(x=0;x<P.length;x+=1){for(k.push(""),v=0;v<P[x].length;v+=1)b=P[x][v],j=P[x][v-1],_=P[x][v+1],o(b)?(y=h(b,j,_),k[x]+=y!==-1?String.fromCharCode(t[b.charCodeAt(0)][y]):b):k[x]+=b;k[x]=f(k[x])}return k.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var p,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var y=0;for(v=[],y=0;y<x.length;y+=1)Array.isArray(x[y])?v.push([m(x[y][0]),x[y][1],x[y][2]]):v.push([m(x[y])]);p=v}else p=m(x);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",g])}(Jt.API),Jt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Jt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(p){m=p}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(p){g=p}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,m=0,g=0,p=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=u.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,j){return b.concat(x.splitTextToSize(j,v))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)m<(p=this.getStringUnitWidth(c[y],{font:f})*d)&&(m=p);return m!==0&&(g=c.length),{w:m/=h,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,g,p,x,v=[],y=[],b=[],j={},_={},P=[],k=[],S=(h=h||{}).autoSize||!1,E=h.printHeaders!==!1,M=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,T=h.margins||Object.assign({width:this.getPageWidth()},t),C=typeof h.padding=="number"?h.padding:3,I=h.headerBackgroundColor||"#c8c8c8",L=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=L,this.setFontSize(M),f==null)y=v=Object.keys(d[0]),b=v.map(function(){return"left"});else if(Array.isArray(f)&&kn(f[0])==="object")for(v=f.map(function(ae){return ae.name}),y=f.map(function(ae){return ae.prompt||ae.name||""}),b=f.map(function(ae){return ae.align||"left"}),m=0;m<f.length;m+=1)_[f[m].name]=.7499990551181103*f[m].width;else Array.isArray(f)&&typeof f[0]=="string"&&(y=v=f,b=v.map(function(){return"left"}));if(S||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<v.length;m+=1){for(j[x=v[m]]=d.map(function(ae){return ae[x]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(y[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=j[x],this.setFont(void 0,"normal"),p=0;p<g.length;p+=1)P.push(this.getTextDimensions(g[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[x]=Math.max.apply(null,P)+C+C,P=[]}if(E){var z={};for(m=0;m<v.length;m+=1)z[v[m]]={},z[v[m]].text=y[m],z[v[m]].align=b[m];var G=l.call(this,z,_);k=v.map(function(ae){return new s(c,u,_[ae],G,z[ae].text,void 0,z[ae].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var W=f.reduce(function(ae,ie){return ae[ie.name]=ie.align,ae},{});for(m=0;m<d.length;m+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:m,data:d[m]},this);var q=l.call(this,d[m],_);for(p=0;p<v.length;p+=1){var K=d[m][v[p]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:m,col:p,data:K},this),o.call(this,new s(c,u,_[v[p]],q,K,m+2,W[v[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(m){var g=c[m];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/h+d+d},this).reduce(function(m,g){return Math.max(m,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Jt.API);var Ote={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Dte=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ik=Tte(Dte),Ite=[100,200,300,400,500,600,700,800,900],gUe=Tte(Ite);function h3(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return Ote[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),a=function(s){return typeof ik[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function O$(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var xUe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},D$={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function I$(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function F$(e){return e.trimLeft()}function vUe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function yUe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var _w,R$,M$,Jp,Sw,L$,$$,B$,m3=["times"];function z$(e,t,r,n,a){var s=4,o=U$;switch(a){case Jt.API.image_compression.FAST:s=1,o=q$;break;case Jt.API.image_compression.MEDIUM:s=6,o=V$;break;case Jt.API.image_compression.SLOW:s=9,o=W$}e=function(c,u,d,f){for(var h,m=c.length/u,g=new Uint8Array(c.length+m),p=[bUe,q$,U$,V$,W$],x=0;x<m;x+=1){var v=x*u,y=c.subarray(v,v+u);if(f)g.set(f(y,d,h),v+x);else{for(var b=p.length,j=[],_=0;_<b;_+=1)j[_]=p[_](y,d,h);var P=jUe(j.concat());g.set(j[P],v+x)}h=y}return g}(e,t,Math.ceil(r*n/8),o);var l=ZP(e,{level:s});return Jt.API.__addimage__.arrayBufferToBinaryString(l)}function bUe(e){var t=Array.apply([],e);return t.unshift(0),t}function q$(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var s=e[a-t]||0;n[a+1]=e[a]-s+256&255}return n}function U$(e,t,r){var n=e.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;a[s+1]=e[s]-o+256&255}return a}function V$(e,t,r){var n=e.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var o=e[s-t]||0,l=r&&r[s]||0;a[s+1]=e[s]+256-(o+l>>>1)&255}return a}function W$(e,t,r){var n=e.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var o=wUe(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);a[s+1]=e[s]-o+256&255}return a}function wUe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=a&&n<=s?e:a<=s?t:r}function jUe(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function p3(e,t,r){var n=t*r,a=Math.floor(n/8),s=16-(n-8*a+r),o=(1<<r)-1;return Fte(e,a)>>s&o}function H$(e,t,r,n){var a=r*n,s=Math.floor(a/8),o=16-(a-8*s+n),l=(1<<n)-1,c=(t&l)<<o;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var h=f>>8&255;u.setUint8(d,h)}})(e,s,Fte(e,s)&~(l<<o)&65535|c)}function Fte(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function NUe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;s&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,h=null,m=0,g=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],1&p||(h=null),m=p>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,j=e[t++],_=j>>6&1,P=1<<1+(7&j),k=l,S=c,E=!1;j>>7&&(E=!0,k=t,S=P,t+=3*P);var M=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}d.push({x,y:v,width:y,height:b,has_local_palette:E,palette_offset:k,palette_size:S,data_offset:M,data_length:t-M,transparent_index:h,interlaced:!!_,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(C){if(C<0||C>=d.length)throw new Error("Frame index out of range.");return d[C]},this.decodeAndBlitFrameBGRA=function(C,I){var L=this.frameInfo(C),z=L.width*L.height,G=new Uint8Array(z);G$(e,L.data_offset,G,z);var W=L.palette_offset,q=L.transparent_index;q===null&&(q=256);var K=L.width,ae=r-K,ie=K,O=4*(L.y*r+L.x),V=4*((L.y+L.height)*r+L.x),D=O,B=4*ae;L.interlaced===!0&&(B+=4*r*7);for(var Q=8,Y=0,ee=G.length;Y<ee;++Y){var X=G[Y];if(ie===0&&(ie=K,(D+=B)>=V&&(B=4*ae+4*r*(Q-1),D=O+(K+ae)*(Q<<1),Q>>=1)),X===q)D+=4;else{var U=e[W+3*X],me=e[W+3*X+1],oe=e[W+3*X+2];I[D++]=oe,I[D++]=me,I[D++]=U,I[D++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(C,I){var L=this.frameInfo(C),z=L.width*L.height,G=new Uint8Array(z);G$(e,L.data_offset,G,z);var W=L.palette_offset,q=L.transparent_index;q===null&&(q=256);var K=L.width,ae=r-K,ie=K,O=4*(L.y*r+L.x),V=4*((L.y+L.height)*r+L.x),D=O,B=4*ae;L.interlaced===!0&&(B+=4*r*7);for(var Q=8,Y=0,ee=G.length;Y<ee;++Y){var X=G[Y];if(ie===0&&(ie=K,(D+=B)>=V&&(B=4*ae+4*r*(Q-1),D=O+(K+ae)*(Q<<1),Q>>=1)),X===q)D+=4;else{var U=e[W+3*X],me=e[W+3*X+1],oe=e[W+3*X+2];I[D++]=U,I[D++]=me,I[D++]=oe,I[D++]=255}--ie}}}function G$(e,t,r,n){for(var a=e[t++],s=1<<a,o=s+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,m=e[t++],g=new Int32Array(4096),p=null;;){for(;d<16&&m!==0;)f|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==s){if(x===o)break;for(var v=x<l?x:p,y=0,b=v;b>s;)b=g[b]>>8,++y;var j=b;if(h+y+(v!==x?1:0)>n)return void Un.log("Warning, gif stream longer than expected.");r[h++]=j;var _=h+=y;for(v!==x&&(r[h++]=j),b=v;y--;)b=g[b],r[--_]=255&b,b>>=8;p!==null&&l<4096&&(g[l++]=p<<8|j,l>=u+1&&c<12&&(++c,u=u<<1|1)),p=x}else l=o+1,u=(1<<(c=a+1))-1,p=null}return h!==n&&Un.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function g3(e){var t,r,n,a,s,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),m=new Array(64),g=new Array(64),p=[],x=0,v=7,y=new Array(64),b=new Array(64),j=new Array(64),_=new Array(256),P=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function G(O,V){for(var D=0,B=0,Q=new Array,Y=1;Y<=16;Y++){for(var ee=1;ee<=O[Y];ee++)Q[V[B]]=[],Q[V[B]][0]=D,Q[V[B]][1]=Y,B++,D++;D*=2}return Q}function W(O){for(var V=O[0],D=O[1]-1;D>=0;)V&1<<D&&(x|=1<<v),D--,--v<0&&(x==255?(q(255),q(0)):q(x),v=7,x=0)}function q(O){p.push(O)}function K(O){q(O>>8&255),q(255&O)}function ae(O,V,D,B,Q){for(var Y,ee=Q[0],X=Q[240],U=function(Ee,rt){var ot,ge,ke,Be,Xe,et,ct,dt,Nt,$t,Tt=0;for(Nt=0;Nt<8;++Nt){ot=Ee[Tt],ge=Ee[Tt+1],ke=Ee[Tt+2],Be=Ee[Tt+3],Xe=Ee[Tt+4],et=Ee[Tt+5],ct=Ee[Tt+6];var rn=ot+(dt=Ee[Tt+7]),Vr=ot-dt,Vt=ge+ct,dr=ge-ct,nn=ke+et,lr=ke-et,Dr=Be+Xe,pr=Be-Xe,Ve=rn+Dr,Ot=rn-Dr,cr=Vt+nn,Wt=Vt-nn;Ee[Tt]=Ve+cr,Ee[Tt+4]=Ve-cr;var Qt=.707106781*(Wt+Ot);Ee[Tt+2]=Ot+Qt,Ee[Tt+6]=Ot-Qt;var Fn=.382683433*((Ve=pr+lr)-(Wt=dr+Vr)),Kr=.5411961*Ve+Fn,Vi=1.306562965*Wt+Fn,Wi=.707106781*(cr=lr+dr),ur=Vr+Wi,oo=Vr-Wi;Ee[Tt+5]=oo+Kr,Ee[Tt+3]=oo-Kr,Ee[Tt+1]=ur+Vi,Ee[Tt+7]=ur-Vi,Tt+=8}for(Tt=0,Nt=0;Nt<8;++Nt){ot=Ee[Tt],ge=Ee[Tt+8],ke=Ee[Tt+16],Be=Ee[Tt+24],Xe=Ee[Tt+32],et=Ee[Tt+40],ct=Ee[Tt+48];var Fs=ot+(dt=Ee[Tt+56]),Bn=ot-dt,va=ge+ct,Rn=ge-ct,ua=ke+et,te=ke-et,be=Be+Xe,ue=Be-Xe,pe=Fs+be,we=Fs-be,Ne=va+ua,We=va-ua;Ee[Tt]=pe+Ne,Ee[Tt+32]=pe-Ne;var tt=.707106781*(We+we);Ee[Tt+16]=we+tt,Ee[Tt+48]=we-tt;var He=.382683433*((pe=ue+te)-(We=Rn+Bn)),Ge=.5411961*pe+He,Qe=1.306562965*We+He,vt=.707106781*(Ne=te+Rn),Et=Bn+vt,Lt=Bn-vt;Ee[Tt+40]=Lt+Ge,Ee[Tt+24]=Lt-Ge,Ee[Tt+8]=Et+Qe,Ee[Tt+56]=Et-Qe,Tt++}for(Nt=0;Nt<64;++Nt)$t=Ee[Nt]*rt[Nt],m[Nt]=$t>0?$t+.5|0:$t-.5|0;return m}(O,V),me=0;me<64;++me)g[k[me]]=U[me];var oe=g[0]-D;D=g[0],oe==0?W(B[0]):(W(B[h[Y=32767+oe]]),W(f[Y]));for(var Se=63;Se>0&&g[Se]==0;)Se--;if(Se==0)return W(ee),D;for(var _e,se=1;se<=Se;){for(var ft=se;g[se]==0&&se<=Se;)++se;var de=se-ft;if(de>=16){_e=de>>4;for(var ce=1;ce<=_e;++ce)W(X);de&=15}Y=32767+g[se],W(Q[(de<<4)+h[Y]]),W(f[Y]),se++}return Se!=63&&W(ee),D}function ie(O){O=Math.min(Math.max(O,1),100),s!=O&&(function(V){for(var D=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],B=0;B<64;B++){var Q=o((D[B]*V+50)/100);Q=Math.min(Math.max(Q,1),255),l[k[B]]=Q}for(var Y=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ee=0;ee<64;ee++){var X=o((Y[ee]*V+50)/100);X=Math.min(Math.max(X,1),255),c[k[ee]]=X}for(var U=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],me=0,oe=0;oe<8;oe++)for(var Se=0;Se<8;Se++)u[me]=1/(l[k[me]]*U[oe]*U[Se]*8),d[me]=1/(c[k[me]]*U[oe]*U[Se]*8),me++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),s=O)}this.encode=function(O,V){V&&ie(V),p=new Array,x=0,v=7,K(65496),K(65504),K(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),K(1),K(1),q(0),q(0),function(){K(65499),K(132),q(0);for(var ge=0;ge<64;ge++)q(l[ge]);q(1);for(var ke=0;ke<64;ke++)q(c[ke])}(),function(ge,ke){K(65472),K(17),q(8),K(ke),K(ge),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(O.width,O.height),function(){K(65476),K(418),q(0);for(var ge=0;ge<16;ge++)q(S[ge+1]);for(var ke=0;ke<=11;ke++)q(E[ke]);q(16);for(var Be=0;Be<16;Be++)q(M[Be+1]);for(var Xe=0;Xe<=161;Xe++)q(T[Xe]);q(1);for(var et=0;et<16;et++)q(C[et+1]);for(var ct=0;ct<=11;ct++)q(I[ct]);q(17);for(var dt=0;dt<16;dt++)q(L[dt+1]);for(var Nt=0;Nt<=161;Nt++)q(z[Nt])}(),K(65498),K(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var D=0,B=0,Q=0;x=0,v=7,this.encode.displayName="_encode_";for(var Y,ee,X,U,me,oe,Se,_e,se,ft=O.data,de=O.width,ce=O.height,Ee=4*de,rt=0;rt<ce;){for(Y=0;Y<Ee;){for(me=Ee*rt+Y,Se=-1,_e=0,se=0;se<64;se++)oe=me+(_e=se>>3)*Ee+(Se=4*(7&se)),rt+_e>=ce&&(oe-=Ee*(rt+1+_e-ce)),Y+Se>=Ee&&(oe-=Y+Se-Ee+4),ee=ft[oe++],X=ft[oe++],U=ft[oe++],y[se]=(P[ee]+P[X+256|0]+P[U+512|0]>>16)-128,b[se]=(P[ee+768|0]+P[X+1024|0]+P[U+1280|0]>>16)-128,j[se]=(P[ee+1280|0]+P[X+1536|0]+P[U+1792|0]>>16)-128;D=ae(y,u,D,t,n),B=ae(b,d,B,r,a),Q=ae(j,d,Q,r,a),Y+=32}rt+=8}if(v>=0){var ot=[];ot[1]=v+1,ot[0]=(1<<v+1)-1,W(ot)}return K(65497),new Uint8Array(p)},e=e||50,function(){for(var O=String.fromCharCode,V=0;V<256;V++)_[V]=O(V)}(),t=G(S,E),r=G(C,I),n=G(M,T),a=G(L,z),function(){for(var O=1,V=2,D=1;D<=15;D++){for(var B=O;B<V;B++)h[32767+B]=D,f[32767+B]=[],f[32767+B][1]=D,f[32767+B][0]=B;for(var Q=-(V-1);Q<=-O;Q++)h[32767+Q]=D,f[32767+Q]=[],f[32767+Q][1]=D,f[32767+Q][0]=V-1+Q;O<<=1,V<<=1}}(),function(){for(var O=0;O<256;O++)P[O]=19595*O,P[O+256|0]=38470*O,P[O+512|0]=7471*O+32768,P[O+768|0]=-11059*O,P[O+1024|0]=-21709*O,P[O+1280|0]=32768*O+8421375,P[O+1536|0]=-27439*O,P[O+1792|0]=-5329*O}(),ie(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function tc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function K$(e){function t(E){if(!E)throw Error("assert :P")}function r(E,M,T){for(var C=0;4>C;C++)if(E[M+C]!=T.charCodeAt(C))return!0;return!1}function n(E,M,T,C,I){for(var L=0;L<I;L++)E[M+L]=T[C+L]}function a(E,M,T,C){for(var I=0;I<C;I++)E[M+I]=T}function s(E){return new Int32Array(E)}function o(E,M){for(var T=[],C=0;C<E;C++)T.push(new M);return T}function l(E,M){var T=[];return function C(I,L,z){for(var G=z[L],W=0;W<G&&(I.push(z.length>L+1?[]:new M),!(z.length<L+1));W++)C(I[W],L+1,z)}(T,0,E),T}var c=function(){var E=this;function M(w,A){for(var R=1<<A-1>>>0;w&R;)R>>>=1;return R?(w&R-1)+R:w}function T(w,A,R,H,J){t(!(H%R));do w[A+(H-=R)]=J;while(0<H)}function C(w,A,R,H,J){if(t(2328>=J),512>=J)var re=s(512);else if((re=s(J))==null)return 0;return function(ne,le,fe,xe,Re,Ye){var ve,Le,ze=le,at=1<<fe,Ke=s(16),st=s(16);for(t(Re!=0),t(xe!=null),t(ne!=null),t(0<fe),Le=0;Le<Re;++Le){if(15<xe[Le])return 0;++Ke[xe[Le]]}if(Ke[0]==Re)return 0;for(st[1]=0,ve=1;15>ve;++ve){if(Ke[ve]>1<<ve)return 0;st[ve+1]=st[ve]+Ke[ve]}for(Le=0;Le<Re;++Le)ve=xe[Le],0<xe[Le]&&(Ye[st[ve]++]=Le);if(st[15]==1)return(xe=new I).g=0,xe.value=Ye[0],T(ne,ze,1,at,xe),at;var ut,wt=-1,gt=at-1,sr=0,Yt=1,zr=1,er=1<<fe;for(Le=0,ve=1,Re=2;ve<=fe;++ve,Re<<=1){if(Yt+=zr<<=1,0>(zr-=Ke[ve]))return 0;for(;0<Ke[ve];--Ke[ve])(xe=new I).g=ve,xe.value=Ye[Le++],T(ne,ze+sr,Re,er,xe),sr=M(sr,ve)}for(ve=fe+1,Re=2;15>=ve;++ve,Re<<=1){if(Yt+=zr<<=1,0>(zr-=Ke[ve]))return 0;for(;0<Ke[ve];--Ke[ve]){if(xe=new I,(sr&gt)!=wt){for(ze+=er,ut=1<<(wt=ve)-fe;15>wt&&!(0>=(ut-=Ke[wt]));)++wt,ut<<=1;at+=er=1<<(ut=wt-fe),ne[le+(wt=sr&gt)].g=ut+fe,ne[le+wt].value=ze-le-wt}xe.g=ve-fe,xe.value=Ye[Le++],T(ne,ze+(sr>>fe),Re,er,xe),sr=M(sr,ve)}}return Yt!=2*st[15]-1?0:at}(w,A,R,H,J,re)}function I(){this.value=this.g=0}function L(){this.value=this.g=0}function z(){this.G=o(5,I),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Vh,L)}function G(w,A,R,H){t(w!=null),t(A!=null),t(2147483648>H),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=A,w.pa=R,w.Jd=A,w.Yc=R+H,w.Zc=4<=H?R+H-4+1:R,ee(w)}function W(w,A){for(var R=0;0<A--;)R|=U(w,128)<<A;return R}function q(w,A){var R=W(w,A);return X(w)?-R:R}function K(w,A,R,H){var J,re=0;for(t(w!=null),t(A!=null),t(4294967288>H),w.Sb=H,w.Ra=0,w.u=0,w.h=0,4<H&&(H=4),J=0;J<H;++J)re+=A[R+J]<<8*J;w.Ra=re,w.bb=H,w.oa=A,w.pa=R}function ae(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<Kd-8>>>0,++w.bb,w.u-=8;B(w)&&(w.h=1,w.u=0)}function ie(w,A){if(t(0<=A),!w.h&&A<=Oo){var R=D(w)&To[A];return w.u+=A,ae(w),R}return w.h=1,w.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function D(w){return w.Ra>>>(w.u&Kd-1)>>>0}function B(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>Kd}function Q(w,A){w.u=A,w.h=B(w)}function Y(w){w.u>=Ou&&(t(w.u>=Ou),ae(w))}function ee(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function X(w){return W(w,1)}function U(w,A){var R=w.Ca;0>w.b&&ee(w);var H=w.b,J=R*A>>>8,re=(w.I>>>H>J)+0;for(re?(R-=J,w.I-=J+1<<H>>>0):R=J+1,H=R,J=0;256<=H;)J+=8,H>>=8;return H=7^J+Yd[H],w.b-=H,w.Ca=(R<<H)-1,re}function me(w,A,R){w[A+0]=R>>24&255,w[A+1]=R>>16&255,w[A+2]=R>>8&255,w[A+3]=255&R}function oe(w,A){return w[A+0]|w[A+1]<<8}function Se(w,A){return oe(w,A)|w[A+2]<<16}function _e(w,A){return oe(w,A)|oe(w,A+2)<<16}function se(w,A){var R=1<<A;return t(w!=null),t(0<A),w.X=s(R),w.X==null?0:(w.Mb=32-A,w.Xa=A,1)}function ft(w,A){t(w!=null),t(A!=null),t(w.Xa==A.Xa),n(A.X,0,w.X,0,1<<A.Xa)}function de(){this.X=[],this.Xa=this.Mb=0}function ce(w,A,R,H){t(R!=null),t(H!=null);var J=R[0],re=H[0];return J==0&&(J=(w*re+A/2)/A),re==0&&(re=(A*J+w/2)/w),0>=J||0>=re?0:(R[0]=J,H[0]=re,1)}function Ee(w,A){return w+(1<<A)-1>>>A}function rt(w,A){return((4278255360&w)+(4278255360&A)>>>0&4278255360)+((16711935&w)+(16711935&A)>>>0&16711935)>>>0}function ot(w,A){E[A]=function(R,H,J,re,ne,le,fe){var xe;for(xe=0;xe<ne;++xe){var Re=E[w](le[fe+xe-1],J,re+xe);le[fe+xe]=rt(R[H+xe],Re)}}}function ge(){this.ud=this.hd=this.jd=0}function ke(w,A){return((4278124286&(w^A))>>>1)+(w&A)>>>0}function Be(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Xe(w,A){return Be(w+(w-A+.5>>1))}function et(w,A,R){return Math.abs(A-R)-Math.abs(w-R)}function ct(w,A,R,H,J,re,ne){for(H=re[ne-1],R=0;R<J;++R)re[ne+R]=H=rt(w[A+R],H)}function dt(w,A,R,H,J){var re;for(re=0;re<R;++re){var ne=w[A+re],le=ne>>8&255,fe=16711935&(fe=(fe=16711935&ne)+((le<<16)+le));H[J+re]=(4278255360&ne)+fe>>>0}}function Nt(w,A){A.jd=255&w,A.hd=w>>8&255,A.ud=w>>16&255}function $t(w,A,R,H,J,re){var ne;for(ne=0;ne<H;++ne){var le=A[R+ne],fe=le>>>8,xe=le,Re=255&(Re=(Re=le>>>16)+((w.jd<<24>>24)*(fe<<24>>24)>>>5));xe=255&(xe=(xe+=(w.hd<<24>>24)*(fe<<24>>24)>>>5)+((w.ud<<24>>24)*(Re<<24>>24)>>>5)),J[re+ne]=(4278255360&le)+(Re<<16)+xe}}function Tt(w,A,R,H,J){E[A]=function(re,ne,le,fe,xe,Re,Ye,ve,Le){for(fe=Ye;fe<ve;++fe)for(Ye=0;Ye<Le;++Ye)xe[Re++]=J(le[H(re[ne++])])},E[w]=function(re,ne,le,fe,xe,Re,Ye){var ve=8>>re.b,Le=re.Ea,ze=re.K[0],at=re.w;if(8>ve)for(re=(1<<re.b)-1,at=(1<<ve)-1;ne<le;++ne){var Ke,st=0;for(Ke=0;Ke<Le;++Ke)Ke&re||(st=H(fe[xe++])),Re[Ye++]=J(ze[st&at]),st>>=ve}else E["VP8LMapColor"+R](fe,xe,ze,at,Re,Ye,ne,le,Le)}}function rn(w,A,R,H,J){for(R=A+R;A<R;){var re=w[A++];H[J++]=re>>16&255,H[J++]=re>>8&255,H[J++]=255&re}}function Vr(w,A,R,H,J){for(R=A+R;A<R;){var re=w[A++];H[J++]=re>>16&255,H[J++]=re>>8&255,H[J++]=255&re,H[J++]=re>>24&255}}function Vt(w,A,R,H,J){for(R=A+R;A<R;){var re=(ne=w[A++])>>16&240|ne>>12&15,ne=240&ne|ne>>28&15;H[J++]=re,H[J++]=ne}}function dr(w,A,R,H,J){for(R=A+R;A<R;){var re=(ne=w[A++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;H[J++]=re,H[J++]=ne}}function nn(w,A,R,H,J){for(R=A+R;A<R;){var re=w[A++];H[J++]=255&re,H[J++]=re>>8&255,H[J++]=re>>16&255}}function lr(w,A,R,H,J,re){if(re==0)for(R=A+R;A<R;)me(H,((re=w[A++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),J+=32;else n(H,J,w,A,R)}function Dr(w,A){E[A][0]=E[w+"0"],E[A][1]=E[w+"1"],E[A][2]=E[w+"2"],E[A][3]=E[w+"3"],E[A][4]=E[w+"4"],E[A][5]=E[w+"5"],E[A][6]=E[w+"6"],E[A][7]=E[w+"7"],E[A][8]=E[w+"8"],E[A][9]=E[w+"9"],E[A][10]=E[w+"10"],E[A][11]=E[w+"11"],E[A][12]=E[w+"12"],E[A][13]=E[w+"13"],E[A][14]=E[w+"0"],E[A][15]=E[w+"0"]}function pr(w){return w==g4||w==x4||w==v2||w==v4}function Ve(){this.eb=[],this.size=this.A=this.fb=0}function Ot(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function cr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ve,this.f.kb=new Ot,this.sd=null}function Wt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Fn(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Kr(w,A){var R=w.T,H=A.ba.f.RGBA,J=H.eb,re=H.fb+w.ka*H.A,ne=jl[A.ba.S],le=w.y,fe=w.O,xe=w.f,Re=w.N,Ye=w.ea,ve=w.W,Le=A.cc,ze=A.dc,at=A.Mc,Ke=A.Nc,st=w.ka,ut=w.ka+w.T,wt=w.U,gt=wt+1>>1;for(st==0?ne(le,fe,null,null,xe,Re,Ye,ve,xe,Re,Ye,ve,J,re,null,null,wt):(ne(A.ec,A.fc,le,fe,Le,ze,at,Ke,xe,Re,Ye,ve,J,re-H.A,J,re,wt),++R);st+2<ut;st+=2)Le=xe,ze=Re,at=Ye,Ke=ve,Re+=w.Rc,ve+=w.Rc,re+=2*H.A,ne(le,(fe+=2*w.fa)-w.fa,le,fe,Le,ze,at,Ke,xe,Re,Ye,ve,J,re-H.A,J,re,wt);return fe+=w.fa,w.j+ut<w.o?(n(A.ec,A.fc,le,fe,wt),n(A.cc,A.dc,xe,Re,gt),n(A.Mc,A.Nc,Ye,ve,gt),R--):1&ut||ne(le,fe,null,null,xe,Re,Ye,ve,xe,Re,Ye,ve,J,re+H.A,null,null,wt),R}function Vi(w,A,R){var H=w.F,J=[w.J];if(H!=null){var re=w.U,ne=A.ba.S,le=ne==x2||ne==v2;A=A.ba.f.RGBA;var fe=[0],xe=w.ka;fe[0]=w.T,w.Kb&&(xe==0?--fe[0]:(--xe,J[0]-=w.width),w.j+w.ka+w.T==w.o&&(fe[0]=w.o-w.j-xe));var Re=A.eb;xe=A.fb+xe*A.A,w=ND(H,J[0],w.width,re,fe,Re,xe+(le?0:3),A.A),t(R==fe),w&&pr(ne)&&sv(Re,xe,le,re,fe,A.A)}return 0}function Wi(w){var A=w.ma,R=A.ba.S,H=11>R,J=R==p2||R==g2||R==x2||R==p4||R==12||pr(R);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Zx(A.Oa,w,J?11:12))return 0;if(J&&pr(R)&&c2(),w.da)alert("todo:use_scaling");else{if(H){if(A.Ib=Fn,w.Kb){if(R=w.U+1>>1,A.memory=s(w.U+2*R),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+w.U,A.Mc=A.cc,A.Nc=A.dc+R,A.Ib=Kr,c2()}}else alert("todo:EmitYUV");J&&(A.Jb=Vi,H&&vl())}if(H&&!$D){for(w=0;256>w;++w)ole[w]=89858*(w-128)+b2>>y2,ule[w]=-22014*(w-128)+b2,cle[w]=-45773*(w-128),lle[w]=113618*(w-128)+b2>>y2;for(w=lv;w<w4;++w)A=76283*(w-16)+b2>>y2,dle[w-lv]=ba(A,255),fle[w-lv]=ba(A+8>>4,15);$D=1}return 1}function ur(w){var A=w.ma,R=w.U,H=w.T;return t(!(1&w.ka)),0>=R||0>=H?0:(R=A.Ib(w,A),A.Jb!=null&&A.Jb(w,A,R),A.Dc+=R,1)}function oo(w){w.ma.memory=null}function Fs(w,A,R,H){return ie(w,8)!=47?0:(A[0]=ie(w,14)+1,R[0]=ie(w,14)+1,H[0]=ie(w,1),ie(w,3)!=0?0:!w.h)}function Bn(w,A){if(4>w)return w+1;var R=w-2>>1;return(2+(1&w)<<R)+ie(A,R)+1}function va(w,A){return 120<A?A-120:1<=(R=((R=Goe[A-1])>>4)*w+(8-(15&R)))?R:1;var R}function Rn(w,A,R){var H=D(R),J=w[A+=255&H].g-8;return 0<J&&(Q(R,R.u+8),H=D(R),A+=w[A].value,A+=H&(1<<J)-1),Q(R,R.u+w[A].g),w[A].value}function ua(w,A,R){return R.g+=w.g,R.value+=w.value<<A>>>0,t(8>=R.g),w.g}function te(w,A,R){var H=w.xc;return t((A=H==0?0:w.vc[w.md*(R>>H)+(A>>H)])<w.Wb),w.Ya[A]}function be(w,A,R,H){var J=w.ab,re=w.c*A,ne=w.C;A=ne+A;var le=R,fe=H;for(H=w.Ta,R=w.Ua;0<J--;){var xe=w.gc[J],Re=ne,Ye=A,ve=le,Le=fe,ze=(fe=H,le=R,xe.Ea);switch(t(Re<Ye),t(Ye<=xe.nc),xe.hc){case 2:Oa(ve,Le,(Ye-Re)*ze,fe,le);break;case 0:var at=Re,Ke=Ye,st=fe,ut=le,wt=(er=xe).Ea;at==0&&(ev(ve,Le,null,null,1,st,ut),ct(ve,Le+1,0,0,wt-1,st,ut+1),Le+=wt,ut+=wt,++at);for(var gt=1<<er.b,sr=gt-1,Yt=Ee(wt,er.b),zr=er.K,er=er.w+(at>>er.b)*Yt;at<Ke;){var Jr=zr,mi=er,qr=1;for(Mp(ve,Le,st,ut-wt,1,st,ut);qr<wt;){var tr=(qr&~sr)+gt;tr>wt&&(tr=wt),(0,rv[Jr[mi++]>>8&15])(ve,Le+ +qr,st,ut+qr-wt,tr-qr,st,ut+qr),qr=tr}Le+=wt,ut+=wt,++at&sr||(er+=Yt)}Ye!=xe.nc&&n(fe,le-ze,fe,le+(Ye-Re-1)*ze,ze);break;case 1:for(ze=ve,Ke=Le,wt=(ve=xe.Ea)-(ut=ve&~(st=(Le=1<<xe.b)-1)),at=Ee(ve,xe.b),gt=xe.K,xe=xe.w+(Re>>xe.b)*at;Re<Ye;){for(sr=gt,Yt=xe,zr=new ge,er=Ke+ut,Jr=Ke+ve;Ke<er;)Nt(sr[Yt++],zr),nv(zr,ze,Ke,Le,fe,le),Ke+=Le,le+=Le;Ke<Jr&&(Nt(sr[Yt++],zr),nv(zr,ze,Ke,wt,fe,le),Ke+=wt,le+=wt),++Re&st||(xe+=at)}break;case 3:if(ve==fe&&Le==le&&0<xe.b){for(Ke=fe,ve=ze=le+(Ye-Re)*ze-(ut=(Ye-Re)*Ee(xe.Ea,xe.b)),Le=fe,st=le,at=[],ut=(wt=ut)-1;0<=ut;--ut)at[ut]=Le[st+ut];for(ut=wt-1;0<=ut;--ut)Ke[ve+ut]=at[ut];d2(xe,Re,Ye,fe,ze,fe,le)}else d2(xe,Re,Ye,ve,Le,fe,le)}le=H,fe=R}fe!=R&&n(H,R,le,fe,re)}function ue(w,A){var R=w.V,H=w.Ba+w.c*w.C,J=A-w.C;if(t(A<=w.l.o),t(16>=J),0<J){var re=w.l,ne=w.Ta,le=w.Ua,fe=re.width;if(be(w,J,R,H),J=le=[le],t((R=w.C)<(H=A)),t(re.v<re.va),H>re.o&&(H=re.o),R<re.j){var xe=re.j-R;R=re.j,J[0]+=xe*fe}if(R>=H?R=0:(J[0]+=4*re.v,re.ka=R-re.j,re.U=re.va-re.v,re.T=H-R,R=1),R){if(le=le[0],11>(R=w.ca).S){var Re=R.f.RGBA,Ye=(H=R.S,J=re.U,re=re.T,xe=Re.eb,Re.A),ve=re;for(Re=Re.fb+w.Ma*Re.A;0<ve--;){var Le=ne,ze=le,at=J,Ke=xe,st=Re;switch(H){case m2:av(Le,ze,at,Ke,st);break;case p2:Xd(Le,ze,at,Ke,st);break;case g4:Xd(Le,ze,at,Ke,st),sv(Ke,st,0,at,1,0);break;case kD:Wh(Le,ze,at,Ke,st);break;case g2:lr(Le,ze,at,Ke,st,1);break;case x4:lr(Le,ze,at,Ke,st,1),sv(Ke,st,0,at,1,0);break;case x2:lr(Le,ze,at,Ke,st,0);break;case v2:lr(Le,ze,at,Ke,st,0),sv(Ke,st,1,at,1,0);break;case p4:Qd(Le,ze,at,Ke,st);break;case v4:Qd(Le,ze,at,Ke,st),jD(Ke,st,at,1,0);break;case TD:Zd(Le,ze,at,Ke,st);break;default:t(0)}le+=fe,Re+=Ye}w.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=R.height)}}w.C=A,t(w.C<=w.i)}function pe(w){var A;if(0<w.ua)return 0;for(A=0;A<w.Wb;++A){var R=w.Ya[A].G,H=w.Ya[A].H;if(0<R[1][H[1]+0].g||0<R[2][H[2]+0].g||0<R[3][H[3]+0].g)return 0}return 1}function we(w,A,R,H,J,re){if(w.Z!=0){var ne=w.qd,le=w.rd;for(t(tf[w.Z]!=null);A<R;++A)tf[w.Z](ne,le,H,J,H,J,re),ne=H,le=J,J+=re;w.qd=ne,w.rd=le}}function Ne(w,A){var R=w.l.ma,H=R.Z==0||R.Z==1?w.l.j:w.C;if(H=w.C<H?H:w.C,t(A<=w.l.o),A>H){var J=w.l.width,re=R.ca,ne=R.tb+J*H,le=w.V,fe=w.Ba+w.c*H,xe=w.gc;t(w.ab==1),t(xe[0].hc==3),qc(xe[0],H,A,le,fe,re,ne),we(R,H,A,re,ne,J)}w.C=w.Ma=A}function We(w,A,R,H,J,re,ne){var le=w.$/H,fe=w.$%H,xe=w.m,Re=w.s,Ye=R+w.$,ve=Ye;J=R+H*J;var Le=R+H*re,ze=280+Re.ua,at=w.Pb?le:16777216,Ke=0<Re.ua?Re.Wa:null,st=Re.wc,ut=Ye<Le?te(Re,fe,le):null;t(w.C<re),t(Le<=J);var wt=!1;e:for(;;){for(;wt||Ye<Le;){var gt=0;if(le>=at){var sr=Ye-R;t((at=w).Pb),at.wd=at.m,at.xd=sr,0<at.s.ua&&ft(at.s.Wa,at.s.vb),at=le+Yoe}if(fe&st||(ut=te(Re,fe,le)),t(ut!=null),ut.Qb&&(A[Ye]=ut.qb,wt=!0),!wt)if(Y(xe),ut.jc){gt=xe,sr=A;var Yt=Ye,zr=ut.pd[D(gt)&Vh-1];t(ut.jc),256>zr.g?(Q(gt,gt.u+zr.g),sr[Yt]=zr.value,gt=0):(Q(gt,gt.u+zr.g-256),t(256<=zr.value),gt=zr.value),gt==0&&(wt=!0)}else gt=Rn(ut.G[0],ut.H[0],xe);if(xe.h)break;if(wt||256>gt){if(!wt)if(ut.nd)A[Ye]=(ut.qb|gt<<8)>>>0;else{if(Y(xe),wt=Rn(ut.G[1],ut.H[1],xe),Y(xe),sr=Rn(ut.G[2],ut.H[2],xe),Yt=Rn(ut.G[3],ut.H[3],xe),xe.h)break;A[Ye]=(Yt<<24|wt<<16|gt<<8|sr)>>>0}if(wt=!1,++Ye,++fe>=H&&(fe=0,++le,ne!=null&&le<=re&&!(le%16)&&ne(w,le),Ke!=null))for(;ve<Ye;)gt=A[ve++],Ke.X[(506832829*gt&4294967295)>>>Ke.Mb]=gt}else if(280>gt){if(gt=Bn(gt-256,xe),sr=Rn(ut.G[4],ut.H[4],xe),Y(xe),sr=va(H,sr=Bn(sr,xe)),xe.h)break;if(Ye-R<sr||J-Ye<gt)break e;for(Yt=0;Yt<gt;++Yt)A[Ye+Yt]=A[Ye+Yt-sr];for(Ye+=gt,fe+=gt;fe>=H;)fe-=H,++le,ne!=null&&le<=re&&!(le%16)&&ne(w,le);if(t(Ye<=J),fe&st&&(ut=te(Re,fe,le)),Ke!=null)for(;ve<Ye;)gt=A[ve++],Ke.X[(506832829*gt&4294967295)>>>Ke.Mb]=gt}else{if(!(gt<ze))break e;for(wt=gt-280,t(Ke!=null);ve<Ye;)gt=A[ve++],Ke.X[(506832829*gt&4294967295)>>>Ke.Mb]=gt;gt=Ye,t(!(wt>>>(sr=Ke).Xa)),A[gt]=sr.X[wt],wt=!0}wt||t(xe.h==B(xe))}if(w.Pb&&xe.h&&Ye<J)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&ft(w.s.vb,w.s.Wa);else{if(xe.h)break e;ne!=null&&ne(w,le>re?re:le),w.a=0,w.$=Ye-R}return 1}return w.a=3,0}function tt(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var A=w.Wa;A!=null&&(A.X=null),w.vb=null,t(w!=null)}function He(){var w=new ar;return w==null?null:(w.a=0,w.xb=ID,Dr("Predictor","VP8LPredictors"),Dr("Predictor","VP8LPredictors_C"),Dr("PredictorAdd","VP8LPredictorsAdd"),Dr("PredictorAdd","VP8LPredictorsAdd_C"),Oa=dt,nv=$t,av=rn,Xd=Vr,Qd=Vt,Zd=dr,Wh=nn,E.VP8LMapColor32b=zc,E.VP8LMapColor8b=tv,w)}function Ge(w,A,R,H,J){var re=1,ne=[w],le=[A],fe=H.m,xe=H.s,Re=null,Ye=0;e:for(;;){if(R)for(;re&&ie(fe,1);){var ve=ne,Le=le,ze=H,at=1,Ke=ze.m,st=ze.gc[ze.ab],ut=ie(Ke,2);if(ze.Oc&1<<ut)re=0;else{switch(ze.Oc|=1<<ut,st.hc=ut,st.Ea=ve[0],st.nc=Le[0],st.K=[null],++ze.ab,t(4>=ze.ab),ut){case 0:case 1:st.b=ie(Ke,3)+2,at=Ge(Ee(st.Ea,st.b),Ee(st.nc,st.b),0,ze,st.K),st.K=st.K[0];break;case 3:var wt,gt=ie(Ke,8)+1,sr=16<gt?0:4<gt?1:2<gt?2:3;if(ve[0]=Ee(st.Ea,sr),st.b=sr,wt=at=Ge(gt,1,0,ze,st.K)){var Yt,zr=gt,er=st,Jr=1<<(8>>er.b),mi=s(Jr);if(mi==null)wt=0;else{var qr=er.K[0],tr=er.w;for(mi[0]=er.K[0][0],Yt=1;Yt<1*zr;++Yt)mi[Yt]=rt(qr[tr+Yt],mi[Yt-1]);for(;Yt<4*Jr;++Yt)mi[Yt]=0;er.K[0]=null,er.K[0]=mi,wt=1}}at=wt;break;case 2:break;default:t(0)}re=at}}if(ne=ne[0],le=le[0],re&&ie(fe,1)&&!(re=1<=(Ye=ie(fe,4))&&11>=Ye)){H.a=3;break e}var Dt;if(Dt=re)t:{var Ia,Mr,an,Qn=H,Gi=ne,Rs=le,wa=Ye,ms=R,Ms=Qn.m,pi=Qn.s,ln=[null],_n=1,ja=0,Sn=Koe[wa];r:for(;;){if(ms&&ie(Ms,1)){var Ki=ie(Ms,3)+2,Ql=Ee(Gi,Ki),Fa=Ee(Rs,Ki),co=Ql*Fa;if(!Ge(Ql,Fa,0,Qn,ln))break r;for(ln=ln[0],pi.xc=Ki,Ia=0;Ia<co;++Ia){var qn=ln[Ia]>>8&65535;ln[Ia]=qn,qn>=_n&&(_n=qn+1)}}if(Ms.h)break r;for(Mr=0;5>Mr;++Mr){var gi=OD[Mr];!Mr&&0<wa&&(gi+=1<<wa),ja<gi&&(ja=gi)}var Io=o(_n*Sn,I),Ls=_n,Fo=o(Ls,z);if(Fo==null)var Ro=null;else t(65536>=Ls),Ro=Fo;var uo=s(ja);if(Ro==null||uo==null||Io==null){Qn.a=1;break r}var Mo=Io;for(Ia=an=0;Ia<_n;++Ia){var Hn=Ro[Ia],Lo=Hn.G,Zl=Hn.H,Gh=0,Fu=1,Yi=0;for(Mr=0;5>Mr;++Mr){gi=OD[Mr],Lo[Mr]=Mo,Zl[Mr]=an,!Mr&&0<wa&&(gi+=1<<wa);a:{var j2,j4=gi,N2=Qn,cv=uo,ple=Mo,gle=an,N4=0,rf=N2.m,xle=ie(rf,1);if(a(cv,0,0,j4),xle){var vle=ie(rf,1)+1,yle=ie(rf,1),qD=ie(rf,yle==0?1:8);cv[qD]=1,vle==2&&(cv[qD=ie(rf,8)]=1);var _2=1}else{var UD=s(19),VD=ie(rf,4)+4;if(19<VD){N2.a=3;var S2=0;break a}for(j2=0;j2<VD;++j2)UD[Hoe[j2]]=ie(rf,3);var _4=void 0,uv=void 0,WD=N2,ble=UD,A2=j4,HD=cv,S4=0,nf=WD.m,GD=8,KD=o(128,I);n:for(;C(KD,0,7,ble,19);){if(ie(nf,1)){var wle=2+2*ie(nf,3);if((_4=2+ie(nf,wle))>A2)break n}else _4=A2;for(uv=0;uv<A2&&_4--;){Y(nf);var YD=KD[0+(127&D(nf))];Q(nf,nf.u+YD.g);var $p=YD.value;if(16>$p)HD[uv++]=$p,$p!=0&&(GD=$p);else{var jle=$p==16,XD=$p-16,Nle=Voe[XD],QD=ie(nf,Uoe[XD])+Nle;if(uv+QD>A2)break n;for(var _le=jle?GD:0;0<QD--;)HD[uv++]=_le}}S4=1;break n}S4||(WD.a=3),_2=S4}(_2=_2&&!rf.h)&&(N4=C(ple,gle,8,cv,j4)),_2&&N4!=0?S2=N4:(N2.a=3,S2=0)}if(S2==0)break r;if(Fu&&Woe[Mr]==1&&(Fu=Mo[an].g==0),Gh+=Mo[an].g,an+=S2,3>=Mr){var dv,A4=uo[0];for(dv=1;dv<gi;++dv)uo[dv]>A4&&(A4=uo[dv]);Yi+=A4}}if(Hn.nd=Fu,Hn.Qb=0,Fu&&(Hn.qb=(Lo[3][Zl[3]+0].value<<24|Lo[1][Zl[1]+0].value<<16|Lo[2][Zl[2]+0].value)>>>0,Gh==0&&256>Lo[0][Zl[0]+0].value&&(Hn.Qb=1,Hn.qb+=Lo[0][Zl[0]+0].value<<8)),Hn.jc=!Hn.Qb&&6>Yi,Hn.jc){var C2,Ru=Hn;for(C2=0;C2<Vh;++C2){var af=C2,sf=Ru.pd[af],E2=Ru.G[0][Ru.H[0]+af];256<=E2.value?(sf.g=E2.g+256,sf.value=E2.value):(sf.g=0,sf.value=0,af>>=ua(E2,8,sf),af>>=ua(Ru.G[1][Ru.H[1]+af],16,sf),af>>=ua(Ru.G[2][Ru.H[2]+af],0,sf),ua(Ru.G[3][Ru.H[3]+af],24,sf))}}}pi.vc=ln,pi.Wb=_n,pi.Ya=Ro,pi.yc=Io,Dt=1;break t}Dt=0}if(!(re=Dt)){H.a=3;break e}if(0<Ye){if(xe.ua=1<<Ye,!se(xe.Wa,Ye)){H.a=1,re=0;break e}}else xe.ua=0;var C4=H,ZD=ne,Sle=le,E4=C4.s,P4=E4.xc;if(C4.c=ZD,C4.i=Sle,E4.md=Ee(ZD,P4),E4.wc=P4==0?-1:(1<<P4)-1,R){H.xb=rle;break e}if((Re=s(ne*le))==null){H.a=1,re=0;break e}re=(re=We(H,Re,0,ne,le,le,null))&&!fe.h;break e}return re?(J!=null?J[0]=Re:(t(Re==null),t(R)),H.$=0,R||tt(xe)):tt(xe),re}function Qe(w,A){var R=w.c*w.i,H=R+A+16*A;return t(w.c<=A),w.V=s(H),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+R+A,1)}function vt(w,A){var R=w.C,H=A-R,J=w.V,re=w.Ba+w.c*R;for(t(A<=w.l.o);0<H;){var ne=16<H?16:H,le=w.l.ma,fe=w.l.width,xe=fe*ne,Re=le.ca,Ye=le.tb+fe*R,ve=w.Ta,Le=w.Ua;be(w,ne,J,re),_D(ve,Le,Re,Ye,xe),we(le,R,R+ne,Re,Ye,fe),H-=ne,J+=ne*w.c,R+=ne}t(R==A),w.C=w.Ma=A}function Et(){this.ub=this.yd=this.td=this.Rb=0}function Lt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function St(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ft(){this.Yb=function(){var w=[];return function A(R,H,J){for(var re=J[H],ne=0;ne<re&&(R.push(J.length>H+1?[]:0),!(J.length<H+1));ne++)A(R[ne],H+1,J)}(w,0,[3,11]),w}()}function xr(){this.jb=s(3),this.Wc=l([4,8],Ft),this.Xc=l([4,17],Ft)}function Mn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Zr(){this.ld=this.La=this.dd=this.tc=0}function ya(){this.Na=this.la=0}function Lc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $c(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zr),this.Y=0,this.ya=Array(new Kl),this.aa=0,this.l=new fs}function xl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ud(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Et,this.Kc=new Lt,this.ed=new Mn,this.Qa=new St,this.Ic=this.$c=this.Aa=0,this.D=new $c,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,O),this.ia=0,this.pb=o(4,Lc),this.Pa=new xr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xl),this.Hd=0,this.rb=Array(new ya),this.sb=0,this.wa=Array(new Zr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kl),this.L=this.aa=0,this.gd=l([4,2],Zr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function JS(){var w=new Ud;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,ov||(ov=Au)),w}function Xa(w,A,R){return w.a==0&&(w.a=A,w.sc=R,w.cb=0),0}function e2(w,A,R){return 3<=R&&w[A+0]==157&&w[A+1]==1&&w[A+2]==42}function t2(w,A){if(w==null)return 0;if(w.a=0,w.sc="OK",A==null)return Xa(w,2,"null VP8Io passed to VP8GetHeaders()");var R=A.data,H=A.w,J=A.ha;if(4>J)return Xa(w,7,"Truncated header.");var re=R[H+0]|R[H+1]<<8|R[H+2]<<16,ne=w.Od;if(ne.Rb=!(1&re),ne.td=re>>1&7,ne.yd=re>>4&1,ne.ub=re>>5,3<ne.td)return Xa(w,3,"Incorrect keyframe parameters.");if(!ne.yd)return Xa(w,4,"Frame not displayable.");H+=3,J-=3;var le=w.Kc;if(ne.Rb){if(7>J)return Xa(w,7,"cannot parse picture header");if(!e2(R,H,J))return Xa(w,3,"Bad code word");le.c=16383&(R[H+4]<<8|R[H+3]),le.Td=R[H+4]>>6,le.i=16383&(R[H+6]<<8|R[H+5]),le.Ud=R[H+6]>>6,H+=7,J-=7,w.za=le.c+15>>4,w.Ub=le.i+15>>4,A.width=le.c,A.height=le.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,a((re=w.Pa).jb,0,255,re.jb.length),t((re=w.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,a(re.Zb,0,0,re.Zb.length),a(re.Lb,0,0,re.Lb)}if(ne.ub>J)return Xa(w,7,"bad partition length");G(re=w.m,R,H,ne.ub),H+=ne.ub,J-=ne.ub,ne.Rb&&(le.Ld=X(re),le.Kd=X(re)),le=w.Qa;var fe,xe=w.Pa;if(t(re!=null),t(le!=null),le.Cb=X(re),le.Cb){if(le.Bb=X(re),X(re)){for(le.Fb=X(re),fe=0;4>fe;++fe)le.Zb[fe]=X(re)?q(re,7):0;for(fe=0;4>fe;++fe)le.Lb[fe]=X(re)?q(re,6):0}if(le.Bb)for(fe=0;3>fe;++fe)xe.jb[fe]=X(re)?W(re,8):255}else le.Bb=0;if(re.Ka)return Xa(w,3,"cannot parse segment header");if((le=w.ed).zd=X(re),le.Tb=W(re,6),le.wb=W(re,3),le.Pc=X(re),le.Pc&&X(re)){for(xe=0;4>xe;++xe)X(re)&&(le.vd[xe]=q(re,6));for(xe=0;4>xe;++xe)X(re)&&(le.od[xe]=q(re,6))}if(w.L=le.Tb==0?0:le.zd?1:2,re.Ka)return Xa(w,3,"cannot parse filter header");var Re=J;if(J=fe=H,H=fe+Re,le=Re,w.Xb=(1<<W(w.m,2))-1,Re<3*(xe=w.Xb))R=7;else{for(fe+=3*xe,le-=3*xe,Re=0;Re<xe;++Re){var Ye=R[J+0]|R[J+1]<<8|R[J+2]<<16;Ye>le&&(Ye=le),G(w.Jc[+Re],R,fe,Ye),fe+=Ye,le-=Ye,J+=3}G(w.Jc[+xe],R,fe,le),R=fe<H?0:5}if(R!=0)return Xa(w,R,"cannot parse partitions");for(R=W(fe=w.m,7),J=X(fe)?q(fe,4):0,H=X(fe)?q(fe,4):0,le=X(fe)?q(fe,4):0,xe=X(fe)?q(fe,4):0,fe=X(fe)?q(fe,4):0,Re=w.Qa,Ye=0;4>Ye;++Ye){if(Re.Cb){var ve=Re.Zb[Ye];Re.Fb||(ve+=R)}else{if(0<Ye){w.pb[Ye]=w.pb[0];continue}ve=R}var Le=w.pb[Ye];Le.Sc[0]=y4[ba(ve+J,127)],Le.Sc[1]=b4[ba(ve+0,127)],Le.Eb[0]=2*y4[ba(ve+H,127)],Le.Eb[1]=101581*b4[ba(ve+le,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=y4[ba(ve+xe,117)],Le.Qc[1]=b4[ba(ve+fe,127)],Le.lc=ve+fe}if(!ne.Rb)return Xa(w,4,"Not a key frame.");for(X(re),ne=w.Pa,R=0;4>R;++R){for(J=0;8>J;++J)for(H=0;3>H;++H)for(le=0;11>le;++le)xe=U(re,ele[R][J][H][le])?W(re,8):Zoe[R][J][H][le],ne.Wc[R][J].Yb[H][le]=xe;for(J=0;17>J;++J)ne.Xc[R][J]=ne.Wc[R][tle[J]]}return w.kc=X(re),w.kc&&(w.Bd=W(re,8)),w.cb=1}function Au(w,A,R,H,J,re,ne){var le=A[J].Yb[R];for(R=0;16>J;++J){if(!U(w,le[R+0]))return J;for(;!U(w,le[R+1]);)if(le=A[++J].Yb[0],R=0,J==16)return 16;var fe=A[J+1].Yb;if(U(w,le[R+2])){var xe=w,Re=0;if(U(xe,(ve=le)[(Ye=R)+3]))if(U(xe,ve[Ye+6])){for(le=0,Ye=2*(Re=U(xe,ve[Ye+8]))+(ve=U(xe,ve[Ye+9+Re])),Re=0,ve=Xoe[Ye];ve[le];++le)Re+=Re+U(xe,ve[le]);Re+=3+(8<<Ye)}else U(xe,ve[Ye+7])?(Re=7+2*U(xe,165),Re+=U(xe,145)):Re=5+U(xe,159);else Re=U(xe,ve[Ye+4])?3+U(xe,ve[Ye+5]):2;le=fe[2]}else Re=1,le=fe[1];fe=ne+Qoe[J],0>(xe=w).b&&ee(xe);var Ye,ve=xe.b,Le=(Ye=xe.Ca>>1)-(xe.I>>ve)>>31;--xe.b,xe.Ca+=Le,xe.Ca|=1,xe.I-=(Ye+1&Le)<<ve,re[fe]=((Re^Le)-Le)*H[(0<J)+0]}return 16}function Eh(w){var A=w.rb[w.sb-1];A.la=0,A.Na=0,a(w.zc,0,0,w.zc.length),w.ja=0}function Yl(w,A,R,H,J){J=w[A+R+32*H]+(J>>3),w[A+R+32*H]=-256&J?0>J?0:255:J}function Ph(w,A,R,H,J,re){Yl(w,A,0,R,H+J),Yl(w,A,1,R,H+re),Yl(w,A,2,R,H-re),Yl(w,A,3,R,H-J)}function Ta(w){return(20091*w>>16)+w}function zx(w,A,R,H){var J,re=0,ne=s(16);for(J=0;4>J;++J){var le=w[A+0]+w[A+8],fe=w[A+0]-w[A+8],xe=(35468*w[A+4]>>16)-Ta(w[A+12]),Re=Ta(w[A+4])+(35468*w[A+12]>>16);ne[re+0]=le+Re,ne[re+1]=fe+xe,ne[re+2]=fe-xe,ne[re+3]=le-Re,re+=4,A++}for(J=re=0;4>J;++J)le=(w=ne[re+0]+4)+ne[re+8],fe=w-ne[re+8],xe=(35468*ne[re+4]>>16)-Ta(ne[re+12]),Yl(R,H,0,0,le+(Re=Ta(ne[re+4])+(35468*ne[re+12]>>16))),Yl(R,H,1,0,fe+xe),Yl(R,H,2,0,fe-xe),Yl(R,H,3,0,le-Re),re++,H+=32}function e4(w,A,R,H){var J=w[A+0]+4,re=35468*w[A+4]>>16,ne=Ta(w[A+4]),le=35468*w[A+1]>>16;Ph(R,H,0,J+ne,w=Ta(w[A+1]),le),Ph(R,H,1,J+re,w,le),Ph(R,H,2,J-re,w,le),Ph(R,H,3,J-ne,w,le)}function t4(w,A,R,H,J){zx(w,A,R,H),J&&zx(w,A+16,R,H+4)}function r4(w,A,R,H){Hh(w,A+0,R,H,1),Hh(w,A+32,R,H+128,1)}function Bc(w,A,R,H){var J;for(w=w[A+0]+4,J=0;4>J;++J)for(A=0;4>A;++A)Yl(R,H,A,J,w)}function r2(w,A,R,H){w[A+0]&&yn(w,A+0,R,H),w[A+16]&&yn(w,A+16,R,H+4),w[A+32]&&yn(w,A+32,R,H+128),w[A+48]&&yn(w,A+48,R,H+128+4)}function n2(w,A,R,H){var J,re=s(16);for(J=0;4>J;++J){var ne=w[A+0+J]+w[A+12+J],le=w[A+4+J]+w[A+8+J],fe=w[A+4+J]-w[A+8+J],xe=w[A+0+J]-w[A+12+J];re[0+J]=ne+le,re[8+J]=ne-le,re[4+J]=xe+fe,re[12+J]=xe-fe}for(J=0;4>J;++J)ne=(w=re[0+4*J]+3)+re[3+4*J],le=re[1+4*J]+re[2+4*J],fe=re[1+4*J]-re[2+4*J],xe=w-re[3+4*J],R[H+0]=ne+le>>3,R[H+16]=xe+fe>>3,R[H+32]=ne-le>>3,R[H+48]=xe-fe>>3,H+=64}function Vd(w,A,R){var H,J=A-32,re=Do,ne=255-w[J-1];for(H=0;H<R;++H){var le,fe=re,xe=ne+w[A-1];for(le=0;le<R;++le)w[A+le]=fe[xe+w[J+le]];A+=32}}function qx(w,A){Vd(w,A,4)}function n4(w,A){Vd(w,A,8)}function a4(w,A){Vd(w,A,16)}function i4(w,A){var R;for(R=0;16>R;++R)n(w,A+32*R,w,A-32,16)}function Ux(w,A){var R;for(R=16;0<R;--R)a(w,A,w[A-1],16),A+=32}function kh(w,A,R){var H;for(H=0;16>H;++H)a(A,R+32*H,w,16)}function Wd(w,A){var R,H=16;for(R=0;16>R;++R)H+=w[A-1+32*R]+w[A+R-32];kh(H>>5,w,A)}function s4(w,A){var R,H=8;for(R=0;16>R;++R)H+=w[A-1+32*R];kh(H>>4,w,A)}function Th(w,A){var R,H=8;for(R=0;16>R;++R)H+=w[A+R-32];kh(H>>4,w,A)}function Vx(w,A){kh(128,w,A)}function Tr(w,A,R){return w+2*A+R+2>>2}function o4(w,A){var R,H=A-32;for(H=new Uint8Array([Tr(w[H-1],w[H+0],w[H+1]),Tr(w[H+0],w[H+1],w[H+2]),Tr(w[H+1],w[H+2],w[H+3]),Tr(w[H+2],w[H+3],w[H+4])]),R=0;4>R;++R)n(w,A+32*R,H,0,H.length)}function l4(w,A){var R=w[A-1],H=w[A-1+32],J=w[A-1+64],re=w[A-1+96];me(w,A+0,16843009*Tr(w[A-1-32],R,H)),me(w,A+32,16843009*Tr(R,H,J)),me(w,A+64,16843009*Tr(H,J,re)),me(w,A+96,16843009*Tr(J,re,re))}function c4(w,A){var R,H=4;for(R=0;4>R;++R)H+=w[A+R-32]+w[A-1+32*R];for(H>>=3,R=0;4>R;++R)a(w,A+32*R,H,4)}function u4(w,A){var R=w[A-1+0],H=w[A-1+32],J=w[A-1+64],re=w[A-1-32],ne=w[A+0-32],le=w[A+1-32],fe=w[A+2-32],xe=w[A+3-32];w[A+0+96]=Tr(H,J,w[A-1+96]),w[A+1+96]=w[A+0+64]=Tr(R,H,J),w[A+2+96]=w[A+1+64]=w[A+0+32]=Tr(re,R,H),w[A+3+96]=w[A+2+64]=w[A+1+32]=w[A+0+0]=Tr(ne,re,R),w[A+3+64]=w[A+2+32]=w[A+1+0]=Tr(le,ne,re),w[A+3+32]=w[A+2+0]=Tr(fe,le,ne),w[A+3+0]=Tr(xe,fe,le)}function Cu(w,A){var R=w[A+1-32],H=w[A+2-32],J=w[A+3-32],re=w[A+4-32],ne=w[A+5-32],le=w[A+6-32],fe=w[A+7-32];w[A+0+0]=Tr(w[A+0-32],R,H),w[A+1+0]=w[A+0+32]=Tr(R,H,J),w[A+2+0]=w[A+1+32]=w[A+0+64]=Tr(H,J,re),w[A+3+0]=w[A+2+32]=w[A+1+64]=w[A+0+96]=Tr(J,re,ne),w[A+3+32]=w[A+2+64]=w[A+1+96]=Tr(re,ne,le),w[A+3+64]=w[A+2+96]=Tr(ne,le,fe),w[A+3+96]=Tr(le,fe,fe)}function Eu(w,A){var R=w[A-1+0],H=w[A-1+32],J=w[A-1+64],re=w[A-1-32],ne=w[A+0-32],le=w[A+1-32],fe=w[A+2-32],xe=w[A+3-32];w[A+0+0]=w[A+1+64]=re+ne+1>>1,w[A+1+0]=w[A+2+64]=ne+le+1>>1,w[A+2+0]=w[A+3+64]=le+fe+1>>1,w[A+3+0]=fe+xe+1>>1,w[A+0+96]=Tr(J,H,R),w[A+0+64]=Tr(H,R,re),w[A+0+32]=w[A+1+96]=Tr(R,re,ne),w[A+1+32]=w[A+2+96]=Tr(re,ne,le),w[A+2+32]=w[A+3+96]=Tr(ne,le,fe),w[A+3+32]=Tr(le,fe,xe)}function d4(w,A){var R=w[A+0-32],H=w[A+1-32],J=w[A+2-32],re=w[A+3-32],ne=w[A+4-32],le=w[A+5-32],fe=w[A+6-32],xe=w[A+7-32];w[A+0+0]=R+H+1>>1,w[A+1+0]=w[A+0+64]=H+J+1>>1,w[A+2+0]=w[A+1+64]=J+re+1>>1,w[A+3+0]=w[A+2+64]=re+ne+1>>1,w[A+0+32]=Tr(R,H,J),w[A+1+32]=w[A+0+96]=Tr(H,J,re),w[A+2+32]=w[A+1+96]=Tr(J,re,ne),w[A+3+32]=w[A+2+96]=Tr(re,ne,le),w[A+3+64]=Tr(ne,le,fe),w[A+3+96]=Tr(le,fe,xe)}function f4(w,A){var R=w[A-1+0],H=w[A-1+32],J=w[A-1+64],re=w[A-1+96];w[A+0+0]=R+H+1>>1,w[A+2+0]=w[A+0+32]=H+J+1>>1,w[A+2+32]=w[A+0+64]=J+re+1>>1,w[A+1+0]=Tr(R,H,J),w[A+3+0]=w[A+1+32]=Tr(H,J,re),w[A+3+32]=w[A+1+64]=Tr(J,re,re),w[A+3+64]=w[A+2+64]=w[A+0+96]=w[A+1+96]=w[A+2+96]=w[A+3+96]=re}function Tp(w,A){var R=w[A-1+0],H=w[A-1+32],J=w[A-1+64],re=w[A-1+96],ne=w[A-1-32],le=w[A+0-32],fe=w[A+1-32],xe=w[A+2-32];w[A+0+0]=w[A+2+32]=R+ne+1>>1,w[A+0+32]=w[A+2+64]=H+R+1>>1,w[A+0+64]=w[A+2+96]=J+H+1>>1,w[A+0+96]=re+J+1>>1,w[A+3+0]=Tr(le,fe,xe),w[A+2+0]=Tr(ne,le,fe),w[A+1+0]=w[A+3+32]=Tr(R,ne,le),w[A+1+32]=w[A+3+64]=Tr(H,R,ne),w[A+1+64]=w[A+3+96]=Tr(J,H,R),w[A+1+96]=Tr(re,J,H)}function Wx(w,A){var R;for(R=0;8>R;++R)n(w,A+32*R,w,A-32,8)}function Oh(w,A){var R;for(R=0;8>R;++R)a(w,A,w[A-1],8),A+=32}function Op(w,A,R){var H;for(H=0;8>H;++H)a(A,R+32*H,w,8)}function Dp(w,A){var R,H=8;for(R=0;8>R;++R)H+=w[A+R-32]+w[A-1+32*R];Op(H>>4,w,A)}function h4(w,A){var R,H=4;for(R=0;8>R;++R)H+=w[A+R-32];Op(H>>3,w,A)}function Hx(w,A){var R,H=4;for(R=0;8>R;++R)H+=w[A-1+32*R];Op(H>>3,w,A)}function Gx(w,A){Op(128,w,A)}function Dh(w,A,R){var H=w[A-R],J=w[A+0],re=3*(J-H)+m4[1020+w[A-2*R]-w[A+R]],ne=h2[112+(re+4>>3)];w[A-R]=Do[255+H+h2[112+(re+3>>3)]],w[A+0]=Do[255+J-ne]}function Ih(w,A,R,H){var J=w[A+0],re=w[A+R];return wl[255+w[A-2*R]-w[A-R]]>H||wl[255+re-J]>H}function Kx(w,A,R,H){return 4*wl[255+w[A-R]-w[A+0]]+wl[255+w[A-2*R]-w[A+R]]<=H}function Ip(w,A,R,H,J){var re=w[A-3*R],ne=w[A-2*R],le=w[A-R],fe=w[A+0],xe=w[A+R],Re=w[A+2*R],Ye=w[A+3*R];return 4*wl[255+le-fe]+wl[255+ne-xe]>H?0:wl[255+w[A-4*R]-re]<=J&&wl[255+re-ne]<=J&&wl[255+ne-le]<=J&&wl[255+Ye-Re]<=J&&wl[255+Re-xe]<=J&&wl[255+xe-fe]<=J}function Yx(w,A,R,H){var J=2*H+1;for(H=0;16>H;++H)Kx(w,A+H,R,J)&&Dh(w,A+H,R)}function Fh(w,A,R,H){var J=2*H+1;for(H=0;16>H;++H)Kx(w,A+H*R,1,J)&&Dh(w,A+H*R,1)}function a2(w,A,R,H){var J;for(J=3;0<J;--J)Yx(w,A+=4*R,R,H)}function i2(w,A,R,H){var J;for(J=3;0<J;--J)Fh(w,A+=4,R,H)}function Pu(w,A,R,H,J,re,ne,le){for(re=2*re+1;0<J--;){if(Ip(w,A,R,re,ne))if(Ih(w,A,R,le))Dh(w,A,R);else{var fe=w,xe=A,Re=R,Ye=fe[xe-2*Re],ve=fe[xe-Re],Le=fe[xe+0],ze=fe[xe+Re],at=fe[xe+2*Re],Ke=27*(ut=m4[1020+3*(Le-ve)+m4[1020+Ye-ze]])+63>>7,st=18*ut+63>>7,ut=9*ut+63>>7;fe[xe-3*Re]=Do[255+fe[xe-3*Re]+ut],fe[xe-2*Re]=Do[255+Ye+st],fe[xe-Re]=Do[255+ve+Ke],fe[xe+0]=Do[255+Le-Ke],fe[xe+Re]=Do[255+ze-st],fe[xe+2*Re]=Do[255+at-ut]}A+=H}}function ku(w,A,R,H,J,re,ne,le){for(re=2*re+1;0<J--;){if(Ip(w,A,R,re,ne))if(Ih(w,A,R,le))Dh(w,A,R);else{var fe=w,xe=A,Re=R,Ye=fe[xe-Re],ve=fe[xe+0],Le=fe[xe+Re],ze=h2[112+(4+(at=3*(ve-Ye))>>3)],at=h2[112+(at+3>>3)],Ke=ze+1>>1;fe[xe-2*Re]=Do[255+fe[xe-2*Re]+Ke],fe[xe-Re]=Do[255+Ye+at],fe[xe+0]=Do[255+ve-ze],fe[xe+Re]=Do[255+Le-Ke]}A+=H}}function s2(w,A,R,H,J,re){Pu(w,A,R,1,16,H,J,re)}function o2(w,A,R,H,J,re){Pu(w,A,1,R,16,H,J,re)}function Rh(w,A,R,H,J,re){var ne;for(ne=3;0<ne;--ne)ku(w,A+=4*R,R,1,16,H,J,re)}function l2(w,A,R,H,J,re){var ne;for(ne=3;0<ne;--ne)ku(w,A+=4,1,R,16,H,J,re)}function F(w,A,R,H,J,re,ne,le){Pu(w,A,J,1,8,re,ne,le),Pu(R,H,J,1,8,re,ne,le)}function Z(w,A,R,H,J,re,ne,le){Pu(w,A,1,J,8,re,ne,le),Pu(R,H,1,J,8,re,ne,le)}function je(w,A,R,H,J,re,ne,le){ku(w,A+4*J,J,1,8,re,ne,le),ku(R,H+4*J,J,1,8,re,ne,le)}function Te(w,A,R,H,J,re,ne,le){ku(w,A+4,1,J,8,re,ne,le),ku(R,H+4,1,J,8,re,ne,le)}function $e(){this.ba=new cr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function xt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Zt(){this.ua=0,this.Wa=new de,this.vb=new de,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new I}function ar(){this.xb=this.a=0,this.l=new fs,this.ca=new cr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Zt,this.ab=0,this.gc=o(4,xt),this.Oc=0}function Ar(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ir(w,A,R,H,J,re,ne){for(w=w==null?0:w[A+0],A=0;A<ne;++A)J[re+A]=w+R[H+A]&255,w=J[re+A]}function fn(w,A,R,H,J,re,ne){var le;if(w==null)Ir(null,null,R,H,J,re,ne);else for(le=0;le<ne;++le)J[re+le]=w[A+le]+R[H+le]&255}function da(w,A,R,H,J,re,ne){if(w==null)Ir(null,null,R,H,J,re,ne);else{var le,fe=w[A+0],xe=fe,Re=fe;for(le=0;le<ne;++le)xe=Re+(fe=w[A+le])-xe,Re=R[H+le]+(-256&xe?0>xe?0:255:xe)&255,xe=fe,J[re+le]=Re}}function Qa(w,A,R,H){var J=A.width,re=A.o;if(t(w!=null&&A!=null),0>R||0>=H||R+H>re)return null;if(!w.Cc){if(w.ga==null){var ne;if(w.ga=new Ar,(ne=w.ga==null)||(ne=A.width*A.o,t(w.Gb.length==0),w.Gb=s(ne),w.Uc=0,w.Gb==null?ne=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ne=1),ne=!ne),!ne){ne=w.ga;var le=w.Fa,fe=w.P,xe=w.qc,Re=w.mb,Ye=w.nb,ve=fe+1,Le=xe-1,ze=ne.l;if(t(le!=null&&Re!=null&&A!=null),tf[0]=null,tf[1]=Ir,tf[2]=fn,tf[3]=da,ne.ca=Re,ne.tb=Ye,ne.c=A.width,ne.i=A.height,t(0<ne.c&&0<ne.i),1>=xe)A=0;else if(ne.$a=3&le[fe+0],ne.Z=le[fe+0]>>2&3,ne.Lc=le[fe+0]>>4&3,fe=le[fe+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||fe)A=0;else if(ze.put=ur,ze.ac=Wi,ze.bc=oo,ze.ma=ne,ze.width=A.width,ze.height=A.height,ze.Da=A.Da,ze.v=A.v,ze.va=A.va,ze.j=A.j,ze.o=A.o,ne.$a)e:{t(ne.$a==1),A=He();t:for(;;){if(A==null){A=0;break e}if(t(ne!=null),ne.mc=A,A.c=ne.c,A.i=ne.i,A.l=ne.l,A.l.ma=ne,A.l.width=ne.c,A.l.height=ne.i,A.a=0,K(A.m,le,ve,Le),!Ge(ne.c,ne.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&pe(A.s)?(ne.ic=1,le=A.c*A.i,A.Ta=null,A.Ua=0,A.V=s(le),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(ne.ic=0,A=Qe(A,ne.c)),!A))break t;A=1;break e}ne.mc=null,A=0}else A=Le>=ne.c*ne.i;ne=!A}if(ne)return null;w.ga.Lc!=1?w.Ga=0:H=re-R}t(w.ga!=null),t(R+H<=re);e:{if(A=(le=w.ga).c,re=le.l.o,le.$a==0){if(ve=w.rc,Le=w.Vc,ze=w.Fa,fe=w.P+1+R*A,xe=w.mb,Re=w.nb+R*A,t(fe<=w.P+w.qc),le.Z!=0)for(t(tf[le.Z]!=null),ne=0;ne<H;++ne)tf[le.Z](ve,Le,ze,fe,xe,Re,A),ve=xe,Le=Re,Re+=A,fe+=A;else for(ne=0;ne<H;++ne)n(xe,Re,ze,fe,A),ve=xe,Le=Re,Re+=A,fe+=A;w.rc=ve,w.Vc=Le}else{if(t(le.mc!=null),A=R+H,t((ne=le.mc)!=null),t(A<=ne.i),ne.C>=A)A=1;else if(le.ic||vl(),le.ic){le=ne.V,ve=ne.Ba,Le=ne.c;var at=ne.i,Ke=(ze=1,fe=ne.$/Le,xe=ne.$%Le,Re=ne.m,Ye=ne.s,ne.$),st=Le*at,ut=Le*A,wt=Ye.wc,gt=Ke<ut?te(Ye,xe,fe):null;t(Ke<=st),t(A<=at),t(pe(Ye));t:for(;;){for(;!Re.h&&Ke<ut;){if(xe&wt||(gt=te(Ye,xe,fe)),t(gt!=null),Y(Re),256>(at=Rn(gt.G[0],gt.H[0],Re)))le[ve+Ke]=at,++Ke,++xe>=Le&&(xe=0,++fe<=A&&!(fe%16)&&Ne(ne,fe));else{if(!(280>at)){ze=0;break t}at=Bn(at-256,Re);var sr,Yt=Rn(gt.G[4],gt.H[4],Re);if(Y(Re),!(Ke>=(Yt=va(Le,Yt=Bn(Yt,Re)))&&st-Ke>=at)){ze=0;break t}for(sr=0;sr<at;++sr)le[ve+Ke+sr]=le[ve+Ke+sr-Yt];for(Ke+=at,xe+=at;xe>=Le;)xe-=Le,++fe<=A&&!(fe%16)&&Ne(ne,fe);Ke<ut&&xe&wt&&(gt=te(Ye,xe,fe))}t(Re.h==B(Re))}Ne(ne,fe>A?A:fe);break t}!ze||Re.h&&Ke<st?(ze=0,ne.a=Re.h?5:3):ne.$=Ke,A=ze}else A=We(ne,ne.V,ne.Ba,ne.c,ne.i,A,vt);if(!A){H=0;break e}}R+H>=re&&(w.Cc=1),H=1}if(!H)return null;if(w.Cc&&((H=w.ga)!=null&&(H.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+R*J}function Wn(w,A,R,H,J,re){for(;0<J--;){var ne,le=w,fe=A+(R?1:0),xe=w,Re=A+(R?0:3);for(ne=0;ne<H;++ne){var Ye=xe[Re+4*ne];Ye!=255&&(Ye*=32897,le[fe+4*ne+0]=le[fe+4*ne+0]*Ye>>23,le[fe+4*ne+1]=le[fe+4*ne+1]*Ye>>23,le[fe+4*ne+2]=le[fe+4*ne+2]*Ye>>23)}A+=re}}function fi(w,A,R,H,J){for(;0<H--;){var re;for(re=0;re<R;++re){var ne=w[A+2*re+0],le=15&(xe=w[A+2*re+1]),fe=4369*le,xe=(240&xe|xe>>4)*fe>>16;w[A+2*re+0]=(240&ne|ne>>4)*fe>>16&240|(15&ne|ne<<4)*fe>>16>>4&15,w[A+2*re+1]=240&xe|le}A+=J}}function Za(w,A,R,H,J,re,ne,le){var fe,xe,Re=255;for(xe=0;xe<J;++xe){for(fe=0;fe<H;++fe){var Ye=w[A+fe];re[ne+4*fe]=Ye,Re&=Ye}A+=R,ne+=le}return Re!=255}function Hi(w,A,R,H,J){var re;for(re=0;re<J;++re)R[H+re]=w[A+re]>>8}function vl(){sv=Wn,jD=fi,ND=Za,_D=Hi}function lo(w,A,R){E[w]=function(H,J,re,ne,le,fe,xe,Re,Ye,ve,Le,ze,at,Ke,st,ut,wt){var gt,sr=wt-1>>1,Yt=le[fe+0]|xe[Re+0]<<16,zr=Ye[ve+0]|Le[ze+0]<<16;t(H!=null);var er=3*Yt+zr+131074>>2;for(A(H[J+0],255&er,er>>16,at,Ke),re!=null&&(er=3*zr+Yt+131074>>2,A(re[ne+0],255&er,er>>16,st,ut)),gt=1;gt<=sr;++gt){var Jr=le[fe+gt]|xe[Re+gt]<<16,mi=Ye[ve+gt]|Le[ze+gt]<<16,qr=Yt+Jr+zr+mi+524296,tr=qr+2*(Jr+zr)>>3;er=tr+Yt>>1,Yt=(qr=qr+2*(Yt+mi)>>3)+Jr>>1,A(H[J+2*gt-1],255&er,er>>16,at,Ke+(2*gt-1)*R),A(H[J+2*gt-0],255&Yt,Yt>>16,at,Ke+(2*gt-0)*R),re!=null&&(er=qr+zr>>1,Yt=tr+mi>>1,A(re[ne+2*gt-1],255&er,er>>16,st,ut+(2*gt-1)*R),A(re[ne+2*gt+0],255&Yt,Yt>>16,st,ut+(2*gt+0)*R)),Yt=Jr,zr=mi}1&wt||(er=3*Yt+zr+131074>>2,A(H[J+wt-1],255&er,er>>16,at,Ke+(wt-1)*R),re!=null&&(er=3*zr+Yt+131074>>2,A(re[ne+wt-1],255&er,er>>16,st,ut+(wt-1)*R)))}}function c2(){jl[m2]=nle,jl[p2]=FD,jl[kD]=ale,jl[g2]=RD,jl[x2]=MD,jl[p4]=LD,jl[TD]=ile,jl[g4]=FD,jl[x4]=RD,jl[v2]=MD,jl[v4]=LD}function Fp(w){return w&-16384?0>w?0:255:w>>sle}function Mh(w,A){return Fp((19077*w>>8)+(26149*A>>8)-14234)}function Hd(w,A,R){return Fp((19077*w>>8)-(6419*A>>8)-(13320*R>>8)+8708)}function Lh(w,A){return Fp((19077*w>>8)+(33050*A>>8)-17685)}function $h(w,A,R,H,J){H[J+0]=Mh(w,R),H[J+1]=Hd(w,A,R),H[J+2]=Lh(w,A)}function Bh(w,A,R,H,J){H[J+0]=Lh(w,A),H[J+1]=Hd(w,A,R),H[J+2]=Mh(w,R)}function hs(w,A,R,H,J){var re=Hd(w,A,R);A=re<<3&224|Lh(w,A)>>3,H[J+0]=248&Mh(w,R)|re>>5,H[J+1]=A}function zh(w,A,R,H,J){var re=240&Lh(w,A)|15;H[J+0]=240&Mh(w,R)|Hd(w,A,R)>>4,H[J+1]=re}function qh(w,A,R,H,J){H[J+0]=255,$h(w,A,R,H,J+1)}function Xx(w,A,R,H,J){Bh(w,A,R,H,J),H[J+3]=255}function Qx(w,A,R,H,J){$h(w,A,R,H,J),H[J+3]=255}function ba(w,A){return 0>w?0:w>A?A:w}function Tu(w,A,R){E[w]=function(H,J,re,ne,le,fe,xe,Re,Ye){for(var ve=Re+(-2&Ye)*R;Re!=ve;)A(H[J+0],re[ne+0],le[fe+0],xe,Re),A(H[J+1],re[ne+0],le[fe+0],xe,Re+R),J+=2,++ne,++fe,Re+=2*R;1&Ye&&A(H[J+0],re[ne+0],le[fe+0],xe,Re)}}function Rp(w,A,R){return R==0?w==0?A==0?6:5:A==0?4:0:R}function u2(w,A,R,H,J){switch(w>>>30){case 3:Hh(A,R,H,J,0);break;case 2:bl(A,R,H,J);break;case 1:yn(A,R,H,J)}}function yl(w,A){var R,H,J=A.M,re=A.Nb,ne=w.oc,le=w.pc+40,fe=w.oc,xe=w.pc+584,Re=w.oc,Ye=w.pc+600;for(R=0;16>R;++R)ne[le+32*R-1]=129;for(R=0;8>R;++R)fe[xe+32*R-1]=129,Re[Ye+32*R-1]=129;for(0<J?ne[le-1-32]=fe[xe-1-32]=Re[Ye-1-32]=129:(a(ne,le-32-1,127,21),a(fe,xe-32-1,127,9),a(Re,Ye-32-1,127,9)),H=0;H<w.za;++H){var ve=A.ya[A.aa+H];if(0<H){for(R=-1;16>R;++R)n(ne,le+32*R-4,ne,le+32*R+12,4);for(R=-1;8>R;++R)n(fe,xe+32*R-4,fe,xe+32*R+4,4),n(Re,Ye+32*R-4,Re,Ye+32*R+4,4)}var Le=w.Gd,ze=w.Hd+H,at=ve.ad,Ke=ve.Hc;if(0<J&&(n(ne,le-32,Le[ze].y,0,16),n(fe,xe-32,Le[ze].f,0,8),n(Re,Ye-32,Le[ze].ea,0,8)),ve.Za){var st=ne,ut=le-32+16;for(0<J&&(H>=w.za-1?a(st,ut,Le[ze].y[15],4):n(st,ut,Le[ze+1].y,0,4)),R=0;4>R;R++)st[ut+128+R]=st[ut+256+R]=st[ut+384+R]=st[ut+0+R];for(R=0;16>R;++R,Ke<<=2)st=ne,ut=le+BD[R],Xl[ve.Ob[R]](st,ut),u2(Ke,at,16*+R,st,ut)}else if(st=Rp(H,J,ve.Ob[0]),ef[st](ne,le),Ke!=0)for(R=0;16>R;++R,Ke<<=2)u2(Ke,at,16*+R,ne,le+BD[R]);for(R=ve.Gc,st=Rp(H,J,ve.Dd),Iu[st](fe,xe),Iu[st](Re,Ye),Ke=at,st=fe,ut=xe,255&(ve=0|R)&&(170&ve?Uc(Ke,256,st,ut):zn(Ke,256,st,ut)),ve=Re,Ke=Ye,255&(R>>=8)&&(170&R?Uc(at,320,ve,Ke):zn(at,320,ve,Ke)),J<w.Ub-1&&(n(Le[ze].y,0,ne,le+480,16),n(Le[ze].f,0,fe,xe+224,8),n(Le[ze].ea,0,Re,Ye+224,8)),R=8*re*w.B,Le=w.sa,ze=w.ta+16*H+16*re*w.R,at=w.qa,ve=w.ra+8*H+R,Ke=w.Ha,st=w.Ia+8*H+R,R=0;16>R;++R)n(Le,ze+R*w.R,ne,le+32*R,16);for(R=0;8>R;++R)n(at,ve+R*w.B,fe,xe+32*R,8),n(Ke,st+R*w.B,Re,Ye+32*R,8)}}function Uh(w,A,R,H,J,re,ne,le,fe){var xe=[0],Re=[0],Ye=0,ve=fe!=null?fe.kd:0,Le=fe??new lt;if(w==null||12>R)return 7;Le.data=w,Le.w=A,Le.ha=R,A=[A],R=[R],Le.gb=[Le.gb];e:{var ze=A,at=R,Ke=Le.gb;if(t(w!=null),t(at!=null),t(Ke!=null),Ke[0]=0,12<=at[0]&&!r(w,ze[0],"RIFF")){if(r(w,ze[0]+8,"WEBP")){Ke=3;break e}var st=_e(w,ze[0]+4);if(12>st||4294967286<st){Ke=3;break e}if(ve&&st>at[0]-8){Ke=7;break e}Ke[0]=st,ze[0]+=12,at[0]-=12}Ke=0}if(Ke!=0)return Ke;for(st=0<Le.gb[0],R=R[0];;){e:{var ut=w;at=A,Ke=R;var wt=xe,gt=Re,sr=ze=[0];if((er=Ye=[Ye])[0]=0,8>Ke[0])Ke=7;else{if(!r(ut,at[0],"VP8X")){if(_e(ut,at[0]+4)!=10){Ke=3;break e}if(18>Ke[0]){Ke=7;break e}var Yt=_e(ut,at[0]+8),zr=1+Se(ut,at[0]+12);if(2147483648<=zr*(ut=1+Se(ut,at[0]+15))){Ke=3;break e}sr!=null&&(sr[0]=Yt),wt!=null&&(wt[0]=zr),gt!=null&&(gt[0]=ut),at[0]+=18,Ke[0]-=18,er[0]=1}Ke=0}}if(Ye=Ye[0],ze=ze[0],Ke!=0)return Ke;if(at=!!(2&ze),!st&&Ye)return 3;if(re!=null&&(re[0]=!!(16&ze)),ne!=null&&(ne[0]=at),le!=null&&(le[0]=0),ne=xe[0],ze=Re[0],Ye&&at&&fe==null){Ke=0;break}if(4>R){Ke=7;break}if(st&&Ye||!st&&!Ye&&!r(w,A[0],"ALPH")){R=[R],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{Yt=w,Ke=A,st=R;var er=Le.gb;wt=Le.na,gt=Le.P,sr=Le.Sa,zr=22,t(Yt!=null),t(st!=null),ut=Ke[0];var Jr=st[0];for(t(wt!=null),t(sr!=null),wt[0]=null,gt[0]=null,sr[0]=0;;){if(Ke[0]=ut,st[0]=Jr,8>Jr){Ke=7;break e}var mi=_e(Yt,ut+4);if(4294967286<mi){Ke=3;break e}var qr=8+mi+1&-2;if(zr+=qr,0<er&&zr>er){Ke=3;break e}if(!r(Yt,ut,"VP8 ")||!r(Yt,ut,"VP8L")){Ke=0;break e}if(Jr[0]<qr){Ke=7;break e}r(Yt,ut,"ALPH")||(wt[0]=Yt,gt[0]=ut+8,sr[0]=mi),ut+=qr,Jr-=qr}}if(R=R[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],Ke!=0)break}R=[R],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(er=w,Ke=A,st=R,wt=Le.gb[0],gt=Le.Ja,sr=Le.xa,Yt=Ke[0],ut=!r(er,Yt,"VP8 "),zr=!r(er,Yt,"VP8L"),t(er!=null),t(st!=null),t(gt!=null),t(sr!=null),8>st[0])Ke=7;else{if(ut||zr){if(er=_e(er,Yt+4),12<=wt&&er>wt-12){Ke=3;break e}if(ve&&er>st[0]-8){Ke=7;break e}gt[0]=er,Ke[0]+=8,st[0]-=8,sr[0]=zr}else sr[0]=5<=st[0]&&er[Yt+0]==47&&!(er[Yt+4]>>5),gt[0]=st[0];Ke=0}if(R=R[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],A=A[0],Ke!=0)break;if(4294967286<Le.Ja)return 3;if(le==null||at||(le[0]=Le.xa?2:1),ne=[ne],ze=[ze],Le.xa){if(5>R){Ke=7;break}le=ne,ve=ze,at=re,w==null||5>R?w=0:5<=R&&w[A+0]==47&&!(w[A+4]>>5)?(st=[0],er=[0],wt=[0],K(gt=new V,w,A,R),Fs(gt,st,er,wt)?(le!=null&&(le[0]=st[0]),ve!=null&&(ve[0]=er[0]),at!=null&&(at[0]=wt[0]),w=1):w=0):w=0}else{if(10>R){Ke=7;break}le=ze,w==null||10>R||!e2(w,A+3,R-3)?w=0:(ve=w[A+0]|w[A+1]<<8|w[A+2]<<16,at=16383&(w[A+7]<<8|w[A+6]),w=16383&(w[A+9]<<8|w[A+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=Le.Ja||!at||!w?w=0:(ne&&(ne[0]=at),le&&(le[0]=w),w=1))}if(!w||(ne=ne[0],ze=ze[0],Ye&&(xe[0]!=ne||Re[0]!=ze)))return 3;fe!=null&&(fe[0]=Le,fe.offset=A-fe.w,t(4294967286>A-fe.w),t(fe.offset==fe.ha-R));break}return Ke==0||Ke==7&&Ye&&fe==null?(re!=null&&(re[0]|=Le.na!=null&&0<Le.na.length),H!=null&&(H[0]=ne),J!=null&&(J[0]=ze),0):Ke}function Zx(w,A,R){var H=A.width,J=A.height,re=0,ne=0,le=H,fe=J;if(A.Da=w!=null&&0<w.Da,A.Da&&(le=w.cd,fe=w.bd,re=w.v,ne=w.j,11>R||(re&=-2,ne&=-2),0>re||0>ne||0>=le||0>=fe||re+le>H||ne+fe>J))return 0;if(A.v=re,A.j=ne,A.va=re+le,A.o=ne+fe,A.U=le,A.T=fe,A.da=w!=null&&0<w.da,A.da){if(!ce(le,fe,R=[w.ib],re=[w.hb]))return 0;A.ib=R[0],A.hb=re[0]}return A.ob=w!=null&&w.ob,A.Kb=w==null||!w.Sd,A.da&&(A.ob=A.ib<3*H/4&&A.hb<3*J/4,A.Kb=0),1}function Jx(w){if(w==null)return 2;if(11>w.S){var A=w.f.RGBA;A.fb+=(w.height-1)*A.A,A.A=-A.A}else A=w.f.kb,w=w.height,A.O+=(w-1)*A.fa,A.fa=-A.fa,A.N+=(w-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(w-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(w-1)*A.lb,A.lb=-A.lb);return 0}function Gd(w,A,R,H){if(H==null||0>=w||0>=A)return 2;if(R!=null){if(R.Da){var J=R.cd,re=R.bd,ne=-2&R.v,le=-2&R.j;if(0>ne||0>le||0>=J||0>=re||ne+J>w||le+re>A)return 2;w=J,A=re}if(R.da){if(!ce(w,A,J=[R.ib],re=[R.hb]))return 2;w=J[0],A=re[0]}}H.width=w,H.height=A;e:{var fe=H.width,xe=H.height;if(w=H.S,0>=fe||0>=xe||!(w>=m2&&13>w))w=2;else{if(0>=H.Rd&&H.sd==null){ne=re=J=A=0;var Re=(le=fe*zD[w])*xe;if(11>w||(re=(xe+1)/2*(A=(fe+1)/2),w==12&&(ne=(J=fe)*xe)),(xe=s(Re+2*re+ne))==null){w=1;break e}H.sd=xe,11>w?((fe=H.f.RGBA).eb=xe,fe.fb=0,fe.A=le,fe.size=Re):((fe=H.f.kb).y=xe,fe.O=0,fe.fa=le,fe.Fd=Re,fe.f=xe,fe.N=0+Re,fe.Ab=A,fe.Cd=re,fe.ea=xe,fe.W=0+Re+re,fe.Db=A,fe.Ed=re,w==12&&(fe.F=xe,fe.J=0+Re+2*re),fe.Tc=ne,fe.lb=J)}if(A=1,J=H.S,re=H.width,ne=H.height,J>=m2&&13>J)if(11>J)w=H.f.RGBA,A&=(le=Math.abs(w.A))*(ne-1)+re<=w.size,A&=le>=re*zD[J],A&=w.eb!=null;else{w=H.f.kb,le=(re+1)/2,Re=(ne+1)/2,fe=Math.abs(w.fa),xe=Math.abs(w.Ab);var Ye=Math.abs(w.Db),ve=Math.abs(w.lb),Le=ve*(ne-1)+re;A&=fe*(ne-1)+re<=w.Fd,A&=xe*(Re-1)+le<=w.Cd,A=(A&=Ye*(Re-1)+le<=w.Ed)&fe>=re&xe>=le&Ye>=le,A&=w.y!=null,A&=w.f!=null,A&=w.ea!=null,J==12&&(A&=ve>=re,A&=Le<=w.Tc,A&=w.F!=null)}else A=0;w=A?0:2}}return w!=0||R!=null&&R.fd&&(w=Jx(H)),w}var Vh=64,To=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Oo=24,Kd=32,Ou=8,Yd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(w){return w},E.Predictor2=function(w,A,R){return A[R+0]},E.Predictor3=function(w,A,R){return A[R+1]},E.Predictor4=function(w,A,R){return A[R-1]},E.Predictor5=function(w,A,R){return ke(ke(w,A[R+1]),A[R+0])},E.Predictor6=function(w,A,R){return ke(w,A[R-1])},E.Predictor7=function(w,A,R){return ke(w,A[R+0])},E.Predictor8=function(w,A,R){return ke(A[R-1],A[R+0])},E.Predictor9=function(w,A,R){return ke(A[R+0],A[R+1])},E.Predictor10=function(w,A,R){return ke(ke(w,A[R-1]),ke(A[R+0],A[R+1]))},E.Predictor11=function(w,A,R){var H=A[R+0];return 0>=et(H>>24&255,w>>24&255,(A=A[R-1])>>24&255)+et(H>>16&255,w>>16&255,A>>16&255)+et(H>>8&255,w>>8&255,A>>8&255)+et(255&H,255&w,255&A)?H:w},E.Predictor12=function(w,A,R){var H=A[R+0];return(Be((w>>24&255)+(H>>24&255)-((A=A[R-1])>>24&255))<<24|Be((w>>16&255)+(H>>16&255)-(A>>16&255))<<16|Be((w>>8&255)+(H>>8&255)-(A>>8&255))<<8|Be((255&w)+(255&H)-(255&A)))>>>0},E.Predictor13=function(w,A,R){var H=A[R-1];return(Xe((w=ke(w,A[R+0]))>>24&255,H>>24&255)<<24|Xe(w>>16&255,H>>16&255)<<16|Xe(w>>8&255,H>>8&255)<<8|Xe(255&w,255&H))>>>0};var ev=E.PredictorAdd0;E.PredictorAdd1=ct,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var Mp=E.PredictorAdd2;Tt("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),Tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var Oa,d2=E.ColorIndexInverseTransform,zc=E.MapARGB,qc=E.VP8LColorIndexInverseTransformAlpha,tv=E.MapAlpha,rv=E.VP8LPredictorsAdd=[];rv.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var nv,av,Xd,Qd,Zd,Wh,Jd,Hh,bl,Uc,yn,zn,Da,hi,Du,iv,Lp,f2,gD,xD,vD,yD,bD,wD,sv,jD,ND,_D,SD=s(511),AD=s(2041),CD=s(225),ED=s(767),PD=0,m4=AD,h2=CD,Do=ED,wl=SD,m2=0,p2=1,kD=2,g2=3,x2=4,p4=5,TD=6,g4=7,x4=8,v2=9,v4=10,Uoe=[2,3,7],Voe=[3,3,11],OD=[280,256,256,256,40],Woe=[0,1,1,1,0],Hoe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Goe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Koe=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Yoe=8,y4=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],b4=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ov=null,Xoe=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qoe=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],DD=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Zoe=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Joe=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ele=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],tle=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ef=[],Xl=[],Iu=[],rle=1,ID=2,tf=[],jl=[];lo("UpsampleRgbLinePair",$h,3),lo("UpsampleBgrLinePair",Bh,3),lo("UpsampleRgbaLinePair",Qx,4),lo("UpsampleBgraLinePair",Xx,4),lo("UpsampleArgbLinePair",qh,4),lo("UpsampleRgba4444LinePair",zh,2),lo("UpsampleRgb565LinePair",hs,2);var nle=E.UpsampleRgbLinePair,ale=E.UpsampleBgrLinePair,FD=E.UpsampleRgbaLinePair,RD=E.UpsampleBgraLinePair,MD=E.UpsampleArgbLinePair,LD=E.UpsampleRgba4444LinePair,ile=E.UpsampleRgb565LinePair,y2=16,b2=1<<y2-1,lv=-227,w4=482,sle=6,$D=0,ole=s(256),lle=s(256),cle=s(256),ule=s(256),dle=s(w4-lv),fle=s(w4-lv);Tu("YuvToRgbRow",$h,3),Tu("YuvToBgrRow",Bh,3),Tu("YuvToRgbaRow",Qx,4),Tu("YuvToBgraRow",Xx,4),Tu("YuvToArgbRow",qh,4),Tu("YuvToRgba4444Row",zh,2),Tu("YuvToRgb565Row",hs,2);var BD=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],w2=[0,2,8],hle=[8,7,6,4,4,2,2,2,1,1,1,1],mle=1;this.WebPDecodeRGBA=function(w,A,R,H,J){var re=p2,ne=new $e,le=new cr;ne.ba=le,le.S=re,le.width=[le.width],le.height=[le.height];var fe=le.width,xe=le.height,Re=new Wt;if(Re==null||w==null)var Ye=2;else t(Re!=null),Ye=Uh(w,A,R,Re.width,Re.height,Re.Pd,Re.Qd,Re.format,null);if(Ye!=0?fe=0:(fe!=null&&(fe[0]=Re.width[0]),xe!=null&&(xe[0]=Re.height[0]),fe=1),fe){le.width=le.width[0],le.height=le.height[0],H!=null&&(H[0]=le.width),J!=null&&(J[0]=le.height);e:{if(H=new fs,(J=new lt).data=w,J.w=A,J.ha=R,J.kd=1,A=[0],t(J!=null),((w=Uh(J.data,J.w,J.ha,null,null,null,A,null,J))==0||w==7)&&A[0]&&(w=4),(A=w)==0){if(t(ne!=null),H.data=J.data,H.w=J.w+J.offset,H.ha=J.ha-J.offset,H.put=ur,H.ac=Wi,H.bc=oo,H.ma=ne,J.xa){if((w=He())==null){ne=1;break e}if(function(ve,Le){var ze=[0],at=[0],Ke=[0];t:for(;;){if(ve==null)return 0;if(Le==null)return ve.a=2,0;if(ve.l=Le,ve.a=0,K(ve.m,Le.data,Le.w,Le.ha),!Fs(ve.m,ze,at,Ke)){ve.a=3;break t}if(ve.xb=ID,Le.width=ze[0],Le.height=at[0],!Ge(ze[0],at[0],1,ve,null))break t;return 1}return t(ve.a!=0),0}(w,H)){if(H=(A=Gd(H.width,H.height,ne.Oa,ne.ba))==0){t:{H=w;r:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t((R=H.l)!=null),t((J=R.ma)!=null),H.xb!=0){if(H.ca=J.ba,H.tb=J.tb,t(H.ca!=null),!Zx(J.Oa,R,g2)){H.a=2;break r}if(!Qe(H,R.width)||R.da)break r;if((R.da||pr(H.ca.S))&&vl(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&vl()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!se(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!We(H,H.V,H.Ba,H.c,H.i,R.o,ue))break r;J.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(A=w.a)}else A=w.a}else{if((w=new JS)==null){ne=1;break e}if(w.Fa=J.na,w.P=J.P,w.qc=J.Sa,t2(w,H)){if((A=Gd(H.width,H.height,ne.Oa,ne.ba))==0){if(w.Aa=0,R=ne.Oa,t((J=w)!=null),R!=null){if(0<(fe=0>(fe=R.Md)?0:100<fe?255:255*fe/100)){for(xe=Re=0;4>xe;++xe)12>(Ye=J.pb[xe]).lc&&(Ye.ia=fe*hle[0>Ye.lc?0:Ye.lc]>>3),Re|=Ye.ia;Re&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=R.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(ve,Le){if(ve==null)return 0;if(Le==null)return Xa(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!t2(ve,Le))return 0;if(t(ve.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(ve.L=0);var ze=w2[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=Le.v-ze>>4,ve.zb=Le.j-ze>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=Le.o+15+ze>>4,ve.Hb=Le.va+15+ze>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var at=ve.ed;for(ze=0;4>ze;++ze){var Ke;if(ve.Qa.Cb){var st=ve.Qa.Lb[ze];ve.Qa.Fb||(st+=at.Tb)}else st=at.Tb;for(Ke=0;1>=Ke;++Ke){var ut=ve.gd[ze][Ke],wt=st;if(at.Pc&&(wt+=at.vd[0],Ke&&(wt+=at.od[0])),0<(wt=0>wt?0:63<wt?63:wt)){var gt=wt;0<at.wb&&(gt=4<at.wb?gt>>2:gt>>1)>9-at.wb&&(gt=9-at.wb),1>gt&&(gt=1),ut.dd=gt,ut.tc=2*wt+gt,ut.ld=40<=wt?2:15<=wt?1:0}else ut.tc=0;ut.La=Ke}}}ze=0}else Xa(ve,6,"Frame setup failed"),ze=ve.a;if(ze=ze==0){if(ze){ve.$c=0,0<ve.Aa||(ve.Ic=mle);t:{ze=ve.Ic,at=4*(gt=ve.za);var sr=32*gt,Yt=gt+1,zr=0<ve.L?gt*(0<ve.Aa?2:1):0,er=(ve.Aa==2?2:1)*gt;if((ut=at+832+(Ke=3*(16*ze+w2[ve.L])/2*sr)+(st=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=ut)ze=0;else{if(ut>ve.Vb){if(ve.Vb=0,ve.Ec=s(ut),ve.Fc=0,ve.Ec==null){ze=Xa(ve,1,"no memory during frame initialization.");break t}ve.Vb=ut}ut=ve.Ec,wt=ve.Fc,ve.Ac=ut,ve.Bc=wt,wt+=at,ve.Gd=o(sr,xl),ve.Hd=0,ve.rb=o(Yt+1,ya),ve.sb=1,ve.wa=zr?o(zr,Zr):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=gt),t(!0),ve.oc=ut,ve.pc=wt,wt+=832,ve.ya=o(er,Kl),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=gt),ve.R=16*gt,ve.B=8*gt,gt=(sr=w2[ve.L])*ve.R,sr=sr/2*ve.B,ve.sa=ut,ve.ta=wt+gt,ve.qa=ve.sa,ve.ra=ve.ta+16*ze*ve.R+sr,ve.Ha=ve.qa,ve.Ia=ve.ra+8*ze*ve.B+sr,ve.$c=0,wt+=Ke,ve.mb=st?ut:null,ve.nb=st?wt:null,t(wt+st<=ve.Fc+ve.Vb),Eh(ve),a(ve.Ac,ve.Bc,0,at),ze=1}}if(ze){if(Le.ka=0,Le.y=ve.sa,Le.O=ve.ta,Le.f=ve.qa,Le.N=ve.ra,Le.ea=ve.Ha,Le.Vd=ve.Ia,Le.fa=ve.R,Le.Rc=ve.B,Le.F=null,Le.J=0,!PD){for(ze=-255;255>=ze;++ze)SD[255+ze]=0>ze?-ze:ze;for(ze=-1020;1020>=ze;++ze)AD[1020+ze]=-128>ze?-128:127<ze?127:ze;for(ze=-112;112>=ze;++ze)CD[112+ze]=-16>ze?-16:15<ze?15:ze;for(ze=-255;510>=ze;++ze)ED[255+ze]=0>ze?0:255<ze?255:ze;PD=1}Jd=n2,Hh=t4,Uc=r4,yn=Bc,zn=r2,bl=e4,Da=s2,hi=o2,Du=F,iv=Z,Lp=Rh,f2=l2,gD=je,xD=Te,vD=Yx,yD=Fh,bD=a2,wD=i2,Xl[0]=c4,Xl[1]=qx,Xl[2]=o4,Xl[3]=l4,Xl[4]=u4,Xl[5]=Eu,Xl[6]=Cu,Xl[7]=d4,Xl[8]=Tp,Xl[9]=f4,ef[0]=Wd,ef[1]=a4,ef[2]=i4,ef[3]=Ux,ef[4]=s4,ef[5]=Th,ef[6]=Vx,Iu[0]=Dp,Iu[1]=n4,Iu[2]=Wx,Iu[3]=Oh,Iu[4]=Hx,Iu[5]=h4,Iu[6]=Gx,ze=1}else ze=0}ze&&(ze=function(Jr,mi){for(Jr.M=0;Jr.M<Jr.Va;++Jr.M){var qr,tr=Jr.Jc[Jr.M&Jr.Xb],Dt=Jr.m,Ia=Jr;for(qr=0;qr<Ia.za;++qr){var Mr=Dt,an=Ia,Qn=an.Ac,Gi=an.Bc+4*qr,Rs=an.zc,wa=an.ya[an.aa+qr];if(an.Qa.Bb?wa.$b=U(Mr,an.Pa.jb[0])?2+U(Mr,an.Pa.jb[2]):U(Mr,an.Pa.jb[1]):wa.$b=0,an.kc&&(wa.Ad=U(Mr,an.Bd)),wa.Za=!U(Mr,145)+0,wa.Za){var ms=wa.Ob,Ms=0;for(an=0;4>an;++an){var pi,ln=Rs[0+an];for(pi=0;4>pi;++pi){ln=Joe[Qn[Gi+pi]][ln];for(var _n=DD[U(Mr,ln[0])];0<_n;)_n=DD[2*_n+U(Mr,ln[_n])];ln=-_n,Qn[Gi+pi]=ln}n(ms,Ms,Qn,Gi,4),Ms+=4,Rs[0+an]=ln}}else ln=U(Mr,156)?U(Mr,128)?1:3:U(Mr,163)?2:0,wa.Ob[0]=ln,a(Qn,Gi,ln,4),a(Rs,0,ln,4);wa.Dd=U(Mr,142)?U(Mr,114)?U(Mr,183)?1:3:2:0}if(Ia.m.Ka)return Xa(Jr,7,"Premature end-of-partition0 encountered.");for(;Jr.ja<Jr.za;++Jr.ja){if(Ia=tr,Mr=(Dt=Jr).rb[Dt.sb-1],Qn=Dt.rb[Dt.sb+Dt.ja],qr=Dt.ya[Dt.aa+Dt.ja],Gi=Dt.kc?qr.Ad:0)Mr.la=Qn.la=0,qr.Za||(Mr.Na=Qn.Na=0),qr.Hc=0,qr.Gc=0,qr.ia=0;else{var ja,Sn;if(Mr=Qn,Qn=Ia,Gi=Dt.Pa.Xc,Rs=Dt.ya[Dt.aa+Dt.ja],wa=Dt.pb[Rs.$b],an=Rs.ad,ms=0,Ms=Dt.rb[Dt.sb-1],ln=pi=0,a(an,ms,0,384),Rs.Za)var Ki=0,Ql=Gi[3];else{_n=s(16);var Fa=Mr.Na+Ms.Na;if(Fa=ov(Qn,Gi[1],Fa,wa.Eb,0,_n,0),Mr.Na=Ms.Na=(0<Fa)+0,1<Fa)Jd(_n,0,an,ms);else{var co=_n[0]+3>>3;for(_n=0;256>_n;_n+=16)an[ms+_n]=co}Ki=1,Ql=Gi[0]}var qn=15&Mr.la,gi=15&Ms.la;for(_n=0;4>_n;++_n){var Io=1&gi;for(co=Sn=0;4>co;++co)qn=qn>>1|(Io=(Fa=ov(Qn,Ql,Fa=Io+(1&qn),wa.Sc,Ki,an,ms))>Ki)<<7,Sn=Sn<<2|(3<Fa?3:1<Fa?2:an[ms+0]!=0),ms+=16;qn>>=4,gi=gi>>1|Io<<7,pi=(pi<<8|Sn)>>>0}for(Ql=qn,Ki=gi>>4,ja=0;4>ja;ja+=2){for(Sn=0,qn=Mr.la>>4+ja,gi=Ms.la>>4+ja,_n=0;2>_n;++_n){for(Io=1&gi,co=0;2>co;++co)Fa=Io+(1&qn),qn=qn>>1|(Io=0<(Fa=ov(Qn,Gi[2],Fa,wa.Qc,0,an,ms)))<<3,Sn=Sn<<2|(3<Fa?3:1<Fa?2:an[ms+0]!=0),ms+=16;qn>>=2,gi=gi>>1|Io<<5}ln|=Sn<<4*ja,Ql|=qn<<4<<ja,Ki|=(240&gi)<<ja}Mr.la=Ql,Ms.la=Ki,Rs.Hc=pi,Rs.Gc=ln,Rs.ia=43690&ln?0:wa.ia,Gi=!(pi|ln)}if(0<Dt.L&&(Dt.wa[Dt.Y+Dt.ja]=Dt.gd[qr.$b][qr.Za],Dt.wa[Dt.Y+Dt.ja].La|=!Gi),Ia.Ka)return Xa(Jr,7,"Premature end-of-file encountered.")}if(Eh(Jr),Dt=mi,Ia=1,qr=(tr=Jr).D,Mr=0<tr.L&&tr.M>=tr.zb&&tr.M<=tr.Va,tr.Aa==0)t:{if(qr.M=tr.M,qr.uc=Mr,yl(tr,qr),Ia=1,qr=(Sn=tr.D).Nb,Mr=(ln=w2[tr.L])*tr.R,Qn=ln/2*tr.B,_n=16*qr*tr.R,co=8*qr*tr.B,Gi=tr.sa,Rs=tr.ta-Mr+_n,wa=tr.qa,an=tr.ra-Qn+co,ms=tr.Ha,Ms=tr.Ia-Qn+co,gi=(qn=Sn.M)==0,pi=qn>=tr.Va-1,tr.Aa==2&&yl(tr,Sn),Sn.uc)for(Io=(Fa=tr).D.M,t(Fa.D.uc),Sn=Fa.yb;Sn<Fa.Hb;++Sn){Ki=Sn,Ql=Io;var Ls=(Fo=(Yi=Fa).D).Nb;ja=Yi.R;var Fo=Fo.wa[Fo.Y+Ki],Ro=Yi.sa,uo=Yi.ta+16*Ls*ja+16*Ki,Mo=Fo.dd,Hn=Fo.tc;if(Hn!=0)if(t(3<=Hn),Yi.L==1)0<Ki&&yD(Ro,uo,ja,Hn+4),Fo.La&&wD(Ro,uo,ja,Hn),0<Ql&&vD(Ro,uo,ja,Hn+4),Fo.La&&bD(Ro,uo,ja,Hn);else{var Lo=Yi.B,Zl=Yi.qa,Gh=Yi.ra+8*Ls*Lo+8*Ki,Fu=Yi.Ha,Yi=Yi.Ia+8*Ls*Lo+8*Ki;Ls=Fo.ld,0<Ki&&(hi(Ro,uo,ja,Hn+4,Mo,Ls),iv(Zl,Gh,Fu,Yi,Lo,Hn+4,Mo,Ls)),Fo.La&&(f2(Ro,uo,ja,Hn,Mo,Ls),xD(Zl,Gh,Fu,Yi,Lo,Hn,Mo,Ls)),0<Ql&&(Da(Ro,uo,ja,Hn+4,Mo,Ls),Du(Zl,Gh,Fu,Yi,Lo,Hn+4,Mo,Ls)),Fo.La&&(Lp(Ro,uo,ja,Hn,Mo,Ls),gD(Zl,Gh,Fu,Yi,Lo,Hn,Mo,Ls))}}if(tr.ia&&alert("todo:DitherRow"),Dt.put!=null){if(Sn=16*qn,qn=16*(qn+1),gi?(Dt.y=tr.sa,Dt.O=tr.ta+_n,Dt.f=tr.qa,Dt.N=tr.ra+co,Dt.ea=tr.Ha,Dt.W=tr.Ia+co):(Sn-=ln,Dt.y=Gi,Dt.O=Rs,Dt.f=wa,Dt.N=an,Dt.ea=ms,Dt.W=Ms),pi||(qn-=ln),qn>Dt.o&&(qn=Dt.o),Dt.F=null,Dt.J=null,tr.Fa!=null&&0<tr.Fa.length&&Sn<qn&&(Dt.J=Qa(tr,Dt,Sn,qn-Sn),Dt.F=tr.mb,Dt.F==null&&Dt.F.length==0)){Ia=Xa(tr,3,"Could not decode alpha data.");break t}Sn<Dt.j&&(ln=Dt.j-Sn,Sn=Dt.j,t(!(1&ln)),Dt.O+=tr.R*ln,Dt.N+=tr.B*(ln>>1),Dt.W+=tr.B*(ln>>1),Dt.F!=null&&(Dt.J+=Dt.width*ln)),Sn<qn&&(Dt.O+=Dt.v,Dt.N+=Dt.v>>1,Dt.W+=Dt.v>>1,Dt.F!=null&&(Dt.J+=Dt.v),Dt.ka=Sn-Dt.j,Dt.U=Dt.va-Dt.v,Dt.T=qn-Sn,Ia=Dt.put(Dt))}qr+1!=tr.Ic||pi||(n(tr.sa,tr.ta-Mr,Gi,Rs+16*tr.R,Mr),n(tr.qa,tr.ra-Qn,wa,an+8*tr.B,Qn),n(tr.Ha,tr.Ia-Qn,ms,Ms+8*tr.B,Qn))}if(!Ia)return Xa(Jr,6,"Output aborted.")}return 1}(ve,Le)),Le.bc!=null&&Le.bc(Le),ze&=1}return ze?(ve.cb=0,ze):0})(w,H)||(A=w.a)}}else A=w.a}A==0&&ne.Oa!=null&&ne.Oa.fd&&(A=Jx(ne.ba))}ne=A}re=ne!=0?null:11>re?le.f.RGBA.eb:le.f.kb.y}else re=null;return re};var zD=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,M){for(var T="",C=0;C<4;C++)T+=String.fromCharCode(E[M++]);return T}function d(E,M){return E[M+0]|E[M+1]<<8}function f(E,M){return(E[M+0]|E[M+1]<<8|E[M+2]<<16)>>>0}function h(E,M){return(E[M+0]|E[M+1]<<8|E[M+2]<<16|E[M+3]<<24)>>>0}new c;var m=[0],g=[0],p=[],x=new c,v=e,y=function(E,M){var T={},C=0,I=!1,L=0,z=0;if(T.frames=[],!function(O,V){for(var D=0;D<4;D++)if(O[V+D]!="RIFF".charCodeAt(D))return!0;return!1}(E,M)){for(h(E,M+=4),M+=8;M<E.length;){var G=u(E,M),W=h(E,M+=4);M+=4;var q=W+(1&W);switch(G){case"VP8 ":case"VP8L":T.frames[C]===void 0&&(T.frames[C]={}),(ie=T.frames[C]).src_off=I?z:M-8,ie.src_size=L+W+8,C++,I&&(I=!1,L=0,z=0);break;case"VP8X":(ie=T.header={}).feature_flags=E[M];var K=M+4;ie.canvas_width=1+f(E,K),K+=3,ie.canvas_height=1+f(E,K),K+=3;break;case"ALPH":I=!0,L=q+8,z=M-8;break;case"ANIM":(ie=T.header).bgcolor=h(E,M),K=M+4,ie.loop_count=d(E,K),K+=2;break;case"ANMF":var ae,ie;(ie=T.frames[C]={}).offset_x=2*f(E,M),M+=3,ie.offset_y=2*f(E,M),M+=3,ie.width=1+f(E,M),M+=3,ie.height=1+f(E,M),M+=3,ie.duration=f(E,M),M+=3,ae=E[M++],ie.dispose=1&ae,ie.blend=ae>>1&1}G!="ANMF"&&(M+=q)}return T}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,j=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,m=[b.canvas_height],g=[b.canvas_width];for(var _=0;_<j.length&&j[_].blend!=0;_++);}var P=j[0],k=x.WebPDecodeRGBA(v,P.src_off,P.src_size,g,m);P.rgba=k,P.imgwidth=g[0],P.imgheight=m[0];for(var S=0;S<g[0]*m[0]*4;S++)p[S]=k[S];return this.width=g,this.height=m,this.data=p,this}(function(e){var t,r,n,a,s,o,l,c,u,d=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=O;Object.defineProperty(this,"pdf",{get:function(){return V}});var D=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return D},set:function(_e){D=!!_e}});var B=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return B},set:function(_e){B=!!_e}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(_e){isNaN(_e)||(Q=_e)}});var Y=0;Object.defineProperty(this,"posY",{get:function(){return Y},set:function(_e){isNaN(_e)||(Y=_e)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(_e){var se;typeof _e=="number"?se=[_e,_e,_e,_e]:((se=new Array(4))[0]=_e[0],se[1]=_e.length>=2?_e[1]:se[0],se[2]=_e.length>=3?_e[2]:se[0],se[3]=_e.length>=4?_e[3]:se[1]),u.margin=se}});var ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ee},set:function(_e){ee=_e}});var X=0;Object.defineProperty(this,"lastBreak",{get:function(){return X},set:function(_e){X=_e}});var U=[];Object.defineProperty(this,"pageBreaks",{get:function(){return U},set:function(_e){U=_e}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(_e){_e instanceof d&&(u=_e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(_e){u.path=_e}});var me=[];Object.defineProperty(this,"ctxStack",{get:function(){return me},set:function(_e){me=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var se;se=h(_e),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var se=h(_e);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var oe=null,Se=null;Object.defineProperty(this,"fontFaces",{get:function(){return Se},set:function(_e){oe=null,Se=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var se;if(this.ctx.font=_e,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var ft=se[1];se[2];var de=se[3],ce=se[4];se[5];var Ee=se[6],rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ce)[2];ce=Math.floor(rt==="px"?parseFloat(ce)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat(ce)*this.pdf.getFontSize():parseFloat(ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ce);var ot=function($t){var Tt,rn,Vr=[],Vt=$t.trim();if(Vt==="")return m3;if(Vt in D$)return[D$[Vt]];for(;Vt!=="";){switch(rn=null,Tt=(Vt=F$(Vt)).charAt(0)){case'"':case"'":rn=vUe(Vt.substring(1),Tt);break;default:rn=yUe(Vt)}if(rn===null||(Vr.push(rn[0]),(Vt=F$(rn[1]))!==""&&Vt.charAt(0)!==","))return m3;Vt=Vt.replace(/^,/,"")}return Vr}(Ee);if(this.fontFaces){var ge=function($t,Tt){if(oe===null){var rn=function(Vr){var Vt=[];return Object.keys(Vr).forEach(function(dr){Vr[dr].forEach(function(nn){var lr=null;switch(nn){case"bold":lr={family:dr,weight:"bold"};break;case"italic":lr={family:dr,style:"italic"};break;case"bolditalic":lr={family:dr,weight:"bold",style:"italic"};break;case"":case"normal":lr={family:dr}}lr!==null&&(lr.ref={name:dr,style:nn},Vt.push(lr))})}),Vt}($t.getFontList());oe=function(Vr){for(var Vt={},dr=0;dr<Vr.length;++dr){var nn=h3(Vr[dr]),lr=nn.family,Dr=nn.stretch,pr=nn.style,Ve=nn.weight;Vt[lr]=Vt[lr]||{},Vt[lr][Dr]=Vt[lr][Dr]||{},Vt[lr][Dr][pr]=Vt[lr][Dr][pr]||{},Vt[lr][Dr][pr][Ve]=nn}return Vt}(rn.concat(Tt))}return oe}(this.pdf,this.fontFaces),ke=ot.map(function($t){return{family:$t,stretch:"normal",weight:de,style:ft}}),Be=function($t,Tt,rn){for(var Vr=(rn=rn||{}).defaultFontFamily||"times",Vt=Object.assign({},xUe,rn.genericFontFamilies||{}),dr=null,nn=null,lr=0;lr<Tt.length;++lr)if(Vt[(dr=h3(Tt[lr])).family]&&(dr.family=Vt[dr.family]),$t.hasOwnProperty(dr.family)){nn=$t[dr.family];break}if(!(nn=nn||$t[Vr]))throw new Error("Could not find a font-family for the rule '"+I$(dr)+"' and default family '"+Vr+"'.");if(nn=function(Dr,pr){if(pr[Dr])return pr[Dr];var Ve=ik[Dr],Ot=Ve<=ik.normal?-1:1,cr=O$(pr,Dte,Ve,Ot);if(!cr)throw new Error("Could not find a matching font-stretch value for "+Dr);return cr}(dr.stretch,nn),nn=function(Dr,pr){if(pr[Dr])return pr[Dr];for(var Ve=Ote[Dr],Ot=0;Ot<Ve.length;++Ot)if(pr[Ve[Ot]])return pr[Ve[Ot]];throw new Error("Could not find a matching font-style for "+Dr)}(dr.style,nn),!(nn=function(Dr,pr){if(pr[Dr])return pr[Dr];if(Dr===400&&pr[500])return pr[500];if(Dr===500&&pr[400])return pr[400];var Ve=gUe[Dr],Ot=O$(pr,Ite,Ve,Dr<400?-1:1);if(!Ot)throw new Error("Could not find a matching font-weight for value "+Dr);return Ot}(dr.weight,nn)))throw new Error("Failed to resolve a font for the rule '"+I$(dr)+"'.");return nn}(ge,ke);this.pdf.setFont(Be.ref.name,Be.ref.style)}else{var Xe="";(de==="bold"||parseInt(de,10)>=700||ft==="bold")&&(Xe="bold"),ft==="italic"&&(Xe+="italic"),Xe.length===0&&(Xe="normal");for(var et="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<ot.length;dt++){if(this.pdf.internal.getFont(ot[dt],Xe,{noFallback:!0,disableWarning:!0})!==void 0){et=ot[dt];break}if(Xe==="bolditalic"&&this.pdf.internal.getFont(ot[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)et=ot[dt],Xe="bold";else if(this.pdf.internal.getFont(ot[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){et=ot[dt],Xe="normal";break}}if(et===""){for(var Nt=0;Nt<ot.length;Nt++)if(ct[ot[Nt]]){et=ct[ot[Nt]];break}}et=et===""?"Times":et,this.pdf.setFont(et,Xe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};f.prototype.setLineDash=function(O){this.lineDash=O},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){j.call(this,"fill",!1)},f.prototype.stroke=function(){j.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(O,V){if(isNaN(O)||isNaN(V))throw Un.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var D=this.ctx.transform.applyToPoint(new o(O,V));this.path.push({type:"mt",x:D.x,y:D.y}),this.ctx.lastPoint=new o(O,V)},f.prototype.closePath=function(){var O=new o(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&kn(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){O=new o(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},f.prototype.lineTo=function(O,V){if(isNaN(O)||isNaN(V))throw Un.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var D=this.ctx.transform.applyToPoint(new o(O,V));this.path.push({type:"lt",x:D.x,y:D.y}),this.ctx.lastPoint=new o(D.x,D.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},f.prototype.quadraticCurveTo=function(O,V,D,B){if(isNaN(D)||isNaN(B)||isNaN(O)||isNaN(V))throw Un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new o(D,B)),Y=this.ctx.transform.applyToPoint(new o(O,V));this.path.push({type:"qct",x1:Y.x,y1:Y.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.bezierCurveTo=function(O,V,D,B,Q,Y){if(isNaN(Q)||isNaN(Y)||isNaN(O)||isNaN(V)||isNaN(D)||isNaN(B))throw Un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ee=this.ctx.transform.applyToPoint(new o(Q,Y)),X=this.ctx.transform.applyToPoint(new o(O,V)),U=this.ctx.transform.applyToPoint(new o(D,B));this.path.push({type:"bct",x1:X.x,y1:X.y,x2:U.x,y2:U.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},f.prototype.arc=function(O,V,D,B,Q,Y){if(isNaN(O)||isNaN(V)||isNaN(D)||isNaN(B)||isNaN(Q))throw Un.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Y=!!Y,!this.ctx.transform.isIdentity){var ee=this.ctx.transform.applyToPoint(new o(O,V));O=ee.x,V=ee.y;var X=this.ctx.transform.applyToPoint(new o(0,D)),U=this.ctx.transform.applyToPoint(new o(0,0));D=Math.sqrt(Math.pow(X.x-U.x,2)+Math.pow(X.y-U.y,2))}Math.abs(Q-B)>=2*Math.PI&&(B=0,Q=2*Math.PI),this.path.push({type:"arc",x:O,y:V,radius:D,startAngle:B,endAngle:Q,counterclockwise:Y})},f.prototype.arcTo=function(O,V,D,B,Q){throw new Error("arcTo not implemented.")},f.prototype.rect=function(O,V,D,B){if(isNaN(O)||isNaN(V)||isNaN(D)||isNaN(B))throw Un.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,V),this.lineTo(O+D,V),this.lineTo(O+D,V+B),this.lineTo(O,V+B),this.lineTo(O,V),this.lineTo(O+D,V),this.lineTo(O,V)},f.prototype.fillRect=function(O,V,D,B){if(isNaN(O)||isNaN(V)||isNaN(D)||isNaN(B))throw Un.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,V,D,B),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},f.prototype.strokeRect=function(O,V,D,B){if(isNaN(O)||isNaN(V)||isNaN(D)||isNaN(B))throw Un.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(O,V,D,B),this.stroke())},f.prototype.clearRect=function(O,V,D,B){if(isNaN(O)||isNaN(V)||isNaN(D)||isNaN(B))throw Un.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,V,D,B))},f.prototype.save=function(O){O=typeof O!="boolean"||O;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,D=0;D<this.pdf.internal.getNumberOfPages();D++)this.pdf.setPage(D+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var B=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=B}},f.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,D=0;D<this.pdf.internal.getNumberOfPages();D++)this.pdf.setPage(D+1),this.pdf.internal.out("Q");this.pdf.setPage(V),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(O){var V,D,B,Q;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))V=0,D=0,B=0,Q=0;else{var Y=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(Y!==null)V=parseInt(Y[1]),D=parseInt(Y[2]),B=parseInt(Y[3]),Q=1;else if((Y=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)V=parseInt(Y[1]),D=parseInt(Y[2]),B=parseInt(Y[3]),Q=parseFloat(Y[4]);else{if(Q=1,typeof O=="string"&&O.charAt(0)!=="#"){var ee=new Ste(O);O=ee.ok?ee.toHex():"#000000"}O.length===4?(V=O.substring(1,2),V+=V,D=O.substring(2,3),D+=D,B=O.substring(3,4),B+=B):(V=O.substring(1,3),D=O.substring(3,5),B=O.substring(5,7)),V=parseInt(V,16),D=parseInt(D,16),B=parseInt(B,16)}}return{r:V,g:D,b:B,a:Q,style:O}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(O,V,D,B){if(isNaN(V)||isNaN(D)||typeof O!="string")throw Un.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(B=isNaN(B)?void 0:B,!m.call(this)){var Q=q(this.ctx.transform.rotation),Y=this.ctx.transform.scaleX;C.call(this,{text:O,x:V,y:D,scale:Y,angle:Q,align:this.textAlign,maxWidth:B})}},f.prototype.strokeText=function(O,V,D,B){if(isNaN(V)||isNaN(D)||typeof O!="string")throw Un.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){B=isNaN(B)?void 0:B;var Q=q(this.ctx.transform.rotation),Y=this.ctx.transform.scaleX;C.call(this,{text:O,x:V,y:D,scale:Y,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:B})}},f.prototype.measureText=function(O){if(typeof O!="string")throw Un.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,D=this.pdf.internal.scaleFactor,B=V.internal.getFontSize(),Q=V.getStringUnitWidth(O)*B/V.internal.scaleFactor;return new function(Y){var ee=(Y=Y||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ee}}),this}({width:Q*=Math.round(96*D/72*1e4)/1e4})},f.prototype.scale=function(O,V){if(isNaN(O)||isNaN(V))throw Un.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var D=new c(O,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(D)},f.prototype.rotate=function(O){if(isNaN(O))throw Un.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.translate=function(O,V){if(isNaN(O)||isNaN(V))throw Un.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var D=new c(1,0,0,1,O,V);this.ctx.transform=this.ctx.transform.multiply(D)},f.prototype.transform=function(O,V,D,B,Q,Y){if(isNaN(O)||isNaN(V)||isNaN(D)||isNaN(B)||isNaN(Q)||isNaN(Y))throw Un.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ee=new c(O,V,D,B,Q,Y);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.setTransform=function(O,V,D,B,Q,Y){O=isNaN(O)?1:O,V=isNaN(V)?0:V,D=isNaN(D)?0:D,B=isNaN(B)?1:B,Q=isNaN(Q)?0:Q,Y=isNaN(Y)?0:Y,this.ctx.transform=new c(O,V,D,B,Q,Y)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(O,V,D,B,Q,Y,ee,X,U){var me=this.pdf.getImageProperties(O),oe=1,Se=1,_e=1,se=1;B!==void 0&&X!==void 0&&(_e=X/B,se=U/Q,oe=me.width/B*X/B,Se=me.height/Q*U/Q),Y===void 0&&(Y=V,ee=D,V=0,D=0),B!==void 0&&X===void 0&&(X=B,U=Q),B===void 0&&X===void 0&&(X=me.width,U=me.height);for(var ft,de=this.ctx.transform.decompose(),ce=q(de.rotate.shx),Ee=new c,rt=(Ee=(Ee=(Ee=Ee.multiply(de.translate)).multiply(de.skew)).multiply(de.scale)).applyToRectangle(new l(Y-V*_e,ee-D*se,B*oe,Q*Se)),ot=x.call(this,rt),ge=[],ke=0;ke<ot.length;ke+=1)ge.indexOf(ot[ke])===-1&&ge.push(ot[ke]);if(b(ge),this.autoPaging)for(var Be=ge[0],Xe=ge[ge.length-1],et=Be;et<Xe+1;et++){this.pdf.setPage(et);var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=et===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=et===1?0:Nt+(et-2)*$t;if(this.ctx.clip_path.length!==0){var rn=this.path;ft=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ft,this.posX+this.margin[3],-Tt+dt+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=rn}var Vr=JSON.parse(JSON.stringify(rt));Vr=y([Vr],this.posX+this.margin[3],-Tt+dt+this.ctx.prevPageLastElemOffset)[0];var Vt=(et>Be||et<Xe)&&p.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,$t,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Vr.x,Vr.y,Vr.w,Vr.h,null,null,ce),Vt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,ce)};var x=function(O,V,D){var B=[];V=V||this.pdf.internal.pageSize.width,D=D||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":B.push(Math.floor((O.y+Q)/D)+1);break;case"arc":B.push(Math.floor((O.y+Q-O.radius)/D)+1),B.push(Math.floor((O.y+Q+O.radius)/D)+1);break;case"qct":var Y=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);B.push(Math.floor((Y.y+Q)/D)+1),B.push(Math.floor((Y.y+Y.h+Q)/D)+1);break;case"bct":var ee=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);B.push(Math.floor((ee.y+Q)/D)+1),B.push(Math.floor((ee.y+ee.h+Q)/D)+1);break;case"rect":B.push(Math.floor((O.y+Q)/D)+1),B.push(Math.floor((O.y+O.h+Q)/D)+1)}for(var X=0;X<B.length;X+=1)for(;this.pdf.internal.getNumberOfPages()<B[X];)v.call(this);return B},v=function(){var O=this.fillStyle,V=this.strokeStyle,D=this.font,B=this.lineCap,Q=this.lineWidth,Y=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=V,this.font=D,this.lineCap=B,this.lineWidth=Q,this.lineJoin=Y},y=function(O,V,D){for(var B=0;B<O.length;B++)switch(O[B].type){case"bct":O[B].x2+=V,O[B].y2+=D;case"qct":O[B].x1+=V,O[B].y1+=D;default:O[B].x+=V,O[B].y+=D}return O},b=function(O){return O.sort(function(V,D){return V-D})},j=function(O,V){for(var D,B,Q=this.fillStyle,Y=this.strokeStyle,ee=this.lineCap,X=this.lineWidth,U=Math.abs(X*this.ctx.transform.scaleX),me=this.lineJoin,oe=JSON.parse(JSON.stringify(this.path)),Se=JSON.parse(JSON.stringify(this.path)),_e=[],se=0;se<Se.length;se++)if(Se[se].x!==void 0)for(var ft=x.call(this,Se[se]),de=0;de<ft.length;de+=1)_e.indexOf(ft[de])===-1&&_e.push(ft[de]);for(var ce=0;ce<_e.length;ce++)for(;this.pdf.internal.getNumberOfPages()<_e[ce];)v.call(this);if(b(_e),this.autoPaging)for(var Ee=_e[0],rt=_e[_e.length-1],ot=Ee;ot<rt+1;ot++){this.pdf.setPage(ot),this.fillStyle=Q,this.strokeStyle=Y,this.lineCap=ee,this.lineWidth=U,this.lineJoin=me;var ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ke=ot===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=ot===1?0:Be+(ot-2)*Xe;if(this.ctx.clip_path.length!==0){var ct=this.path;D=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(D,this.posX+this.margin[3],-et+ke+this.ctx.prevPageLastElemOffset),_.call(this,O,!0),this.path=ct}if(B=JSON.parse(JSON.stringify(oe)),this.path=y(B,this.posX+this.margin[3],-et+ke+this.ctx.prevPageLastElemOffset),V===!1||ot===0){var dt=(ot>Ee||ot<rt)&&p.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,Xe,null).clip().discardPath()),_.call(this,O,V),dt&&this.pdf.restoreGraphicsState()}this.lineWidth=X}else this.lineWidth=U,_.call(this,O,V),this.lineWidth=X;this.path=oe},_=function(O,V){if((O!=="stroke"||V||!g.call(this))&&(O==="stroke"||V||!m.call(this))){for(var D,B,Q=[],Y=this.path,ee=0;ee<Y.length;ee++){var X=Y[ee];switch(X.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:X,deltas:[],abs:[]});break;case"lt":var U=Q.length;if(Y[ee-1]&&!isNaN(Y[ee-1].x)&&(D=[X.x-Y[ee-1].x,X.y-Y[ee-1].y],U>0)){for(;U>=0;U--)if(Q[U-1].close!==!0&&Q[U-1].begin!==!0){Q[U-1].deltas.push(D),Q[U-1].abs.push(X);break}}break;case"bct":D=[X.x1-Y[ee-1].x,X.y1-Y[ee-1].y,X.x2-Y[ee-1].x,X.y2-Y[ee-1].y,X.x-Y[ee-1].x,X.y-Y[ee-1].y],Q[Q.length-1].deltas.push(D);break;case"qct":var me=Y[ee-1].x+2/3*(X.x1-Y[ee-1].x),oe=Y[ee-1].y+2/3*(X.y1-Y[ee-1].y),Se=X.x+2/3*(X.x1-X.x),_e=X.y+2/3*(X.y1-X.y),se=X.x,ft=X.y;D=[me-Y[ee-1].x,oe-Y[ee-1].y,Se-Y[ee-1].x,_e-Y[ee-1].y,se-Y[ee-1].x,ft-Y[ee-1].y],Q[Q.length-1].deltas.push(D);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(X)}}B=V?null:O==="stroke"?"stroke":"fill";for(var de=!1,ce=0;ce<Q.length;ce++)if(Q[ce].arc)for(var Ee=Q[ce].abs,rt=0;rt<Ee.length;rt++){var ot=Ee[rt];ot.type==="arc"?S.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,V,!de):I.call(this,ot.x,ot.y),de=!0}else if(Q[ce].close===!0)this.pdf.internal.out("h"),de=!1;else if(Q[ce].begin!==!0){var ge=Q[ce].start.x,ke=Q[ce].start.y;L.call(this,Q[ce].deltas,ge,ke),de=!0}B&&E.call(this,B),V&&M.call(this)}},P=function(O){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,D=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-D;case"top":return O+V-D;case"hanging":return O+V-2*D;case"middle":return O+V/2-D;default:return O}},k=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(V,D){this.colorStops.push([V,D])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(O,V,D,B,Q,Y,ee,X,U){for(var me=G.call(this,D,B,Q,Y),oe=0;oe<me.length;oe++){var Se=me[oe];oe===0&&(U?T.call(this,Se.x1+O,Se.y1+V):I.call(this,Se.x1+O,Se.y1+V)),z.call(this,O,V,Se.x2,Se.y2,Se.x3,Se.y3,Se.x4,Se.y4)}X?M.call(this):E.call(this,ee)},E=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(O,V){this.pdf.internal.out(r(O)+" "+n(V)+" m")},C=function(O){var V;switch(O.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var D=this.pdf.getTextDimensions(O.text),B=P.call(this,O.y),Q=k.call(this,B)-D.h,Y=this.ctx.transform.applyToPoint(new o(O.x,B)),ee=this.ctx.transform.decompose(),X=new c;X=(X=(X=X.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale);for(var U,me,oe,Se=this.ctx.transform.applyToRectangle(new l(O.x,B,D.w,D.h)),_e=X.applyToRectangle(new l(O.x,Q,D.w,D.h)),se=x.call(this,_e),ft=[],de=0;de<se.length;de+=1)ft.indexOf(se[de])===-1&&ft.push(se[de]);if(b(ft),this.autoPaging)for(var ce=ft[0],Ee=ft[ft.length-1],rt=ce;rt<Ee+1;rt++){this.pdf.setPage(rt);var ot=rt===1?this.posY+this.margin[0]:this.margin[0],ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[2],Be=ke-this.margin[0],Xe=this.pdf.internal.pageSize.width-this.margin[1],et=Xe-this.margin[3],ct=rt===1?0:ge+(rt-2)*Be;if(this.ctx.clip_path.length!==0){var dt=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(U,this.posX+this.margin[3],-1*ct+ot),_.call(this,"fill",!0),this.path=dt}var Nt=y([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-ct+ot+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*O.scale),oe=this.lineWidth,this.lineWidth=oe*O.scale);var $t=this.autoPaging!=="text";if($t||Nt.y+Nt.h<=ke){if($t||Nt.y>=ot&&Nt.x<=Xe){var Tt=$t?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Xe-Nt.x)[0],rn=y([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-ct+ot+this.ctx.prevPageLastElemOffset)[0],Vr=$t&&(rt>ce||rt<Ee)&&p.call(this);Vr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Be,null).clip().discardPath()),this.pdf.text(Tt,rn.x,rn.y,{angle:O.angle,align:V,renderingMode:O.renderingMode}),Vr&&this.pdf.restoreGraphicsState()}}else Nt.y<ke&&(this.ctx.prevPageLastElemOffset+=ke-Nt.y);O.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=oe)}else O.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*O.scale),oe=this.lineWidth,this.lineWidth=oe*O.scale),this.pdf.text(O.text,Y.x+this.posX,Y.y+this.posY,{angle:O.angle,align:V,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=oe)},I=function(O,V,D,B){D=D||0,B=B||0,this.pdf.internal.out(r(O+D)+" "+n(V+B)+" l")},L=function(O,V,D){return this.pdf.lines(O,V,D,null,null)},z=function(O,V,D,B,Q,Y,ee,X){this.pdf.internal.out([t(a(D+O)),t(s(B+V)),t(a(Q+O)),t(s(Y+V)),t(a(ee+O)),t(s(X+V)),"c"].join(" "))},G=function(O,V,D,B){for(var Q=2*Math.PI,Y=Math.PI/2;V>D;)V-=Q;var ee=Math.abs(D-V);ee<Q&&B&&(ee=Q-ee);for(var X=[],U=B?-1:1,me=V;ee>1e-5;){var oe=me+U*Math.min(ee,Y);X.push(W.call(this,O,me,oe)),ee-=Math.abs(oe-me),me=oe}return X},W=function(O,V,D){var B=(D-V)/2,Q=O*Math.cos(B),Y=O*Math.sin(B),ee=Q,X=-Y,U=ee*ee+X*X,me=U+ee*Q+X*Y,oe=4/3*(Math.sqrt(2*U*me)-me)/(ee*Y-X*Q),Se=ee-oe*X,_e=X+oe*ee,se=Se,ft=-_e,de=B+V,ce=Math.cos(de),Ee=Math.sin(de);return{x1:O*Math.cos(V),y1:O*Math.sin(V),x2:Se*ce-_e*Ee,y2:Se*Ee+_e*ce,x3:se*ce-ft*Ee,y3:se*Ee+ft*ce,x4:O*Math.cos(D),y4:O*Math.sin(D)}},q=function(O){return 180*O/Math.PI},K=function(O,V,D,B,Q,Y){var ee=O+.5*(D-O),X=V+.5*(B-V),U=Q+.5*(D-Q),me=Y+.5*(B-Y),oe=Math.min(O,Q,ee,U),Se=Math.max(O,Q,ee,U),_e=Math.min(V,Y,X,me),se=Math.max(V,Y,X,me);return new l(oe,_e,Se-oe,se-_e)},ae=function(O,V,D,B,Q,Y,ee,X){var U,me,oe,Se,_e,se,ft,de,ce,Ee,rt,ot,ge,ke,Be=D-O,Xe=B-V,et=Q-D,ct=Y-B,dt=ee-Q,Nt=X-Y;for(me=0;me<41;me++)ce=(ft=(oe=O+(U=me/40)*Be)+U*((_e=D+U*et)-oe))+U*(_e+U*(Q+U*dt-_e)-ft),Ee=(de=(Se=V+U*Xe)+U*((se=B+U*ct)-Se))+U*(se+U*(Y+U*Nt-se)-de),me==0?(rt=ce,ot=Ee,ge=ce,ke=Ee):(rt=Math.min(rt,ce),ot=Math.min(ot,Ee),ge=Math.max(ge,ce),ke=Math.max(ke,Ee));return new l(Math.round(rt),Math.round(ot),Math.round(ge-rt),Math.round(ke-ot))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,V,D=(O=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:V}));this.prevLineDash!==D&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=D)}}})(Jt.API),function(e){var t=function(o){var l,c,u,d,f,h,m,g,p,x;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(h=(f=((f=((f=((f=(f-(x=f%85))/85)-(p=f%85))/85)-(g=f%85))/85)-(m=f%85))/85)%85,c.push(h+33,m+33,g+33,p+33,x+33)):c.push(122);return function(v,y){for(var b=y;b>0;b--)v.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,f,h=String,m="length",g=255,p="charCodeAt",x="slice",v="replace";for(o[x](-2),o=o[x](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),u=[],d=0,f=(o+=l="uuuuu"[x](o[m]%5||5))[m];f>d;d+=5)c=52200625*(o[p](d)-33)+614125*(o[p](d+1)-33)+7225*(o[p](d+2)-33)+85*(o[p](d+3)-33)+(o[p](d+4)-33),u.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(y,b){for(var j=b;j>0;j--)y.pop()}(u,l[m]),h.fromCharCode.apply(h,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=ZP(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Jt.API),function(e){e.loadFile=function(t,r,n){return function(a,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,m=function(g){var p=g.length,x=[],v=String.fromCharCode;for(h=0;h<p;h+=1)x.push(v(255&g.charCodeAt(h)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)}(a,s,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Jt.API),function(e){function t(){return(jr.html2canvas?Promise.resolve(jr.html2canvas):YA(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(jr.DOMPurify?Promise.resolve(jr.DOMPurify):YA(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=kn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},s=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var g=d[m],p=g.src.find(function(x){return x.format==="truetype"});p&&u.addFont(p.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,u.context2d.save(!0),c(this.prop.container,h)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||Jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return u.updateProgress(null,d),h}).then(d,f).then(function(h){return u.updateProgress(1),h})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),h=u.call(f,l,c);return o.convert(h,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Jt.getPageSize=function(l,c,u){if(kn(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,h=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var g,p=0,x=0;if(m.hasOwnProperty(h))p=m[h][1]/f,x=m[h][0]/f;else try{p=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",x>p&&(g=x,x=p,p=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",p>x&&(g=x,x=p,p=g)}return{width:x,height:p,unit:c,k:f,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(h3):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(Jt.API),Jt.API.addJS=function(e){return M$=e,this.internal.events.subscribe("postPutResources",function(){_w=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_w+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),R$=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+M$+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){_w!==void 0&&R$!==void 0&&this.internal.out("/Names <</JavaScript "+_w+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var o=a[s],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var o={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(Jt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(f){for(var h,m=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,p={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=m,t.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),p={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}m=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Jt.API),Jt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,s=rUe(e,{checkCrc:!0}),o=s.width,l=s.height,c=s.channels,u=s.palette,d=s.depth;a=u&&c===1?function(S){for(var E=S.width,M=S.height,T=S.data,C=S.palette,I=S.depth,L=!1,z=[],G=[],W=void 0,q=!1,K=0,ae=0;ae<C.length;ae++){var ie=z7(C[ae],4),O=ie[0],V=ie[1],D=ie[2],B=ie[3];z.push(O,V,D),B!=null&&(B===0?(K++,G.length<1&&G.push(ae)):B<255&&(q=!0))}if(q||K>1){L=!0,G=void 0;var Q=E*M;W=new Uint8Array(Q);for(var Y=new DataView(T.buffer),ee=0;ee<Q;ee++){var X=p3(Y,ee,I),U=z7(C[X],4)[3];W[ee]=U}}else K===0&&(G=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:L?8:void 0,colorBytes:T,alphaBytes:W,needSMask:L,palette:z,mask:G}}(s):c===2||c===4?function(S){for(var E=S.data,M=S.width,T=S.height,C=S.channels,I=S.depth,L=C===2?"DeviceGray":"DeviceRGB",z=C-1,G=M*T,W=z,q=G*W,K=1*G,ae=Math.ceil(q*I/8),ie=Math.ceil(K*I/8),O=new Uint8Array(ae),V=new Uint8Array(ie),D=new DataView(E.buffer),B=new DataView(O.buffer),Q=new DataView(V.buffer),Y=!1,ee=0;ee<G;ee++){for(var X=ee*C,U=0;U<W;U++)H$(B,p3(D,X+U,I),ee*W+U,I);var me=p3(D,X+W,I);me<(1<<I)-1&&(Y=!0),H$(Q,me,1*ee,I)}return{colorSpace:L,colorsPerPixel:z,sMaskBitsPerComponent:Y?I:void 0,colorBytes:O,alphaBytes:V,needSMask:Y}}(s):function(S){var E=S.data,M=S.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:E instanceof Uint16Array?function(T){for(var C=T.length,I=new Uint8Array(2*C),L=new DataView(I.buffer,I.byteOffset,I.byteLength),z=0;z<C;z++)L.setUint16(2*z,T[z],!1);return I}(E):E,needSMask:!1}}(s);var f,h,m,g=a,p=g.colorSpace,x=g.colorsPerPixel,v=g.sMaskBitsPerComponent,y=g.colorBytes,b=g.alphaBytes,j=g.needSMask,_=g.palette,P=g.mask,k=null;return n!==Jt.API.image_compression.NONE&&typeof ZP=="function"?(k=function(S){var E;switch(S){case Jt.API.image_compression.FAST:E=11;break;case Jt.API.image_compression.MEDIUM:E=13;break;case Jt.API.image_compression.SLOW:E=14;break;default:E=12}return E}(n),f=this.decode.FLATE_DECODE,h="/Predictor ".concat(k," /Colors ").concat(x," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=z$(y,Math.ceil(o*x*d/8),x,d,n),j&&(m=z$(b,Math.ceil(o*v/8),1,v,n))):(f=void 0,h=void 0,e=y,j&&(m=b)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:e,index:t,filter:f,decodeParameters:h,transparency:P,palette:_,sMask:m,predictor:k,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:v,colorSpace:p}}},function(e){e.processGIF89A=function(t,r,n,a){var s=new NUe(t),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new g3(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Jt.API),tc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},tc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Un.log("bit decode error:"+r)}},tc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},tc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},tc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},tc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},tc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},tc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},tc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},tc.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new tc(t,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new g3(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Jt.API),K$.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new K$(t),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new g3(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Jt.API),Jt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],m=n[u+3];s[l++]=d,s[l++]=f,s[l++]=h,o[c++]=m}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Jt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jp=Jt.API,Sw=Jp.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,m=e.length,g=0,p=l[0]||c,x=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(h=f&&kn(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,x.push((l[n]||p)/c+h)),g=n;return x},L$=Jp.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Jp.processArabic&&(e=Jp.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Sw.apply(this,arguments).reduce(function(s,o){return s+o},0)},$$=function(e,t,r,n){for(var a=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<r;)l+=t[s],s++;a.push(e.slice(0,s));var c=s;for(l=0;s!==o;)l+t[s]>n&&(a.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&a.push(e.slice(c,s)),a},B$=function(e,t,r){r||(r={});var n,a,s,o,l,c,u,d=[],f=[d],h=r.textIndent||0,m=0,g=0,p=e.split(" "),x=Sw.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var v=Array(c).join(" "),y=[];p.map(function(j){(j=j.split(/\s*\n/)).length>1?y=y.concat(j.map(function(_,P){return(P&&_.length?`
`:"")+_})):y.push(j[0])}),p=y,c=L$.apply(this,[v,r])}for(s=0,o=p.length;s<o;s++){var b=0;if(n=p[s],c&&n[0]==`
`&&(n=n.substr(1),b=1),h+m+(g=(a=Sw.apply(this,[n,r])).reduce(function(j,_){return j+_},0))>t||b){if(g>t){for(l=$$.apply(this,[n,a,t-(h+m),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);g=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(j,_){return j+_},0)}else d=[n];f.push(d),h=g+c,m=x}else d.push(n),h+=m+g,m=x}return u=c?function(j,_){return(_?v:"")+j.join(" ")}:function(j){return j.join(" ")},f.map(u)},Jp.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),h="Unicode";return f.metadata[h]?{widths:f.metadata[h].widths||{0:1},kerning:f.metadata[h].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(B$.apply(this,[n[l],o,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[r[s]]=t[s],a[t[s]]=r[s];var o=function(h){return"0x"+parseInt(h,10).toString(16)},l=e.__fontmetrics__.compress=function(h){var m,g,p,x,v=["{"];for(var y in h){if(m=h[y],isNaN(parseInt(y,10))?g="'"+y+"'":(y=parseInt(y,10),g=(g=o(y).slice(2)).slice(0,-1)+a[g.slice(-1)]),typeof m=="number")m<0?(p=o(m).slice(3),x="-"):(p=o(m).slice(2),x=""),p=x+p.slice(0,-1)+a[p.slice(-1)];else{if(kn(m)!=="object")throw new Error("Don't know what to do with value type "+kn(m)+".");p=l(m)}v.push(g+p)}return v.push("}"),v.join("")},c=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,g,p,x,v={},y=1,b=v,j=[],_="",P="",k=h.length-1,S=1;S<k;S+=1)(x=h[S])=="'"?m?(p=m.join(""),m=void 0):m=[]:m?m.push(x):x=="{"?(j.push([b,p]),b={},p=void 0):x=="}"?((g=j.pop())[0][g[1]]=b,p=void 0,b=g[0]):x=="-"?y=-1:p===void 0?n.hasOwnProperty(x)?(_+=n[x],p=parseInt(_,16)*y,y=1,_=""):_+=x:n.hasOwnProperty(x)?(P+=n[x],b[p]=parseInt(P,16)*y,y=1,p=void 0,P=""):P+=x;return v},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var m=h.font,g=f.Unicode[m.postScriptName];g&&(m.metadata.Unicode={},m.metadata.Unicode.widths=g.widths,m.metadata.Unicode.kerning=g.kerning);var p=d.Unicode[m.postScriptName];p&&(m.metadata.Unicode.encoding=p,m.encoding=p.codePages[0])}])}(Jt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(cj(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(Jt),Jt.API.addSvgAsImage=function(e,t,r,n,a,s,o,l){if(isNaN(t)||isNaN(r))throw Un.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Un.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(jr.canvg?Promise.resolve(jr.canvg):YA(()=>import("./index.es-DKPad2z4.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,r,n,a,o,l)})},Jt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Jt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function h(g,p){var x,v=!1;for(x=0;x<g.length;x+=1)g[x]===p&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(f=0;f<m;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(kn(e)==="object"){for(a in e)if(s=e[a],h(l,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&h(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,p=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?p.push("/"+g+" /"+r[g].value):p.push("/"+g+" "+r[g].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Jt.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=s.length;f<h;++f){if(l=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(s){var o,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(s).sort(function(m,g){return m-g})).length;f<h;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",g=0;g<h.length;g++)m+=String.fromCharCode(h[g]);var p=u();d({data:m,addLength1:!0,objectId:p}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var v=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+l0(l.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+l0(l.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+l0(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",m=0;m<f.length;m++)h+=String.fromCharCode(f[m]);var g=u();d({data:h,addLength1:!0,objectId:g}),c("endobj");var p=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+l0(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+l0(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var o,l=s.text||"",c=s.x,u=s.y,d=s.options||{},f=s.mutex||{},h=f.pdfEscape,m=f.activeFontKey,g=f.fonts,p=m,x="",v=0,y="",b=g[p].encoding;if(g[p].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(y=l,p=m,Array.isArray(l)&&(y=l[0]),v=0;v<y.length;v+=1)g[p].metadata.hasOwnProperty("cmap")&&(o=g[p].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),o||y[v].charCodeAt(0)<256&&g[p].metadata.hasOwnProperty("Unicode")?x+=y[v]:x+="";var j="";return parseInt(p.slice(1))<14||b==="WinAnsiEncoding"?j=h(x,p).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(j=r(x,g[p])),f.isHex=!0,{text:j,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:o})).text}])}(Jt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Jt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,o,l,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var j=function(T){var C=T.charCodeAt(),I=C>>8,L=p[I];return L!==void 0?f[256*L+(255&C)]:I===252||I===253?"AL":v.test(I)?"L":I===8?"R":"N"},_=function(T){for(var C,I=0;I<T.length;I++){if((C=j(T.charAt(I)))==="L")return!1;if(C==="R")return!0}return!1},P=function(T,C,I,L){var z,G,W,q,K=C[L];switch(K){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(K="AN");break;case"AL":y=!0,K="R";break;case"WS":case"BN":K="N";break;case"CS":L<1||L+1>=C.length||(z=I[L-1])!=="EN"&&z!=="AN"||(G=C[L+1])!=="EN"&&G!=="AN"?K="N":y&&(G="AN"),K=G===z?G:"N";break;case"ES":K=(z=L>0?I[L-1]:"B")==="EN"&&L+1<C.length&&C[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&I[L-1]==="EN"){K="EN";break}if(y){K="N";break}for(W=L+1,q=C.length;W<q&&C[W]==="ET";)W++;K=W<q&&C[W]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(q=C.length,W=L+1;W<q&&C[W]==="NSM";)W++;if(W<q){var ae=T[L],ie=ae>=1425&&ae<=2303||ae===64286;if(z=C[W],ie&&(z==="R"||z==="AL")){K="R";break}}}K=L<1||(z=C[L-1])==="B"?"N":I[L-1];break;case"B":y=!1,a=!0,K=b;break;case"S":s=!0,K="N"}return K},k=function(T,C,I){var L=T.split("");return I&&S(L,I,{hiLevel:b}),L.reverse(),C&&C.reverse(),L.join("")},S=function(T,C,I){var L,z,G,W,q,K=-1,ae=T.length,ie=0,O=[],V=b?m:h,D=[];for(y=!1,a=!1,s=!1,z=0;z<ae;z++)D[z]=j(T[z]);for(G=0;G<ae;G++){if(q=ie,O[G]=P(T,D,O,G),L=240&(ie=V[q][g[O[G]]]),ie&=15,C[G]=W=V[ie][5],L>0)if(L===16){for(z=K;z<G;z++)C[z]=1;K=-1}else K=-1;if(V[ie][6])K===-1&&(K=G);else if(K>-1){for(z=K;z<G;z++)C[z]=W;K=-1}D[G]==="B"&&(C[G]=0),I.hiLevel|=W}s&&function(B,Q,Y){for(var ee=0;ee<Y;ee++)if(B[ee]==="S"){Q[ee]=b;for(var X=ee-1;X>=0&&B[X]==="WS";X--)Q[X]=b}}(D,C,ae)},E=function(T,C,I,L,z){if(!(z.hiLevel<T)){if(T===1&&b===1&&!a)return C.reverse(),void(I&&I.reverse());for(var G,W,q,K,ae=C.length,ie=0;ie<ae;){if(L[ie]>=T){for(q=ie+1;q<ae&&L[q]>=T;)q++;for(K=ie,W=q-1;K<W;K++,W--)G=C[K],C[K]=C[W],C[W]=G,I&&(G=I[K],I[K]=I[W],I[W]=G);ie=q}ie++}}},M=function(T,C,I){var L=T.split(""),z={hiLevel:b};return I||(I=[]),S(L,I,z),function(G,W,q){if(q.hiLevel!==0&&d)for(var K,ae=0;ae<G.length;ae++)W[ae]===1&&(K=x.indexOf(G[ae]))>=0&&(G[ae]=x[K+1])}(L,I,z),E(2,L,C,I,z),E(1,L,C,I,z),L.join("")};return this.__bidiEngine__.doBidiReorder=function(T,C,I){if(function(z,G){if(G)for(var W=0;W<z.length;W++)G[W]=W;l===void 0&&(l=_(z)),u===void 0&&(u=_(z))}(T,C),o||!c||u)if(o&&c&&l^u)b=l?1:0,T=k(T,C,I);else if(!o&&c&&u)b=l?1:0,T=M(T,C,I),T=k(T,C);else if(!o||l||c||u){if(o&&!c&&l^u)T=k(T,C),l?(b=0,T=M(T,C,I)):(b=1,T=M(T,C,I),T=k(T,C));else if(o&&l&&!c&&u)b=1,T=M(T,C,I),T=k(T,C);else if(!o&&!c&&l^u){var L=d;l?(b=1,T=M(T,C,I),b=0,d=!1,T=M(T,C,I),d=L):(b=0,T=M(T,C,I),T=k(T,C),b=1,d=!1,T=M(T,C,I),d=L,T=k(T,C))}}else b=0,T=M(T,C,I);else b=l?1:0,T=M(T,C,I);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,c=T.isOutputVisual,l=T.isInputRtl,u=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Jt),Jt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new ch(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new LUe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new _Ue(this.contents),this.head=new AUe(this),this.name=new TUe(this),this.cmap=new Rte(this),this.toUnicode={},this.hhea=new CUe(this),this.maxp=new OUe(this),this.hmtx=new DUe(this),this.post=new PUe(this),this.os2=new EUe(this),this.loca=new MUe(this),this.glyf=new IUe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Mc,ch=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),_Ue=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,o,l,c,u,d,f,h,m,g,p;for(p in m=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),o=Math.floor(f/c),d=16*m-f,(a=new ch).writeInt(this.scalarType),a.writeShort(m),a.writeShort(f),a.writeShort(o),a.writeShort(d),s=16*m,u=a.pos+s,l=null,g=[],r)for(h=r[p],a.writeString(p),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),g=g.concat(h),p==="head"&&(l=u),u+=h.length;u%4;)g.push(0),u++;return a.write(g),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,o;for(r=Mte.call(r);r.length%4;)r.push(0);for(s=new ch(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),SUe={}.hasOwnProperty,Su=function(e,t){for(var r in t)SUe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Mc=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var AUe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Mc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new ch).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),Y$=function(){function e(t,r){var n,a,s,o,l,c,u,d,f,h,m,g,p,x,v,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),h=m/2,t.pos+=6,s=function(){var j,_;for(_=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)_.push(t.readUInt16());return _}(),t.pos+=2,p=function(){var j,_;for(_=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)_.push(t.readUInt16());return _}(),u=function(){var j,_;for(_=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)_.push(t.readUInt16());return _}(),d=function(){var j,_;for(_=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)_.push(t.readUInt16());return _}(),a=(this.length-t.pos+this.offset)/2,l=function(){var j,_;for(_=[],c=j=0;0<=a?j<a:j>a;c=0<=a?++j:--j)_.push(t.readUInt16());return _}(),c=v=0,b=s.length;v<b;c=++v)for(x=s[c],n=y=g=p[c];g<=x?y<=x:y>=x;n=g<=x?++y:--y)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-g)-(h-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,s,o,l,c,u,d,f,h,m,g,p,x,v,y,b,j,_,P,k,S,E,M,T,C,I,L,z,G,W,q,K,ae,ie,O,V,D,B,Q,Y,ee,X,U,me,oe;switch(L=new ch,o=Object.keys(t).sort(function(Se,_e){return Se-_e}),r){case"macroman":for(p=0,x=function(){var Se=[];for(g=0;g<256;++g)Se.push(0);return Se}(),y={0:0},s={},z=0,K=o.length;z<K;z++)y[X=t[a=o[z]]]==null&&(y[X]=++p),s[a]={old:t[a],new:y[t[a]]},x[a]=y[t[a]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(x),{charMap:s,subtable:L.data,maxGlyphID:p+1};case"unicode":for(C=[],f=[],b=0,y={},n={},v=u=null,G=0,ae=o.length;G<ae;G++)y[_=t[a=o[G]]]==null&&(y[_]=++b),n[a]={old:_,new:y[_]},l=y[_]-a,v!=null&&l===u||(v&&f.push(v),C.push(a),u=l),v=a;for(v&&f.push(v),f.push(65535),C.push(65535),M=2*(E=C.length),S=2*Math.pow(Math.log(E)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,k=2*E-S,c=[],P=[],m=[],g=W=0,ie=C.length;W<ie;g=++W){if(T=C[g],d=f[g],T===65535){c.push(0),P.push(0);break}if(T-(I=n[T].new)>=32768)for(c.push(0),P.push(2*(m.length+E-g)),a=q=T;T<=d?q<=d:q>=d;a=T<=d?++q:--q)m.push(n[a].new);else c.push(I-T),P.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*E+2*m.length),L.writeUInt16(0),L.writeUInt16(M),L.writeUInt16(S),L.writeUInt16(h),L.writeUInt16(k),Y=0,O=f.length;Y<O;Y++)a=f[Y],L.writeUInt16(a);for(L.writeUInt16(0),ee=0,V=C.length;ee<V;ee++)a=C[ee],L.writeUInt16(a);for(U=0,D=c.length;U<D;U++)l=c[U],L.writeUInt16(l);for(me=0,B=P.length;me<B;me++)j=P[me],L.writeUInt16(j);for(oe=0,Q=m.length;oe<Q;oe++)p=m[oe],L.writeUInt16(p);return{charMap:n,subtable:L.data,maxGlyphID:b+1}}},e}(),Rte=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Mc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new Y$(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=Y$.encode(t,r),(a=new ch).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),CUe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Mc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),EUe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Mc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),PUe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Mc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),kUe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},TUe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Mc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,s,o,l,c,u,d,f,h;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=d=0,f=n.length;d<f;s=++d)a=n[s],t.pos=a.offset,u=t.readString(a.length),o=new kUe(u,a),c[h=a.nameID]==null&&(c[h]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),OUe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Mc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),DUe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Mc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,s,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,f,h;for(h=[],u=0,d=(f=this.metrics).length;u<d;u++)s=f[u],h.push(s.advance);return h}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),Mte=[].slice,IUe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Mc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,s,o,l,c,u,d,f;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new ch(r.read(a))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new RUe(l,u,f,c,d):new FUe(l,o,u,f,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,s,o,l,c;for(o=[],s=[],l=0,c=r.length;l<c;l++)a=t[r[l]],s.push(o.length),a&&(o=o.concat(a.encode(n)));return s.push(o.length),{table:o,offsets:s}},e}(),FUe=function(){function e(t,r,n,a,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),RUe=function(){function e(t,r,n,a,s){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new ch(Mte.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),MUe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Mc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<n.length;++o)if(n[o]=a,s<r.length&&r[s]==o){++s,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e}(),LUe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,o,l,c,u,d,f,h,m,g,p,x,v;for(a in n=Rte.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},v=n.charMap)m[(c=v[a]).old]=c.new;for(g in h=n.maxGlyphID,o)g in m||(m[g]=h++);return d=function(y){var b,j;for(b in j={},y)j[y[b]]=b;return j}(m),f=Object.keys(d).sort(function(y,b){return y-b}),p=function(){var y,b,j;for(j=[],y=0,b=f.length;y<b;y++)l=f[y],j.push(d[l]);return j}(),s=this.font.glyf.encode(o,p,m),u=this.font.loca.encode(s.offsets,p),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Jt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)o=r[a],s.push("/"+a+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();function Lte(e,t,r,n,a){n=n||{};var s=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():s,u=l*c,d=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(d):e,h=f.length||1),r+=l*(2-s),n.valign==="middle"?r-=h/2*u:n.valign==="bottom"&&(r-=h*u),n.halign==="center"||n.halign==="right"){var m=l;if(n.halign==="center"&&(m*=.5),f&&h>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*m,r),r+=u;return a}t-=a.getStringUnitWidth(e)*m}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var X$={},J0=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:X$=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=e.unifyColor(t.lineColor),d&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,s){return this.jsPDFDocument.rect(t,r,n,a,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return X$||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),sk=function(e,t){return sk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},sk(e,t)};function $te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");sk(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Bte=function(e){$te(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function $Ue(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function BUe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function y5(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return a}function zte(e,t,r,n){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var o=qte(a,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function qte(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function MS(e,t){var r,n,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Ute(e,t){var r=MS(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function zUe(e,t,r,n,a){var s={},o=1.3333333333333333,l=x3(t,function(b){return a.getComputedStyle(b).backgroundColor});l!=null&&(s.fillColor=l);var c=x3(t,function(b){return a.getComputedStyle(b).color});c!=null&&(s.textColor=c);var u=UUe(n,r);u&&(s.cellPadding=u);var d="borderTopColor",f=o*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var m=(parseFloat(h)||0)/f;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var g=x3(t,function(b){return a.getComputedStyle(b)[d]});g!=null&&(s.lineColor=g);var p=["left","right","center","justify"];p.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),p=["middle","bottom","top"],p.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var x=parseInt(n.fontSize||"");isNaN(x)||(s.fontSize=x/o);var v=qUe(n);v&&(s.fontStyle=v);var y=(n.fontFamily||"").toLowerCase();return e.indexOf(y)!==-1&&(s.font=y),s}function qUe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function x3(e,t){var r=Vte(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Vte(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:Vte(e.parentElement,t):r}function UUe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(l){return parseInt(l||"0")/n}),o=MS(s,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function Wte(e,t,r,n,a){var s,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],f=[],h=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:h};for(var m=0;m<l.rows.length;m++){var g=l.rows[m],p=(o=(s=g==null?void 0:g.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),x=VUe(c,u,r,g,n,a);x&&(p==="thead"?d.push(x):p==="tfoot"?h.push(x):f.push(x))}return{head:d,body:f,foot:h}}function VUe(e,t,r,n,a,s){for(var o=new Bte(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(a||u.display!=="none"){var d=void 0;s&&(d=zUe(e,c,t,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:WUe(c)})}}var f=r.getComputedStyle(n);if(o.length>0&&(a||f.display!=="none"))return o}function WUe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function HUe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function ld(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s}function Hte(e,t){var r=new J0(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();HUe(a,n,t);var s=ld({},a,n,t),o;typeof window<"u"&&(o=window);var l=GUe(a,n,t),c=KUe(a,n,t),u=YUe(r,s),d=QUe(r,s,o);return{id:t.tableId,content:d,hooks:c,styles:l,settings:u}}function GUe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],f=r[c];n.columnStyles=ld({},u,d,f)}else{var h=[e,t,r],m=h.map(function(g){return g[c]||{}});n[c]=ld({},m[0],m[1],m[2])}},s=0,o=Object.keys(n);s<o.length;s++){var l=o[s];a(l)}return n}function KUe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=n;s<o.length;s++){var l=o[s];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function YUe(e,t){var r,n,a,s,o,l,c,u,d,f,h,m,g=MS(t.margin,40/e.scaleFactor()),p=(r=XUe(e,t.startY))!==null&&r!==void 0?r:g.top,x;t.showFoot===!0?x="everyPage":t.showFoot===!1?x="never":x=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var v;t.showHead===!0?v="everyPage":t.showHead===!1?v="never":v=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var y=(s=t.useCss)!==null&&s!==void 0?s:!1,b=t.theme||(y?"plain":"striped"),j=!!t.horizontalPageBreak,_=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:y,theme:b,startY:p,margin:g,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:v,showFoot:x,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:j,horizontalPageBreakRepeat:_,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function XUe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;s=o===a}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function QUe(e,t,r){var n=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=Wte(e,t.html,r,o,t.useCss)||{};n=l.head||n,a=l.body||n,s=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||ZUe(n,a,s);return{columns:c,head:n,body:a,foot:s}}function ZUe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,l;Array.isArray(n)?l=n[parseInt(s)]:l=n[s],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(n)?u=a.length:u=s+(c>0?"_".concat(c):"");var d={dataKey:u};a.push(d)}}),a}var ok=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),JUe=function(e){$te(t,e);function t(r,n,a,s,o,l){var c=e.call(this,r,n,l)||this;return c.cell=a,c.row=s,c.column=o,c.section=s.section,c}return t}(ok),eVe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,s,o){for(var l=0,c=r;l<c.length;l++){var u=c[l],d=new JUe(t,this,n,a,s,o),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new ok(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new ok(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),Gte=function(){function e(t,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof Bte&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,s){var o=n.cells[s.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>a?u:a},0)},e}(),Kte=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=MS(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),tVe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var s=a[n],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function rVe(e,t){nVe(e,t);var r=[],n=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=lk(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=lk(r,a,function(s){return s.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),iVe(t),sVe(t,e),aVe(t)}function nVe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=Ute(e,t);t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,s,c,null);var f=u.padding("horizontal");u.contentWidth=y5(u.text,u.styles,e)+f;var h=y5(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=h+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/r;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function lk(e,t,r){for(var n=t,a=e.reduce(function(m,g){return m+g.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],l=o.wrappedWidth/a,c=n*l,u=o.width+c,d=r(o),f=u<d?d:u;t-=f-o.width,o.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(m){return t<0?m.width>r(m):!0});h.length&&(t=lk(h,t,r))}return t}function aVe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var s=n[a],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=t[c.index];if(r>1)r--,delete s.cells[c.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=s.cells[c.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var f=n.length-a,h=d.rowSpan>f?f:d.rowSpan;t[c.index]={cell:d,left:h,row:s}}}}}function iVe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,s=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])s+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+s}else{var u=n.cells[c.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){a=u,s+=c.width;continue}u.width=c.width+s}}}function sVe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var s=a[n],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Q$(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=Q$(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<h*u.rowSpan?r={height:h,count:u.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>s.height&&(s.height=h)}}r.count--}}function Q$(e,t,r,n,a){return e.map(function(s){return oVe(s,t,r,n,a)})}function oVe(e,t,r,n,a){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=y5(e,r,n))return e;for(;t<y5(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function Yte(e,t){var r=new J0(e),n=lVe(t,r.scaleFactor()),a=new eVe(t,n);return rVe(r,a),r.applyStyles(r.userStyles),a}function lVe(e,t){var r=e.content,n=uVe(r.columns);if(r.head.length===0){var a=Z$(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=Z$(n,"foot");a&&r.foot.push(a)}var s=e.settings.theme,o=e.styles;return{columns:n,head:v3("head",r.head,n,o,s,t),body:v3("body",r.body,n,o,s,t),foot:v3("foot",r.foot,n,o,s,t)}}function v3(e,t,r,n,a,s){var o={},l=t.map(function(c,u){for(var d=0,f={},h=0,m=0,g=0,p=r;g<p.length;g++){var x=p[g];if(o[x.index]==null||o[x.index].left===0)if(m===0){var v=void 0;Array.isArray(c)?v=c[x.index-h-d]:v=c[x.dataKey];var y={};typeof v=="object"&&!Array.isArray(v)&&(y=(v==null?void 0:v.styles)||{});var b=dVe(e,x,u,a,n,s,y),j=new Kte(v,b,e);f[x.dataKey]=j,f[x.index]=j,m=j.colSpan-1,o[x.index]={left:j.rowSpan-1,times:m}}else m--,h++;else o[x.index].left--,m=o[x.index].times,d++}return new Gte(c,u,e,f)});return l}function Z$(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=cVe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function cVe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function uVe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new tVe(a,t,r)})}function dVe(e,t,r,n,a,s,o){var l=BUe(n),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var u=ld({},l.table,l[e],a.styles,c),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?d:{},h=e==="body"&&r%2===0?ld({},l.alternateRow,a.alternateRowStyles):{},m=$Ue(s),g=ld({},m,u,h,f);return ld(g,o)}function fVe(e,t,r){var n;r===void 0&&(r={});var a=Ute(e,t),s=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(h){var m=t.columns.find(function(g){return g.dataKey===h||g.index===h});m&&!s.has(m.index)&&(s.set(m.index,!0),o.push(m.index),l.push(t.columns[m.index]),a-=m.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(s.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(u||a>=f)u=!1,o.push(d),l.push(t.columns[d]),a-=f;else break;d++}return{colIndexes:o,columns:l,lastIndex:d-1}}function hVe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=fVe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function Xte(e,t){var r=t.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+a.bottom+o;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(h,m){return h+m.height},0);l+=u}var d=new J0(e);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(Zte(d),s.y=a.top),t.callWillDrawPageHooks(d,s);var f=ld({},s);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?mVe(d,t,f,s):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return Td(d,t,h,s,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(h,m){var g=m===t.body.length-1;b5(d,t,h,g,f,s,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return Td(d,t,h,s,t.columns)})),zte(d,t,f,s),t.callEndPageHooks(d,s),t.finalY=s.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function mVe(e,t,r,n){var a=hVe(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?j1(e,t,r,n,u.columns,!0):J$(e,t,n,u.columns),pVe(e,t,r,n,u.columns),y3(e,t,n,u.columns)});else for(var o=-1,l=a[0],c=function(){var u=o;if(l){e.applyStyles(e.userStyles);var d=l.columns;o>=0?j1(e,t,r,n,d,!0):J$(e,t,n,d),u=e9(e,t,o+1,n,d),y3(e,t,n,d)}var f=u-o;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),j1(e,t,r,n,h.columns,!0),e9(e,t,o+1,n,h.columns,f),y3(e,t,n,h.columns)}),o=u};o<t.body.length-1;)c()}function J$(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(s){return Td(e,t,s,r,n)})}function pVe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,o){var l=o===t.body.length-1;b5(e,t,s,l,r,n,a)})}function e9(e,t,r,n,a,s){e.applyStyles(e.userStyles),s=s??t.body.length;var o=Math.min(r+s,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(c,u){var d=r+u===t.body.length-1,f=Qte(e,t,d,n);c.canEntireRowFit(f,a)&&(Td(e,t,c,n,a),l=r+u)}),l}function y3(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(s){return Td(e,t,s,r,n)})}function gVe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/n);return Math.max(0,s)}function xVe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new Kte(u.raw,u.styles,u.section);d=ld(d,u),d.text=[];var f=gVe(u,t,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var h=n.scaleFactor(),m=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(h,m),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(h,m),d.contentHeight>s&&(s=d.contentHeight),a[c.index]=d}}var g=new Gte(e.raw,-1,e.section,a,!0);g.height=s;for(var p=0,x=r.columns;p<x.length;p++){var c=x[p],d=g.cells[c.index];d&&(d.height=g.height);var u=e.cells[c.index];u&&(u.height=e.height)}return g}function vVe(e,t,r,n){var a=e.pageSize().height,s=n.settings.margin,o=s.top+s.bottom,l=a-o;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>l;return f?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function b5(e,t,r,n,a,s,o){var l=Qte(e,t,n,s);if(r.canEntireRowFit(l,o))Td(e,t,r,s,o);else if(vVe(e,r,l,t)){var c=xVe(r,l,t,e);Td(e,t,r,s,o),j1(e,t,a,s,o),b5(e,t,c,n,a,s,o)}else j1(e,t,a,s,o),b5(e,t,r,n,a,s,o)}function Td(e,t,r,n,a){n.x=t.settings.margin.left;for(var s=0,o=a;s<o.length;s++){var l=o[s],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}yVe(e,c,n);var d=c.getTextPos();Lte(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function yVe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=qte(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),bVe(e,t,r,n.lineWidth))}function bVe(e,t,r,n){var a,s,o,l;n.top&&(a=r.x,s=r.y,o=r.x+t.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,s,o,l)),n.bottom&&(a=r.x,s=r.y+t.height,o=r.x+t.width,l=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,s,o,l)),n.left&&(a=r.x,s=r.y,o=r.x,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,s,o,l)),n.right&&(a=r.x+t.width,s=r.y,o=r.x+t.width,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,s,o,l));function c(u,d,f,h,m){e.getDocument().setLineWidth(u),e.getDocument().line(d,f,h,m,"S")}}function Qte(e,t,r,n){var a=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function j1(e,t,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(l){return Td(e,t,l,n,a)}),t.callEndPageHooks(e,n);var o=t.settings.margin;zte(e,t,r,n),Zte(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return Td(e,t,l,n,a)}),e.applyStyles(e.userStyles))}function Zte(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function wVe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=Hte(this,n),s=Yte(this,a);return Xte(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){Lte(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return J0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){J0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new J0(this),s=Wte(a,t,window,r,!1),o=s.head,l=s.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var b3;function c0(e,t){var r=Hte(e,t),n=Yte(e,r);Xte(e,n)}try{if(typeof window<"u"&&window){var t9=window,r9=t9.jsPDF||((b3=t9.jspdf)===null||b3===void 0?void 0:b3.jsPDF);r9&&wVe(r9)}}catch(e){console.error("Could not apply autoTable plugin",e)}function jVe(){const[e,t]=N.useState("mensal"),[r,n]=N.useState(!1),[a,s]=N.useState("all"),[o,l]=N.useState({}),[c,u]=N.useState([]),[d,f]=N.useState(!1),{toast:h}=Qr(),m=Ya(),[g,p]=N.useState(""),[x,v]=N.useState("all"),{data:y=[],isLoading:b}=ir({queryKey:["/api/produtos"]}),j=new Date,_=e==="semanal"?new Date(j.getTime()-7*24*60*60*1e3).toISOString().split("T")[0]:new Date(j.getFullYear(),j.getMonth(),1).toISOString().split("T")[0],P=j.toISOString().split("T")[0],{data:k=[],isLoading:S,error:E}=ir({queryKey:["/api/vendas",{start_date:_,end_date:P}],queryFn:async()=>{const D=JSON.parse(localStorage.getItem("user")||"{}"),B=await fetch(`/api/vendas?start_date=${_}&end_date=${P}`,{headers:{"x-user-id":D.id||""}});if(!B.ok)throw new Error("Erro ao buscar vendas");return await B.json()},retry:2,staleTime:3e4}),M=rr({mutationFn:async({id:D,quantidade:B})=>{const Q=y.find(U=>U.id===D);if(!Q)throw new Error("Produto no encontrado");const{id:Y,...ee}=Q,X=await oa("PUT",`/api/produtos/${D}`,{...ee,quantidade:B});if(!X.ok)throw new Error("Erro ao atualizar produto");return X.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["/api/produtos"]}),h({title:"Produto atualizado!",description:"Quantidade ajustada com sucesso"})},onError:()=>{h({title:"Erro",description:"No foi possvel atualizar o produto",variant:"destructive"})}});rr({mutationFn:async D=>{const B=await oa("DELETE",`/api/produtos/${D}`,void 0);if(!B.ok)throw new Error("Erro ao deletar produto");return B.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["/api/produtos"]}),h({title:"Produto deletado!",description:"Produto removido do inventrio com sucesso."})},onError:D=>{h({title:"Erro ao deletar produto",description:D.message||"Verifique sua conexo ou permisses e tente novamente.",variant:"destructive"})}});const T=Array.from(new Set(y.map(D=>D.categoria))),C=a==="all"?y:y.filter(D=>D.categoria===a),I=y.length,L=y.reduce((D,B)=>D+B.preco*B.quantidade,0),z=k.reduce((D,B)=>D+(B.quantidade_vendida||0),0),{data:G=[]}=ir({queryKey:["/api/devolucoes"]}),W=N.useMemo(()=>{const D=new Date;D.setHours(0,0,0,0);const B=y.filter(Y=>{if(!Y.vencimento)return!1;const ee=new Date(Y.vencimento);return ee.setHours(0,0,0,0),ee<D}),Q=y.filter(Y=>{if(!Y.vencimento)return!1;const ee=new Date(Y.vencimento);ee.setHours(0,0,0,0);const X=Math.ceil((ee.getTime()-D.getTime())/(1e3*60*60*24));return X>0&&X<=30});return{vencidos:B,aVencer30Dias:Q}},[y]);N.useMemo(()=>{const D={};return G.filter(B=>B.status==="aprovada").forEach(B=>{if(!D[B.produto_id]){const Q=y.find(Y=>Y.id===B.produto_id);D[B.produto_id]={nome:B.produto_nome,categoria:(Q==null?void 0:Q.categoria)||"Sem categoria",quantidade_devolvida:0,vezes_devolvido:0,quantidade_estoque:(Q==null?void 0:Q.quantidade)||0,taxa_devolucao:0}}D[B.produto_id].quantidade_devolvida+=B.quantidade,D[B.produto_id].vezes_devolvido+=1}),Object.entries(D).map(([B,Q])=>{const Y=y.find(U=>U.id===parseInt(B)),ee=Q.quantidade_devolvida+((Y==null?void 0:Y.quantidade)||0),X=ee>0?Q.quantidade_devolvida/ee*100:0;return{produto_id:parseInt(B),...Q,taxa_devolucao:X}}).filter(B=>B.taxa_devolucao>=20||B.vezes_devolvido>=3).slice(0,5)},[y,G]),N.useMemo(()=>y.filter(D=>{const B=D.nome.toLowerCase().includes(g.toLowerCase()),Q=x==="all"||D.categoria===x;return B&&Q}),[y,g,x]);const q=(D,B)=>{l(Q=>({...Q,[D]:B}))},K=D=>{const B=parseInt(o[D]||"0");if(isNaN(B)||B<0){h({title:"Valor invlido",description:"Digite uma quantidade vlida",variant:"destructive"});return}const Q=y.find(ee=>ee.id===D);if(!Q)return;const Y=B-Q.quantidade;if(Y!==0){const ee={produto_id:Q.id,produto_nome:Q.nome,categoria:Q.categoria,qtd_sistema:Q.quantidade,qtd_contada:B,diferenca:Y,valor_unitario:Q.preco,valor_divergencia:Y*Q.preco,data_contagem:new Date().toISOString()};u(X=>[...X,ee])}M.mutate({id:D,quantidade:B}),l(ee=>{const X={...ee};return delete X[D],X})},ae=()=>{if(c.length===0){h({title:"Nenhuma divergncia registrada",description:"Faa contagens para gerar o relatrio",variant:"destructive"});return}const D=new Jt,B=localStorage.getItem("customization");let Q="Pavisoft Sistemas";if(B)try{Q=JSON.parse(B).storeName||Q}catch(oe){console.error("Erro ao carregar configuraes:",oe)}let Y=20;D.setFontSize(18),D.setFont("helvetica","bold"),D.text(Q,15,Y),Y+=10,D.setFontSize(16),D.text("Relatrio de Divergncias de Inventrio",15,Y),Y+=10,D.setFontSize(10),D.setFont("helvetica","normal"),D.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")} s ${new Date().toLocaleTimeString("pt-BR")}`,15,Y),Y+=5,D.text(`Total de divergncias: ${c.length}`,15,Y),Y+=10;const ee=c.filter(oe=>oe.diferenca<0).reduce((oe,Se)=>oe+Math.abs(Se.valor_divergencia),0),X=c.filter(oe=>oe.diferenca>0).reduce((oe,Se)=>oe+Se.valor_divergencia,0),U=X-ee;D.setFontSize(12),D.setFont("helvetica","bold"),D.text("Resumo Financeiro:",15,Y),Y+=7,D.setFontSize(10),D.setFont("helvetica","normal"),D.setTextColor(220,38,38),D.text(`Perdas (produtos faltando): R$ ${ee.toFixed(2)}`,15,Y),Y+=6,D.setTextColor(34,197,94),D.text(`Ganhos (produtos sobrando): R$ ${X.toFixed(2)}`,15,Y),Y+=6,D.setTextColor(0,0,0),D.setFont("helvetica","bold"),D.text(`Saldo: R$ ${U.toFixed(2)} ${U<0?"(PREJUZO)":"(SUPERVIT)"}`,15,Y),Y+=15,D.setFontSize(12),D.text("Detalhamento das Divergncias:",15,Y),Y+=5;const me=c.map(oe=>[oe.produto_nome,oe.categoria,oe.qtd_sistema.toString(),oe.qtd_contada.toString(),oe.diferenca.toString(),`R$ ${oe.valor_unitario.toFixed(2)}`,`R$ ${oe.valor_divergencia.toFixed(2)}`,new Date(oe.data_contagem).toLocaleDateString("pt-BR")]);c0(D,{startY:Y,head:[["Produto","Categoria","Qtd Sistema","Qtd Contada","Diferena","Valor Unit.","Valor Div.","Data"]],body:me,theme:"grid",headStyles:{fillColor:[37,99,235],textColor:255,fontStyle:"bold"},styles:{fontSize:8,cellPadding:2},columnStyles:{0:{cellWidth:35},1:{cellWidth:25},2:{cellWidth:18,halign:"center"},3:{cellWidth:18,halign:"center"},4:{cellWidth:18,halign:"center",textColor:[220,38,38]},5:{cellWidth:20,halign:"right"},6:{cellWidth:22,halign:"right"},7:{cellWidth:22}}}),D.save(`Relatorio_Divergencias_${new Date().toISOString().split("T")[0]}.pdf`),h({title:"Relatrio gerado!",description:"Relatrio de divergncias baixado com sucesso"})},ie=()=>{if(W.vencidos.length===0&&W.aVencer30Dias.length===0){h({title:"Nenhum produto vencido ou a vencer",description:"Todos os produtos esto dentro do prazo de validade"});return}const D=new Jt,B=localStorage.getItem("customization");let Q="Pavisoft Sistemas";if(B)try{Q=JSON.parse(B).storeName||Q}catch(ee){console.error("Erro ao carregar configuraes:",ee)}let Y=20;if(D.setFontSize(18),D.setFont("helvetica","bold"),D.text(Q,15,Y),Y+=10,D.setFontSize(16),D.text("Relatrio de Produtos Vencidos e a Vencer",15,Y),Y+=10,D.setFontSize(10),D.setFont("helvetica","normal"),D.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")} s ${new Date().toLocaleTimeString("pt-BR")}`,15,Y),Y+=15,W.vencidos.length>0){D.setFontSize(12),D.setFont("helvetica","bold"),D.setTextColor(220,38,38),D.text(` Produtos Vencidos (${W.vencidos.length})`,15,Y),D.setTextColor(0,0,0),Y+=5;const ee=W.vencidos.map(X=>{const U=Math.floor((new Date().getTime()-new Date(X.vencimento).getTime())/864e5);return[X.nome,X.categoria,X.quantidade.toString(),new Date(X.vencimento).toLocaleDateString("pt-BR"),`${U} dias`,`R$ ${(X.preco*X.quantidade).toFixed(2)}`]});c0(D,{startY:Y,head:[["Produto","Categoria","Quantidade","Vencimento","Vencido h","Valor Total"]],body:ee,theme:"grid",headStyles:{fillColor:[220,38,38],textColor:255},styles:{fontSize:8,cellPadding:2}}),Y=D.lastAutoTable.finalY+15}if(W.aVencer30Dias.length>0){D.setFontSize(12),D.setFont("helvetica","bold"),D.setTextColor(234,179,8),D.text(` Produtos a Vencer (prximos 30 dias) - ${W.aVencer30Dias.length}`,15,Y),D.setTextColor(0,0,0),Y+=5;const ee=W.aVencer30Dias.map(X=>{const U=Math.ceil((new Date(X.vencimento).getTime()-new Date().getTime())/864e5);return[X.nome,X.categoria,X.quantidade.toString(),new Date(X.vencimento).toLocaleDateString("pt-BR"),`${U} dias`,`R$ ${(X.preco*X.quantidade).toFixed(2)}`]});c0(D,{startY:Y,head:[["Produto","Categoria","Quantidade","Vencimento","Dias restantes","Valor Total"]],body:ee,theme:"grid",headStyles:{fillColor:[234,179,8],textColor:255},styles:{fontSize:8,cellPadding:2}})}D.save(`Relatorio_Vencimentos_${new Date().toISOString().split("T")[0]}.pdf`),h({title:"Relatrio gerado!",description:"Relatrio de vencimentos baixado com sucesso"})},O=()=>{const D=new Jt,B=localStorage.getItem("customization");let Q="Pavisoft Sistemas";if(B)try{Q=JSON.parse(B).storeName||Q}catch(U){console.error("Erro ao carregar configuraes:",U)}let Y=20;D.setFontSize(18),D.setFont("helvetica","bold"),D.text(Q,15,Y),Y+=10,D.setFontSize(16),D.text("Inventrio Rotativo - Contagem Parcial",15,Y),Y+=10,D.setFontSize(10),D.setFont("helvetica","normal"),D.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")} s ${new Date().toLocaleTimeString("pt-BR")}`,15,Y),Y+=5,D.text(`Categoria: ${a==="all"?"Todas":a}`,15,Y),Y+=15,D.setFontSize(12),D.setFont("helvetica","bold"),D.text("Produtos para Contagem:",15,Y),Y+=5;const ee=C.map(U=>[U.nome,U.categoria,U.quantidade.toString(),`R$ ${U.preco.toFixed(2)}`,U.codigo_barras||"N/A","",""]);c0(D,{startY:Y,head:[["Produto","Categoria","Qtd Sistema","Preo","Cd. Barras","Contagem","Diferena"]],body:ee,theme:"grid",headStyles:{fillColor:[37,99,235],textColor:255,fontStyle:"bold"},styles:{fontSize:9,cellPadding:3},columnStyles:{0:{cellWidth:40},1:{cellWidth:30},2:{cellWidth:22,halign:"center"},3:{cellWidth:22,halign:"right"},4:{cellWidth:30},5:{cellWidth:22,halign:"center",fillColor:[240,240,240]},6:{cellWidth:22,halign:"center",fillColor:[255,250,205]}}});const X=D.lastAutoTable.finalY||Y+100;D.setFontSize(8),D.setFont("helvetica","italic"),D.text("Instrues: Conte fisicamente os produtos e anote na coluna 'Contagem'. Calcule a diferena e ajuste no sistema.",15,X+10),D.save(`Inventario_Rotativo_${a}_${new Date().toISOString().split("T")[0]}.pdf`),h({title:"Relatrio gerado!",description:"Relatrio de inventrio rotativo baixado com sucesso"})},V=()=>{const D=new Jt,B=localStorage.getItem("customization");let Q="Pavisoft Sistemas";if(B)try{Q=JSON.parse(B).storeName||Q}catch(U){console.error("Erro ao carregar configuraes:",U)}let Y=20;D.setFontSize(18),D.setFont("helvetica","bold"),D.text(Q,15,Y),Y+=10,D.setFontSize(16),D.text(`Relatrio de Inventrio - ${e==="semanal"?"Semanal":"Mensal"}`,15,Y),Y+=10,D.setFontSize(10),D.setFont("helvetica","normal"),D.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")} s ${new Date().toLocaleTimeString("pt-BR")}`,15,Y),Y+=5,D.text(`Perodo: ${new Date(_).toLocaleDateString("pt-BR")} at ${new Date(P).toLocaleDateString("pt-BR")}`,15,Y),Y+=15,D.setFontSize(12),D.setFont("helvetica","bold"),D.text("Resumo do Estoque:",15,Y),Y+=7,D.setFontSize(10),D.setFont("helvetica","normal"),D.text(`Total de Produtos: ${I}`,15,Y),Y+=6,D.text(`Valor Total em Estoque: R$ ${L.toFixed(2)}`,15,Y),Y+=6,D.text(`Sadas no Perodo: ${z} unidades`,15,Y),Y+=15,D.setFontSize(12),D.setFont("helvetica","bold"),D.text("Inventrio Completo - Para Contagem:",15,Y),Y+=5;const ee=y.map(U=>[U.nome,U.categoria,U.quantidade.toString(),`R$ ${U.preco.toFixed(2)}`,`R$ ${(U.preco*U.quantidade).toFixed(2)}`,U.codigo_barras||"N/A",""]);c0(D,{startY:Y,head:[["Produto","Categoria","Qtd Sistema","Preo Unit.","Valor Total","Cd. Barras","Contagem Real"]],body:ee,theme:"grid",headStyles:{fillColor:[37,99,235],textColor:255,fontStyle:"bold"},styles:{fontSize:8,cellPadding:3},columnStyles:{0:{cellWidth:35},1:{cellWidth:25},2:{cellWidth:20,halign:"center"},3:{cellWidth:20,halign:"right"},4:{cellWidth:25,halign:"right"},5:{cellWidth:30},6:{cellWidth:25,halign:"center",fillColor:[240,240,240]}}});const X=D.lastAutoTable.finalY||Y+100;D.setFontSize(8),D.setFont("helvetica","italic"),D.text("Nota: Use a coluna 'Contagem Real' para registrar a quantidade fsica durante o inventrio.",15,X+10),D.save(`Inventario_${e}_${new Date().toISOString().split("T")[0]}.pdf`),h({title:"Relatrio gerado!",description:`Relatrio ${e} baixado com sucesso`})};return b||S?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"text-lg",children:"Carregando dados do inventrio..."})}):E?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"text-lg text-red-600",children:"Erro ao carregar dados. Por favor, recarregue a pgina."})}):i.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent","data-testid":"text-page-title",children:"Inventrio"}),i.jsx("p",{className:"text-muted-foreground","data-testid":"text-page-description",children:"Visualize e gerencie o inventrio do seu estoque"})]})}),i.jsxs(Zj,{defaultValue:"completo",className:"w-full",children:[i.jsxs(ty,{className:"grid w-full grid-cols-4",children:[i.jsxs(Qo,{value:"completo","data-testid":"tab-inventario-completo",children:[i.jsx(hG,{className:"h-4 w-4 mr-2"}),"Inventrio Completo"]}),i.jsxs(Qo,{value:"rotativo","data-testid":"tab-inventario-rotativo",children:[i.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Inventrio Rotativo"]}),i.jsxs(Qo,{value:"divergencias","data-testid":"tab-divergencias",children:[i.jsx(ai,{className:"h-4 w-4 mr-2"}),"Anlise de Contagem"]}),i.jsxs(Qo,{value:"vencimentos","data-testid":"tab-vencimentos",children:[i.jsx(ji,{className:"h-4 w-4 mr-2"}),"Vencimentos"]})]}),i.jsxs(Zo,{value:"completo",className:"space-y-6 mt-6",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{variant:e==="semanal"?"default":"outline",onClick:()=>t("semanal"),"data-testid":"button-view-semanal",children:[i.jsx(Si,{className:"h-4 w-4 mr-2"}),"Viso Semanal"]}),i.jsxs(ye,{variant:e==="mensal"?"default":"outline",onClick:()=>t("mensal"),"data-testid":"button-view-mensal",children:[i.jsx(Si,{className:"h-4 w-4 mr-2"}),"Viso Mensal"]}),i.jsxs(ye,{variant:"secondary",onClick:V,className:"ml-auto","data-testid":"button-download-pdf",children:[i.jsx(fm,{className:"h-4 w-4 mr-2"}),"Baixar Relatrio ",e==="semanal"?"Semanal":"Mensal"]}),i.jsxs(ye,{variant:"secondary",onClick:ae,disabled:c.length===0,children:[i.jsx(ai,{className:"h-4 w-4 mr-2"}),"Relatrio de Divergncias"]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(Ae,{"data-testid":"card-produtos-estoque",className:"border-0 bg-gradient-to-br from-blue-500/10 via-blue-500/5 to-transparent backdrop-blur-sm hover:shadow-lg transition-all duration-300",children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Produtos em Estoque"}),i.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:i.jsx(Ga,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})]}),i.jsxs(Pe,{children:[i.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-blue-400 bg-clip-text text-transparent","data-testid":"text-produtos-total",children:I}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de itens cadastrados"})]})]}),i.jsxs(Ae,{"data-testid":"card-valor-total",className:"border-0 bg-gradient-to-br from-green-500/10 via-green-500/5 to-transparent backdrop-blur-sm hover:shadow-lg transition-all duration-300",children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Valor Total em Estoque"}),i.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:i.jsx(Cs,{className:"h-4 w-4 text-green-600 dark:text-green-400"})})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-green-400 bg-clip-text text-transparent","data-testid":"text-valor-total",children:["R$ ",L.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor total calculado"})]})]}),i.jsxs(Ae,{"data-testid":"card-produtos-baixo-estoque",className:"border-0 bg-gradient-to-br from-orange-500/10 via-orange-500/5 to-transparent backdrop-blur-sm hover:shadow-lg transition-all duration-300",children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Produtos Baixo Estoque"}),i.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:i.jsx(Ci,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})})]}),i.jsxs(Pe,{children:[i.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-orange-600 to-orange-400 bg-clip-text text-transparent","data-testid":"text-baixo-estoque",children:y.filter(D=>D.quantidade<=D.estoque_minimo).length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Necessitam reposio"})]})]}),i.jsxs(Ae,{"data-testid":"card-saidas",className:"border-0 bg-gradient-to-br from-red-500/10 via-red-500/5 to-transparent backdrop-blur-sm hover:shadow-lg transition-all duration-300",children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsxs(Ue,{className:"text-sm font-medium",children:["Sadas (",e==="semanal"?"7 dias":"ms",")"]}),i.jsx("div",{className:"p-2 rounded-lg bg-red-500/10",children:i.jsx(Ci,{className:"h-4 w-4 text-red-600 dark:text-red-400 rotate-180"})})]}),i.jsxs(Pe,{children:[i.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-red-600 to-red-400 bg-clip-text text-transparent","data-testid":"text-saidas",children:z}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Unidades vendidas"})]})]})]}),i.jsxs(Ae,{"data-testid":"card-lista-produtos",children:[i.jsxs(qe,{children:[i.jsx(Ue,{children:"Lista Completa de Produtos"}),i.jsx(Ht,{children:"Use esta lista para conferir o inventrio fsico e identificar divergncias"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ze,{placeholder:"Buscar produto...",value:g,onChange:D=>p(D.target.value),className:"pl-10"})]}),i.jsxs(Cr,{value:a,onValueChange:s,children:[i.jsx(Nr,{className:"w-[200px]",children:i.jsx(Er,{placeholder:"Selecione uma categoria"})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todas as Categorias"}),T.map(D=>i.jsx(Je,{value:D,children:D},D))]})]})]}),i.jsx("div",{className:"rounded-md border",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Produto"}),i.jsx(Me,{children:"Categoria"}),i.jsx(Me,{className:"text-center",children:"Qtd Sistema"}),i.jsx(Me,{className:"text-center",children:"Contagem Real"}),i.jsx(Me,{className:"text-center",children:"Diferena"}),i.jsx(Me,{className:"text-right",children:"Preo Unitrio"}),i.jsx(Me,{className:"text-right",children:"Valor Total"}),i.jsx(Me,{children:"Cdigo de Barras"}),i.jsx(Me,{className:"text-center",children:"Status"}),i.jsx(Me,{className:"text-center",children:"Ao"})]})}),i.jsx(gn,{children:y.length===0?i.jsx(Bt,{children:i.jsx(Ie,{colSpan:10,className:"text-center text-muted-foreground",children:"Nenhum produto cadastrado"})}):y.map(D=>{const B=D.quantidade<=D.estoque_minimo,Q=o[D.id]||"",ee=(parseInt(Q)||0)-D.quantidade;return i.jsxs(Bt,{"data-testid":`row-produto-${D.id}`,children:[i.jsx(Ie,{className:"font-medium","data-testid":`text-nome-${D.id}`,children:D.nome}),i.jsx(Ie,{children:D.categoria}),i.jsx(Ie,{className:"text-center font-semibold",children:D.quantidade}),i.jsx(Ie,{className:"text-center",children:i.jsx(Ze,{type:"number",min:"0",value:Q,onChange:X=>q(D.id,X.target.value),placeholder:"0",className:"w-20 mx-auto text-center","data-testid":`input-contagem-completo-${D.id}`})}),i.jsx(Ie,{className:"text-center",children:Q&&i.jsxs("span",{className:`font-semibold ${ee>0?"text-green-600":ee<0?"text-red-600":"text-gray-600"}`,children:[ee>0?"+":"",ee]})}),i.jsxs(Ie,{className:"text-right",children:["R$ ",D.preco.toFixed(2)]}),i.jsxs(Ie,{className:"text-right font-medium",children:["R$ ",(D.preco*D.quantidade).toFixed(2)]}),i.jsx(Ie,{className:"text-sm text-muted-foreground",children:D.codigo_barras||"N/A"}),i.jsx(Ie,{className:"text-center",children:B?i.jsx("span",{className:"inline-flex items-center rounded-full bg-orange-100 px-2 py-1 text-xs font-medium text-orange-800",children:"Baixo Estoque"}):i.jsx("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-800",children:"OK"})}),i.jsx(Ie,{className:"text-center",children:i.jsx(ye,{size:"sm",onClick:()=>K(D.id),disabled:!Q||M.isPending,"data-testid":`button-ajustar-completo-${D.id}`,children:"Ajustar"})})]},D.id)})})]})})]})]}),i.jsxs(Ae,{className:"bg-blue-50 border-blue-200",children:[i.jsx(qe,{children:i.jsx(Ue,{className:"text-blue-900",children:"Como usar a contagem completa"})}),i.jsx(Pe,{children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-blue-800",children:[i.jsx("li",{children:'Digite a quantidade contada fisicamente na coluna "Contagem Real"'}),i.jsx("li",{children:"A diferena ser calculada automaticamente (verde = sobra, vermelho = falta)"}),i.jsx("li",{children:'Clique em "Ajustar" para atualizar o estoque no sistema'}),i.jsx("li",{children:'As divergncias sero registradas automaticamente na aba "Anlise de Contagem"'}),i.jsx("li",{children:'Use "Baixar Relatrio" para gerar um PDF impresso para contagem fsica'}),i.jsx("li",{children:'Acesse "Relatrio de Divergncias" para ver o impacto financeiro das diferenas'})]})})]})]}),i.jsxs(Zo,{value:"rotativo",className:"space-y-6 mt-6",children:[i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(De,{htmlFor:"categoria-filter",children:"Filtrar por Categoria"}),i.jsxs(Cr,{value:a,onValueChange:s,children:[i.jsx(Nr,{id:"categoria-filter","data-testid":"select-categoria-rotativo",children:i.jsx(Er,{placeholder:"Selecione uma categoria"})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todas as Categorias"}),T.map(D=>i.jsx(Je,{value:D,children:D},D))]})]})]}),i.jsxs(ye,{variant:"secondary",onClick:O,className:"mt-6","data-testid":"button-download-rotativo-pdf",children:[i.jsx(fm,{className:"h-4 w-4 mr-2"}),"Baixar Relatrio Rotativo"]})]}),i.jsxs(Ae,{className:"bg-purple-50 border-purple-200",children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"text-purple-900 flex items-center gap-2",children:[i.jsx(Fl,{className:"h-5 w-5"}),"O que  Inventrio Rotativo?"]})}),i.jsxs(Pe,{children:[i.jsx("p",{className:"text-sm text-purple-800 mb-3",children:"O inventrio rotativo permite fazer contagens parciais peridicas, focando em categorias especficas ou grupos de produtos. Isso facilita a gesto do estoque sem precisar parar as operaes para um inventrio completo."}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-purple-800",children:[i.jsx("li",{children:"Selecione uma categoria especfica para contar"}),i.jsx("li",{children:"Realize a contagem fsica dos produtos"}),i.jsx("li",{children:"Digite a quantidade contada e ajuste o estoque imediatamente"}),i.jsx("li",{children:"Repita o processo periodicamente para diferentes categorias"})]})]})]}),i.jsxs(Ae,{"data-testid":"card-contagem-rotativa",children:[i.jsxs(qe,{children:[i.jsxs(Ue,{children:["Contagem - ",a==="all"?"Todas as Categorias":a]}),i.jsxs(Ht,{children:[C.length," produto(s) nesta categoria"]})]}),i.jsx(Pe,{children:i.jsx("div",{className:"rounded-md border",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Produto"}),i.jsx(Me,{children:"Categoria"}),i.jsx(Me,{className:"text-center",children:"Qtd Sistema"}),i.jsx(Me,{className:"text-center",children:"Contagem Real"}),i.jsx(Me,{className:"text-center",children:"Diferena"}),i.jsx(Me,{className:"text-center",children:"Ao"})]})}),i.jsx(gn,{children:C.length===0?i.jsx(Bt,{children:i.jsx(Ie,{colSpan:6,className:"text-center text-muted-foreground",children:"Nenhum produto nesta categoria"})}):C.map(D=>{const B=o[D.id]||"",Y=(parseInt(B)||0)-D.quantidade;return i.jsxs(Bt,{"data-testid":`row-rotativo-${D.id}`,children:[i.jsx(Ie,{className:"font-medium",children:D.nome}),i.jsx(Ie,{children:D.categoria}),i.jsx(Ie,{className:"text-center font-semibold",children:D.quantidade}),i.jsx(Ie,{className:"text-center",children:i.jsx(Ze,{type:"number",min:"0",value:B,onChange:ee=>q(D.id,ee.target.value),placeholder:"0",className:"w-20 mx-auto text-center","data-testid":`input-contagem-${D.id}`})}),i.jsx(Ie,{className:"text-center",children:B&&i.jsxs("span",{className:`font-semibold ${Y>0?"text-green-600":Y<0?"text-red-600":"text-gray-600"}`,children:[Y>0?"+":"",Y]})}),i.jsx(Ie,{className:"text-center",children:i.jsx(ye,{size:"sm",onClick:()=>K(D.id),disabled:!B||M.isPending,"data-testid":`button-ajustar-${D.id}`,children:"Ajustar"})})]},D.id)})})]})})})]})]}),i.jsxs(Zo,{value:"divergencias",className:"space-y-6 mt-6",children:[i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsxs(ye,{variant:"secondary",onClick:ae,disabled:c.length===0,"data-testid":"button-download-divergencias-pdf",children:[i.jsx(fm,{className:"h-4 w-4 mr-2"}),"Baixar Relatrio de Divergncias"]}),c.length>0&&i.jsx(ye,{variant:"outline",onClick:()=>u([]),children:"Limpar Histrico"})]}),i.jsxs(Ae,{className:"bg-blue-50 border-blue-200",children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"text-blue-900 flex items-center gap-2",children:[i.jsx(ai,{className:"h-5 w-5"}),"Anlise de Contagem e Divergncias"]})}),i.jsxs(Pe,{children:[i.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Este relatrio registra todas as divergncias encontradas entre o estoque no sistema e as contagens fsicas realizadas. Use-o para identificar perdas, ganhos e calcular prejuzos."}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-blue-800",children:[i.jsx("li",{children:"Diferenas negativas indicam produtos faltando (possvel prejuzo)"}),i.jsx("li",{children:"Diferenas positivas indicam produtos sobrando"}),i.jsx("li",{children:"O relatrio calcula automaticamente o impacto financeiro"}),i.jsx("li",{children:"Todas as contagens so registradas com data e hora"})]})]})]}),c.length===0?i.jsx(Ae,{children:i.jsxs(Pe,{className:"text-center py-12",children:[i.jsx(km,{className:"h-12 w-12 mx-auto text-green-500 mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhuma divergncia registrada ainda. Faa contagens no Inventrio Rotativo para ver os resultados aqui."})]})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs(Ae,{className:"border-red-200 bg-red-50",children:[i.jsx(qe,{className:"pb-3",children:i.jsx(Ue,{className:"text-sm font-medium text-red-900",children:"Prejuzo Total (Faltando)"})}),i.jsx(Pe,{children:i.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["R$ ",c.filter(D=>D.diferenca<0).reduce((D,B)=>D+Math.abs(B.valor_divergencia),0).toFixed(2)]})})]}),i.jsxs(Ae,{className:"border-green-200 bg-green-50",children:[i.jsx(qe,{className:"pb-3",children:i.jsx(Ue,{className:"text-sm font-medium text-green-900",children:"Ganho Total (Sobrando)"})}),i.jsx(Pe,{children:i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",c.filter(D=>D.diferenca>0).reduce((D,B)=>D+B.valor_divergencia,0).toFixed(2)]})})]}),i.jsxs(Ae,{className:"border-blue-200 bg-blue-50",children:[i.jsx(qe,{className:"pb-3",children:i.jsx(Ue,{className:"text-sm font-medium text-blue-900",children:"Saldo Final"})}),i.jsx(Pe,{children:i.jsxs("div",{className:`text-2xl font-bold ${c.reduce((D,B)=>D+B.valor_divergencia,0)<0?"text-red-600":"text-green-600"}`,children:["R$ ",c.reduce((D,B)=>D+B.valor_divergencia,0).toFixed(2)]})})]})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{children:"Histrico de Divergncias"}),i.jsxs(Ht,{children:[c.length," divergncia(s) registrada(s)"]})]}),i.jsx(Pe,{children:i.jsx("div",{className:"rounded-md border",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Produto"}),i.jsx(Me,{children:"Categoria"}),i.jsx(Me,{className:"text-center",children:"Qtd Sistema"}),i.jsx(Me,{className:"text-center",children:"Qtd Contada"}),i.jsx(Me,{className:"text-center",children:"Diferena"}),i.jsx(Me,{className:"text-right",children:"Valor Unit."}),i.jsx(Me,{className:"text-right",children:"Impacto Financeiro"}),i.jsx(Me,{children:"Data"})]})}),i.jsx(gn,{children:c.map((D,B)=>i.jsxs(Bt,{children:[i.jsx(Ie,{className:"font-medium",children:D.produto_nome}),i.jsx(Ie,{children:D.categoria}),i.jsx(Ie,{className:"text-center",children:D.qtd_sistema}),i.jsx(Ie,{className:"text-center",children:D.qtd_contada}),i.jsx(Ie,{className:"text-center",children:i.jsxs(It,{variant:D.diferenca<0?"destructive":"default",children:[D.diferenca>0?"+":"",D.diferenca]})}),i.jsxs(Ie,{className:"text-right",children:["R$ ",D.valor_unitario.toFixed(2)]}),i.jsxs(Ie,{className:`text-right font-semibold ${D.diferenca<0?"text-red-600":"text-green-600"}`,children:[D.diferenca>0?"+":"","R$ ",D.valor_divergencia.toFixed(2)]}),i.jsxs(Ie,{className:"text-sm text-muted-foreground",children:[new Date(D.data_contagem).toLocaleDateString("pt-BR")," ",new Date(D.data_contagem).toLocaleTimeString("pt-BR")]})]},B))})]})})})]})]})]}),i.jsxs(Zo,{value:"vencimentos",className:"space-y-6 mt-6",children:[i.jsx("div",{className:"flex gap-2 items-center",children:i.jsxs(ye,{variant:"secondary",onClick:ie,disabled:W.vencidos.length===0&&W.aVencer30Dias.length===0,"data-testid":"button-download-vencimentos-pdf",children:[i.jsx(fm,{className:"h-4 w-4 mr-2"}),"Baixar Relatrio de Vencimentos"]})}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs(Ae,{className:"border-red-200 bg-red-50",children:[i.jsx(qe,{className:"pb-3",children:i.jsxs(Ue,{className:"text-sm font-medium text-red-900 flex items-center gap-2",children:[i.jsx(ji,{className:"h-4 w-4"}),"Produtos Vencidos"]})}),i.jsxs(Pe,{children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:W.vencidos.length}),i.jsxs("p",{className:"text-xs text-red-700 mt-1",children:["Valor: R$ ",W.vencidos.reduce((D,B)=>D+B.preco*B.quantidade,0).toFixed(2)]})]})]}),i.jsxs(Ae,{className:"border-yellow-200 bg-yellow-50",children:[i.jsx(qe,{className:"pb-3",children:i.jsxs(Ue,{className:"text-sm font-medium text-yellow-900 flex items-center gap-2",children:[i.jsx(Si,{className:"h-4 w-4"}),"A Vencer (30 dias)"]})}),i.jsxs(Pe,{children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:W.aVencer30Dias.length}),i.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Valor: R$ ",W.aVencer30Dias.reduce((D,B)=>D+B.preco*B.quantidade,0).toFixed(2)]})]})]}),i.jsxs(Ae,{className:"border-green-200 bg-green-50",children:[i.jsx(qe,{className:"pb-3",children:i.jsx(Ue,{className:"text-sm font-medium text-green-900",children:"Produtos OK"})}),i.jsxs(Pe,{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.length-W.vencidos.length-W.aVencer30Dias.length}),i.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Dentro do prazo"})]})]})]}),W.vencidos.length>0&&i.jsxs(Ae,{className:"border-red-200",children:[i.jsxs(qe,{children:[i.jsxs(Ue,{className:"text-red-900 flex items-center gap-2",children:[i.jsx(ji,{className:"h-5 w-5"}),"Produtos Vencidos - AO IMEDIATA NECESSRIA"]}),i.jsx(Ht,{className:"text-red-700",children:"Estes produtos j passaram da data de validade"})]}),i.jsx(Pe,{children:i.jsx("div",{className:"rounded-md border border-red-200",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Produto"}),i.jsx(Me,{children:"Categoria"}),i.jsx(Me,{className:"text-center",children:"Quantidade"}),i.jsx(Me,{children:"Data Vencimento"}),i.jsx(Me,{children:"Vencido h"}),i.jsx(Me,{className:"text-right",children:"Valor Total"})]})}),i.jsx(gn,{children:W.vencidos.map(D=>{const B=Math.floor((new Date().getTime()-new Date(D.vencimento).getTime())/864e5);return i.jsxs(Bt,{className:"bg-red-50",children:[i.jsx(Ie,{className:"font-medium",children:D.nome}),i.jsx(Ie,{children:D.categoria}),i.jsx(Ie,{className:"text-center",children:D.quantidade}),i.jsx(Ie,{children:new Date(D.vencimento).toLocaleDateString("pt-BR")}),i.jsx(Ie,{children:i.jsxs(It,{variant:"destructive",children:[B," dias"]})}),i.jsxs(Ie,{className:"text-right font-semibold text-red-600",children:["R$ ",(D.preco*D.quantidade).toFixed(2)]})]},D.id)})})]})})})]}),W.aVencer30Dias.length>0&&i.jsxs(Ae,{className:"border-yellow-200",children:[i.jsxs(qe,{children:[i.jsxs(Ue,{className:"text-yellow-900 flex items-center gap-2",children:[i.jsx(Si,{className:"h-5 w-5"}),"Produtos a Vencer (prximos 30 dias)"]}),i.jsx(Ht,{className:"text-yellow-700",children:"Priorize a venda destes produtos"})]}),i.jsx(Pe,{children:i.jsx("div",{className:"rounded-md border border-yellow-200",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Produto"}),i.jsx(Me,{children:"Categoria"}),i.jsx(Me,{className:"text-center",children:"Quantidade"}),i.jsx(Me,{children:"Data Vencimento"}),i.jsx(Me,{children:"Dias Restantes"}),i.jsx(Me,{className:"text-right",children:"Valor Total"})]})}),i.jsx(gn,{children:W.aVencer30Dias.map(D=>{const B=Math.ceil((new Date(D.vencimento).getTime()-new Date().getTime())/864e5);return i.jsxs(Bt,{className:"bg-yellow-50",children:[i.jsx(Ie,{className:"font-medium",children:D.nome}),i.jsx(Ie,{children:D.categoria}),i.jsx(Ie,{className:"text-center",children:D.quantidade}),i.jsx(Ie,{children:new Date(D.vencimento).toLocaleDateString("pt-BR")}),i.jsx(Ie,{children:i.jsxs(It,{variant:B<=7?"destructive":"default",className:"bg-yellow-500",children:[B," dias"]})}),i.jsxs(Ie,{className:"text-right font-semibold text-yellow-600",children:["R$ ",(D.preco*D.quantidade).toFixed(2)]})]},D.id)})})]})})})]}),W.vencidos.length===0&&W.aVencer30Dias.length===0&&i.jsx(Ae,{children:i.jsxs(Pe,{className:"text-center py-12",children:[i.jsx(km,{className:"h-12 w-12 mx-auto text-green-500 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Parabns! Nenhum produto vencido ou prximo do vencimento"}),i.jsx("p",{className:"text-muted-foreground",children:"Todos os produtos esto dentro do prazo de validade."})]})})]})]})]})}function NVe({dailyTotal:e=0,weeklyTotal:t=0,monthlyTotal:r=0,dailyReturns:n=0,weeklyReturns:a=0,monthlyReturns:s=0,onFilter:o,onClearFilter:l,isFiltered:c=!1}){const[u,d]=N.useState(""),[f,h]=N.useState(""),m=()=>{u&&f&&(o==null||o(u,f),console.log("Filtrar vendas:",{startDate:u,endDate:f}))},g=()=>{d(""),h(""),l==null||l(),console.log("Filtro limpo")};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs(Ae,{children:[i.jsx(qe,{className:"pb-3",children:i.jsxs(Ue,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(Mu,{className:"h-4 w-4 text-green-600"}),"Vendas Hoje",i.jsx(l1,{children:i.jsxs(rj,{children:[i.jsx(nj,{asChild:!0,children:i.jsx(Mu,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),i.jsx(c1,{children:i.jsx("p",{className:"text-xs",children:"Valor j descontadas devolues aprovadas"})})]})})]})}),i.jsx(Pe,{children:i.jsxs("p",{className:"text-3xl font-bold text-green-600","data-testid":"text-daily-total",children:["R$ ",e.toFixed(2)]})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{className:"pb-3",children:i.jsxs(Ue,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(Mu,{className:"h-4 w-4 text-green-600"}),"Vendas da Semana",i.jsx(l1,{children:i.jsxs(rj,{children:[i.jsx(nj,{asChild:!0,children:i.jsx(Mu,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),i.jsx(c1,{children:i.jsx("p",{className:"text-xs",children:"Valor j descontadas devolues aprovadas"})})]})})]})}),i.jsx(Pe,{children:i.jsxs("p",{className:"text-3xl font-bold text-green-600","data-testid":"text-weekly-total",children:["R$ ",t.toFixed(2)]})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{className:"pb-3",children:i.jsxs(Ue,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(Mu,{className:"h-4 w-4 text-green-600"}),"Vendas Mensais",i.jsx(l1,{children:i.jsxs(rj,{children:[i.jsx(nj,{asChild:!0,children:i.jsx(Mu,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),i.jsx(c1,{children:i.jsx("p",{className:"text-xs",children:"Valor j descontadas devolues aprovadas"})})]})})]})}),i.jsx(Pe,{children:i.jsxs("p",{className:"text-3xl font-bold text-green-600","data-testid":"text-monthly-total",children:["R$ ",r.toFixed(2)]})})]}),i.jsxs(Ae,{className:"border-red-200 bg-red-50/50 dark:bg-red-950/20",children:[i.jsx(qe,{className:"pb-3",children:i.jsxs(Ue,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(Mu,{className:"h-4 w-4 text-red-600"}),"Devolues Hoje"]})}),i.jsx(Pe,{children:i.jsxs("p",{className:"text-3xl font-bold text-red-600","data-testid":"text-daily-returns",children:["R$ ",n.toFixed(2)]})})]}),i.jsxs(Ae,{className:"border-red-200 bg-red-50/50 dark:bg-red-950/20",children:[i.jsx(qe,{className:"pb-3",children:i.jsxs(Ue,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(Mu,{className:"h-4 w-4 text-red-600"}),"Devolues da Semana"]})}),i.jsx(Pe,{children:i.jsxs("p",{className:"text-3xl font-bold text-red-600","data-testid":"text-weekly-returns",children:["R$ ",a.toFixed(2)]})})]}),i.jsxs(Ae,{className:"border-red-200 bg-red-50/50 dark:bg-red-950/20",children:[i.jsx(qe,{className:"pb-3",children:i.jsxs(Ue,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(Mu,{className:"h-4 w-4 text-red-600"}),"Devolues Mensais"]})}),i.jsx(Pe,{children:i.jsxs("p",{className:"text-3xl font-bold text-red-600","data-testid":"text-monthly-returns",children:["R$ ",s.toFixed(2)]})})]})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsx(Ue,{children:"Filtrar por Perodo"})}),i.jsx(Pe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"start-date",children:"Data Inicial"}),i.jsxs("div",{className:"relative",children:[i.jsx(Si,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{id:"start-date",type:"date",value:u,onChange:p=>d(p.target.value),className:"pl-10","data-testid":"input-start-date"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"end-date",children:"Data Final"}),i.jsxs("div",{className:"relative",children:[i.jsx(Si,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{id:"end-date",type:"date",value:f,onChange:p=>h(p.target.value),className:"pl-10","data-testid":"input-end-date"})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{onClick:m,className:"flex-1 md:flex-none",disabled:!u||!f,"data-testid":"button-filter",children:"Aplicar Filtro"}),(u||f)&&i.jsx(ye,{onClick:g,variant:"outline",className:"flex-1 md:flex-none","data-testid":"button-clear-filter",children:"Limpar Filtro"})]})]})})]})]})}function _Ve(e){const t=[];if(!e)return{isValid:!1,errors:["Venda  nula ou indefinida"]};e.id||t.push("ID da venda est faltando"),e.data||t.push("Data da venda est faltando"),typeof e.valor_total!="number"&&t.push("Valor total invlido");try{const n=new Date(e.data);isNaN(n.getTime())&&t.push("Formato de data invlido")}catch{t.push("Erro ao processar data")}const r={...e,valor_total:Number(e.valor_total)||0,quantidade_vendida:Number(e.quantidade_vendida)||0};return{isValid:t.length===0,errors:t,sanitized:r}}function SVe(e,t){const r=[],n=[];return e.forEach((a,s)=>{const o=t(a);o.isValid&&o.sanitized?r.push(o.sanitized):n.push({index:s,item:a,errors:o.errors})}),n.length>0&&console.warn(" Dados invlidos encontrados:",n),{valid:r,invalid:n}}function AVe({sales:e}){const[t,r]=N.useState(1),n=10,{data:a=[]}=ir({queryKey:["/api/devolucoes"],refetchInterval:1e4}),{valid:s}=SVe(e,_Ve),o=[...s].sort((f,h)=>{try{const m=new Date(f.data||0).getTime();return new Date(h.data||0).getTime()-m}catch(m){return console.error("Erro ao ordenar vendas:",m),0}}),l=Math.ceil(o.length/n),c=(t-1)*n,u=c+n,d=o.slice(c,u);return i.jsxs(Ae,{className:"border-0 bg-gradient-to-br from-card/80 to-card backdrop-blur-sm shadow-xl",children:[i.jsxs(qe,{children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(ss,{className:"h-5 w-5 text-primary"}),"Histrico de Vendas"]}),i.jsx(Ht,{children:e.length>0?`${e.length} venda(s) registrada(s)`:"Nenhuma venda registrada ainda"})]}),i.jsx(Pe,{children:e.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx(ss,{className:"mx-auto h-12 w-12 opacity-50 mb-4"}),i.jsx("p",{children:"Nenhuma venda registrada ainda"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Produto(s)"}),i.jsx(Me,{className:"text-center",children:"Quantidade"}),i.jsx(Me,{className:"text-right",children:"Valor Total"}),i.jsx(Me,{className:"text-center",children:"Forma de Pagamento"}),i.jsx(Me,{className:"text-center",children:"Vendedor"}),i.jsx(Me,{className:"text-center",children:"Oramento"}),i.jsx(Me,{className:"text-center",children:"Devoluo"}),i.jsx(Me,{className:"text-right",children:"Data"})]})}),i.jsx(gn,{children:d.map(f=>{let h="Dinheiro";f.forma_pagamento==="cartao_credito"?h="Carto Crdito":f.forma_pagamento==="cartao_debito"?h="Carto Dbito":f.forma_pagamento==="pix"?h="PIX":f.forma_pagamento==="boleto"&&(h="Boleto");const m=a.find(g=>g.venda_id===f.id&&g.status==="aprovada");return i.jsxs(Bt,{className:m?"bg-red-50 dark:bg-red-950/10":"",children:[i.jsx(Ie,{className:"max-w-[300px] truncate",title:f.produto||"N/A",children:i.jsxs("div",{className:"flex items-center gap-2",children:[f.produto||"N/A",m&&i.jsx(It,{variant:"destructive",className:"text-xs",children:"Devolvido"})]})}),i.jsx(Ie,{className:"text-center",children:f.quantidade_vendida||0}),i.jsxs(Ie,{className:"text-right font-semibold text-green-600",children:["R$ ",(f.valor_total||0).toFixed(2)]}),i.jsx(Ie,{className:"text-center",children:i.jsx(It,{variant:"outline",className:"whitespace-nowrap",children:h})}),i.jsx(Ie,{className:"text-center",children:f.vendedor||"Venda direta"}),i.jsx(Ie,{className:"text-center",children:f.orcamento_numero?i.jsx(It,{variant:"secondary",className:"whitespace-nowrap",children:f.orcamento_numero}):"-"}),i.jsx(Ie,{className:"text-center",children:m?i.jsx(It,{variant:"destructive",className:"whitespace-nowrap",title:`Devolvido ${m.quantidade} un. - R$ ${m.valor_total.toFixed(2)}`,children:"Devolvido"}):"-"}),i.jsx(Ie,{className:"text-right whitespace-nowrap",children:f.data?KP(f.data):"N/A"})]},f.id)})})]})}),l>1&&i.jsxs("div",{className:"flex justify-center items-center mt-4 space-x-2",children:[i.jsx(ye,{variant:"outline",size:"sm",onClick:()=>r(f=>Math.max(f-1,1)),disabled:t===1,children:i.jsx(PT,{className:"h-4 w-4"})}),i.jsxs("span",{children:["Pgina ",t," de ",l]}),i.jsx(ye,{variant:"outline",size:"sm",onClick:()=>r(f=>Math.min(f+1,l)),disabled:t===l,children:i.jsx(Nb,{className:"h-4 w-4"})})]})]})})]})}function CVe({products:e=[]}){const t=[...e].sort((r,n)=>{const a=y1(r.vencimento)||0,s=y1(n.vencimento)||0;return a-s});return i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Si,{className:"h-5 w-5"}),"Produtos Prximos ao Vencimento"]})}),i.jsx(Pe,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Produto"}),i.jsx(Me,{children:"Categoria"}),i.jsx(Me,{className:"text-center",children:"Quantidade"}),i.jsx(Me,{children:"Vencimento"}),i.jsx(Me,{children:"Status"})]})}),i.jsx(gn,{children:t.length===0?i.jsx(Bt,{children:i.jsx(Ie,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhum produto prximo ao vencimento"})}):t.map(r=>{const n=y1(r.vencimento),a=n!==null&&n<=7;return i.jsxs(Bt,{"data-testid":`row-expiring-${r.id}`,children:[i.jsx(Ie,{children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:r.nome}),r.codigo_barras&&i.jsx("p",{className:"text-xs text-muted-foreground",children:r.codigo_barras})]})}),i.jsx(Ie,{children:r.categoria}),i.jsx(Ie,{className:"text-center",children:r.quantidade}),i.jsx(Ie,{children:im(r.vencimento)}),i.jsx(Ie,{children:n!==null&&i.jsxs(It,{variant:a?"destructive":"default",className:a?"":"bg-orange-500 text-white","data-testid":`badge-status-${r.id}`,children:[i.jsx(ji,{className:"h-3 w-3 mr-1"}),n," dia",n!==1?"s":""]})})]},r.id)})})]})})})]})}function EVe(){const{toast:e}=Qr(),t=Ya(),[r,n]=N.useState(""),[a,s]=N.useState(""),[o,l]=N.useState(!1),[c,u]=N.useState("all"),[d,f]=N.useState(""),{data:h=[]}=ir({queryKey:["/api/devolucoes"]}),m=()=>{const W=new Jt,q=localStorage.getItem("customization");let K="Controle de Estoque Simples",ae="";if(q)try{const Y=JSON.parse(q);K=Y.storeName||K,ae=Y.logo||""}catch(Y){console.error("Erro ao carregar configuraes:",Y)}let ie=20;if(ae)try{W.addImage(ae,"PNG",15,ie,30,30),ie+=35}catch(Y){console.error("Erro ao adicionar logo:",Y)}W.setFontSize(18),W.setFont("helvetica","bold"),W.text(K,ae?50:15,ae?35:ie),ie=ae?55:ie+10,W.setFontSize(16),W.text("Relatrio de Vendas",15,ie),ie+=10,W.setFontSize(10),W.setFont("helvetica","normal"),W.text(`Gerado em: ${KP(new Date().toISOString())}`,15,ie),ie+=15,W.setFontSize(12),W.setFont("helvetica","bold"),W.text("Resumo:",15,ie),ie+=7,W.setFontSize(10),W.setFont("helvetica","normal"),W.text(`Vendas Hoje: R$ ${C.toFixed(2)}`,15,ie),ie+=6,W.text(`Vendas da Semana: R$ ${I.toFixed(2)}`,15,ie),ie+=6,W.text(`Total de Vendas: ${g.length}`,15,ie),ie+=10;const O=g.map(Y=>{let ee="Dinheiro";Y.forma_pagamento==="cartao_credito"?ee="Carto Crdito":Y.forma_pagamento==="cartao_debito"?ee="Carto Dbito":Y.forma_pagamento==="pix"?ee="PIX":Y.forma_pagamento==="boleto"&&(ee="Boleto");const X=h.find(U=>U.venda_id===Y.id&&U.status==="aprovada");return[Y.produto||"N/A",Y.quantidade_vendida||0,`R$ ${(Y.valor_total||0).toFixed(2)}`,ee,Y.orcamento_numero?`${Y.orcamento_numero}`:"-",X?"Sim":"No",Y.data?KP(Y.data):"N/A"]});c0(W,{startY:ie,head:[["Produto","Quantidade","Valor Total","Pagamento","Oramento","Devoluo","Data"]],body:O,theme:"striped",headStyles:{fillColor:[37,99,235],textColor:255,fontStyle:"bold"},styles:{fontSize:9,cellPadding:3},columnStyles:{0:{cellWidth:40},1:{cellWidth:18,halign:"center"},2:{cellWidth:25,halign:"right"},3:{cellWidth:25,halign:"center"},4:{cellWidth:18,halign:"center"},5:{cellWidth:18,halign:"center"},6:{cellWidth:30,halign:"right"}}});const V=W.lastAutoTable.finalY||ie+50;W.setFontSize(12),W.setFont("helvetica","bold");const D=g.reduce((Y,ee)=>Y+(ee.valor_total||0),0);W.text(`Total Geral: R$ ${D.toFixed(2)}`,15,V+10);const B=W.getNumberOfPages();for(let Y=1;Y<=B;Y++)W.setPage(Y),W.setFontSize(8),W.setFont("helvetica","normal"),W.text(`Pgina ${Y} de ${B}`,W.internal.pageSize.getWidth()/2,W.internal.pageSize.getHeight()-10,{align:"center"});const Q=new Date().toISOString().split("T")[0];W.save(`relatorio-vendas-${Q}.pdf`),e({title:"Relatrio exportado!",description:"O PDF foi baixado com sucesso"})},{data:g=[]}=ir({queryKey:["/api/vendas",r,a,o],queryFn:async()=>{const W=localStorage.getItem("user");if(!W)throw new Error("Usurio no autenticado");const q=JSON.parse(W),K={"x-user-id":q.id,"x-user-type":q.tipo||"usuario"};q.tipo==="funcionario"&&q.conta_id&&(K["x-conta-id"]=q.conta_id);let ae="/api/vendas";const ie=new URLSearchParams;r&&a&&(ie.append("start_date",r),ie.append("end_date",a)),o&&ie.append("incluirArquivados","true"),ie.toString()&&(ae+=`?${ie.toString()}`);const O=await fetch(ae,{headers:K});if(!O.ok)throw new Error("Erro ao buscar vendas");return O.json()},refetchInterval:5e3}),p=g.filter(W=>{var ae,ie;const q=c==="all"||W.forma_pagamento===c,K=!d||((ae=W.produto)==null?void 0:ae.toLowerCase().includes(d.toLowerCase()))||((ie=W.vendedor)==null?void 0:ie.toLowerCase().includes(d.toLowerCase()));return q&&K}),{data:x=[]}=ir({queryKey:["/api/reports/expiring"],queryFn:async()=>{const W=localStorage.getItem("user");if(!W)return[];const q=JSON.parse(W),K={"x-user-id":q.id,"x-user-type":q.tipo||"usuario"};q.tipo==="funcionario"&&q.conta_id&&(K["x-conta-id"]=q.conta_id);const ae=await fetch("/api/reports/expiring",{headers:K});return ae.ok?ae.json():[]}}),v=rr({mutationFn:async()=>{const W=localStorage.getItem("user");if(!W)throw new Error("Usurio no autenticado");const q=JSON.parse(W),K={"x-user-id":q.id,"x-user-type":q.tipo||"usuario"};q.tipo==="funcionario"&&q.conta_id&&(K["x-conta-id"]=q.conta_id);const ae=await fetch("/api/vendas",{method:"DELETE",headers:K});if(!ae.ok){const ie=await ae.json();throw new Error(ie.error||"Erro ao limpar histrico")}return ae.json()},onSuccess:async()=>{await t.invalidateQueries({queryKey:["/api/vendas"]}),await t.refetchQueries({queryKey:["/api/vendas"]}),e({title:"Histrico limpo!",description:"Todas as vendas foram removidas do histrico"})},onError:W=>{e({title:"Erro",description:W.message||"No foi possvel limpar o histrico",variant:"destructive"})}}),y=()=>{confirm(` ATENO: Tem certeza que deseja limpar todo o histrico de vendas?

Esta ao no pode ser desfeita e remover permanentemente todas as vendas registradas.

Dica: Use a Limpeza Automtica em Configuraes para arquivar vendas antigas mantendo os dados para relatrios.`)&&v.mutate()},b=new Date,j=b.toISOString().split("T")[0],_=new Date(b.getTime()-7*24*60*60*1e3).toISOString().split("T")[0],P=new Date(b.getTime()-30*24*60*60*1e3).toISOString().split("T")[0],{data:k=[]}=ir({queryKey:["/api/devolucoes"],queryFn:async()=>{const W=localStorage.getItem("user");if(!W)return[];const q=JSON.parse(W),K={"x-user-id":q.id,"x-user-type":q.tipo||"usuario"};q.tipo==="funcionario"&&q.conta_id&&(K["x-conta-id"]=q.conta_id);const ae=await fetch("/api/devolucoes",{headers:K});return ae.ok?ae.json():[]}}),S=k.filter(W=>W.status==="aprovada"),E=S.filter(W=>{if(!W.data_devolucao)return!1;try{return new Date(W.data_devolucao).toISOString().split("T")[0]===j}catch{return console.error("Erro ao processar data de devoluo:",W.data_devolucao),!1}}).reduce((W,q)=>W+(Number(q.valor_total)||0),0),M=S.filter(W=>{if(!W.data_devolucao)return!1;try{const q=new Date(W.data_devolucao).toISOString().split("T")[0];return q>=_&&q<=j}catch{return console.error("Erro ao processar data de devoluo:",W.data_devolucao),!1}}).reduce((W,q)=>W+(Number(q.valor_total)||0),0),T=S.filter(W=>{if(!W.data_devolucao)return!1;try{const q=new Date(W.data_devolucao).toISOString().split("T")[0];return q>=P&&q<=j}catch{return console.error("Erro ao processar data de devoluo:",W.data_devolucao),!1}}).reduce((W,q)=>W+(Number(q.valor_total)||0),0),C=r&&a?0:g.filter(W=>W.data?new Date(W.data).toISOString().split("T")[0]===j:!1).reduce((W,q)=>W+(q.valor_total||0),0)-E,I=r&&a?0:g.filter(W=>{if(!W.data)return!1;const q=new Date(W.data).toISOString().split("T")[0];return q>=_&&q<=j}).reduce((W,q)=>W+(q.valor_total||0),0)-M,L=r&&a?g.reduce((W,q)=>W+(q.valor_total||0),0)-S.reduce((W,q)=>W+(q.valor_total||0),0):g.filter(W=>{if(!W.data)return!1;const q=new Date(W.data).toISOString().split("T")[0];return q>=P&&q<=j}).reduce((W,q)=>W+(q.valor_total||0),0)-T,z=(W,q)=>{n(W),s(q)},G=()=>{n(""),s("")};return i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 via-cyan-600 to-teal-600 bg-clip-text text-transparent animate-in slide-in-from-left duration-700",children:"Relatrios"}),i.jsx("p",{className:"text-sm text-muted-foreground animate-in slide-in-from-left duration-700 delay-100",children:"Anlise de vendas e desempenho em tempo real"})]}),i.jsxs(It,{className:"bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 animate-in zoom-in duration-500",children:[i.jsx(rl,{className:"h-3 w-3 mr-1 animate-pulse"}),"Premium"]})]}),i.jsxs("div",{className:"relative animate-in slide-in-from-right duration-700",children:[i.jsxs(ye,{variant:"outline",size:"sm",onClick:m,className:"absolute -top-2 right-0 z-10 bg-gradient-to-r from-green-500 to-emerald-600 text-white border-0 hover:from-green-600 hover:to-emerald-700 hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl",children:[i.jsx(fm,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]}),i.jsx("div",{className:"backdrop-blur-sm bg-card/80 rounded-lg border-2 border-primary/10 shadow-xl hover:shadow-2xl transition-all duration-500",children:i.jsx(NVe,{dailyTotal:C,weeklyTotal:I,monthlyTotal:L,dailyReturns:E,weeklyReturns:M,monthlyReturns:T,onFilter:z,onClearFilter:G})})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center justify-between p-4 bg-card rounded-lg border shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap gap-3 items-center flex-1",children:[i.jsx("div",{className:"relative min-w-[200px]",children:i.jsx(Ze,{placeholder:"Buscar por produto ou vendedor...",value:d,onChange:W=>f(W.target.value),className:"pl-9"})}),i.jsxs(Cr,{value:c,onValueChange:u,children:[i.jsx(Nr,{className:"w-[180px]",children:i.jsx(Er,{placeholder:"Forma de Pagamento"})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todas as Formas"}),i.jsx(Je,{value:"dinheiro",children:" Dinheiro"}),i.jsx(Je,{value:"cartao_credito",children:" Carto Crdito"}),i.jsx(Je,{value:"cartao_debito",children:" Carto Dbito"}),i.jsx(Je,{value:"pix",children:" PIX"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 border rounded-md px-3 py-2 whitespace-nowrap",children:[i.jsx(K1,{className:"h-4 w-4 text-muted-foreground"}),i.jsx(De,{htmlFor:"mostrar-arquivados-vendas",className:"cursor-pointer text-sm",children:"Arquivados"}),i.jsx(po,{id:"mostrar-arquivados-vendas",checked:o,onCheckedChange:l})]})]}),(d||c!=="all")&&i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>{f(""),u("all")},className:"text-xs",children:"Limpar Filtros"})]}),i.jsx(CVe,{products:x}),g.length>100&&i.jsxs($i,{className:"bg-gradient-to-r from-purple-50 to-violet-50 dark:from-purple-950/20 dark:to-violet-950/20 border-purple-200 dark:border-purple-800",children:[i.jsx(eo,{className:"h-4 w-4 text-purple-600"}),i.jsx(wo,{className:"text-purple-800 dark:text-purple-300",children:"Sistema com Alto Volume de Dados"}),i.jsxs(Bi,{className:"text-purple-700 dark:text-purple-400 text-sm",children:["Voc possui ",g.length," vendas no histrico. Para otimizar o desempenho, configure a limpeza automtica de dados antigos em ",i.jsx("strong",{children:"Configuraes  Limpeza Automtica"}),".",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:" Importante:"}),' O boto "Limpar Histrico" abaixo ',i.jsx("strong",{children:"exclui permanentemente"})," todas as vendas. A Limpeza Automtica ",i.jsx("strong",{children:"arquiva"})," dados antigos mantendo-os disponveis para relatrios."]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Histrico de Vendas"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 border rounded-md px-3 py-2",children:[i.jsx(K1,{className:"h-4 w-4 text-muted-foreground"}),i.jsx(De,{htmlFor:"mostrar-arquivados-vendas",className:"cursor-pointer text-sm whitespace-nowrap",children:"Mostrar Arquivados"}),i.jsx(po,{id:"mostrar-arquivados-vendas",checked:o,onCheckedChange:l,"data-testid":"switch-arquivados-vendas"})]}),g.length>0&&i.jsxs(ye,{variant:"destructive",size:"sm",onClick:y,children:[i.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Limpar Histrico"]})]})]}),i.jsx(AVe,{sales:p})]})}var n9=1,PVe=.9,kVe=.8,TVe=.17,w3=.1,j3=.999,OVe=.9999,DVe=.99,IVe=/[\\\/_+.#"@\[\(\{&]/,FVe=/[\\\/_+.#"@\[\(\{&]/g,RVe=/[\s-]/,Jte=/[\s-]/g;function ck(e,t,r,n,a,s,o){if(s===t.length)return a===e.length?n9:DVe;var l=`${a},${s}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(s),u=r.indexOf(c,a),d=0,f,h,m,g;u>=0;)f=ck(e,t,r,n,u+1,s+1,o),f>d&&(u===a?f*=n9:IVe.test(e.charAt(u-1))?(f*=kVe,m=e.slice(a,u-1).match(FVe),m&&a>0&&(f*=Math.pow(j3,m.length))):RVe.test(e.charAt(u-1))?(f*=PVe,g=e.slice(a,u-1).match(Jte),g&&a>0&&(f*=Math.pow(j3,g.length))):(f*=TVe,a>0&&(f*=Math.pow(j3,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=OVe)),(f<w3&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=ck(e,t,r,n,u+1,s+2,o),h*w3>f&&(f=h*w3)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function a9(e){return e.toLowerCase().replace(Jte," ")}function MVe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,ck(e,t,a9(e),a9(t),0,0,{})}var Mv='[cmdk-group=""]',N3='[cmdk-group-items=""]',LVe='[cmdk-group-heading=""]',ere='[cmdk-item=""]',i9=`${ere}:not([aria-disabled="true"])`,uk="cmdk-item-select",u0="data-value",$Ve=(e,t,r)=>MVe(e,t,r),tre=N.createContext(void 0),Ub=()=>N.useContext(tre),rre=N.createContext(void 0),A6=()=>N.useContext(rre),nre=N.createContext(void 0),are=N.forwardRef((e,t)=>{let r=d0(()=>{var O,V;return{search:"",value:(V=(O=e.value)!=null?O:e.defaultValue)!=null?V:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=d0(()=>new Set),a=d0(()=>new Map),s=d0(()=>new Map),o=d0(()=>new Set),l=ire(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:g,disablePointerSelection:p=!1,vimBindings:x=!0,...v}=e,y=si(),b=si(),j=si(),_=N.useRef(null),P=XVe();op(()=>{if(d!==void 0){let O=d.trim();r.current.value=O,k.emit()}},[d]),op(()=>{P(6,I)},[]);let k=N.useMemo(()=>({subscribe:O=>(o.current.add(O),()=>o.current.delete(O)),snapshot:()=>r.current,setState:(O,V,D)=>{var B,Q,Y,ee;if(!Object.is(r.current[O],V)){if(r.current[O]=V,O==="search")C(),M(),P(1,T);else if(O==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let X=document.getElementById(j);X?X.focus():(B=document.getElementById(y))==null||B.focus()}if(P(7,()=>{var X;r.current.selectedItemId=(X=L())==null?void 0:X.id,k.emit()}),D||P(5,I),((Q=l.current)==null?void 0:Q.value)!==void 0){let X=V??"";(ee=(Y=l.current).onValueChange)==null||ee.call(Y,X);return}}k.emit()}},emit:()=>{o.current.forEach(O=>O())}}),[]),S=N.useMemo(()=>({value:(O,V,D)=>{var B;V!==((B=s.current.get(O))==null?void 0:B.value)&&(s.current.set(O,{value:V,keywords:D}),r.current.filtered.items.set(O,E(V,D)),P(2,()=>{M(),k.emit()}))},item:(O,V)=>(n.current.add(O),V&&(a.current.has(V)?a.current.get(V).add(O):a.current.set(V,new Set([O]))),P(3,()=>{C(),M(),r.current.value||T(),k.emit()}),()=>{s.current.delete(O),n.current.delete(O),r.current.filtered.items.delete(O);let D=L();P(4,()=>{C(),(D==null?void 0:D.getAttribute("id"))===O&&T(),k.emit()})}),group:O=>(a.current.has(O)||a.current.set(O,new Set),()=>{s.current.delete(O),a.current.delete(O)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:y,inputId:j,labelId:b,listInnerRef:_}),[]);function E(O,V){var D,B;let Q=(B=(D=l.current)==null?void 0:D.filter)!=null?B:$Ve;return O?Q(O,r.current.search,V):0}function M(){if(!r.current.search||l.current.shouldFilter===!1)return;let O=r.current.filtered.items,V=[];r.current.filtered.groups.forEach(B=>{let Q=a.current.get(B),Y=0;Q.forEach(ee=>{let X=O.get(ee);Y=Math.max(X,Y)}),V.push([B,Y])});let D=_.current;z().sort((B,Q)=>{var Y,ee;let X=B.getAttribute("id"),U=Q.getAttribute("id");return((Y=O.get(U))!=null?Y:0)-((ee=O.get(X))!=null?ee:0)}).forEach(B=>{let Q=B.closest(N3);Q?Q.appendChild(B.parentElement===Q?B:B.closest(`${N3} > *`)):D.appendChild(B.parentElement===D?B:B.closest(`${N3} > *`))}),V.sort((B,Q)=>Q[1]-B[1]).forEach(B=>{var Q;let Y=(Q=_.current)==null?void 0:Q.querySelector(`${Mv}[${u0}="${encodeURIComponent(B[0])}"]`);Y==null||Y.parentElement.appendChild(Y)})}function T(){let O=z().find(D=>D.getAttribute("aria-disabled")!=="true"),V=O==null?void 0:O.getAttribute(u0);k.setState("value",V||void 0)}function C(){var O,V,D,B;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Q=0;for(let Y of n.current){let ee=(V=(O=s.current.get(Y))==null?void 0:O.value)!=null?V:"",X=(B=(D=s.current.get(Y))==null?void 0:D.keywords)!=null?B:[],U=E(ee,X);r.current.filtered.items.set(Y,U),U>0&&Q++}for(let[Y,ee]of a.current)for(let X of ee)if(r.current.filtered.items.get(X)>0){r.current.filtered.groups.add(Y);break}r.current.filtered.count=Q}function I(){var O,V,D;let B=L();B&&(((O=B.parentElement)==null?void 0:O.firstChild)===B&&((D=(V=B.closest(Mv))==null?void 0:V.querySelector(LVe))==null||D.scrollIntoView({block:"nearest"})),B.scrollIntoView({block:"nearest"}))}function L(){var O;return(O=_.current)==null?void 0:O.querySelector(`${ere}[aria-selected="true"]`)}function z(){var O;return Array.from(((O=_.current)==null?void 0:O.querySelectorAll(i9))||[])}function G(O){let V=z()[O];V&&k.setState("value",V.getAttribute(u0))}function W(O){var V;let D=L(),B=z(),Q=B.findIndex(ee=>ee===D),Y=B[Q+O];(V=l.current)!=null&&V.loop&&(Y=Q+O<0?B[B.length-1]:Q+O===B.length?B[0]:B[Q+O]),Y&&k.setState("value",Y.getAttribute(u0))}function q(O){let V=L(),D=V==null?void 0:V.closest(Mv),B;for(;D&&!B;)D=O>0?KVe(D,Mv):YVe(D,Mv),B=D==null?void 0:D.querySelector(i9);B?k.setState("value",B.getAttribute(u0)):W(O)}let K=()=>G(z().length-1),ae=O=>{O.preventDefault(),O.metaKey?K():O.altKey?q(1):W(1)},ie=O=>{O.preventDefault(),O.metaKey?G(0):O.altKey?q(-1):W(-1)};return N.createElement(zt.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:O=>{var V;(V=v.onKeyDown)==null||V.call(v,O);let D=O.nativeEvent.isComposing||O.keyCode===229;if(!(O.defaultPrevented||D))switch(O.key){case"n":case"j":{x&&O.ctrlKey&&ae(O);break}case"ArrowDown":{ae(O);break}case"p":case"k":{x&&O.ctrlKey&&ie(O);break}case"ArrowUp":{ie(O);break}case"Home":{O.preventDefault(),G(0);break}case"End":{O.preventDefault(),K();break}case"Enter":{O.preventDefault();let B=L();if(B){let Q=new Event(uk);B.dispatchEvent(Q)}}}}},N.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:ZVe},c),LS(e,O=>N.createElement(rre.Provider,{value:k},N.createElement(tre.Provider,{value:S},O))))}),BVe=N.forwardRef((e,t)=>{var r,n;let a=si(),s=N.useRef(null),o=N.useContext(nre),l=Ub(),c=ire(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;op(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=sre(a,s,[e.value,e.children,s],e.keywords),f=A6(),h=uh(P=>P.value&&P.value===d.current),m=uh(P=>u||l.filter()===!1?!0:P.search?P.filtered.items.get(a)>0:!0);N.useEffect(()=>{let P=s.current;if(!(!P||e.disabled))return P.addEventListener(uk,g),()=>P.removeEventListener(uk,g)},[m,e.onSelect,e.disabled]);function g(){var P,k;p(),(k=(P=c.current).onSelect)==null||k.call(P,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:x,value:v,onSelect:y,forceMount:b,keywords:j,..._}=e;return N.createElement(zt.div,{ref:Nd(s,t),..._,id:a,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!h,"data-disabled":!!x,"data-selected":!!h,onPointerMove:x||l.getDisablePointerSelection()?void 0:p,onClick:x?void 0:g},e.children)}),zVe=N.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,o=si(),l=N.useRef(null),c=N.useRef(null),u=si(),d=Ub(),f=uh(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);op(()=>d.group(o),[]),sre(o,l,[e.value,e.heading,c]);let h=N.useMemo(()=>({id:o,forceMount:a}),[a]);return N.createElement(zt.div,{ref:Nd(l,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&N.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),LS(e,m=>N.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},N.createElement(nre.Provider,{value:h},m))))}),qVe=N.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=N.useRef(null),s=uh(o=>!o.search);return!r&&!s?null:N.createElement(zt.div,{ref:Nd(a,t),...n,"cmdk-separator":"",role:"separator"})}),UVe=N.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=A6(),o=uh(u=>u.search),l=uh(u=>u.selectedItemId),c=Ub();return N.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),N.createElement(zt.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),VVe=N.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=N.useRef(null),o=N.useRef(null),l=uh(u=>u.selectedItemId),c=Ub();return N.useEffect(()=>{if(o.current&&s.current){let u=o.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),N.createElement(zt.div,{ref:Nd(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},LS(e,u=>N.createElement("div",{ref:Nd(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),WVe=N.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:o,...l}=e;return N.createElement(S_,{open:r,onOpenChange:n},N.createElement(A_,{container:o},N.createElement(gx,{"cmdk-overlay":"",className:a}),N.createElement(xx,{"aria-label":e.label,"cmdk-dialog":"",className:s},N.createElement(are,{ref:t,...l}))))}),HVe=N.forwardRef((e,t)=>uh(r=>r.filtered.count===0)?N.createElement(zt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),GVe=N.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return N.createElement(zt.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},LS(e,o=>N.createElement("div",{"aria-hidden":!0},o)))}),ko=Object.assign(are,{List:VVe,Item:BVe,Input:UVe,Group:zVe,Separator:qVe,Dialog:WVe,Empty:HVe,Loading:GVe});function KVe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function YVe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function ire(e){let t=N.useRef(e);return op(()=>{t.current=e}),t}var op=typeof window>"u"?N.useEffect:N.useLayoutEffect;function d0(e){let t=N.useRef();return t.current===void 0&&(t.current=e()),t}function uh(e){let t=A6(),r=()=>e(t.snapshot());return N.useSyncExternalStore(t.subscribe,r,r)}function sre(e,t,r,n=[]){let a=N.useRef(),s=Ub();return op(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());s.value(e,l,c),(o=t.current)==null||o.setAttribute(u0,l),a.current=l}),a}var XVe=()=>{let[e,t]=N.useState(),r=d0(()=>new Map);return op(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function QVe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function LS({asChild:e,children:t},r){return e&&N.isValidElement(t)?N.cloneElement(QVe(t),{ref:t.ref},r(t.props.children)):r(t)}var ZVe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ore=N.forwardRef(({className:e,...t},r)=>i.jsx(ko,{ref:r,className:ht("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));ore.displayName=ko.displayName;const lre=N.forwardRef(({className:e,...t},r)=>i.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[i.jsx(Ps,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),i.jsx(ko.Input,{ref:r,className:ht("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));lre.displayName=ko.Input.displayName;const cre=N.forwardRef(({className:e,...t},r)=>i.jsx(ko.List,{ref:r,className:ht("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));cre.displayName=ko.List.displayName;const ure=N.forwardRef((e,t)=>i.jsx(ko.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));ure.displayName=ko.Empty.displayName;const dre=N.forwardRef(({className:e,...t},r)=>i.jsx(ko.Group,{ref:r,className:ht("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));dre.displayName=ko.Group.displayName;const JVe=N.forwardRef(({className:e,...t},r)=>i.jsx(ko.Separator,{ref:r,className:ht("-mx-1 h-px bg-border",e),...t}));JVe.displayName=ko.Separator.displayName;const dk=N.forwardRef(({className:e,...t},r)=>i.jsx(ko.Item,{ref:r,className:ht("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));dk.displayName=ko.Item.displayName;var C6="Popover",[fre]=zi(C6,[xh]),Vb=xh(),[eWe,Ah]=fre(C6),hre=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!1}=e,l=Vb(t),c=N.useRef(null),[u,d]=N.useState(!1),[f=!1,h]=No({prop:n,defaultProp:a,onChange:s});return i.jsx(m_,{...l,children:i.jsx(eWe,{scope:t,contentId:si(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:N.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:N.useCallback(()=>d(!0),[]),onCustomAnchorRemove:N.useCallback(()=>d(!1),[]),modal:o,children:r})})};hre.displayName=C6;var mre="PopoverAnchor",tWe=N.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ah(mre,r),s=Vb(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return N.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Sb,{...s,...n,ref:t})});tWe.displayName=mre;var pre="PopoverTrigger",gre=N.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ah(pre,r),s=Vb(r),o=Lr(t,a.triggerRef),l=i.jsx(zt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":wre(a.open),...n,ref:o,onClick:Ct(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:i.jsx(Sb,{asChild:!0,...s,children:l})});gre.displayName=pre;var E6="PopoverPortal",[rWe,nWe]=fre(E6,{forceMount:void 0}),xre=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=Ah(E6,t);return i.jsx(rWe,{scope:t,forceMount:r,children:i.jsx(Co,{present:r||s.open,children:i.jsx(fx,{asChild:!0,container:a,children:n})})})};xre.displayName=E6;var ax="PopoverContent",vre=N.forwardRef((e,t)=>{const r=nWe(ax,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=Ah(ax,e.__scopePopover);return i.jsx(Co,{present:n||s.open,children:s.modal?i.jsx(iWe,{...a,ref:t}):i.jsx(sWe,{...a,ref:t})})});vre.displayName=ax;var aWe=th("PopoverContent.RemoveScroll"),iWe=N.forwardRef((e,t)=>{const r=Ah(ax,e.__scopePopover),n=N.useRef(null),a=Lr(t,n),s=N.useRef(!1);return N.useEffect(()=>{const o=n.current;if(o)return __(o)},[]),i.jsx(Cb,{as:aWe,allowPinchZoom:!0,children:i.jsx(yre,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ct(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ct(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ct(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),sWe=N.forwardRef((e,t)=>{const r=Ah(ax,e.__scopePopover),n=N.useRef(!1),a=N.useRef(!1);return i.jsx(yre,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),yre=N.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Ah(ax,r),m=Vb(r);return j_(),i.jsx(Ab,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(mp,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(p_,{"data-state":wre(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bre="PopoverClose",oWe=N.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ah(bre,r);return i.jsx(zt.button,{type:"button",...n,ref:t,onClick:Ct(e.onClick,()=>a.onOpenChange(!1))})});oWe.displayName=bre;var lWe="PopoverArrow",cWe=N.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Vb(r);return i.jsx(g_,{...a,...n,ref:t})});cWe.displayName=lWe;function wre(e){return e?"open":"closed"}var uWe=hre,dWe=gre,fWe=xre,jre=vre;const hWe=uWe,mWe=dWe,Nre=N.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>i.jsx(fWe,{children:i.jsx(jre,{ref:a,align:t,sideOffset:r,className:ht("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));Nre.displayName=jre.displayName;function pWe({onSaleComplete:e,onProductNotFound:t,onFetchProduct:r}){var me,oe;const{toast:n}=Qr(),[a,s]=N.useState(""),[o,l]=N.useState([]),[c,u]=N.useState(0),[d,f]=N.useState(""),[h,m]=N.useState("none"),[g,p]=N.useState(!1),[x,v]=N.useState(!1),[y,b]=N.useState(0),[j,_]=N.useState("dinheiro"),[P,k]=N.useState(!1),[S,E]=N.useState(!1),[M,T]=N.useState(""),[C,I]=N.useState(1),L=N.useRef(null),{data:z=[]}=ir({queryKey:["/api/clientes"]});N.useEffect(()=>{var Se;(Se=L.current)==null||Se.focus()},[]),N.useEffect(()=>{a.length>=8&&O(a)},[a]);const G=o.reduce((Se,_e)=>Se+_e.subtotal,0),W=G*(y/100),q=G-W,K=parseFloat(d||"0")-q,ae=(Se=!0)=>{const _e=new(window.AudioContext||window.webkitAudioContext),se=_e.createOscillator(),ft=_e.createGain();se.connect(ft),ft.connect(_e.destination),se.frequency.value=Se?1200:400,se.type="square",ft.gain.setValueAtTime(.3,_e.currentTime),ft.gain.exponentialRampToValueAtTime(.01,_e.currentTime+.1),se.start(_e.currentTime),se.stop(_e.currentTime+.1)},ie=async Se=>{try{const _e=localStorage.getItem("user");if(!_e)return null;const se=JSON.parse(_e),ft={"x-user-id":se.id,"x-user-type":se.tipo||"usuario"};se.tipo==="funcionario"&&se.conta_id&&(ft["x-conta-id"]=se.conta_id);const de=await fetch(`/api/produtos/codigo/${Se}`,{headers:ft});return de.ok?await de.json():null}catch(_e){return console.error("Erro ao buscar produto:",_e),null}},O=async Se=>{if(!Se.trim()||P)return;const _e=Date.now();if(!(_e-c<100)){u(_e),k(!0);try{const se=Se.startsWith("2")&&Se.length===13;let ft=Se,de=0;if(se){ft=Se.substring(1,7),de=parseInt(Se.substring(7,12));const ot=de/1e3;n({title:" Produto pesado detectado",description:`Peso: ${ot.toFixed(3)} kg`})}const ce=r?await r(ft):await ie(ft);if(!ce){ae(!1),t==null||t(Se),s(""),k(!1);return}ae(!0);const Ee=o.findIndex(ot=>ot.codigo_barras===ft),rt=se?de/1e3:C;if(Ee>-1){const ot=[...o],ge=ot[Ee],ke=ge.quantidade+rt;if(ke>ge.estoque_disponivel&&!se){n({title:" Estoque insuficiente",description:"Quantidade mxima atingida",variant:"destructive"}),k(!1);return}ot[Ee]={...ge,quantidade:ke,subtotal:ke*ge.preco,peso:se?de/1e3:void 0},l(ot)}else l([...o,{id:ce.id,nome:ce.nome,codigo_barras:ft,preco:ce.preco,quantidade:rt,subtotal:ce.preco*rt,estoque_disponivel:ce.quantidade,peso:se?de/1e3:void 0}]);s(""),I(1),setTimeout(()=>{var ot;return(ot=L.current)==null?void 0:ot.focus()},100)}catch(se){console.error("Erro ao processar cdigo de barras:",se),ae(!1),s("")}finally{k(!1)}}},V=()=>{if(!M||parseFloat(M)<=0){n({title:" Peso invlido",description:"Digite um peso vlido",variant:"destructive"});return}n({title:" Peso registrado",description:`${parseFloat(M).toFixed(3)} kg`}),T(""),E(!1)},D=Se=>{Se.key==="Enter"&&!P&&(Se.preventDefault(),O(a))},B=(Se,_e)=>{l(o.map((se,ft)=>{if(ft===Se){const de=Math.max(.001,Math.min(_e,se.estoque_disponivel));return{...se,quantidade:de,subtotal:de*se.preco}}return se}))},Q=Se=>{l(o.filter((_e,se)=>se!==Se))},Y=()=>{if(o.length===0){n({title:" Carrinho vazio",description:"Adicione produtos antes de finalizar",variant:"destructive"});return}if(j==="dinheiro"&&parseFloat(d||"0")<q){n({title:" Valor insuficiente",description:"O valor pago  menor que o total",variant:"destructive"});return}v(!0)},ee=()=>{if(P)return;k(!0);const _e={itens:o.map(se=>({codigo_barras:se.codigo_barras,quantidade:se.quantidade})),valorTotal:q,forma_pagamento:j};h&&h!=="none"&&(_e.cliente_id=parseInt(h)),e==null||e(_e),X(),k(!1)},X=()=>{l([]),s(""),f(""),m("none"),b(0),_("dinheiro"),I(1),v(!1),k(!1),setTimeout(()=>{var Se;return(Se=L.current)==null?void 0:Se.focus()},100)},U=Se=>{Se.key==="Enter"&&!P&&(Se.preventDefault(),Y())};return N.useEffect(()=>{if(h!=="none"){const Se=z.find(_e=>_e.id.toString()===h);Se&&Se.percentual_desconto?b(Se.percentual_desconto):b(0)}else b(0)},[h,z]),i.jsxs("div",{className:"flex flex-col h-full gap-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ae,{className:"flex-1 shadow-md",children:i.jsxs(Pe,{className:"p-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg px-3 border",children:[i.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Qtd:"}),i.jsx(ye,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>I(Math.max(1,C-1)),disabled:P||C<=1,children:i.jsx(YC,{className:"h-4 w-4"})}),i.jsx(Ze,{type:"number",min:"1",value:C,onChange:Se=>I(Math.max(1,parseInt(Se.target.value)||1)),className:"h-8 w-16 text-center font-bold",disabled:P}),i.jsx(ye,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>I(C+1),disabled:P,children:i.jsx(zl,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex-1",children:i.jsx(Ze,{ref:L,type:"text",placeholder:" Cdigo de barras ou digite manualmente...",value:a,onChange:Se=>s(Se.target.value),onKeyDown:D,className:"h-10 text-base font-mono",autoComplete:"off",disabled:P})}),i.jsx(ye,{variant:"outline",size:"icon",className:"h-10 w-10",onClick:()=>E(!0),title:"Balana",children:i.jsx(DI,{className:"h-5 w-5"})})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" Use um leitor de cdigo de barras USB ou digite manualmente. Ajuste a quantidade antes de escanear!"})]})}),i.jsx(Ae,{className:"w-72 shadow-md",children:i.jsx(Pe,{className:"p-3",children:i.jsxs(hWe,{open:g,onOpenChange:p,children:[i.jsx(mWe,{asChild:!0,children:i.jsxs(ye,{variant:"outline",role:"combobox",className:"w-full justify-between h-10",disabled:P,children:[i.jsx(Tm,{className:"h-4 w-4 mr-2"}),h==="none"?"Cliente":((me=z.find(Se=>Se.id.toString()===h))==null?void 0:me.nome)||"Cliente",i.jsx(ohe,{className:"ml-2 h-4 w-4 opacity-50"})]})}),i.jsx(Nre,{className:"w-72 p-0",children:i.jsxs(ore,{children:[i.jsx(lre,{placeholder:"Buscar cliente..."}),i.jsxs(cre,{children:[i.jsx(ure,{children:"Nenhum cliente encontrado."}),i.jsxs(dre,{children:[i.jsxs(dk,{value:"none",onSelect:()=>{m("none"),p(!1)},children:[i.jsx(ma,{className:ht("mr-2 h-4 w-4",h==="none"?"opacity-100":"opacity-0")}),"Sem cliente"]}),z.map(Se=>i.jsxs(dk,{value:Se.id.toString(),onSelect:_e=>{m(_e),p(!1)},children:[i.jsx(ma,{className:ht("mr-2 h-4 w-4",h===Se.id.toString()?"opacity-100":"opacity-0")}),Se.nome]},Se.id))]})]})]})})]})})})]}),i.jsxs("div",{className:"flex-1 flex gap-2 min-h-0",children:[i.jsxs(Ae,{className:"flex-1 flex flex-col shadow-md min-h-0",children:[i.jsx(qe,{className:"pb-2 pt-3 px-4 border-b",children:i.jsxs(Ue,{className:"flex items-center justify-between text-lg",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(ss,{className:"h-5 w-5"}),"Carrinho (",o.length,")"]}),i.jsxs(ye,{variant:"ghost",size:"sm",onClick:X,disabled:o.length===0||P,children:[i.jsx(Ei,{className:"h-4 w-4 mr-1"}),"Limpar"]})]})}),i.jsx(Pe,{className:"flex-1 p-0 overflow-hidden",children:i.jsx("div",{className:"h-full overflow-y-auto",children:i.jsxs(mn,{children:[i.jsx(pn,{className:"sticky top-0 bg-muted/80 backdrop-blur-sm z-10",children:i.jsxs(Bt,{children:[i.jsx(Me,{className:"w-[45%]",children:"Produto"}),i.jsx(Me,{className:"text-center w-[20%]",children:"Qtd"}),i.jsx(Me,{className:"text-right w-[17%]",children:"Preo"}),i.jsx(Me,{className:"text-right w-[18%]",children:"Total"})]})}),i.jsx(gn,{children:o.length===0?i.jsx(Bt,{children:i.jsx(Ie,{colSpan:4,className:"h-64 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-3 text-muted-foreground",children:[i.jsx(ss,{className:"h-16 w-16 opacity-20"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Carrinho vazio"}),i.jsx("p",{className:"text-sm",children:"Escaneie produtos para comear"})]})]})})}):o.map((Se,_e)=>i.jsxs(Bt,{className:"group",children:[i.jsx(Ie,{className:"font-medium",children:i.jsxs("div",{children:[i.jsx("p",{className:"line-clamp-1",children:Se.nome}),Se.peso&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",Se.peso.toFixed(3)," kg"]})]})}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>B(_e,Se.quantidade-(Se.peso?.1:1)),disabled:P,children:i.jsx(YC,{className:"h-3 w-3"})}),i.jsx("span",{className:"w-12 text-center font-semibold",children:Se.peso?Se.quantidade.toFixed(3):Se.quantidade}),i.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>B(_e,Se.quantidade+(Se.peso?.1:1)),disabled:!Se.peso&&Se.quantidade>=Se.estoque_disponivel||P,children:i.jsx(zl,{className:"h-3 w-3"})}),i.jsx(ye,{variant:"ghost",size:"icon",className:"h-7 w-7 text-red-600 hover:text-red-700 hover:bg-red-50 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>Q(_e),disabled:P,children:i.jsx(Zu,{className:"h-3 w-3"})})]})}),i.jsxs(Ie,{className:"text-right",children:["R$ ",Se.preco.toFixed(2)]}),i.jsxs(Ie,{className:"text-right font-bold text-primary",children:["R$ ",Se.subtotal.toFixed(2)]})]},_e))})]})})})]}),i.jsxs(Ae,{className:"w-96 flex flex-col shadow-md",children:[i.jsx(qe,{className:"pb-2 pt-3 px-4 border-b",children:i.jsxs(Ue,{className:"flex items-center gap-2 text-lg",children:[i.jsx(As,{className:"h-5 w-5"}),"Pagamento"]})}),i.jsxs(Pe,{className:"flex-1 flex flex-col gap-3 p-4",children:[i.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg p-4 border-2 border-primary/20",children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total da Venda"}),i.jsxs("div",{className:"text-4xl font-bold text-primary",children:["R$ ",q.toFixed(2)]}),y>0&&i.jsxs("div",{className:"text-xs text-red-600 mt-1",children:["Desconto: ",y,"% (- R$ ",W.toFixed(2),")"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"text-sm font-semibold",children:"Forma de Pagamento"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"dinheiro",label:"Dinheiro",icon:ahe},{value:"cartao_debito",label:"Dbito",icon:As},{value:"cartao_credito",label:"Crdito",icon:As},{value:"pix",label:"Pix",icon:Cs}].map(({value:Se,label:_e,icon:se})=>i.jsxs(ye,{variant:j===Se?"default":"outline",onClick:()=>_(Se),className:"h-10 justify-start",disabled:P,children:[i.jsx(se,{className:"h-4 w-4 mr-2"}),_e]},Se))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(De,{className:"text-sm font-semibold flex items-center gap-1",children:[i.jsx(bhe,{className:"h-4 w-4"}),"Desconto (%)"]}),i.jsx(Ze,{type:"number",min:"0",max:"100",step:"0.1",value:y,onChange:Se=>b(Math.min(100,Math.max(0,parseFloat(Se.target.value)||0))),className:"h-10",disabled:P})]}),j==="dinheiro"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"text-sm font-semibold",children:"Valor Pago"}),i.jsx(Ze,{type:"number",step:"0.01",value:d,onChange:Se=>f(Se.target.value),onKeyDown:U,placeholder:"0,00",className:"h-10 text-lg font-semibold",disabled:P}),d&&parseFloat(d)>=q&&i.jsx("div",{className:"bg-green-50 dark:bg-green-950 rounded-lg p-3 border border-green-200 dark:border-green-800",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Troco:"}),i.jsxs("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["R$ ",K.toFixed(2)]})]})})]}),i.jsxs(ye,{onClick:Y,disabled:o.length===0||P,className:"w-full h-12 text-base font-bold bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",size:"lg",children:[i.jsx(ma,{className:"h-5 w-5 mr-2"}),P?"Processando...":"Finalizar Venda"]})]})]})]}),i.jsx(kr,{open:S,onOpenChange:E,children:i.jsxs(Sr,{children:[i.jsx(yr,{children:i.jsxs(br,{className:"flex items-center gap-2",children:[i.jsx(DI,{className:"h-5 w-5"}),"Produto Pesado"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Peso (kg)"}),i.jsx(Ze,{type:"number",step:"0.001",value:M,onChange:Se=>T(Se.target.value),placeholder:"0.000",className:"text-2xl font-bold text-center"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{variant:"outline",onClick:()=>E(!1),className:"flex-1",children:"Cancelar"}),i.jsx(ye,{onClick:V,className:"flex-1",children:"Confirmar"})]})]})]})}),i.jsx(h5,{open:x,onOpenChange:v,children:i.jsxs(Qy,{children:[i.jsxs(Zy,{children:[i.jsx(Jy,{children:"Confirmar Venda"}),i.jsx(OS,{children:i.jsxs("div",{className:"space-y-3 mt-4 text-base",children:[i.jsxs("div",{className:"flex justify-between font-bold text-lg border-b pb-2",children:[i.jsx("span",{children:"Total:"}),i.jsxs("span",{className:"text-primary",children:["R$ ",q.toFixed(2)]})]}),j==="dinheiro"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Valor Pago:"}),i.jsxs("span",{className:"font-semibold",children:["R$ ",parseFloat(d||"0").toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-green-600",children:[i.jsx("span",{children:"Troco:"}),i.jsxs("span",{className:"font-bold text-xl",children:["R$ ",K.toFixed(2)]})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Pagamento:"}),i.jsx("span",{className:"font-semibold capitalize",children:j.replace("_"," ")})]}),h!=="none"&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Cliente:"}),i.jsx("span",{className:"font-semibold",children:((oe=z.find(Se=>Se.id.toString()===h))==null?void 0:oe.nome)||""})]})]})})]}),i.jsxs(TS,{children:[i.jsx(IS,{disabled:P,children:"Cancelar"}),i.jsx(DS,{onClick:ee,disabled:P,children:P?"Processando...":"Confirmar"})]})]})})]})}const _3=768;function gWe(){const[e,t]=N.useState(void 0);return N.useEffect(()=>{const r=window.matchMedia(`(max-width: ${_3-1}px)`),n=()=>{t(window.innerWidth<_3)};return r.addEventListener("change",n),t(window.innerWidth<_3),()=>r.removeEventListener("change",n)},[]),!!e}const xWe=S_,vWe=A_,_re=N.forwardRef(({className:e,...t},r)=>i.jsx(gx,{className:ht("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));_re.displayName=gx.displayName;const yWe=pp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Sre=N.forwardRef(({side:e="right",className:t,children:r,...n},a)=>i.jsxs(vWe,{children:[i.jsx(_re,{}),i.jsxs(xx,{ref:a,className:ht(yWe({side:e}),t),...n,children:[r,i.jsxs(C_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Zu,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Sre.displayName=xx.displayName;const Are=({className:e,...t})=>i.jsx("div",{className:ht("flex flex-col space-y-2 text-center sm:text-left",e),...t});Are.displayName="SheetHeader";const Cre=N.forwardRef(({className:e,...t},r)=>i.jsx(Eb,{ref:r,className:ht("text-lg font-semibold text-foreground",e),...t}));Cre.displayName=Eb.displayName;const Ere=N.forwardRef(({className:e,...t},r)=>i.jsx(Pb,{ref:r,className:ht("text-sm text-muted-foreground",e),...t}));Ere.displayName=Pb.displayName;const bWe="sidebar_state",wWe=60*60*24*7,jWe="16rem",NWe="18rem",_We="3rem",SWe="b",Pre=N.createContext(null);function $S(){const e=N.useContext(Pre);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function AWe({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:s,...o}){const l=gWe(),[c,u]=N.useState(!1),[d,f]=N.useState(e),h=t??d,m=N.useCallback(v=>{const y=typeof v=="function"?v(h):v;r?r(y):f(y),document.cookie=`${bWe}=${y}; path=/; max-age=${wWe}`},[r,h]),g=N.useCallback(()=>l?u(v=>!v):m(v=>!v),[l,m,u]);N.useEffect(()=>{const v=y=>{y.key===SWe&&(y.metaKey||y.ctrlKey)&&(y.preventDefault(),g())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[g]);const p=h?"expanded":"collapsed",x=N.useMemo(()=>({state:p,open:h,setOpen:m,isMobile:l,openMobile:c,setOpenMobile:u,toggleSidebar:g}),[p,h,m,l,c,u,g]);return i.jsx(Pre.Provider,{value:x,children:i.jsx(l1,{delayDuration:0,children:i.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":jWe,"--sidebar-width-icon":_We,...a},className:ht("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...o,children:s})})})}function CWe({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...s}){const{isMobile:o,state:l,openMobile:c,setOpenMobile:u}=$S();return r==="none"?i.jsx("div",{"data-slot":"sidebar",className:ht("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",n),...s,children:a}):o?i.jsx(xWe,{open:c,onOpenChange:u,...s,children:i.jsxs(Sre,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":NWe},side:e,children:[i.jsxs(Are,{className:"sr-only",children:[i.jsx(Cre,{children:"Sidebar"}),i.jsx(Ere,{children:"Displays the mobile sidebar."})]}),i.jsx("div",{className:"flex h-full w-full flex-col",children:a})]})}):i.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[i.jsx("div",{"data-slot":"sidebar-gap",className:ht("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),i.jsx("div",{"data-slot":"sidebar-container",className:ht("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:i.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:a})})]})}function EWe({className:e,onClick:t,...r}){const{toggleSidebar:n}=$S();return i.jsxs(ye,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:ht("h-7 w-7",e),onClick:a=>{t==null||t(a),n()},...r,children:[i.jsx(yhe,{}),i.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function PWe({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:ht("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function Aw({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:ht("relative flex w-full min-w-0 flex-col p-2",e),...t})}function S3({className:e,asChild:t=!1,...r}){const n=t?o_:"div";return i.jsx(n,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:ht("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})}function Cw({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:ht("w-full text-sm",e),...t})}function Ew({className:e,...t}){return i.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:ht("flex w-full min-w-0 flex-col gap-1",e),...t})}function e0({className:e,...t}){return i.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:ht("group/menu-item relative",e),...t})}const kWe=pp("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function t0({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:s,...o}){const l=e?o_:"button",{isMobile:c,state:u}=$S(),d=i.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":t,className:ht(kWe({variant:r,size:n}),s),...o});return a?(typeof a=="string"&&(a={children:a}),i.jsxs(rj,{children:[i.jsx(nj,{asChild:!0,children:d}),i.jsx(c1,{side:"right",align:"center",hidden:u!=="collapsed"||c,...a})]})):d}function TWe(){const[,e]=ui(),{toast:t}=Qr(),{toggleSidebar:r}=$S(),[n,a]=N.useState(!1),[s,o]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState(null),[f,h]=N.useState(!1),[m,g]=N.useState(null),[p,x]=N.useState(!1),{data:v}=ir({queryKey:["/api/config-fiscal"]}),y=async()=>{try{const I=localStorage.getItem("user");if(!I)return null;const L=JSON.parse(I),z={"x-user-id":L.id,"x-user-type":L.tipo||"usuario"};L.tipo==="funcionario"&&L.conta_id&&(z["x-conta-id"]=L.conta_id);const G=await fetch("/api/caixas/aberto",{headers:z});return G.ok?await G.json():null}catch(I){return console.error("Erro ao verificar caixa:",I),null}},{data:b,isLoading:j}=ir({queryKey:["/api/caixas/aberto"],queryFn:y,refetchInterval:3e4,staleTime:2e4}),_=(I,L)=>{navigator.clipboard.writeText(I),g(L),setTimeout(()=>g(null),2e3),t({title:" Copiado!",description:`${L} copiado para a rea de transferncia`})},P=async I=>{try{const L=localStorage.getItem("user");if(!L)return console.error("Usurio no autenticado"),null;const z=JSON.parse(L),G={"x-user-id":z.id,"x-user-type":z.tipo||"usuario"};z.tipo==="funcionario"&&z.conta_id&&(G["x-conta-id"]=z.conta_id);const W=await fetch(`/api/produtos/codigo/${I}`,{headers:G});return W.ok?await W.json():null}catch(L){return console.error("Erro ao buscar produto:",L),null}},k=async I=>{var L;if(!v||!v.focus_nfe_api_key){t({variant:"destructive",title:" Configurao Fiscal no encontrada",description:"Configure em Config. Fiscal para emitir notas fiscais."}),a(!1);return}h(!0);try{const z=localStorage.getItem("user");if(!z)throw new Error("Usurio no autenticado");const G=JSON.parse(z),W={"x-user-id":G.id,"x-user-type":G.tipo||"usuario"};G.tipo==="funcionario"&&G.conta_id&&(W["x-conta-id"]=G.conta_id);const q=await Promise.all(I.itens.map(async V=>{const D=V.codigo_barras||V.nome,B=await fetch(`/api/produtos/codigo/${D}`,{headers:W});return B.ok?await B.json():null}));if(q.filter(V=>!V).length>0)throw new Error("Alguns produtos no foram encontrados no sistema");const ae={natureza_operacao:"Venda de mercadoria",tipo_documento:"1",finalidade_emissao:"1",cnpj_emitente:(L=v==null?void 0:v.cnpj)==null?void 0:L.replace(/\D/g,""),nome_destinatario:"CONSUMIDOR",items:I.itens.map((V,D)=>{const B=q[D],Q=V.subtotal||B.preco*V.quantidade;return{numero_item:D+1,codigo_produto:B.codigo_barras||B.id.toString(),descricao:B.nome,cfop:"5102",unidade_comercial:"UN",quantidade_comercial:V.quantidade,valor_unitario_comercial:B.preco,valor_bruto:Q,icms_origem:"0",icms_situacao_tributaria:"102"}}),valor_total:I.valorTotal},ie=await fetch("/api/nfce/emitir",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});if(!ie.ok){const V=await ie.json();throw new Error(V.error||"Erro ao emitir NFCe")}const O=await ie.json();t({title:" Nota Fiscal emitida com sucesso!",description:(v==null?void 0:v.ambiente)==="homologacao"?"(Ambiente de Homologao - Nota de teste)":"NFCe vlida fiscalmente"}),console.log("NFCe emitida:",O)}catch(z){console.error("Erro ao emitir NFCe:",z),t({variant:"destructive",title:" Erro ao emitir NFCe",description:z.message||"Verifique a configurao fiscal e tente novamente."})}finally{h(!1),a(!1)}},S=async I=>{if(!b){x(!0);return}try{const L=localStorage.getItem("user");if(!L){t({variant:"destructive",title:"Erro de autenticao",description:"Usurio no autenticado. Faa login novamente."});return}const z=JSON.parse(L),G={"Content-Type":"application/json","x-user-id":z.id,"x-user-type":z.tipo||"usuario"};z.tipo==="funcionario"&&z.conta_id&&(G["x-conta-id"]=z.conta_id);const W=await fetch("/api/vendas",{method:"POST",headers:G,body:JSON.stringify({...I,forma_pagamento:I.forma_pagamento||"dinheiro"})});if(!W.ok){const K=await W.json();throw new Error(K.error||"Erro ao registrar venda")}const q=await W.json();t({title:"Venda registrada com sucesso!",description:`Total: R$ ${I.valorTotal.toFixed(2)}`}),console.log("Venda registrada:",q),console.log("Itens da venda:",q.itens||I.itens),d({...I,vendaId:q.id,itens:q.itens||I.itens}),a(!0)}catch(L){t({variant:"destructive",title:"Erro ao registrar venda",description:L.message})}},E=I=>{t({variant:"destructive",title:"Produto no encontrado",description:`Cdigo de barras: ${I}`})},M=I=>{switch(a(!1),I){case"nao":break;case"cupom":c(!0);break;case"manual":o(!0);break;case"automatica":u&&k(u);break}},[T,C]=N.useState("");return N.useEffect(()=>{const I=localStorage.getItem("customization");if(I)try{const L=JSON.parse(I);L.pdvBackgroundUrl&&C(L.pdvBackgroundUrl)}catch(L){console.error("Erro ao carregar plano de fundo:",L)}},[]),j?i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsx(Ha,{className:"h-8 w-8 animate-spin text-primary"})}):i.jsxs(i.Fragment,{children:[i.jsx(h5,{open:p,onOpenChange:x,children:i.jsxs(Qy,{children:[i.jsxs(Zy,{children:[i.jsxs(Jy,{className:"flex items-center gap-2",children:[i.jsx(Vj,{className:"h-5 w-5 text-red-600"}),"Caixa Fechado"]}),i.jsx(OS,{children:"No h caixa aberto no momento.  necessrio abrir o caixa antes de realizar vendas."})]}),i.jsxs(TS,{children:[i.jsx(IS,{children:"Cancelar"}),i.jsx(DS,{onClick:()=>e("/caixa"),children:"Ir para Caixa"})]})]})}),!b&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:i.jsx("div",{className:"animate-shake bg-gradient-to-br from-red-600 via-red-700 to-red-800 rounded-2xl p-8 shadow-2xl max-w-md w-full mx-4 border-4 border-red-400",children:i.jsxs("div",{className:"text-center space-y-6",children:[i.jsx("div",{className:"text-8xl animate-pulse",children:""}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{className:"text-4xl font-black text-white uppercase tracking-wider drop-shadow-lg",children:"ATENO!"}),i.jsx("h3",{className:"text-3xl font-bold text-yellow-300 drop-shadow-lg",children:"Caixa Fechado"})]}),i.jsx("p",{className:"text-xl font-semibold text-white/95 leading-relaxed",children:"Voc precisa abrir o caixa antes de realizar vendas!"}),i.jsxs(ye,{size:"lg",className:"w-full bg-white hover:bg-gray-100 text-red-700 font-bold text-lg py-6 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",onClick:()=>e("/caixa"),"data-testid":"button-abrir-caixa",children:[i.jsx(Vj,{className:"h-6 w-6 mr-2"}),"Abrir Caixa Agora"]})]})})}),i.jsxs("div",{className:"space-y-3 animate-in fade-in duration-500 h-screen overflow-hidden relative",style:{backgroundImage:T?`url(${T})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/20 via-black/15 to-black/20 backdrop-blur-[1px]"}),i.jsx("button",{onClick:r,className:"fixed top-4 left-4 z-50 p-2 bg-white/60 dark:bg-gray-900/60 backdrop-blur-sm rounded-lg shadow-sm hover:bg-white/80 dark:hover:bg-gray-900/80 transition-all duration-200 border border-white/10 opacity-50 hover:opacity-100","aria-label":"Toggle Sidebar",children:i.jsx(gG,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),i.jsx("div",{className:"relative z-10 h-screen p-3",children:i.jsx("div",{className:ht("h-full backdrop-blur-md bg-white/80 dark:bg-gray-900/80 rounded-xl border-2 border-white/30 shadow-2xl transition-all duration-500 p-3 overflow-hidden",!b&&"opacity-60 pointer-events-none border-yellow-400/50 dark:border-yellow-600/50"),children:i.jsx(pWe,{onSaleComplete:S,onProductNotFound:E,onFetchProduct:P})})})]}),i.jsx(h5,{open:n,onOpenChange:a,children:i.jsxs(Qy,{className:"max-w-3xl",children:[i.jsxs(Zy,{className:"space-y-3",children:[i.jsxs(Jy,{className:"flex items-center gap-3 text-2xl font-bold",children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:i.jsx(ai,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{children:"Emitir Nota Fiscal?"}),i.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"Venda registrada com sucesso!"})]})]}),!v||!v.focus_nfe_api_key?i.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 p-3",children:i.jsxs("p",{className:"text-sm text-red-600 dark:text-red-500 font-medium flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:""}),'Configure a emisso fiscal em "Config. Fiscal" primeiro']})}):(v==null?void 0:v.ambiente)==="homologacao"?i.jsx("div",{className:"rounded-lg bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-900 p-3",children:i.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-500 font-medium flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:""}),"Ambiente de Homologao - Nota para testes"]})}):null]}),i.jsxs("div",{className:"grid gap-3 mt-4",children:[i.jsxs(ye,{variant:"outline",onClick:()=>M("nao"),className:"w-full justify-start h-auto py-4 px-5 hover:bg-muted/50 transition-all group",disabled:f,"data-testid":"button-cancel-nf",children:[i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-100 dark:bg-green-950/30 text-green-600 dark:text-green-500 mr-4 group-hover:scale-110 transition-transform",children:i.jsx(La,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex flex-col items-start gap-0.5 text-left",children:[i.jsx("span",{className:"font-semibold text-base",children:"No, apenas venda"}),i.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"Registrar venda sem emitir documento fiscal"})]})]}),i.jsxs(ye,{variant:"outline",onClick:()=>M("cupom"),className:"w-full justify-start h-auto py-4 px-5 hover:bg-muted/50 transition-all group",disabled:f,"data-testid":"button-cupom-nao-fiscal",children:[i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-950/30 text-blue-600 dark:text-blue-500 mr-4 group-hover:scale-110 transition-transform",children:i.jsx(OI,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex flex-col items-start gap-0.5 text-left",children:[i.jsx("span",{className:"font-semibold text-base",children:"Cupom No-Fiscal"}),i.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"Gerar comprovante sem valor fiscal"})]})]}),i.jsxs(ye,{variant:"outline",onClick:()=>M("manual"),className:"w-full justify-start h-auto py-4 px-5 hover:bg-muted/50 transition-all group",disabled:f,"data-testid":"button-manual-nf",children:[i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-purple-100 dark:bg-purple-950/30 text-purple-600 dark:text-purple-500 mr-4 group-hover:scale-110 transition-transform",children:i.jsx(X1,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex flex-col items-start gap-0.5 text-left",children:[i.jsx("span",{className:"font-semibold text-base",children:"Emisso Manual (Sefaz)"}),i.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"Abrir dados para emitir no portal da Secretaria da Fazenda"})]})]}),i.jsx(ye,{onClick:()=>M("automatica"),className:"w-full justify-start h-auto py-4 px-5 bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 transition-all group shadow-lg hover:shadow-xl",disabled:f,"data-testid":"button-emit-nf",children:f?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-white/20 mr-4",children:i.jsx(Ha,{className:"h-5 w-5 animate-spin"})}),i.jsxs("div",{className:"flex flex-col items-start gap-0.5 text-left",children:[i.jsx("span",{className:"font-semibold text-base",children:"Emitindo..."}),i.jsx("span",{className:"text-xs opacity-90 font-normal",children:"Aguarde o processamento"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-white/20 mr-4 group-hover:scale-110 transition-transform",children:i.jsx(ai,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex flex-col items-start gap-0.5 text-left",children:[i.jsx("span",{className:"font-semibold text-base",children:"Emisso Automtica"}),i.jsx("span",{className:"text-xs opacity-90 font-normal",children:"Emitir NFCe automaticamente via Focus NFe"})]})]})})]})]})}),i.jsx(kr,{open:s,onOpenChange:o,children:i.jsxs(Sr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(yr,{children:[i.jsxs(br,{className:"flex items-center gap-2 text-xl",children:[i.jsx(X1,{className:"h-6 w-6 text-primary"}),"Emisso Manual de Nota Fiscal Avulsa - Sefaz"]}),i.jsx(tn,{children:"Dados da venda para emisso manual no portal da Secretaria da Fazenda"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Ae,{children:[i.jsxs(qe,{className:"bg-blue-50 dark:bg-blue-950/20",children:[i.jsx(Ue,{className:"text-base",children:" Passo 1: Acesse o Portal da Sefaz"}),i.jsx(Ht,{children:"Entre no site da Secretaria da Fazenda do seu estado"})]}),i.jsx(Pe,{className:"pt-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm",children:"Exemplos de portais por estado:"}),i.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[i.jsxs("li",{children:[" MA: ",i.jsx("a",{href:"https://www.sefaz.ma.gov.br",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"sefaz.ma.gov.br"})]}),i.jsxs("li",{children:[" SP: ",i.jsx("a",{href:"https://www.fazenda.sp.gov.br",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"fazenda.sp.gov.br"})]}),i.jsxs("li",{children:[" MG: ",i.jsx("a",{href:"https://www.fazenda.mg.gov.br",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"fazenda.mg.gov.br"})]}),i.jsxs("li",{children:[" RJ: ",i.jsx("a",{href:"https://www.fazenda.rj.gov.br",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"fazenda.rj.gov.br"})]}),i.jsx("li",{children:' Outros estados: Busque "Sefaz [seu estado] nota fiscal avulsa"'})]})]})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"bg-green-50 dark:bg-green-950/20",children:[i.jsx(Ue,{className:"text-base",children:" Passo 2: Dados para Preenchimento"}),i.jsx(Ht,{children:"Copie os dados abaixo e preencha no formulrio da Sefaz"})]}),i.jsx(Pe,{className:"pt-4 space-y-4",children:u&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"font-semibold",children:"Valor Total da Nota"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ze,{value:`R$ ${u.valorTotal.toFixed(2)}`,readOnly:!0,className:"font-mono"}),i.jsx(ye,{size:"icon",variant:"outline",onClick:()=>_(u.valorTotal.toFixed(2),"Valor Total"),children:m==="Valor Total"?i.jsx(La,{className:"h-4 w-4 text-green-600"}):i.jsx(zp,{className:"h-4 w-4"})})]})]}),(v==null?void 0:v.cnpj)&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"font-semibold",children:"CNPJ Emitente"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ze,{value:v.cnpj,readOnly:!0,className:"font-mono"}),i.jsx(ye,{size:"icon",variant:"outline",onClick:()=>_(v.cnpj,"CNPJ"),children:m==="CNPJ"?i.jsx(La,{className:"h-4 w-4 text-green-600"}):i.jsx(zp,{className:"h-4 w-4"})})]})]}),(v==null?void 0:v.razao_social)&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"font-semibold",children:"Razo Social"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ze,{value:v.razao_social,readOnly:!0}),i.jsx(ye,{size:"icon",variant:"outline",onClick:()=>_(v.razao_social,"Razo Social"),children:m==="Razo Social"?i.jsx(La,{className:"h-4 w-4 text-green-600"}):i.jsx(zp,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"font-semibold",children:"Data da Venda"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ze,{value:new Date().toLocaleDateString("pt-BR"),readOnly:!0,className:"font-mono"}),i.jsx(ye,{size:"icon",variant:"outline",onClick:()=>_(new Date().toLocaleDateString("pt-BR"),"Data"),children:m==="Data"?i.jsx(La,{className:"h-4 w-4 text-green-600"}):i.jsx(zp,{className:"h-4 w-4"})})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"font-semibold",children:"Produtos/Servios - Informaes Detalhadas"}),i.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"bg-muted/50 grid grid-cols-12 gap-2 p-2 text-xs font-semibold border-b",children:[i.jsx("div",{className:"col-span-1",children:"#"}),i.jsx("div",{className:"col-span-1",children:"Cd."}),i.jsx("div",{className:"col-span-4",children:"Produto"}),i.jsx("div",{className:"col-span-2 text-center",children:"Qtd"}),i.jsx("div",{className:"col-span-2 text-right",children:"Vl. Unit."}),i.jsx("div",{className:"col-span-2 text-right",children:"Subtotal"})]}),u.itens.map((I,L)=>{console.log("Item da venda:",I);const z=Number(I.preco_unitario||I.preco||0),G=Number(I.quantidade||1),W=Number(I.subtotal||z*G||0),q=I.codigo_barras||I.codigo||`PROD${L+1}`,K=I.nome||I.produto||"Produto sem nome";return i.jsxs("div",{className:"grid grid-cols-12 gap-2 p-2 text-sm border-b last:border-b-0 hover:bg-muted/30",children:[i.jsx("div",{className:"col-span-1 text-muted-foreground",children:L+1}),i.jsx("div",{className:"col-span-1 text-xs font-mono",children:q.substring(0,8)}),i.jsx("div",{className:"col-span-4 font-medium",children:K}),i.jsx("div",{className:"col-span-2 text-center",children:G}),i.jsxs("div",{className:"col-span-2 text-right",children:["R$ ",z.toFixed(2)]}),i.jsxs("div",{className:"col-span-2 text-right font-semibold",children:["R$ ",W.toFixed(2)]})]},L)})]}),i.jsxs(ye,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{const L=`=== ITENS DA NOTA FISCAL ===

${u.itens.map((z,G)=>{console.log("Gerando texto para item:",z);const W=Number(z.preco_unitario||z.preco||0),q=Number(z.quantidade||1),K=Number(z.subtotal||W*q||0),ae=z.codigo_barras||z.codigo||`PROD${G+1}`,ie=z.nome||z.produto||"Produto sem nome";return`${G+1}. Cdigo: ${ae}
   Produto: ${ie}
   Quantidade: ${q}
   Valor Unitrio: R$ ${W.toFixed(2)}
   Subtotal: R$ ${K.toFixed(2)}`}).join(`

`)}

=== TOTAL DA NOTA ===
R$ ${u.valorTotal.toFixed(2)}`;_(L,"Lista Detalhada de Produtos")},children:[i.jsx(zp,{className:"h-4 w-4 mr-2"}),"Copiar Lista Detalhada"]})]})]})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{className:"bg-purple-50 dark:bg-purple-950/20",children:i.jsx(Ue,{className:"text-base",children:" Passo 3: Aps a Emisso"})}),i.jsx(Pe,{className:"pt-4",children:i.jsxs("ul",{className:"text-sm space-y-2",children:[i.jsx("li",{children:" Faa o download do XML e PDF da nota emitida"}),i.jsx("li",{children:" Envie o XML/PDF para o cliente por e-mail"}),i.jsx("li",{children:" Guarde uma cpia para seus registros fiscais"}),i.jsx("li",{children:" A nota fica registrada automaticamente no portal da Sefaz"})]})})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(ye,{variant:"outline",className:"flex-1",onClick:()=>o(!1),children:"Fechar"}),i.jsxs(ye,{className:"flex-1",onClick:()=>{o(!1),t({title:" Dados prontos!",description:"Acesse o portal da Sefaz e preencha com os dados copiados"})},children:[i.jsx(La,{className:"h-4 w-4 mr-2"}),"Entendi, vou emitir"]})]})]})]})}),i.jsx(kr,{open:l,onOpenChange:c,children:i.jsxs(Sr,{className:"max-w-md",children:[i.jsxs(yr,{children:[i.jsxs(br,{className:"flex items-center gap-2",children:[i.jsx(OI,{className:"h-5 w-5 text-primary"}),"Cupom No-Fiscal"]}),i.jsx(tn,{children:"Comprovante de venda sem valor fiscal"})]}),i.jsx("div",{className:"space-y-4",children:u&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded border-2 border-dashed border-gray-300 dark:border-gray-700 font-mono text-sm",children:[i.jsxs("div",{className:"text-center border-b-2 border-dashed border-gray-300 dark:border-gray-700 pb-3 mb-3",children:[i.jsx("p",{className:"font-bold text-base",children:"CUPOM NO-FISCAL"}),(v==null?void 0:v.razao_social)&&i.jsx("p",{className:"text-xs mt-2",children:v.razao_social}),(v==null?void 0:v.cnpj)&&i.jsxs("p",{className:"text-xs",children:["CNPJ: ",v.cnpj]}),i.jsx("p",{className:"text-xs mt-2",children:new Date().toLocaleString("pt-BR")})]}),i.jsxs("div",{className:"space-y-1 mb-3",children:[i.jsx("p",{className:"font-bold border-b border-gray-300 dark:border-gray-700 pb-1",children:"ITENS:"}),u.itens.map((I,L)=>{const z=Number(I.preco_unitario||I.preco||0),G=Number(I.quantidade||1),W=Number(I.subtotal||z*G||0),q=I.nome||I.produto||"Produto";return i.jsxs("div",{className:"space-y-0.5",children:[i.jsxs("p",{className:"truncate",children:[L+1,". ",q]}),i.jsxs("p",{className:"text-xs pl-3",children:[G," x R$ ",z.toFixed(2)," = R$ ",W.toFixed(2)]})]},L)})]}),i.jsxs("div",{className:"border-t-2 border-dashed border-gray-300 dark:border-gray-700 pt-2 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"SUBTOTAL:"}),i.jsxs("span",{children:["R$ ",u.valorTotal.toFixed(2)]})]}),u.desconto>0&&i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("span",{children:"Desconto:"}),i.jsxs("span",{children:["- R$ ",u.desconto.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between font-bold text-base border-t border-gray-300 dark:border-gray-700 pt-1 mt-1",children:[i.jsx("span",{children:"TOTAL:"}),i.jsxs("span",{children:["R$ ",u.valorTotal.toFixed(2)]})]})]}),i.jsxs("div",{className:"text-center border-t-2 border-dashed border-gray-300 dark:border-gray-700 mt-3 pt-3 text-xs",children:[i.jsx("p",{className:"font-bold",children:" DOCUMENTO SEM VALOR FISCAL"}),i.jsx("p",{className:"mt-1",children:"Este cupom no substitui nota fiscal"}),i.jsx("p",{className:"mt-2",children:"Obrigado pela preferncia!"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{variant:"outline",className:"flex-1",onClick:()=>{const I=`

    CUPOM NO-FISCAL
${(v==null?void 0:v.razao_social)||"Estabelecimento"}
${v!=null&&v.cnpj?`CNPJ: ${v.cnpj}`:""}
${new Date().toLocaleString("pt-BR")}


ITENS:
${u.itens.map((L,z)=>{const G=Number(L.preco_unitario||L.preco||0),W=Number(L.quantidade||1),q=Number(L.subtotal||G*W||0),K=L.nome||L.produto||"Produto";return`${z+1}. ${K}
   ${W} x R$ ${G.toFixed(2)} = R$ ${q.toFixed(2)}`}).join(`

`)}


TOTAL: R$ ${u.valorTotal.toFixed(2)}


 DOCUMENTO SEM VALOR FISCAL
Este cupom no substitui nota fiscal

Obrigado pela preferncia!

                      `.trim();_(I,"Cupom No-Fiscal")},"data-testid":"button-copiar-cupom",children:[i.jsx(zp,{className:"h-4 w-4 mr-2"}),"Copiar"]}),i.jsxs(ye,{variant:"outline",className:"flex-1",onClick:()=>{window.print(),t({title:"Imprimir Cupom",description:"Abrindo dilogo de impresso..."})},"data-testid":"button-imprimir-cupom",children:[i.jsx(QC,{className:"h-4 w-4 mr-2"}),"Imprimir"]}),i.jsxs(ye,{className:"flex-1",onClick:()=>{c(!1),t({title:" Cupom gerado!",description:"Cupom no-fiscal disponvel"})},"data-testid":"button-fechar-cupom",children:[i.jsx(La,{className:"h-4 w-4 mr-2"}),"OK"]})]})]})})]})})]})}var kre=["PageUp","PageDown"],Tre=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ore={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ix="Slider",[fk,OWe,DWe]=dx(Ix),[Dre]=zi(Ix,[DWe]),[IWe,BS]=Dre(Ix),Ire=N.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:g,...p}=e,x=N.useRef(new Set),v=N.useRef(0),b=o==="horizontal"?FWe:RWe,[j=[],_]=No({prop:d,defaultProp:u,onChange:T=>{var I;(I=[...x.current][v.current])==null||I.focus(),f(T)}}),P=N.useRef(j);function k(T){const C=zWe(j,T);M(T,C)}function S(T){M(T,v.current)}function E(){const T=P.current[v.current];j[v.current]!==T&&h(j)}function M(T,C,{commit:I}={commit:!1}){const L=WWe(s),z=HWe(Math.round((T-n)/s)*s+n,L),G=Xj(z,[n,a]);_((W=[])=>{const q=$We(W,G,C);if(VWe(q,c*s)){v.current=q.indexOf(G);const K=String(q)!==String(W);return K&&I&&h(q),K?q:W}else return W})}return i.jsx(IWe,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:v,thumbs:x.current,values:j,orientation:o,form:g,children:i.jsx(fk.Provider,{scope:e.__scopeSlider,children:i.jsx(fk.Slot,{scope:e.__scopeSlider,children:i.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:Ct(p.onPointerDown,()=>{l||(P.current=j)}),min:n,max:a,inverted:m,onSlideStart:l?void 0:k,onSlideMove:l?void 0:S,onSlideEnd:l?void 0:E,onHomeKeyDown:()=>!l&&M(n,0,{commit:!0}),onEndKeyDown:()=>!l&&M(a,j.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:C})=>{if(!l){const z=kre.includes(T.key)||T.shiftKey&&Tre.includes(T.key)?10:1,G=v.current,W=j[G],q=s*z*C;M(W+q,G,{commit:!0})}}})})})})});Ire.displayName=Ix;var[Fre,Rre]=Dre(Ix,{startEdge:"left",endEdge:"right",size:"width",direction:1}),FWe=N.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=N.useState(null),m=Lr(t,b=>h(b)),g=N.useRef(void 0),p=vx(a),x=p==="ltr",v=x&&!s||!x&&s;function y(b){const j=g.current||f.getBoundingClientRect(),_=[0,j.width],k=P6(_,v?[r,n]:[n,r]);return g.current=j,k(b-j.left)}return i.jsx(Fre,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:i.jsx(Mre,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const j=y(b.clientX);o==null||o(j)},onSlideMove:b=>{const j=y(b.clientX);l==null||l(j)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:b=>{const _=Ore[v?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:_?-1:1})}})})}),RWe=N.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=N.useRef(null),f=Lr(t,d),h=N.useRef(void 0),m=!a;function g(p){const x=h.current||d.current.getBoundingClientRect(),v=[0,x.height],b=P6(v,m?[n,r]:[r,n]);return h.current=x,b(p-x.top)}return i.jsx(Fre,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:i.jsx(Mre,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const x=g(p.clientY);s==null||s(x)},onSlideMove:p=>{const x=g(p.clientY);o==null||o(x)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const v=Ore[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:v?-1:1})}})})}),Mre=N.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=BS(Ix,r);return i.jsx(zt.span,{...u,ref:t,onKeyDown:Ct(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):kre.concat(Tre).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Ct(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:Ct(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:Ct(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),Lre="SliderTrack",$re=N.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=BS(Lre,r);return i.jsx(zt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});$re.displayName=Lre;var hk="SliderRange",Bre=N.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=BS(hk,r),s=Rre(hk,r),o=N.useRef(null),l=Lr(t,o),c=a.values.length,u=a.values.map(h=>qre(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return i.jsx(zt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});Bre.displayName=hk;var mk="SliderThumb",zre=N.forwardRef((e,t)=>{const r=OWe(e.__scopeSlider),[n,a]=N.useState(null),s=Lr(t,l=>a(l)),o=N.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(MWe,{...e,ref:s,index:o})}),MWe=N.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...s}=e,o=BS(mk,r),l=Rre(mk,r),[c,u]=N.useState(null),d=Lr(t,y=>u(y)),f=c?o.form||!!c.closest("form"):!0,h=WT(c),m=o.values[n],g=m===void 0?0:qre(m,o.min,o.max),p=BWe(n,o.values.length),x=h==null?void 0:h[l.size],v=x?qWe(x,g,l.direction):0;return N.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${v}px)`},children:[i.jsx(fk.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(zt.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:Ct(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&i.jsx(LWe,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},n)]})});zre.displayName=mk;var LWe=e=>{const{value:t,...r}=e,n=N.useRef(null),a=tO(t);return N.useEffect(()=>{const s=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==t&&c){const u=new Event("input",{bubbles:!0});c.call(s,t),s.dispatchEvent(u)}},[a,t]),i.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function $We(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,s)=>a-s)}function qre(e,t,r){const s=100/(r-t)*(e-t);return Xj(s,[0,100])}function BWe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function zWe(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function qWe(e,t,r){const n=e/2,s=P6([0,50],[0,n]);return(n-s(t)*r)*r}function UWe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function VWe(e,t){if(t>0){const r=UWe(e);return Math.min(...r)>=t}return!0}function P6(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function WWe(e){return(String(e).split(".")[1]||"").length}function HWe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Ure=Ire,GWe=$re,KWe=Bre,YWe=zre;const pk=N.forwardRef(({className:e,...t},r)=>i.jsxs(Ure,{ref:r,className:ht("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(GWe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(KWe,{className:"absolute h-full bg-primary"})}),i.jsx(YWe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));pk.displayName=Ure.displayName;function Pw(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!t)return"0 0% 0%";let r=parseInt(t[1],16)/255,n=parseInt(t[2],16)/255,a=parseInt(t[3],16)/255;const s=Math.max(r,n,a),o=Math.min(r,n,a);let l=0,c=0,u=(s+o)/2;if(s!==o){const d=s-o;switch(c=u>.5?d/(2-s-o):d/(s+o),s){case r:l=((n-a)/d+(n<a?6:0))/6;break;case n:l=((a-r)/d+2)/6;break;case a:l=((r-n)/d+4)/6;break}}return l=Math.round(l*360),c=Math.round(c*100),u=Math.round(u*100),`${l} ${c}% ${u}%`}const r0={logoUrl:"",pdvBackgroundUrl:"",primaryColor:"#3B82F6",secondaryColor:"#10B981",accentColor:"#F59E0B",backgroundColor:"#000000",storeName:"Pavisoft Sistemas",fontSize:"medium",borderRadius:"medium",language:"pt-BR",currency:"BRL",dateFormat:"DD/MM/YYYY",enableAnimations:!0,enableSounds:!1,compactMode:!1,showWelcomeMessage:!0,autoSaveInterval:30,lowStockThreshold:10,itemsPerPage:10,enableNotifications:!0,enableEmailAlerts:!1,emailForAlerts:""};function XWe(){const{toast:e}=Qr(),[,t]=ui(),[r]=N.useState(!0),[n,a]=N.useState(!1),[s,o]=N.useState(!1),[l,c]=N.useState(""),[u,d]=N.useState(!1),[f,h]=N.useState(r0),[m,g]=N.useState(!1);N.useEffect(()=>{const S=localStorage.getItem("customization");if(S)try{const E=JSON.parse(S),M={...r0,...E};h(M),p(M),x(M.fontSize),v(M.borderRadius),y()}catch(E){console.error("Erro ao carregar configuraes:",E),e({title:"Erro ao carregar configuraes",description:"As configuraes padro foram aplicadas",variant:"destructive"})}},[]);const p=S=>{S.primaryColor&&document.documentElement.style.setProperty("--primary",Pw(S.primaryColor)),S.secondaryColor&&document.documentElement.style.setProperty("--secondary",Pw(S.secondaryColor)),S.accentColor&&document.documentElement.style.setProperty("--accent",Pw(S.accentColor)),S.backgroundColor&&document.documentElement.style.setProperty("--background",Pw(S.backgroundColor))},x=S=>{const M={small:"14px",medium:"16px",large:"18px",xlarge:"20px"}[S]||"16px";document.documentElement.style.setProperty("font-size",M),document.body.style.fontSize=M},v=S=>{const E={none:"0rem",small:"0.25rem",medium:"0.5rem",large:"1rem",xlarge:"1.5rem"};document.documentElement.style.setProperty("--radius",E[S]||"0.5rem")},y=()=>{f.compactMode?document.body.classList.add("compact-mode"):document.body.classList.remove("compact-mode"),f.enableAnimations?document.body.classList.remove("no-animations"):document.body.classList.add("no-animations")},b=S=>{var M;const E=(M=S.target.files)==null?void 0:M[0];if(E){const T=new FileReader;T.onloadend=()=>{h({...f,logoUrl:T.result}),e({title:"Logo carregada!",description:"A logo foi carregada com sucesso"})},T.readAsDataURL(E)}},j=S=>{var M;const E=(M=S.target.files)==null?void 0:M[0];if(E){const T=new FileReader;T.onloadend=()=>{h({...f,pdvBackgroundUrl:T.result}),e({title:"Plano de fundo carregado!",description:"O plano de fundo do PDV foi carregado com sucesso"})},T.readAsDataURL(E)}},_=async()=>{var S,E,M,T,C,I,L;if(f.enableEmailAlerts&&!f.emailForAlerts){e({title:"Ateno!",description:"Por favor, informe um e-mail para receber alertas.",variant:"destructive"});return}if(f.enableEmailAlerts&&f.emailForAlerts&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.emailForAlerts)){e({title:"E-mail invlido!",description:"Por favor, informe um e-mail vlido.",variant:"destructive"});return}g(!0);try{localStorage.setItem("customization",JSON.stringify(f)),p(f),x(f.fontSize),v(f.borderRadius),y();const z={devolucoes_dias:((S=document.querySelector('[data-cleanup="devolucoes"]'))==null?void 0:S.value)||"90",orcamentos_dias:((E=document.querySelector('[data-cleanup="orcamentos"]'))==null?void 0:E.value)||"180",logs_dias:((M=document.querySelector('[data-cleanup="logs"]'))==null?void 0:M.value)||"90",caixas_dias:((T=document.querySelector('[data-cleanup="caixas"]'))==null?void 0:T.value)||"365",contas_pagar_dias:((C=document.querySelector('[data-cleanup="contas_pagar"]'))==null?void 0:C.value)||"365",contas_receber_dias:((I=document.querySelector('[data-cleanup="contas_receber"]'))==null?void 0:I.value)||"365",relatorios_dias:((L=document.querySelector('[data-cleanup="relatorios"]'))==null?void 0:L.value)||"365"};try{await Pr("POST","/api/auto-cleanup/config",z)}catch{console.warn("Configuraes de limpeza no salvas:",cleanupErrorleanupError.message)}e({title:"Configuraes salvas!",description:"Todas as configuraes foram aplicadas com sucesso"})}catch(z){e({title:"Erro ao salvar",description:z.message||"Algumas configuraes podem no ter sido salvas",variant:"destructive"})}finally{g(!1)}},P=()=>{h(r0),p(r0),x(r0.fontSize),v(r0.borderRadius),y(),localStorage.removeItem("customization"),e({title:"Configuraes restauradas!",description:"As configuraes padro foram aplicadas"})},k=async()=>{if(!l.trim()){e({title:"Motivo obrigatrio",description:"Por favor, informe o motivo do encerramento",variant:"destructive"});return}d(!0);try{const S=JSON.parse(localStorage.getItem("user")||"{}");if((await Pr("POST","/api/encerrar-conta",{userId:S.id,userEmail:S.email,userName:S.nome,motivo:l})).ok)e({title:"Solicitao enviada!",description:"Sua solicitao de encerramento foi enviada ao suporte. Entraremos em contato em breve."}),o(!1),c("");else throw new Error("Erro ao enviar solicitao")}catch{e({title:"Erro ao enviar solicitao",description:"No foi possvel enviar sua solicitao. Tente novamente.",variant:"destructive"})}finally{d(!1)}};return i.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 px-1",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 p-8 text-white shadow-2xl",children:[i.jsx("div",{className:"absolute inset-0 bg-black/10"}),i.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h1",{className:"text-4xl font-bold tracking-tight animate-in slide-in-from-left duration-700",children:"Configuraes"}),i.jsx("p",{className:"text-lg text-white/90 animate-in slide-in-from-left duration-700 delay-100",children:"Personalize cada detalhe do seu sistema"})]}),r&&i.jsxs(It,{className:"bg-white/20 backdrop-blur-md text-white border border-white/30 shadow-lg px-4 py-2 text-base animate-in zoom-in duration-500",children:[i.jsx(rl,{className:"h-5 w-5 mr-2 animate-pulse"}),"Premium"]})]})]}),!r&&i.jsxs(Ae,{className:"border-yellow-500 bg-yellow-50 dark:bg-yellow-950",children:[i.jsxs(qe,{children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(rl,{className:"h-5 w-5 text-yellow-600"}),"Recursos Premium"]}),i.jsx(Ht,{children:"Atualize para Premium para personalizar logo, cores e mais!"})]}),i.jsx(Pe,{children:i.jsx(ye,{className:"bg-yellow-500 hover:bg-yellow-600",children:"Assinar Premium"})})]}),r&&i.jsxs(i.Fragment,{children:[i.jsxs(Ae,{className:"modern-card glass-card border-0 shadow-xl overflow-hidden animate-in slide-in-from-bottom duration-700",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),i.jsxs(qe,{className:"bg-gradient-to-br from-blue-50/50 to-purple-50/50 dark:from-blue-950/30 dark:to-purple-950/30 backdrop-blur-sm border-b border-border/50",children:[i.jsxs(Ue,{className:"flex items-center gap-3 text-xl",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 text-white shadow-lg",children:i.jsx(Che,{className:"h-5 w-5"})}),"Marca e Identidade Visual"]}),i.jsx(Ht,{className:"text-base",children:"Personalize a logo e nome da sua empresa"})]}),i.jsxs(Pe,{className:"space-y-4 pt-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"logo-upload",children:"Upload da Logo"}),i.jsx(Ze,{id:"logo-upload",type:"file",accept:"image/*",onChange:b}),f.logoUrl&&i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Prvia:"}),i.jsx("img",{src:f.logoUrl,alt:"Logo",className:"max-w-xs h-20 object-contain border rounded p-2"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"store-name",children:"Nome da Empresa"}),i.jsx(Ze,{id:"store-name",type:"text",value:f.storeName,onChange:S=>h({...f,storeName:S.target.value}),placeholder:"Nome da sua empresa"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"pdv-background",children:"Plano de Fundo do PDV"}),i.jsx(Ze,{id:"pdv-background",type:"file",accept:"image/*",onChange:j}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Personalize o fundo da tela de PDV com uma imagem"}),f.pdvBackgroundUrl&&i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Prvia:"}),i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:f.pdvBackgroundUrl,alt:"Plano de fundo PDV",className:"w-full h-32 object-cover border rounded-lg"}),i.jsx(ye,{variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>h({...f,pdvBackgroundUrl:""}),children:"Remover"})]})]})]})]})]}),i.jsx(Ae,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white border-0 shadow-xl",children:i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(rl,{className:"h-12 w-12 mb-4"}),i.jsx(Ue,{className:"text-3xl font-bold mb-2",children:"Desbloqueie Todo o Potencial"}),i.jsx(Ht,{className:"text-white/90 text-lg",children:"Upgrade para Premium e transforme seu negcio"})]}),i.jsxs(ye,{onClick:()=>t("/planos"),size:"lg",className:"bg-white text-purple-600 hover:bg-gray-100 font-semibold px-8",children:[i.jsx(rl,{className:"h-5 w-5 mr-2"}),"Ver Planos"]})]})})}),i.jsxs(Ae,{className:"modern-card glass-card border-0 shadow-xl overflow-hidden animate-in slide-in-from-bottom duration-700 delay-100",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-500 via-pink-500 to-red-500"}),i.jsxs(qe,{className:"bg-gradient-to-br from-purple-50/50 to-pink-50/50 dark:from-purple-950/30 dark:to-pink-950/30 backdrop-blur-sm border-b border-border/50",children:[i.jsxs(Ue,{className:"flex items-center gap-3 text-xl",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 text-white shadow-lg",children:i.jsx(vhe,{className:"h-5 w-5"})}),"Paleta de Cores"]}),i.jsx(Ht,{className:"text-base",children:"Personalize as cores principais do sistema"})]}),i.jsxs(Pe,{className:"space-y-4 pt-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"primary-color",children:"Cor Primria"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ze,{id:"primary-color",type:"color",value:f.primaryColor,onChange:S=>h({...f,primaryColor:S.target.value}),className:"w-20 h-10 p-1 cursor-pointer"}),i.jsx(Ze,{type:"text",value:f.primaryColor,onChange:S=>h({...f,primaryColor:S.target.value}),className:"flex-1"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"secondary-color",children:"Cor Secundria"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ze,{id:"secondary-color",type:"color",value:f.secondaryColor,onChange:S=>h({...f,secondaryColor:S.target.value}),className:"w-20 h-10 p-1 cursor-pointer"}),i.jsx(Ze,{type:"text",value:f.secondaryColor,onChange:S=>h({...f,secondaryColor:S.target.value}),className:"flex-1"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"accent-color",children:"Cor de Destaque"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ze,{id:"accent-color",type:"color",value:f.accentColor,onChange:S=>h({...f,accentColor:S.target.value}),className:"w-20 h-10 p-1 cursor-pointer"}),i.jsx(Ze,{type:"text",value:f.accentColor,onChange:S=>h({...f,accentColor:S.target.value}),className:"flex-1"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"background-color",children:"Cor de Fundo"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ze,{id:"background-color",type:"color",value:f.backgroundColor,onChange:S=>h({...f,backgroundColor:S.target.value}),className:"w-20 h-10 p-1 cursor-pointer"}),i.jsx(Ze,{type:"text",value:f.backgroundColor,onChange:S=>h({...f,backgroundColor:S.target.value}),className:"flex-1"})]})]})]}),i.jsxs("div",{className:"pt-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Prvia das cores:"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx("div",{className:"p-4 rounded",style:{backgroundColor:f.primaryColor},children:i.jsx("span",{className:"text-white font-medium",children:"Primria"})}),i.jsx("div",{className:"p-4 rounded",style:{backgroundColor:f.secondaryColor},children:i.jsx("span",{className:"text-white font-medium",children:"Secundria"})}),i.jsx("div",{className:"p-4 rounded",style:{backgroundColor:f.accentColor},children:i.jsx("span",{className:"text-white font-medium",children:"Destaque"})}),i.jsx("div",{className:"p-4 rounded border-2",style:{backgroundColor:f.backgroundColor},children:i.jsx("span",{className:"font-medium",style:{color:f.primaryColor},children:"Fundo"})})]})]})]})]}),i.jsxs(Ae,{className:"backdrop-blur-sm bg-card/80 border-2 border-secondary/10 shadow-xl hover:shadow-2xl transition-all duration-500 hover:border-secondary/30 animate-in slide-in-from-bottom duration-700 delay-150",children:[i.jsxs(qe,{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-950/20 dark:to-blue-950/20 rounded-t-lg",children:[i.jsxs(Ue,{className:"flex items-center gap-2 text-lg",children:[i.jsx(ghe,{className:"h-5 w-5 text-secondary animate-pulse"}),"Interface e Experincia"]}),i.jsx(Ht,{children:"Ajuste a aparncia e comportamento da interface"})]}),i.jsxs(Pe,{className:"space-y-6 pt-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"font-size",children:"Tamanho da Fonte"}),i.jsxs(Cr,{value:f.fontSize,onValueChange:S=>h({...f,fontSize:S}),children:[i.jsx(Nr,{id:"font-size",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"small",children:"Pequeno"}),i.jsx(Je,{value:"medium",children:"Mdio"}),i.jsx(Je,{value:"large",children:"Grande"}),i.jsx(Je,{value:"xlarge",children:"Extra Grande"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"border-radius",children:"Arredondamento"}),i.jsxs(Cr,{value:f.borderRadius,onValueChange:S=>h({...f,borderRadius:S}),children:[i.jsx(Nr,{id:"border-radius",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"none",children:"Sem Arredondamento"}),i.jsx(Je,{value:"small",children:"Pequeno"}),i.jsx(Je,{value:"medium",children:"Mdio"}),i.jsx(Je,{value:"large",children:"Grande"}),i.jsx(Je,{value:"xlarge",children:"Extra Grande"})]})]})]})]}),i.jsx(Xf,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(De,{children:"Animaes"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Ativar animaes e transies suaves"})]}),i.jsx(po,{checked:f.enableAnimations,onCheckedChange:S=>h({...f,enableAnimations:S})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(De,{children:"Sons do Sistema"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Reproduzir sons para aes importantes"})]}),i.jsx(po,{checked:f.enableSounds,onCheckedChange:S=>h({...f,enableSounds:S})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(De,{children:"Modo Compacto"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduzir espaamentos para mais contedo"})]}),i.jsx(po,{checked:f.compactMode,onCheckedChange:S=>h({...f,compactMode:S})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(De,{children:"Mensagem de Boas-vindas"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mostrar mensagem ao fazer login"})]}),i.jsx(po,{checked:f.showWelcomeMessage,onCheckedChange:S=>h({...f,showWelcomeMessage:S})})]})]})]})]}),i.jsxs(Ae,{className:"backdrop-blur-sm bg-card/80 border-2 border-accent/10 shadow-xl hover:shadow-2xl transition-all duration-500 hover:border-accent/30 animate-in slide-in-from-bottom duration-700 delay-200",children:[i.jsxs(qe,{className:"bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-950/20 dark:to-yellow-950/20 rounded-t-lg",children:[i.jsxs(Ue,{className:"flex items-center gap-2 text-lg",children:[i.jsx(dhe,{className:"h-5 w-5 text-accent animate-pulse"}),"Regionalizao"]}),i.jsx(Ht,{children:"Configure idioma, moeda e formatos"})]}),i.jsx(Pe,{className:"space-y-4 pt-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"language",children:"Idioma"}),i.jsxs(Cr,{value:f.language,onValueChange:S=>h({...f,language:S}),children:[i.jsx(Nr,{id:"language",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"pt-BR",children:"Portugus (BR)"}),i.jsx(Je,{value:"en-US",children:"English (US)"}),i.jsx(Je,{value:"es-ES",children:"Espaol"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"currency",children:"Moeda"}),i.jsxs(Cr,{value:f.currency,onValueChange:S=>h({...f,currency:S}),children:[i.jsx(Nr,{id:"currency",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"BRL",children:"Real (R$)"}),i.jsx(Je,{value:"USD",children:"Dlar ($)"}),i.jsx(Je,{value:"EUR",children:"Euro ()"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"date-format",children:"Formato de Data"}),i.jsxs(Cr,{value:f.dateFormat,onValueChange:S=>h({...f,dateFormat:S}),children:[i.jsx(Nr,{id:"date-format",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),i.jsx(Je,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),i.jsx(Je,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]})]})})]}),i.jsxs(Ae,{className:"backdrop-blur-sm bg-card/80 border-2 border-primary/10 shadow-xl hover:shadow-2xl transition-all duration-500 hover:border-primary/30 animate-in slide-in-from-bottom duration-700 delay-250",children:[i.jsxs(qe,{className:"bg-gradient-to-r from-indigo-50 to-cyan-50 dark:from-indigo-950/20 dark:to-cyan-950/20 rounded-t-lg",children:[i.jsxs(Ue,{className:"flex items-center gap-2 text-lg",children:[i.jsx(uhe,{className:"h-5 w-5 text-primary animate-pulse"}),"Comportamento e Desempenho"]}),i.jsx(Ht,{children:"Configure salvamento automtico e preferncias de exibio"})]}),i.jsxs(Pe,{className:"space-y-6 pt-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(De,{htmlFor:"auto-save",children:"Intervalo de Salvamento Automtico (segundos)"}),i.jsxs("span",{className:"text-sm text-muted-foreground font-medium",children:[f.autoSaveInterval,"s"]})]}),i.jsx(pk,{id:"auto-save",min:10,max:120,step:10,value:[f.autoSaveInterval],onValueChange:S=>h({...f,autoSaveInterval:S[0]})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(De,{htmlFor:"low-stock",children:"Limite de Estoque Baixo"}),i.jsxs("span",{className:"text-sm text-muted-foreground font-medium",children:[f.lowStockThreshold," unidades"]})]}),i.jsx(pk,{id:"low-stock",min:1,max:100,step:1,value:[f.lowStockThreshold],onValueChange:S=>h({...f,lowStockThreshold:S[0]})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"items-per-page",children:"Itens por Pgina"}),i.jsxs(Cr,{value:f.itemsPerPage.toString(),onValueChange:S=>h({...f,itemsPerPage:parseInt(S)}),children:[i.jsx(Nr,{id:"items-per-page",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"5",children:"5 itens"}),i.jsx(Je,{value:"10",children:"10 itens"}),i.jsx(Je,{value:"25",children:"25 itens"}),i.jsx(Je,{value:"50",children:"50 itens"}),i.jsx(Je,{value:"100",children:"100 itens"})]})]})]})]})]}),i.jsxs(Ae,{className:"backdrop-blur-sm bg-card/80 border-2 border-destructive/10 shadow-xl hover:shadow-2xl transition-all duration-500 hover:border-destructive/30 animate-in slide-in-from-bottom duration-700 delay-300",children:[i.jsxs(qe,{className:"bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-950/20 dark:to-pink-950/20 rounded-t-lg",children:[i.jsxs(Ue,{className:"flex items-center gap-2 text-lg",children:[i.jsx(dG,{className:"h-5 w-5 text-destructive animate-pulse"}),"Notificaes e Alertas"]}),i.jsx(Ht,{children:"Configure como deseja receber alertas importantes"})]}),i.jsxs(Pe,{className:"space-y-4 pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(De,{children:"Notificaes no Sistema"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receber notificaes visuais no sistema"})]}),i.jsx(po,{checked:f.enableNotifications,onCheckedChange:S=>h({...f,enableNotifications:S})})]}),i.jsx(Xf,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(De,{children:"Alertas por E-mail"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receber alertas crticos por e-mail"})]}),i.jsx(po,{checked:f.enableEmailAlerts,onCheckedChange:S=>h({...f,enableEmailAlerts:S})})]}),f.enableEmailAlerts&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"email-alerts",children:"E-mail para Alertas"}),i.jsx(Ze,{id:"email-alerts",type:"email",value:f.emailForAlerts,onChange:S=>h({...f,emailForAlerts:S.target.value}),placeholder:"seu@email.com"})]})]})]}),i.jsxs(Ae,{className:"backdrop-blur-sm bg-card/80 border-2 border-purple-500/30 shadow-xl hover:shadow-2xl transition-all duration-500 hover:border-purple-500/50 animate-in slide-in-from-bottom duration-700 delay-325",children:[i.jsxs(qe,{className:"bg-gradient-to-r from-purple-50 to-violet-50 dark:from-purple-950/20 dark:to-violet-950/20 rounded-t-lg",children:[i.jsxs(Ue,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Fl,{className:"h-5 w-5 text-purple-600 animate-pulse"}),"Limpeza Automtica de Dados"]}),i.jsx(Ht,{children:"Configure o arquivamento automtico para manter o sistema otimizado"})]}),i.jsxs(Pe,{className:"space-y-4 pt-6",children:[i.jsxs($i,{className:"bg-blue-50 border-blue-200 dark:bg-blue-950/20 dark:border-blue-800",children:[i.jsx(eo,{className:"h-4 w-4 text-blue-600"}),i.jsx(wo,{className:"text-blue-800 dark:text-blue-300",children:"Sistema de Arquivamento Inteligente"}),i.jsxs(Bi,{className:"text-blue-700 dark:text-blue-400 text-sm",children:["O sistema ",i.jsx("u",{children:"ARQUIVA"})," dados antigos preservando-os para relatrios e anlises. A limpeza  executada diariamente s 03:00 da madrugada."]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(De,{className:"font-semibold",children:"Status da Limpeza Automtica"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Clique para configurar os perodos de arquivamento"})]}),i.jsxs(kr,{children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{variant:"outline",className:"gap-2",children:[i.jsx(Fl,{className:"h-4 w-4"}),"Configurar"]})}),i.jsxs(Sr,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[i.jsxs(yr,{children:[i.jsxs(br,{className:"flex items-center gap-2",children:[i.jsx(Fl,{className:"h-5 w-5 text-purple-600"}),"Configurar Limpeza Automtica"]}),i.jsx(tn,{children:"Defina o perodo de arquivamento para cada tipo de dado. Os dados so preservados para consultas futuras."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-red-50/50 to-orange-50/50 dark:from-red-950/10 dark:to-orange-950/10",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(De,{className:"font-semibold text-red-900 dark:text-red-100",children:"Contas a Pagar"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Arquivar contas pagas h muito tempo"})]}),i.jsxs(Cr,{defaultValue:"365",onValueChange:S=>{const E=document.querySelector('[data-cleanup="contas_pagar"]');E&&(E.value=S)},children:[i.jsx(Nr,{className:"w-[140px]",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"180",children:"6 meses"}),i.jsx(Je,{value:"365",children:"1 ano"}),i.jsx(Je,{value:"730",children:"2 anos"}),i.jsx(Je,{value:"never",children:"Nunca"})]})]}),i.jsx("input",{type:"hidden","data-cleanup":"contas_pagar",defaultValue:"365"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-emerald-50/50 to-teal-50/50 dark:from-emerald-950/10 dark:to-teal-950/10",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(De,{className:"font-semibold text-emerald-900 dark:text-emerald-100",children:"Contas a Receber"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Arquivar contas recebidas h muito tempo"})]}),i.jsxs(Cr,{defaultValue:"365",onValueChange:S=>{const E=document.querySelector('[data-cleanup="contas_receber"]');E&&(E.value=S)},children:[i.jsx(Nr,{className:"w-[140px]",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"180",children:"6 meses"}),i.jsx(Je,{value:"365",children:"1 ano"}),i.jsx(Je,{value:"730",children:"2 anos"}),i.jsx(Je,{value:"never",children:"Nunca"})]})]}),i.jsx("input",{type:"hidden","data-cleanup":"contas_receber",defaultValue:"365"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-orange-50/50 to-amber-50/50 dark:from-orange-950/10 dark:to-amber-950/10",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(De,{className:"font-semibold text-orange-900 dark:text-orange-100",children:"Histrico de Caixas"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Arquivar caixas fechados antigos"})]}),i.jsxs(Cr,{defaultValue:"365",onValueChange:S=>{const E=document.querySelector('[data-cleanup="caixas"]');E&&(E.value=S)},children:[i.jsx(Nr,{className:"w-[140px]",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"90",children:"90 dias"}),i.jsx(Je,{value:"180",children:"6 meses"}),i.jsx(Je,{value:"365",children:"1 ano"}),i.jsx(Je,{value:"never",children:"Nunca"})]})]}),i.jsx("input",{type:"hidden","data-cleanup":"caixas",defaultValue:"365"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-blue-50/50 to-cyan-50/50 dark:from-blue-950/10 dark:to-cyan-950/10",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(De,{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Oramentos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Arquivar oramentos antigos"})]}),i.jsxs(Cr,{defaultValue:"180",onValueChange:S=>{const E=document.querySelector('[data-cleanup="orcamentos"]');E&&(E.value=S)},children:[i.jsx(Nr,{className:"w-[140px]",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"90",children:"90 dias"}),i.jsx(Je,{value:"180",children:"6 meses"}),i.jsx(Je,{value:"365",children:"1 ano"}),i.jsx(Je,{value:"never",children:"Nunca"})]})]}),i.jsx("input",{type:"hidden","data-cleanup":"orcamentos",defaultValue:"180"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-pink-50/50 to-rose-50/50 dark:from-pink-950/10 dark:to-rose-950/10",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(De,{className:"font-semibold text-pink-900 dark:text-pink-100",children:"Devolues"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Arquivar devolues processadas h muito tempo"})]}),i.jsxs(Cr,{defaultValue:"90",onValueChange:S=>{const E=document.querySelector('[data-cleanup="devolucoes"]');E&&(E.value=S)},children:[i.jsx(Nr,{className:"w-[140px]",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"30",children:"30 dias"}),i.jsx(Je,{value:"90",children:"90 dias"}),i.jsx(Je,{value:"180",children:"6 meses"}),i.jsx(Je,{value:"365",children:"1 ano"}),i.jsx(Je,{value:"never",children:"Nunca"})]})]}),i.jsx("input",{type:"hidden","data-cleanup":"devolucoes",defaultValue:"90"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-purple-50/50 to-violet-50/50 dark:from-purple-950/10 dark:to-violet-950/10",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(De,{className:"font-semibold text-purple-900 dark:text-purple-100",children:"Relatrios Antigos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Arquivar relatrios gerados h muito tempo"})]}),i.jsxs(Cr,{defaultValue:"365",onValueChange:S=>{const E=document.querySelector('[data-cleanup="relatorios"]');E&&(E.value=S)},children:[i.jsx(Nr,{className:"w-[140px]",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"180",children:"6 meses"}),i.jsx(Je,{value:"365",children:"1 ano"}),i.jsx(Je,{value:"730",children:"2 anos"}),i.jsx(Je,{value:"never",children:"Nunca"})]})]}),i.jsx("input",{type:"hidden","data-cleanup":"relatorios",defaultValue:"365"})]})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border-2 border-dashed border-purple-300 rounded-lg bg-purple-50/30 dark:bg-purple-950/10",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(De,{className:"font-semibold text-purple-900 dark:text-purple-100 flex items-center gap-2",children:[i.jsx(Ys,{className:"h-4 w-4"}),"Prxima Limpeza Automtica"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Executada diariamente s 03:00"})]}),i.jsx(It,{className:"bg-purple-600 text-white",children:"Ativa"})]})]})]}),i.jsxs(Ae,{className:"backdrop-blur-sm bg-card/80 border-2 border-red-500/30 shadow-xl hover:shadow-2xl transition-all duration-500 hover:border-red-500/50 animate-in slide-in-from-bottom duration-700 delay-350",children:[i.jsxs(qe,{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-950/20 dark:to-orange-950/20 rounded-t-lg",children:[i.jsxs(Ue,{className:"flex items-center gap-2 text-lg text-red-700 dark:text-red-400",children:[i.jsx(ji,{className:"h-5 w-5 animate-pulse"}),"Zona de Perigo"]}),i.jsx(Ht,{children:"Aes irreversveis relacionadas  sua conta"})]}),i.jsx(Pe,{className:"space-y-4 pt-6",children:i.jsxs("div",{className:"p-4 rounded-lg border-2 border-red-200 dark:border-red-800 bg-red-50/50 dark:bg-red-950/20",children:[i.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-300 mb-2",children:"Encerrar Conta"}),i.jsx("p",{className:"text-sm text-red-700 dark:text-red-400 mb-4",children:"Ao solicitar o encerramento da conta, seus dados sero preservados por 30 dias para possvel recuperao. Aps esse perodo, todos os dados sero permanentemente excludos."}),i.jsxs(ye,{variant:"destructive",onClick:()=>o(!0),className:"w-full sm:w-auto",children:[i.jsx(ji,{className:"h-4 w-4 mr-2"}),"Solicitar Encerramento de Conta"]})]})})]}),i.jsxs("div",{className:"flex justify-end gap-4 animate-in slide-in-from-bottom duration-700 delay-400",children:[i.jsxs(ye,{onClick:P,variant:"outline",size:"lg",className:"px-8 py-6 text-base font-semibold border-2 hover:scale-105 transition-all duration-300 hover:shadow-xl hover:border-primary",children:[i.jsx(jhe,{className:"h-5 w-5 mr-2"}),"Restaurar Padro"]}),i.jsxs(ye,{onClick:_,size:"lg",className:"px-8 py-6 text-base font-semibold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 hover:scale-105 transition-all duration-300 shadow-xl hover:shadow-2xl border-0 animate-gradient-rotate",disabled:m,children:[i.jsx(IT,{className:"h-5 w-5 mr-2"}),m?"Salvando...":"Salvar Configuraes"]})]}),i.jsx(kr,{open:s,onOpenChange:o,children:i.jsxs(Sr,{className:"sm:max-w-[500px]",children:[i.jsxs(yr,{children:[i.jsxs(br,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(ji,{className:"h-5 w-5"}),"Encerramento de Conta"]}),i.jsx(tn,{children:"Lamentamos ver voc partir. Por favor, nos conte o motivo para que possamos melhorar nossos servios."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(De,{htmlFor:"motivo-encerramento",children:["Motivo do Encerramento ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Es,{id:"motivo-encerramento",placeholder:"Por favor, descreva o motivo pelo qual deseja encerrar sua conta...",value:l,onChange:S=>c(S.target.value),rows:5,className:"resize-none"})]}),i.jsx("div",{className:"p-3 rounded-lg bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800",children:i.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:[i.jsx("strong",{children:"Importante:"})," Sua solicitao ser enviada ao suporte. Entraremos em contato para confirmar o encerramento. Seus dados sero mantidos por 30 dias para possvel recuperao."]})})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(ye,{variant:"outline",onClick:()=>{o(!1),c("")},disabled:u,children:"Cancelar"}),i.jsx(ye,{variant:"destructive",onClick:k,disabled:u||!l.trim(),children:u?"Enviando...":"Confirmar Encerramento"})]})]})})]})]})}const pt=Symbol.for("drizzle:entityKind");function ri(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,pt))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(pt in r&&r[pt]===t[pt])return!0;r=Object.getPrototypeOf(r)}return!1}var dB;dB=pt;class ix{constructor(t,r){Oe(this,"name");Oe(this,"keyAsName");Oe(this,"primary");Oe(this,"notNull");Oe(this,"default");Oe(this,"defaultFn");Oe(this,"onUpdateFn");Oe(this,"hasDefault");Oe(this,"isUnique");Oe(this,"uniqueName");Oe(this,"uniqueType");Oe(this,"dataType");Oe(this,"columnType");Oe(this,"enumValues");Oe(this,"generated");Oe(this,"generatedIdentity");Oe(this,"config");this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}Oe(ix,dB,"Column");var fB;fB=pt;class Vre{constructor(t,r,n){Oe(this,"config");Oe(this,"$default",this.$defaultFn);Oe(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}Oe(Vre,fB,"ColumnBuilder");const eg=Symbol.for("drizzle:Name");var hB;hB=pt;class Wre{constructor(t,r){Oe(this,"reference");Oe(this,"_onUpdate","no action");Oe(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:a,foreignColumns:s}=t();return{name:n,columns:a,foreignTable:s[0].table,foreignColumns:s}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new Hre(t,this)}}Oe(Wre,hB,"PgForeignKeyBuilder");var mB;mB=pt;class Hre{constructor(t,r){Oe(this,"reference");Oe(this,"onUpdate");Oe(this,"onDelete");this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:t,columns:r,foreignColumns:n}=this.reference(),a=r.map(l=>l.name),s=n.map(l=>l.name),o=[this.table[eg],...a,n[0].table[eg],...s];return t??`${o.join("_")}_fk`}}Oe(Hre,mB,"PgForeignKey");function QWe(e,...t){return e(...t)}function ZWe(e,t){return`${e[eg]}_${t.join("_")}_unique`}function s9(e,t,r){for(let n=t;n<e.length;n++){const a=e[n];if(a==="\\"){n++;continue}if(a==='"')return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(a===","||a==="}"))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}function Gre(e,t=0){const r=[];let n=t,a=!1;for(;n<e.length;){const s=e[n];if(s===","){(a||n===t)&&r.push(""),a=!0,n++;continue}if(a=!1,s==="\\"){n+=2;continue}if(s==='"'){const[c,u]=s9(e,n+1,!0);r.push(c),n=u;continue}if(s==="}")return[r,n+1];if(s==="{"){const[c,u]=Gre(e,n+1);r.push(c),n=u;continue}const[o,l]=s9(e,n,!1);r.push(o),n=l}return[r,n]}function JWe(e){const[t]=Gre(e,1);return t}function Kre(e){return`{${e.map(t=>Array.isArray(t)?Kre(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var pB,gB;class on extends(gB=Vre,pB=pt,gB){constructor(){super(...arguments);Oe(this,"foreignKeyConfigs",[])}array(r){return new Xre(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:a,actions:s})=>QWe((o,l)=>{const c=new Wre(()=>{const u=o();return{columns:[r],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},a,s))}buildExtraConfigColumn(r){return new Yre(r,this.config)}}Oe(on,pB,"PgColumnBuilder");var xB,vB;class Br extends(vB=ix,xB=pt,vB){constructor(t,r){r.uniqueName||(r.uniqueName=ZWe(t,[r.name])),super(t,r),this.table=t}}Oe(Br,xB,"PgColumn");var yB,bB;class Yre extends(bB=Br,yB=pt,bB){constructor(){super(...arguments);Oe(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});Oe(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}Oe(Yre,yB,"ExtraConfigColumn");var wB;wB=pt;class mj{constructor(t,r,n,a){Oe(this,"name");Oe(this,"keyAsName");Oe(this,"type");Oe(this,"indexConfig");this.name=t,this.keyAsName=r,this.type=n,this.indexConfig=a}}Oe(mj,wB,"IndexedColumn");var jB,NB;class Xre extends(NB=on,jB=pt,NB){constructor(t,r,n){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(t){const r=this.config.baseBuilder.build(t);return new gk(t,this.config,r)}}Oe(Xre,jB,"PgArrayBuilder");var _B,SB;const U5=class U5 extends(SB=Br,_B=pt,SB){constructor(r,n,a,s){super(r,n);Oe(this,"size");this.baseColumn=a,this.range=s,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=JWe(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const a=r.map(s=>s===null?null:ri(this.baseColumn,U5)?this.baseColumn.mapToDriverValue(s,!0):this.baseColumn.mapToDriverValue(s));return n?a:Kre(a)}};Oe(U5,_B,"PgArray");let gk=U5;const o9=Symbol.for("drizzle:isPgEnum");function eHe(e){return!!e&&typeof e=="function"&&o9 in e&&e[o9]===!0}var AB;AB=pt;class k6{constructor(t,r,n,a=!1){this._={brand:"Subquery",sql:t,selectedFields:r,alias:n,isWith:a}}}Oe(k6,AB,"Subquery");const tHe={startActiveSpan(e,t){return t()}},tg=Symbol.for("drizzle:ViewBaseConfig"),A3=Symbol.for("drizzle:Schema"),l9=Symbol.for("drizzle:Columns"),c9=Symbol.for("drizzle:ExtraConfigColumns"),C3=Symbol.for("drizzle:OriginalName"),E3=Symbol.for("drizzle:BaseName"),w5=Symbol.for("drizzle:IsAlias"),u9=Symbol.for("drizzle:ExtraConfigBuilder"),Qre=Symbol.for("drizzle:IsDrizzleTable");var CB,EB,PB,kB,TB,OB,DB,IB,FB,RB;RB=pt,FB=eg,IB=C3,DB=A3,OB=l9,TB=c9,kB=E3,PB=w5,EB=Qre,CB=u9;class Ks{constructor(t,r,n){Oe(this,FB);Oe(this,IB);Oe(this,DB);Oe(this,OB);Oe(this,TB);Oe(this,kB);Oe(this,PB,!1);Oe(this,EB,!0);Oe(this,CB);this[eg]=this[C3]=t,this[A3]=r,this[E3]=n}}Oe(Ks,RB,"Table"),Oe(Ks,"Symbol",{Name:eg,Schema:A3,OriginalName:C3,Columns:l9,ExtraConfigColumns:c9,BaseName:E3,IsAlias:w5,ExtraConfigBuilder:u9});function Zre(e){return typeof e=="object"&&e!==null&&Qre in e}function rHe(e){return e!=null&&typeof e.getSQL=="function"}function nHe(e){var r;const t={sql:"",params:[]};for(const n of e)t.sql+=n.sql,t.params.push(...n.params),(r=n.typings)!=null&&r.length&&(t.typings||(t.typings=[]),t.typings.push(...n.typings));return t}var MB;MB=pt;class Pl{constructor(t){Oe(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Pa([this])}}Oe(Pl,MB,"StringChunk");var LB;LB=pt;const lm=class lm{constructor(t){Oe(this,"decoder",Jre);Oe(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return tHe.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,t);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(t,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:a,escapeName:s,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=n;return nHe(t.map(d=>{var f;if(ri(d,Pl))return{sql:d.value.join(""),params:[]};if(ri(d,j5))return{sql:s(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new Pl("(")];for(const[m,g]of d.entries())h.push(g),m<d.length-1&&h.push(new Pl(", "));return h.push(new Pl(")")),this.buildQueryFromSourceParams(h,n)}if(ri(d,lm))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:c||d.shouldInlineParams});if(ri(d,Ks)){const h=d[Ks.Symbol.Schema],m=d[Ks.Symbol.Name];return{sql:h===void 0||d[w5]?s(m):s(h)+"."+s(m),params:[]}}if(ri(d,ix)){const h=a.getColumnCasing(d);if(r.invokeSource==="indexes")return{sql:s(h),params:[]};const m=d.table[Ks.Symbol.Schema];return{sql:d.table[w5]||m===void 0?s(d.table[Ks.Symbol.Name])+"."+s(h):s(m)+"."+s(d.table[Ks.Symbol.Name])+"."+s(h),params:[]}}if(ri(d,rne)){const h=d[tg].schema,m=d[tg].name;return{sql:h===void 0||d[tg].isAlias?s(m):s(h)+"."+s(m),params:[]}}if(ri(d,T6)){if(ri(d.value,_5))return{sql:o(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(ri(h,lm))return this.buildQueryFromSourceParams([h],n);if(c)return{sql:this.mapInlineParam(h,n),params:[]};let m=["none"];return l&&(m=[l(d.encoder)]),{sql:o(u.value++,h),params:[h],typings:m}}return ri(d,_5)?{sql:o(u.value++,d),params:[d],typings:["none"]}:ri(d,lm.Aliased)&&d.fieldAlias!==void 0?{sql:s(d.fieldAlias),params:[]}:ri(d,k6)?d._.isWith?{sql:s(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Pl("("),d._.sql,new Pl(") "),new j5(d._.alias)],n):eHe(d)?d.schema?{sql:s(d.schema)+"."+s(d.enumName),params:[]}:{sql:s(d.enumName),params:[]}:rHe(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new Pl("("),d.getSQL(),new Pl(")")],n):c?{sql:this.mapInlineParam(d,n),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const n=t.toString();return r(n==="[object Object]"?JSON.stringify(t):n)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new lm.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};Oe(lm,LB,"SQL");let Pa=lm;var $B;$B=pt;class j5{constructor(t){Oe(this,"brand");this.value=t}getSQL(){return new Pa([this])}}Oe(j5,$B,"Name");const Jre={mapFromDriverValue:e=>e},ene={mapToDriverValue:e=>e};({...Jre,...ene});var BB;BB=pt;class T6{constructor(t,r=ene){Oe(this,"brand");this.value=t,this.encoder=r}getSQL(){return new Pa([this])}}Oe(T6,BB,"Param");function N5(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new Pl(e[0]));for(const[n,a]of t.entries())r.push(a,new Pl(e[n+1]));return new Pa(r)}(e=>{function t(){return new Pa([])}e.empty=t;function r(c){return new Pa(c)}e.fromList=r;function n(c){return new Pa([new Pl(c)])}e.raw=n;function a(c,u){const d=[];for(const[f,h]of c.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new Pa(d)}e.join=a;function s(c){return new j5(c)}e.identifier=s;function o(c){return new _5(c)}e.placeholder=o;function l(c,u){return new T6(c,u)}e.param=l})(N5||(N5={}));(e=>{var r;r=pt;const n=class n{constructor(s,o){Oe(this,"isSelectionField",!1);this.sql=s,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};Oe(n,r,"SQL.Aliased");let t=n;e.Aliased=t})(Pa||(Pa={}));var zB;zB=pt;class _5{constructor(t){this.name=t}getSQL(){return new Pa([this])}}Oe(_5,zB,"Placeholder");const tne=Symbol.for("drizzle:IsDrizzleView");var qB,UB,VB;VB=pt,UB=tg,qB=tne;class rne{constructor({name:t,schema:r,selectedFields:n,query:a}){Oe(this,UB);Oe(this,qB,!0);this[tg]={name:t,originalName:t,schema:r,selectedFields:n,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Pa([this])}}Oe(rne,VB,"View");function aHe(e){return typeof e=="object"&&e!==null&&tne in e}ix.prototype.getSQL=function(){return new Pa([this])};Ks.prototype.getSQL=function(){return new Pa([this])};k6.prototype.getSQL=function(){return new Pa([this])};function iHe(e){return e[Ks.Symbol.Columns]}function sHe(e){return e[tg].selectedFields}function Ui(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var WB,HB;class Wb extends(HB=on,WB=pt,HB){generatedAlwaysAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}Oe(Wb,WB,"PgIntColumnBaseBuilder");var GB,KB;class nne extends(KB=Wb,GB=pt,KB){constructor(t){super(t,"number","PgBigInt53")}build(t){return new ane(t,this.config)}}Oe(nne,GB,"PgBigInt53Builder");var YB,XB;class ane extends(XB=Br,YB=pt,XB){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}Oe(ane,YB,"PgBigInt53");var QB,ZB;class ine extends(ZB=Wb,QB=pt,ZB){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new sne(t,this.config)}}Oe(ine,QB,"PgBigInt64Builder");var JB,ez;class sne extends(ez=Br,JB=pt,ez){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}Oe(sne,JB,"PgBigInt64");function oHe(e,t){const{name:r,config:n}=Ui(e,t);return n.mode==="number"?new nne(r):new ine(r)}var tz,rz;class one extends(rz=on,tz=pt,rz){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new lne(t,this.config)}}Oe(one,tz,"PgBigSerial53Builder");var nz,az;class lne extends(az=Br,nz=pt,az){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}Oe(lne,nz,"PgBigSerial53");var iz,sz;class cne extends(sz=on,iz=pt,sz){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new une(t,this.config)}}Oe(cne,iz,"PgBigSerial64Builder");var oz,lz;class une extends(lz=Br,oz=pt,lz){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}Oe(une,oz,"PgBigSerial64");function lHe(e,t){const{name:r,config:n}=Ui(e,t);return n.mode==="number"?new one(r):new cne(r)}var cz,uz;class dne extends(uz=on,cz=pt,uz){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new fne(t,this.config)}}Oe(dne,cz,"PgBooleanBuilder");var dz,fz;class fne extends(fz=Br,dz=pt,fz){getSQLType(){return"boolean"}}Oe(fne,dz,"PgBoolean");function cHe(e){return new dne(e??"")}var hz,mz;class hne extends(mz=on,hz=pt,mz){constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new mne(t,this.config)}}Oe(hne,hz,"PgCharBuilder");var pz,gz;class mne extends(gz=Br,pz=pt,gz){constructor(){super(...arguments);Oe(this,"length",this.config.length);Oe(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}Oe(mne,pz,"PgChar");function uHe(e,t={}){const{name:r,config:n}=Ui(e,t);return new hne(r,n)}var xz,vz;class pne extends(vz=on,xz=pt,vz){constructor(t){super(t,"string","PgCidr")}build(t){return new gne(t,this.config)}}Oe(pne,xz,"PgCidrBuilder");var yz,bz;class gne extends(bz=Br,yz=pt,bz){getSQLType(){return"cidr"}}Oe(gne,yz,"PgCidr");function dHe(e){return new pne(e??"")}var wz,jz;class xne extends(jz=on,wz=pt,jz){constructor(t,r,n){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(t){return new vne(t,this.config)}}Oe(xne,wz,"PgCustomColumnBuilder");var Nz,_z;class vne extends(_z=Br,Nz=pt,_z){constructor(r,n){super(r,n);Oe(this,"sqlName");Oe(this,"mapTo");Oe(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}Oe(vne,Nz,"PgCustomColumn");function fHe(e){return(t,r)=>{const{name:n,config:a}=Ui(t,r);return new xne(n,a,e)}}var Sz,Az;class Fx extends(Az=on,Sz=pt,Az){defaultNow(){return this.default(N5`now()`)}}Oe(Fx,Sz,"PgDateColumnBaseBuilder");var Cz,Ez;class yne extends(Ez=Fx,Cz=pt,Ez){constructor(t){super(t,"date","PgDate")}build(t){return new bne(t,this.config)}}Oe(yne,Cz,"PgDateBuilder");var Pz,kz;class bne extends(kz=Br,Pz=pt,kz){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}Oe(bne,Pz,"PgDate");var Tz,Oz;class wne extends(Oz=Fx,Tz=pt,Oz){constructor(t){super(t,"string","PgDateString")}build(t){return new jne(t,this.config)}}Oe(wne,Tz,"PgDateStringBuilder");var Dz,Iz;class jne extends(Iz=Br,Dz=pt,Iz){getSQLType(){return"date"}}Oe(jne,Dz,"PgDateString");function hHe(e,t){const{name:r,config:n}=Ui(e,t);return(n==null?void 0:n.mode)==="date"?new yne(r):new wne(r)}var Fz,Rz;class Nne extends(Rz=on,Fz=pt,Rz){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new _ne(t,this.config)}}Oe(Nne,Fz,"PgDoublePrecisionBuilder");var Mz,Lz;class _ne extends(Lz=Br,Mz=pt,Lz){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}Oe(_ne,Mz,"PgDoublePrecision");function mHe(e){return new Nne(e??"")}var $z,Bz;class Sne extends(Bz=on,$z=pt,Bz){constructor(t){super(t,"string","PgInet")}build(t){return new Ane(t,this.config)}}Oe(Sne,$z,"PgInetBuilder");var zz,qz;class Ane extends(qz=Br,zz=pt,qz){getSQLType(){return"inet"}}Oe(Ane,zz,"PgInet");function pHe(e){return new Sne(e??"")}var Uz,Vz;class Cne extends(Vz=Wb,Uz=pt,Vz){constructor(t){super(t,"number","PgInteger")}build(t){return new Ene(t,this.config)}}Oe(Cne,Uz,"PgIntegerBuilder");var Wz,Hz;class Ene extends(Hz=Br,Wz=pt,Hz){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}Oe(Ene,Wz,"PgInteger");function wr(e){return new Cne(e??"")}var Gz,Kz;class Pne extends(Kz=on,Gz=pt,Kz){constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new kne(t,this.config)}}Oe(Pne,Gz,"PgIntervalBuilder");var Yz,Xz;class kne extends(Xz=Br,Yz=pt,Xz){constructor(){super(...arguments);Oe(this,"fields",this.config.intervalConfig.fields);Oe(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}Oe(kne,Yz,"PgInterval");function gHe(e,t={}){const{name:r,config:n}=Ui(e,t);return new Pne(r,n)}var Qz,Zz;class Tne extends(Zz=on,Qz=pt,Zz){constructor(t){super(t,"json","PgJson")}build(t){return new One(t,this.config)}}Oe(Tne,Qz,"PgJsonBuilder");var Jz,eq;class One extends(eq=Br,Jz=pt,eq){constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}Oe(One,Jz,"PgJson");function xHe(e){return new Tne(e??"")}var tq,rq;class Dne extends(rq=on,tq=pt,rq){constructor(t){super(t,"json","PgJsonb")}build(t){return new Ine(t,this.config)}}Oe(Dne,tq,"PgJsonbBuilder");var nq,aq;class Ine extends(aq=Br,nq=pt,aq){constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}Oe(Ine,nq,"PgJsonb");function Rx(e){return new Dne(e??"")}var iq,sq;class Fne extends(sq=on,iq=pt,sq){constructor(t){super(t,"array","PgLine")}build(t){return new Rne(t,this.config)}}Oe(Fne,iq,"PgLineBuilder");var oq,lq;class Rne extends(lq=Br,oq=pt,lq){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,a]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(a)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}Oe(Rne,oq,"PgLine");var cq,uq;class Mne extends(uq=on,cq=pt,uq){constructor(t){super(t,"json","PgLineABC")}build(t){return new Lne(t,this.config)}}Oe(Mne,cq,"PgLineABCBuilder");var dq,fq;class Lne extends(fq=Br,dq=pt,fq){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,a]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(a)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}Oe(Lne,dq,"PgLineABC");function vHe(e,t){const{name:r,config:n}=Ui(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new Fne(r):new Mne(r)}var hq,mq;class $ne extends(mq=on,hq=pt,mq){constructor(t){super(t,"string","PgMacaddr")}build(t){return new Bne(t,this.config)}}Oe($ne,hq,"PgMacaddrBuilder");var pq,gq;class Bne extends(gq=Br,pq=pt,gq){getSQLType(){return"macaddr"}}Oe(Bne,pq,"PgMacaddr");function yHe(e){return new $ne(e??"")}var xq,vq;class zne extends(vq=on,xq=pt,vq){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new qne(t,this.config)}}Oe(zne,xq,"PgMacaddr8Builder");var yq,bq;class qne extends(bq=Br,yq=pt,bq){getSQLType(){return"macaddr8"}}Oe(qne,yq,"PgMacaddr8");function bHe(e){return new zne(e??"")}var wq,jq;class Une extends(jq=on,wq=pt,jq){constructor(t,r,n){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(t){return new Vne(t,this.config)}}Oe(Une,wq,"PgNumericBuilder");var Nq,_q;class Vne extends(_q=Br,Nq=pt,_q){constructor(r,n){super(r,n);Oe(this,"precision");Oe(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}Oe(Vne,Nq,"PgNumeric");function wHe(e,t){const{name:r,config:n}=Ui(e,t);return new Une(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}var Sq,Aq;class Wne extends(Aq=on,Sq=pt,Aq){constructor(t){super(t,"array","PgPointTuple")}build(t){return new Hne(t,this.config)}}Oe(Wne,Sq,"PgPointTupleBuilder");var Cq,Eq;class Hne extends(Eq=Br,Cq=pt,Eq){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}Oe(Hne,Cq,"PgPointTuple");var Pq,kq;class Gne extends(kq=on,Pq=pt,kq){constructor(t){super(t,"json","PgPointObject")}build(t){return new Kne(t,this.config)}}Oe(Gne,Pq,"PgPointObjectBuilder");var Tq,Oq;class Kne extends(Oq=Br,Tq=pt,Oq){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}Oe(Kne,Tq,"PgPointObject");function jHe(e,t){const{name:r,config:n}=Ui(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new Wne(r):new Gne(r)}function NHe(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function d9(e,t){const r=new ArrayBuffer(8),n=new DataView(r);for(let a=0;a<8;a++)n.setUint8(a,e[t+a]);return n.getFloat64(0,!0)}function Yne(e){const t=NHe(e);let r=0;const n=t[r];r+=1;const a=new DataView(t.buffer),s=a.getUint32(r,n===1);if(r+=4,s&536870912&&(a.getUint32(r,n===1),r+=4),(s&65535)===1){const o=d9(t,r);r+=8;const l=d9(t,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var Dq,Iq;class Xne extends(Iq=on,Dq=pt,Iq){constructor(t){super(t,"array","PgGeometry")}build(t){return new Qne(t,this.config)}}Oe(Xne,Dq,"PgGeometryBuilder");var Fq,Rq;class Qne extends(Rq=Br,Fq=pt,Rq){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return Yne(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}Oe(Qne,Fq,"PgGeometry");var Mq,Lq;class Zne extends(Lq=on,Mq=pt,Lq){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new Jne(t,this.config)}}Oe(Zne,Mq,"PgGeometryObjectBuilder");var $q,Bq;class Jne extends(Bq=Br,$q=pt,Bq){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const r=Yne(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}Oe(Jne,$q,"PgGeometryObject");function _He(e,t){const{name:r,config:n}=Ui(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new Xne(r):new Zne(r)}var zq,qq;class eae extends(qq=on,zq=pt,qq){constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new tae(t,this.config)}}Oe(eae,zq,"PgRealBuilder");var Uq,Vq;class tae extends(Vq=Br,Uq=pt,Vq){constructor(r,n){super(r,n);Oe(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}Oe(tae,Uq,"PgReal");function la(e){return new eae(e??"")}var Wq,Hq;class rae extends(Hq=on,Wq=pt,Hq){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new nae(t,this.config)}}Oe(rae,Wq,"PgSerialBuilder");var Gq,Kq;class nae extends(Kq=Br,Gq=pt,Kq){getSQLType(){return"serial"}}Oe(nae,Gq,"PgSerial");function gl(e){return new rae(e??"")}var Yq,Xq;class aae extends(Xq=Wb,Yq=pt,Xq){constructor(t){super(t,"number","PgSmallInt")}build(t){return new iae(t,this.config)}}Oe(aae,Yq,"PgSmallIntBuilder");var Qq,Zq;class iae extends(Zq=Br,Qq=pt,Zq){constructor(){super(...arguments);Oe(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}Oe(iae,Qq,"PgSmallInt");function SHe(e){return new aae(e??"")}var Jq,eU;class sae extends(eU=on,Jq=pt,eU){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new oae(t,this.config)}}Oe(sae,Jq,"PgSmallSerialBuilder");var tU,rU;class oae extends(rU=Br,tU=pt,rU){getSQLType(){return"smallserial"}}Oe(oae,tU,"PgSmallSerial");function AHe(e){return new sae(e??"")}var nU,aU;class lae extends(aU=on,nU=pt,aU){constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new cae(t,this.config)}}Oe(lae,nU,"PgTextBuilder");var iU,sU;class cae extends(sU=Br,iU=pt,sU){constructor(){super(...arguments);Oe(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}Oe(cae,iU,"PgText");function Ce(e,t={}){const{name:r,config:n}=Ui(e,t);return new lae(r,n)}var oU,lU;class uae extends(lU=Fx,oU=pt,lU){constructor(t,r,n){super(t,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(t){return new dae(t,this.config)}}Oe(uae,oU,"PgTimeBuilder");var cU,uU;class dae extends(uU=Br,cU=pt,uU){constructor(r,n){super(r,n);Oe(this,"withTimezone");Oe(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Oe(dae,cU,"PgTime");function CHe(e,t={}){const{name:r,config:n}=Ui(e,t);return new uae(r,n.withTimezone??!1,n.precision)}var dU,fU;class fae extends(fU=Fx,dU=pt,fU){constructor(t,r,n){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(t){return new hae(t,this.config)}}Oe(fae,dU,"PgTimestampBuilder");var hU,mU;class hae extends(mU=Br,hU=pt,mU){constructor(r,n){super(r,n);Oe(this,"withTimezone");Oe(this,"precision");Oe(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));Oe(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}Oe(hae,hU,"PgTimestamp");var pU,gU;class mae extends(gU=Fx,pU=pt,gU){constructor(t,r,n){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(t){return new pae(t,this.config)}}Oe(mae,pU,"PgTimestampStringBuilder");var xU,vU;class pae extends(vU=Br,xU=pt,vU){constructor(r,n){super(r,n);Oe(this,"withTimezone");Oe(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Oe(pae,xU,"PgTimestampString");function Od(e,t={}){const{name:r,config:n}=Ui(e,t);return(n==null?void 0:n.mode)==="string"?new mae(r,n.withTimezone??!1,n.precision):new fae(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var yU,bU;class gae extends(bU=on,yU=pt,bU){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(N5`gen_random_uuid()`)}build(t){return new xae(t,this.config)}}Oe(gae,yU,"PgUUIDBuilder");var wU,jU;class xae extends(jU=Br,wU=pt,jU){getSQLType(){return"uuid"}}Oe(xae,wU,"PgUUID");function EHe(e){return new gae(e??"")}var NU,_U;class vae extends(_U=on,NU=pt,_U){constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new yae(t,this.config)}}Oe(vae,NU,"PgVarcharBuilder");var SU,AU;class yae extends(AU=Br,SU=pt,AU){constructor(){super(...arguments);Oe(this,"length",this.config.length);Oe(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}Oe(yae,SU,"PgVarchar");function PHe(e,t={}){const{name:r,config:n}=Ui(e,t);return new vae(r,n)}var CU,EU;class bae extends(EU=on,CU=pt,EU){constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new wae(t,this.config)}}Oe(bae,CU,"PgBinaryVectorBuilder");var PU,kU;class wae extends(kU=Br,PU=pt,kU){constructor(){super(...arguments);Oe(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}Oe(wae,PU,"PgBinaryVector");function kHe(e,t){const{name:r,config:n}=Ui(e,t);return new bae(r,n)}var TU,OU;class jae extends(OU=on,TU=pt,OU){constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new Nae(t,this.config)}}Oe(jae,TU,"PgHalfVectorBuilder");var DU,IU;class Nae extends(IU=Br,DU=pt,IU){constructor(){super(...arguments);Oe(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}Oe(Nae,DU,"PgHalfVector");function THe(e,t){const{name:r,config:n}=Ui(e,t);return new jae(r,n)}var FU,RU;class _ae extends(RU=on,FU=pt,RU){constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new Sae(t,this.config)}}Oe(_ae,FU,"PgSparseVectorBuilder");var MU,LU;class Sae extends(LU=Br,MU=pt,LU){constructor(){super(...arguments);Oe(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}Oe(Sae,MU,"PgSparseVector");function OHe(e,t){const{name:r,config:n}=Ui(e,t);return new _ae(r,n)}var $U,BU;class Aae extends(BU=on,$U=pt,BU){constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new Cae(t,this.config)}}Oe(Aae,$U,"PgVectorBuilder");var zU,qU;class Cae extends(qU=Br,zU=pt,qU){constructor(){super(...arguments);Oe(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}Oe(Cae,zU,"PgVector");function DHe(e,t){const{name:r,config:n}=Ui(e,t);return new Aae(r,n)}function IHe(){return{bigint:oHe,bigserial:lHe,boolean:cHe,char:uHe,cidr:dHe,customType:fHe,date:hHe,doublePrecision:mHe,inet:pHe,integer:wr,interval:gHe,json:xHe,jsonb:Rx,line:vHe,macaddr:yHe,macaddr8:bHe,numeric:wHe,point:jHe,geometry:_He,real:la,serial:gl,smallint:SHe,smallserial:AHe,text:Ce,time:CHe,timestamp:Od,uuid:EHe,varchar:PHe,bit:kHe,halfvec:THe,sparsevec:OHe,vector:DHe}}const xk=Symbol.for("drizzle:PgInlineForeignKeys"),f9=Symbol.for("drizzle:EnableRLS");var UU,VU,WU,HU,GU;class N1 extends(GU=Ks,HU=pt,WU=xk,VU=f9,UU=Ks.Symbol.ExtraConfigBuilder,GU){constructor(){super(...arguments);Oe(this,WU,[]);Oe(this,VU,!1);Oe(this,UU)}}Oe(N1,HU,"PgTable"),Oe(N1,"Symbol",Object.assign({},Ks.Symbol,{InlineForeignKeys:xk,EnableRLS:f9}));function FHe(e,t,r,n,a=e){const s=new N1(e,n,a),o=typeof t=="function"?t(IHe()):t,l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const m=h.build(s);return s[xk].push(...h.buildForeignKeys(m,s)),[d,m]})),c=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const m=h.buildExtraConfigColumn(s);return[d,m]})),u=Object.assign(s,l);return u[Ks.Symbol.Columns]=l,u[Ks.Symbol.ExtraConfigColumns]=c,r&&(u[N1.Symbol.ExtraConfigBuilder]=r),Object.assign(u,{enableRLS:()=>(u[N1.Symbol.EnableRLS]=!0,u)})}const xn=(e,t,r)=>FHe(e,t,r,void 0);var KU;KU=pt;class Eae{constructor(t,r){this.unique=t,this.name=r}on(...t){return new pj(t.map(r=>{if(ri(r,Pa))return r;r=r;const n=new mj(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),n}),this.unique,!1,this.name)}onOnly(...t){return new pj(t.map(r=>{if(ri(r,Pa))return r;r=r;const n=new mj(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,n}),this.unique,!0,this.name)}using(t,...r){return new pj(r.map(n=>{if(ri(n,Pa))return n;n=n;const a=new mj(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),a}),this.unique,!0,this.name,t)}}Oe(Eae,KU,"PgIndexBuilderOn");var YU;YU=pt;class pj{constructor(t,r,n,a,s="btree"){Oe(this,"config");this.config={name:a,columns:t,unique:r,only:n,method:s}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new Pae(this.config,t)}}Oe(pj,YU,"PgIndexBuilder");var XU;XU=pt;class Pae{constructor(t,r){Oe(this,"config");this.config={...t,table:r}}}Oe(Pae,XU,"PgIndex");function Vl(e){return new Eae(!1,e)}const fa={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Ra(e,t){return t.includes(e.columnType)}function RHe(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const MHe=bt.union([bt.string(),bt.number(),bt.boolean(),bt.null()]),LHe=bt.union([MHe,bt.record(bt.any()),bt.array(bt.any())]),$He=bt.custom(e=>e instanceof Buffer);function kae(e,t){const r=(t==null?void 0:t.zodInstance)??bt,n=(t==null?void 0:t.coerce)??{};let a;return RHe(e)&&(a=e.enumValues.length?r.enum(e.enumValues):r.string()),a||(Ra(e,["PgGeometry","PgPointTuple"])?a=r.tuple([r.number(),r.number()]):Ra(e,["PgGeometryObject","PgPointObject"])?a=r.object({x:r.number(),y:r.number()}):Ra(e,["PgHalfVector","PgVector"])?(a=r.array(r.number()),a=e.dimensions?a.length(e.dimensions):a):Ra(e,["PgLine"])?a=r.tuple([r.number(),r.number(),r.number()]):Ra(e,["PgLineABC"])?a=r.object({a:r.number(),b:r.number(),c:r.number()}):Ra(e,["PgArray"])?(a=r.array(kae(e.baseColumn,r)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=r.array(r.any()):e.dataType==="number"?a=BHe(e,r,n):e.dataType==="bigint"?a=zHe(e,r,n):e.dataType==="boolean"?a=n===!0||n.boolean?r.coerce.boolean():r.boolean():e.dataType==="date"?a=n===!0||n.date?r.coerce.date():r.date():e.dataType==="string"?a=qHe(e,r,n):e.dataType==="json"?a=LHe:e.dataType==="custom"?a=r.any():e.dataType==="buffer"&&(a=$He)),a||(a=r.any()),a}function BHe(e,t,r){let n=e.getSQLType().includes("unsigned"),a,s,o=!1;Ra(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=n?0:fa.INT8_MIN,s=n?fa.INT8_UNSIGNED_MAX:fa.INT8_MAX,o=!0):Ra(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=n?0:fa.INT16_MIN,s=n?fa.INT16_UNSIGNED_MAX:fa.INT16_MAX,o=!0):Ra(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=n?0:fa.INT24_MIN,s=n?fa.INT24_UNSIGNED_MAX:fa.INT24_MAX,o=Ra(e,["MySqlMediumInt","SingleStoreMediumInt"])):Ra(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=n?0:fa.INT32_MIN,s=n?fa.INT32_UNSIGNED_MAX:fa.INT32_MAX,o=!0):Ra(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=n?0:fa.INT48_MIN,s=n?fa.INT48_UNSIGNED_MAX:fa.INT48_MAX):Ra(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Ra(e,["MySqlSerial","SingleStoreSerial"]),a=n?0:Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,o=!0):Ra(e,["MySqlYear","SingleStoreYear"])?(a=1901,s=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?t.coerce.number():t.number();return l=l.min(a).max(s),o?l.int():l}function zHe(e,t,r){const n=e.getSQLType().includes("unsigned"),a=n?0n:fa.INT64_MIN,s=n?fa.INT64_UNSIGNED_MAX:fa.INT64_MAX;return(r===!0||r!=null&&r.bigint?t.coerce.bigint():t.bigint()).min(a).max(s)}function qHe(e,t,r){if(Ra(e,["PgUUID"]))return t.string().uuid();let n,a,s=!1;Ra(e,["PgVarchar","SQLiteText"])?n=e.length:Ra(e,["MySqlVarChar","SingleStoreVarChar"])?n=e.length??fa.INT16_UNSIGNED_MAX:Ra(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?n=fa.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?n=fa.INT24_UNSIGNED_MAX:e.textType==="text"?n=fa.INT16_UNSIGNED_MAX:n=fa.INT8_UNSIGNED_MAX),Ra(e,["PgChar","MySqlChar","SingleStoreChar"])&&(n=e.length,s=!0),Ra(e,["PgBinaryVector"])&&(a=/^[01]+$/,n=e.dimensions);let o=r===!0||r!=null&&r.string?t.coerce.string():t.string();return o=a?o.regex(a):o,n&&s?o.length(n):n?o.max(n):o}function Tae(e){return Zre(e)?iHe(e):sHe(e)}function Oae(e,t,r,n){const a={};for(const[s,o]of Object.entries(e)){if(!ri(o,ix)&&!ri(o,Pa)&&!ri(o,Pa.Aliased)&&typeof o=="object"){const f=Zre(o)||aHe(o)?Tae(o):o;a[s]=Oae(f,t[s]??{},r,n);continue}const l=t[s];if(l!==void 0&&typeof l!="function"){a[s]=l;continue}const c=ri(o,ix)?o:void 0,u=c?kae(c,n):bt.any(),d=typeof l=="function"?l(u):u;r.never(c)||(a[s]=d,c&&(r.nullable(c)&&(a[s]=a[s].nullable()),r.optional(c)&&(a[s]=a[s].optional())))}return bt.object(a)}const UHe={never:e=>{var t,r;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((r=e==null?void 0:e.generatedIdentity)==null?void 0:r.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},vn=(e,t)=>{const r=Tae(e);return Oae(r,{},UHe)},Is=xn("users",{id:Ce("id").primaryKey(),email:Ce("email").unique().notNull(),senha:Ce("senha").notNull(),nome:Ce("nome").notNull(),plano:Ce("plano").default("free"),is_admin:Ce("is_admin").default("false"),data_criacao:Ce("data_criacao"),data_expiracao_trial:Ce("data_expiracao_trial"),data_expiracao_plano:Ce("data_expiracao_plano"),status:Ce("status").default("ativo"),cpf_cnpj:Ce("cpf_cnpj"),telefone:Ce("telefone"),endereco:Ce("endereco"),asaas_customer_id:Ce("asaas_customer_id"),permissoes:Ce("permissoes"),ultimo_acesso:Ce("ultimo_acesso"),max_funcionarios:wr("max_funcionarios").default(1),max_funcionarios_base:wr("max_funcionarios_base").default(1),data_expiracao_pacote_funcionarios:Ce("data_expiracao_pacote_funcionarios"),meta_mensal:la("meta_mensal").default(15e3)}),VHe=xn("system_owner",{id:gl("id").primaryKey(),owner_user_id:Ce("owner_user_id").notNull().unique().references(()=>Is.id),data_configuracao:Ce("data_configuracao").notNull(),observacoes:Ce("observacoes")}),WHe=xn("produtos",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),user_id:Ce("user_id").notNull(),nome:Ce("nome").notNull(),categoria:Ce("categoria").notNull(),preco:la("preco").notNull(),quantidade:wr("quantidade").notNull(),estoque_minimo:wr("estoque_minimo").notNull(),codigo_barras:Ce("codigo_barras"),vencimento:Ce("vencimento")}),HHe=xn("bloqueios_estoque",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),produto_id:wr("produto_id").notNull(),orcamento_id:wr("orcamento_id").notNull(),user_id:Ce("user_id").notNull(),quantidade_bloqueada:wr("quantidade_bloqueada").notNull(),data_bloqueio:Ce("data_bloqueio").notNull()}),GHe=xn("vendas",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),user_id:Ce("user_id").notNull(),produto:Ce("produto").notNull(),quantidade_vendida:wr("quantidade_vendida").notNull().default(0),valor_total:la("valor_total").notNull().default(0),data:Ce("data").notNull(),itens:Ce("itens"),cliente_id:wr("cliente_id"),forma_pagamento:Ce("forma_pagamento"),orcamento_id:wr("orcamento_id"),vendedor:Ce("vendedor")}),KHe=xn("fornecedores",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),user_id:Ce("user_id").notNull(),nome:Ce("nome").notNull(),cnpj:Ce("cnpj"),telefone:Ce("telefone"),email:Ce("email"),endereco:Ce("endereco"),observacoes:Ce("observacoes"),data_cadastro:Ce("data_cadastro").notNull()}),YHe=xn("clientes",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),user_id:Ce("user_id").notNull(),nome:Ce("nome").notNull(),cpf_cnpj:Ce("cpf_cnpj"),telefone:Ce("telefone"),email:Ce("email"),endereco:Ce("endereco"),observacoes:Ce("observacoes"),percentual_desconto:la("percentual_desconto"),data_cadastro:Ce("data_cadastro").notNull()}),XHe=xn("compras",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),user_id:Ce("user_id").notNull(),fornecedor_id:wr("fornecedor_id").notNull(),produto_id:wr("produto_id").notNull(),quantidade:wr("quantidade").notNull(),valor_unitario:la("valor_unitario").notNull(),valor_total:la("valor_total").notNull(),data:Ce("data").notNull(),observacoes:Ce("observacoes")}),QHe=xn("config_fiscal",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),user_id:Ce("user_id").notNull(),cnpj:Ce("cnpj").notNull(),razao_social:Ce("razao_social").notNull(),focus_nfe_api_key:Ce("focus_nfe_api_key").notNull(),ambiente:Ce("ambiente").notNull().default("homologacao"),updated_at:Ce("updated_at").notNull()}),ZHe=xn("contas_pagar",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),user_id:Ce("user_id").notNull(),descricao:Ce("descricao").notNull(),valor:la("valor").notNull(),data_vencimento:Ce("data_vencimento").notNull(),data_pagamento:Ce("data_pagamento"),categoria:Ce("categoria"),status:Ce("status").default("pendente"),data_cadastro:Ce("data_cadastro").notNull()}),JHe=xn("contas_receber",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),user_id:Ce("user_id").notNull(),descricao:Ce("descricao").notNull(),valor:la("valor").notNull(),data_vencimento:Ce("data_vencimento").notNull(),data_recebimento:Ce("data_recebimento"),categoria:Ce("categoria"),status:Ce("status").default("pendente"),data_cadastro:Ce("data_cadastro").notNull()}),eGe=xn("system_config",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),chave:Ce("chave").notNull().unique(),valor:Ce("valor").notNull(),updated_at:Ce("updated_at").notNull()});vn(Is).omit({id:!0,data_criacao:!0}).extend({email:bt.string().email("Email invlido").toLowerCase(),senha:bt.string().min(8,"Senha deve ter no mnimo 8 caracteres").regex(/[A-Z]/,"Senha deve conter pelo menos uma letra maiscula").regex(/[0-9]/,"Senha deve conter pelo menos um nmero").regex(/[^A-Za-z0-9]/,"Senha deve conter pelo menos um caractere especial"),nome:bt.string().min(3,"Nome deve ter no mnimo 3 caracteres").max(100),meta_mensal:bt.number().optional()});vn(VHe).omit({id:!0}).extend({owner_user_id:bt.string().min(1,"ID do usurio  obrigatrio"),data_configuracao:bt.string().optional()});vn(WHe).omit({id:!0}).extend({preco:bt.coerce.number().positive(),quantidade:bt.coerce.number().int().min(0),estoque_minimo:bt.coerce.number().int().min(0)});vn(GHe).omit({id:!0}).extend({quantidade_vendida:bt.coerce.number().int().positive(),valor_total:bt.coerce.number().positive()});vn(HHe).omit({id:!0,data_bloqueio:!0}).extend({produto_id:bt.number().int().positive(),orcamento_id:bt.number().int().positive(),quantidade_bloqueada:bt.number().int().positive()});vn(KHe).omit({id:!0});vn(YHe).omit({id:!0}).extend({data_cadastro:bt.string().optional()});vn(XHe).omit({id:!0}).extend({quantidade:bt.coerce.number().int().positive(),valor_unitario:bt.coerce.number().positive(),valor_total:bt.coerce.number().positive(),fornecedor_id:bt.number().int().positive(),produto_id:bt.number().int().positive()});const tGe=vn(QHe).omit({id:!0,updated_at:!0}).extend({cnpj:bt.string().min(14,"CNPJ invlido"),razao_social:bt.string().min(1,"Razo social  obrigatria"),focus_nfe_api_key:bt.string().min(1,"Chave API  obrigatria"),ambiente:bt.enum(["homologacao","producao"]).default("homologacao")}),rGe=xn("planos",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),nome:Ce("nome").notNull(),preco:la("preco").notNull(),duracao_dias:wr("duracao_dias").notNull(),descricao:Ce("descricao"),ativo:Ce("ativo").notNull().default("true"),data_criacao:Ce("data_criacao").notNull()}),nGe=xn("config_mercadopago",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),access_token:Ce("access_token").notNull(),public_key:Ce("public_key"),webhook_url:Ce("webhook_url"),ultima_sincronizacao:Ce("ultima_sincronizacao"),status_conexao:Ce("status_conexao").default("desconectado"),updated_at:Ce("updated_at").notNull()}),aGe=xn("logs_admin",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),usuario_id:Ce("usuario_id").notNull(),conta_id:Ce("conta_id").notNull(),acao:Ce("acao").notNull(),detalhes:Ce("detalhes"),data:Ce("data").notNull(),ip_address:Ce("ip_address"),user_agent:Ce("user_agent")}),Dae=xn("subscriptions",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),user_id:Ce("user_id").notNull(),plano:Ce("plano").notNull(),status:Ce("status").notNull().default("pendente"),valor:la("valor").notNull().default(0),data_inicio:Ce("data_inicio"),data_vencimento:Ce("data_vencimento"),mercadopago_payment_id:Ce("mercadopago_payment_id"),mercadopago_preference_id:Ce("mercadopago_preference_id"),forma_pagamento:Ce("forma_pagamento"),status_pagamento:Ce("status_pagamento"),init_point:Ce("init_point"),external_reference:Ce("external_reference"),prazo_limite_pagamento:Ce("prazo_limite_pagamento"),tentativas_cobranca:wr("tentativas_cobranca").default(0),motivo_cancelamento:Ce("motivo_cancelamento"),data_criacao:Ce("data_criacao").notNull(),data_atualizacao:Ce("data_atualizacao")});vn(rGe).omit({id:!0,data_criacao:!0});vn(nGe).omit({id:!0,updated_at:!0});vn(aGe).omit({id:!0});vn(ZHe).omit({id:!0,data_cadastro:!0});vn(JHe).omit({id:!0,data_cadastro:!0});vn(eGe).omit({id:!0});vn(Dae).omit({id:!0,data_criacao:!0});const iGe=xn("funcionarios",{id:Ce("id").primaryKey(),conta_id:Ce("conta_id").notNull(),nome:Ce("nome").notNull(),email:Ce("email").notNull(),senha:Ce("senha").notNull(),cargo:Ce("cargo"),status:Ce("status").notNull().default("ativo"),data_criacao:Ce("data_criacao")});vn(iGe);const sGe=xn("permissoes_funcionarios",{id:gl("id").primaryKey(),funcionario_id:Ce("funcionario_id").notNull(),dashboard:Ce("dashboard").notNull().default("false"),pdv:Ce("pdv").notNull().default("false"),caixa:Ce("caixa").notNull().default("false"),produtos:Ce("produtos").notNull().default("false"),inventario:Ce("inventario").notNull().default("false"),relatorios:Ce("relatorios").notNull().default("false"),clientes:Ce("clientes").notNull().default("false"),fornecedores:Ce("fornecedores").notNull().default("false"),financeiro:Ce("financeiro").notNull().default("false"),config_fiscal:Ce("config_fiscal").notNull().default("false"),historico_caixas:Ce("historico_caixas").notNull().default("false"),configuracoes:Ce("configuracoes").notNull().default("false"),devolucoes:Ce("devolucoes").notNull().default("false"),contas_pagar:Ce("contas_pagar").notNull().default("false"),contas_receber:Ce("contas_receber").notNull().default("false"),orcamentos:Ce("orcamentos").notNull().default("false")});vn(sGe);const oGe=xn("caixas",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),user_id:Ce("user_id").notNull(),funcionario_id:Ce("funcionario_id"),data_abertura:Ce("data_abertura").notNull(),data_fechamento:Ce("data_fechamento"),saldo_inicial:la("saldo_inicial").notNull().default(0),saldo_final:la("saldo_final"),total_vendas:la("total_vendas").notNull().default(0),total_retiradas:la("total_retiradas").notNull().default(0),total_suprimentos:la("total_suprimentos").notNull().default(0),status:Ce("status").notNull().default("aberto"),observacoes_abertura:Ce("observacoes_abertura"),observacoes_fechamento:Ce("observacoes_fechamento")}),lGe=xn("movimentacoes_caixa",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),caixa_id:wr("caixa_id").notNull(),user_id:Ce("user_id").notNull(),tipo:Ce("tipo").notNull(),valor:la("valor").notNull(),descricao:Ce("descricao"),data:Ce("data").notNull()}),cGe=xn("devolucoes",{id:wr("id").primaryKey().generatedAlwaysAsIdentity(),user_id:Ce("user_id").notNull(),venda_id:wr("venda_id"),produto_id:wr("produto_id").notNull(),produto_nome:Ce("produto_nome").notNull(),quantidade:wr("quantidade").notNull(),valor_total:la("valor_total").notNull(),motivo:Ce("motivo").notNull(),status:Ce("status").notNull().default("pendente"),data_devolucao:Ce("data_devolucao").notNull(),observacoes:Ce("observacoes"),cliente_nome:Ce("cliente_nome"),operador_nome:Ce("operador_nome"),operador_id:Ce("operador_id")});vn(oGe).omit({id:!0}).extend({saldo_inicial:bt.coerce.number().min(0),status:bt.enum(["aberto","fechado","arquivado"]).default("aberto").optional()});vn(lGe).omit({id:!0}).extend({valor:bt.coerce.number().positive(),tipo:bt.enum(["suprimento","retirada"])});vn(cGe).omit({id:!0}).extend({quantidade:bt.coerce.number().int().positive(),valor_total:bt.coerce.number().positive(),status:bt.enum(["pendente","aprovada","rejeitada","arquivada"]).default("pendente")});const uGe=xn("orcamentos",{id:gl("id").primaryKey(),user_id:Ce("user_id").notNull(),numero:Ce("numero").notNull(),cliente_id:wr("cliente_id"),cliente_nome:Ce("cliente_nome").notNull(),cliente_email:Ce("cliente_email"),cliente_telefone:Ce("cliente_telefone"),cliente_cpf_cnpj:Ce("cliente_cpf_cnpj"),cliente_endereco:Ce("cliente_endereco"),itens:Rx("itens").notNull(),subtotal:la("subtotal").notNull(),desconto:la("desconto").notNull().default(0),valor_total:la("valor_total").notNull(),observacoes:Ce("observacoes"),condicoes_pagamento:Ce("condicoes_pagamento"),prazo_entrega:Ce("prazo_entrega"),validade:Ce("validade").notNull(),status:Ce("status").notNull(),data_criacao:Ce("data_criacao").notNull(),data_atualizacao:Ce("data_atualizacao"),vendedor:Ce("vendedor"),venda_id:wr("venda_id")});vn(uGe).omit({id:!0,numero:!0,data_criacao:!0,data_atualizacao:!0}).extend({user_id:bt.string().optional(),cliente_nome:bt.string().min(1,"Nome do cliente  obrigatrio"),cliente_email:bt.string().email().optional().or(bt.literal("")).nullable(),cliente_telefone:bt.string().optional().nullable(),cliente_cpf_cnpj:bt.string().optional().nullable(),cliente_endereco:bt.string().optional().nullable(),validade:bt.string().optional().nullable(),status:bt.enum(["pendente","aprovado","rejeitado","convertido","arquivado"]).optional(),subtotal:bt.coerce.number().min(0),desconto:bt.coerce.number().min(0).default(0),valor_total:bt.coerce.number().min(0),observacoes:bt.string().optional().nullable(),condicoes_pagamento:bt.string().optional().nullable(),prazo_entrega:bt.string().optional().nullable(),itens:bt.array(bt.object({produto_id:bt.number(),nome:bt.string(),preco:bt.number(),quantidade:bt.number()})).min(1,"Adicione pelo menos um item")});const dGe=xn("client_notes",{id:gl("id").primaryKey(),user_id:Ce("user_id").notNull().references(()=>Is.id),admin_id:Ce("admin_id").notNull().references(()=>Is.id),content:Ce("content").notNull(),created_at:Od("created_at",{withTimezone:!0}).notNull().defaultNow(),updated_at:Od("updated_at",{withTimezone:!0})},e=>({userIdCreatedAtIdx:Vl("client_notes_user_id_created_at_idx").on(e.user_id,e.created_at)})),fGe=xn("client_documents",{id:gl("id").primaryKey(),user_id:Ce("user_id").notNull().references(()=>Is.id),admin_id:Ce("admin_id").notNull().references(()=>Is.id),file_name:Ce("file_name").notNull(),file_url:Ce("file_url").notNull(),file_type:Ce("file_type").notNull(),file_size:wr("file_size"),description:Ce("description"),uploaded_at:Od("uploaded_at",{withTimezone:!0}).notNull().defaultNow()},e=>({userIdUploadedAtIdx:Vl("client_documents_user_id_uploaded_at_idx").on(e.user_id,e.uploaded_at)})),hGe=xn("client_interactions",{id:gl("id").primaryKey(),user_id:Ce("user_id").notNull().references(()=>Is.id),admin_id:Ce("admin_id").references(()=>Is.id),interaction_type:Ce("interaction_type").notNull(),description:Ce("description").notNull(),metadata:Rx("metadata"),created_at:Od("created_at",{withTimezone:!0}).notNull().defaultNow()},e=>({userIdCreatedAtIdx:Vl("client_interactions_user_id_created_at_idx").on(e.user_id,e.created_at)})),mGe=xn("plan_changes_history",{id:gl("id").primaryKey(),user_id:Ce("user_id").notNull().references(()=>Is.id),from_plan:Ce("from_plan"),to_plan:Ce("to_plan").notNull(),changed_by:Ce("changed_by").notNull().references(()=>Is.id),reason:Ce("reason"),metadata:Rx("metadata"),changed_at:Od("changed_at",{withTimezone:!0}).notNull().defaultNow()},e=>({userIdChangedAtIdx:Vl("plan_changes_history_user_id_changed_at_idx").on(e.user_id,e.changed_at)})),pGe=xn("employee_packages",{id:gl("id").primaryKey(),user_id:Ce("user_id").notNull().references(()=>Is.id),package_type:Ce("package_type").notNull(),quantity:wr("quantity").notNull(),price:la("price").notNull(),status:Ce("status").notNull().default("ativo"),payment_id:Ce("payment_id"),data_compra:Ce("data_compra").notNull(),data_vencimento:Ce("data_vencimento").notNull(),data_cancelamento:Ce("data_cancelamento")},e=>({userIdIdx:Vl("employee_packages_user_id_idx").on(e.user_id),statusIdx:Vl("employee_packages_status_idx").on(e.status)})),Iae=xn("cupons",{id:gl("id").primaryKey(),codigo:Ce("codigo").notNull().unique(),tipo:Ce("tipo").notNull(),valor:la("valor").notNull(),planos_aplicaveis:Rx("planos_aplicaveis"),data_inicio:Ce("data_inicio").notNull(),data_expiracao:Ce("data_expiracao").notNull(),quantidade_maxima:wr("quantidade_maxima"),quantidade_utilizada:wr("quantidade_utilizada").notNull().default(0),status:Ce("status").notNull().default("ativo"),descricao:Ce("descricao"),criado_por:Ce("criado_por").notNull().references(()=>Is.id),data_criacao:Ce("data_criacao").notNull(),data_atualizacao:Ce("data_atualizacao")},e=>({codigoIdx:Vl("cupons_codigo_idx").on(e.codigo),statusIdx:Vl("cupons_status_idx").on(e.status)})),gGe=xn("uso_cupons",{id:gl("id").primaryKey(),cupom_id:wr("cupom_id").notNull().references(()=>Iae.id),user_id:Ce("user_id").notNull().references(()=>Is.id),subscription_id:wr("subscription_id").references(()=>Dae.id),valor_desconto:la("valor_desconto").notNull(),data_uso:Ce("data_uso").notNull()},e=>({cupomIdIdx:Vl("uso_cupons_cupom_id_idx").on(e.cupom_id),userIdIdx:Vl("uso_cupons_user_id_idx").on(e.user_id)}));vn(pGe).omit({id:!0,data_compra:!0});vn(Iae).omit({id:!0,data_criacao:!0,data_atualizacao:!0,quantidade_utilizada:!0}).extend({codigo:bt.string().min(3,"Cdigo deve ter pelo menos 3 caracteres").max(50),tipo:bt.enum(["percentual","valor_fixo"]),valor:bt.number().positive("Valor deve ser positivo"),status:bt.enum(["ativo","inativo","expirado"]).default("ativo")});vn(gGe).omit({id:!0,data_uso:!0});const xGe=xn("user_customization",{id:gl("id").primaryKey(),user_id:Ce("user_id").notNull().unique().references(()=>Is.id),logo_url:Ce("logo_url"),pdv_background_url:Ce("pdv_background_url"),primary_color:Ce("primary_color").default("#3B82F6"),secondary_color:Ce("secondary_color").default("#10B981"),accent_color:Ce("accent_color").default("#F59E0B"),background_color:Ce("background_color").default("#000000"),store_name:Ce("store_name").default("Pavisoft Sistemas"),font_size:Ce("font_size").default("medium"),border_radius:Ce("border_radius").default("medium"),language:Ce("language").default("pt-BR"),currency:Ce("currency").default("BRL"),date_format:Ce("date_format").default("DD/MM/YYYY"),enable_animations:Ce("enable_animations").default("true"),enable_sounds:Ce("enable_sounds").default("false"),compact_mode:Ce("compact_mode").default("false"),show_welcome_message:Ce("show_welcome_message").default("true"),auto_save_interval:wr("auto_save_interval").default(30),low_stock_threshold:wr("low_stock_threshold").default(10),items_per_page:wr("items_per_page").default(10),enable_notifications:Ce("enable_notifications").default("true"),enable_email_alerts:Ce("enable_email_alerts").default("false"),email_for_alerts:Ce("email_for_alerts"),created_at:Od("created_at",{withTimezone:!0}).notNull().defaultNow(),updated_at:Od("updated_at",{withTimezone:!0}).notNull().defaultNow()},e=>({userIdIdx:Vl("user_customization_user_id_idx").on(e.user_id)}));vn(xGe).omit({id:!0,created_at:!0,updated_at:!0}).extend({logo_url:bt.string().optional().nullable(),pdv_background_url:bt.string().optional().nullable(),primary_color:bt.string().optional(),secondary_color:bt.string().optional(),accent_color:bt.string().optional(),background_color:bt.string().optional(),store_name:bt.string().optional(),font_size:bt.enum(["small","medium","large","xlarge"]).optional(),border_radius:bt.enum(["none","small","medium","large","xlarge"]).optional(),language:bt.string().optional(),currency:bt.string().optional(),date_format:bt.string().optional(),enable_animations:bt.string().optional(),enable_sounds:bt.string().optional(),compact_mode:bt.string().optional(),show_welcome_message:bt.string().optional(),auto_save_interval:bt.number().optional(),low_stock_threshold:bt.number().optional(),items_per_page:bt.number().optional(),enable_notifications:bt.string().optional(),enable_email_alerts:bt.string().optional(),email_for_alerts:bt.string().optional().nullable()});const vGe=xn("client_communications",{id:gl("id").primaryKey(),user_id:Ce("user_id").notNull().references(()=>Is.id),admin_id:Ce("admin_id").notNull().references(()=>Is.id),type:Ce("type").notNull(),subject:Ce("subject"),content:Ce("content").notNull(),metadata:Rx("metadata"),sent_at:Od("sent_at",{withTimezone:!0}).notNull().defaultNow()},e=>({userIdSentAtIdx:Vl("client_communications_user_id_sent_at_idx").on(e.user_id,e.sent_at)}));vn(dGe).omit({id:!0,created_at:!0,updated_at:!0});vn(fGe).omit({id:!0,uploaded_at:!0});vn(hGe).omit({id:!0,created_at:!0});vn(mGe).omit({id:!0,changed_at:!0});vn(vGe).omit({id:!0,sent_at:!0});function yGe(){const{toast:e}=Qr(),[t,r]=N.useState(!1),{data:n,isLoading:a}=ir({queryKey:["/api/config-fiscal"]}),s=rX({resolver:aX(tGe),defaultValues:{cnpj:"",razao_social:"",focus_nfe_api_key:"",ambiente:"homologacao"}});N.useEffect(()=>{n&&s.reset({cnpj:n.cnpj||"",razao_social:n.razao_social||"",focus_nfe_api_key:"",ambiente:n.ambiente||"homologacao"})},[n,s]);const o=rr({mutationFn:async u=>{const d=await fetch("/api/config-fiscal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!d.ok){const f=await d.json();throw new Error(f.error||"Erro ao salvar configurao")}return d.json()},onSuccess:()=>{Gs.invalidateQueries({queryKey:["/api/config-fiscal"]}),e({title:"Configurao salva!",description:"As configuraes fiscais foram salvas com sucesso."})},onError:u=>{e({title:"Erro ao salvar",description:u.message||"No foi possvel salvar as configuraes.",variant:"destructive"})}}),l=u=>{o.mutate(u)},c=u=>u.replace(/\D/g,"").replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5");return a?i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Configuraes Fiscais"}),i.jsx("p",{children:"Carregando..."})]}):i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent animate-in slide-in-from-left duration-700",children:"Configuraes Fiscais"}),i.jsx("p",{className:"text-sm text-muted-foreground animate-in slide-in-from-left duration-700 delay-100",children:"Configure a emisso de notas fiscais com Focus NFe"})]}),i.jsxs($i,{className:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20 animate-in slide-in-from-top duration-700",children:[i.jsx(ji,{className:"h-5 w-5 text-yellow-600"}),i.jsx(wo,{className:"text-yellow-900 dark:text-yellow-200",children:"Importante - Leia antes de configurar"}),i.jsxs(Bi,{className:"text-yellow-800 dark:text-yellow-300 space-y-2",children:[i.jsxs("p",{children:["Para emitir notas fiscais, voc precisa criar uma conta na"," ",i.jsxs("a",{href:"https://focusnfe.com.br",target:"_blank",rel:"noopener noreferrer",className:"font-semibold underline inline-flex items-center gap-1 hover:text-yellow-950 dark:hover:text-yellow-100","data-testid":"link-focus-nfe",children:["Focus NFe",i.jsx(X1,{className:"h-3 w-3"})]})," ","e inserir sua chave API aqui."]}),i.jsx("p",{className:"font-semibold",children:" Voc ser responsvel pelas taxas cobradas pela Focus NFe e pela validade fiscal das notas emitidas."}),i.jsx("p",{className:"text-sm",children:"O sistema utiliza suas credenciais para emitir notas em seu nome. No nos responsabilizamos por custos ou questes fiscais."})]})]}),i.jsx(xX,{...s,children:i.jsxs("form",{onSubmit:s.handleSubmit(l),className:"space-y-6",children:[i.jsxs(Ae,{className:"backdrop-blur-sm bg-card/80 border-2 border-primary/10 shadow-xl hover:shadow-2xl transition-all duration-500 hover:border-primary/30 animate-in slide-in-from-bottom duration-700",children:[i.jsxs(qe,{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 rounded-t-lg",children:[i.jsxs(Ue,{className:"flex items-center gap-2 text-lg",children:[i.jsx(ai,{className:"h-5 w-5 text-primary"}),"Dados da Empresa"]}),i.jsx(Ht,{children:"Informaes para emisso de notas fiscais"})]}),i.jsxs(Pe,{className:"space-y-4 pt-6",children:[i.jsx(Ju,{control:s.control,name:"razao_social",render:({field:u})=>i.jsxs(ru,{children:[i.jsx(nd,{children:"Razo Social"}),i.jsx(nu,{children:i.jsx(Ze,{...u,placeholder:"Nome da sua empresa","data-testid":"input-razao-social"})}),i.jsx(Gv,{children:"Nome oficial da empresa conforme CNPJ"}),i.jsx(Ff,{})]})}),i.jsx(Ju,{control:s.control,name:"cnpj",render:({field:u})=>i.jsxs(ru,{children:[i.jsx(nd,{children:"CNPJ"}),i.jsx(nu,{children:i.jsx(Ze,{...u,placeholder:"00.000.000/0000-00",maxLength:18,onChange:d=>{const f=c(d.target.value);u.onChange(f)},"data-testid":"input-cnpj"})}),i.jsx(Gv,{children:"CNPJ da empresa (somente nmeros ou formatado)"}),i.jsx(Ff,{})]})})]})]}),i.jsxs(Ae,{className:"backdrop-blur-sm bg-card/80 border-2 border-accent/10 shadow-xl hover:shadow-2xl transition-all duration-500 hover:border-accent/30 animate-in slide-in-from-bottom duration-700 delay-100",children:[i.jsxs(qe,{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-950/20 dark:to-pink-950/20 rounded-t-lg",children:[i.jsxs(Ue,{className:"flex items-center gap-2 text-lg",children:[i.jsx(_o,{className:"h-5 w-5 text-accent"}),"Credenciais Focus NFe"]}),i.jsx(Ht,{children:"Configure sua integrao com a API da Focus NFe"})]}),i.jsxs(Pe,{className:"space-y-4 pt-6",children:[i.jsx(Ju,{control:s.control,name:"focus_nfe_api_key",render:({field:u})=>i.jsxs(ru,{children:[i.jsx(nd,{children:"Chave API Focus NFe"}),i.jsx(nu,{children:i.jsxs("div",{className:"relative",children:[i.jsx(Ze,{...u,type:t?"text":"password",placeholder:n!=null&&n.focus_nfe_api_key?"":"Insira sua chave API","data-testid":"input-api-key"}),i.jsx(ye,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>r(!t),"data-testid":"button-toggle-api-key",children:t?"Ocultar":"Mostrar"})]})}),i.jsx(Gv,{children:"Chave de API obtida no painel da Focus NFe"}),i.jsx(Ff,{})]})}),i.jsx(Ju,{control:s.control,name:"ambiente",render:({field:u})=>i.jsxs(ru,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(nd,{className:"text-base",children:"Ambiente de Produo"}),i.jsx(Gv,{children:"Ativar para emitir notas fiscais reais. Deixe desativado para testes."})]}),i.jsx(nu,{children:i.jsx(po,{checked:u.value==="producao",onCheckedChange:d=>u.onChange(d?"producao":"homologacao"),"data-testid":"switch-ambiente"})})]})}),s.watch("ambiente")==="producao"&&i.jsxs($i,{className:"border-red-500 bg-red-50 dark:bg-red-900/20",children:[i.jsx(ji,{className:"h-4 w-4 text-red-600"}),i.jsx(wo,{className:"text-red-900 dark:text-red-200",children:"Modo Produo Ativado"}),i.jsx(Bi,{className:"text-red-800 dark:text-red-300",children:"As notas emitidas tero validade fiscal e voc ser cobrado por cada nota."})]})]})]}),i.jsx("div",{className:"flex gap-4",children:i.jsxs(ye,{type:"submit",size:"lg",className:"flex-1",disabled:o.isPending,"data-testid":"button-save-config",children:[i.jsx(IT,{className:"h-4 w-4 mr-2"}),o.isPending?"Salvando...":"Salvar Configuraes"]})}),n&&i.jsxs($i,{className:"border-green-500 bg-green-50 dark:bg-green-900/20",children:[i.jsx(ma,{className:"h-4 w-4 text-green-600"}),i.jsx(wo,{className:"text-green-900 dark:text-green-200",children:"Configurao Ativa"}),i.jsxs(Bi,{className:"text-green-800 dark:text-green-300",children:["Sistema configurado e pronto para emitir notas fiscais.",n.ambiente==="homologacao"?" (Ambiente de Homologao)":" (Ambiente de Produo)"]})]})]})})]})}function bGe(){const[e,t]=N.useState(!1),[r,n]=N.useState(!1),[a,s]=N.useState(!1),[o,l]=N.useState(null),[c,u]=N.useState(null),[d,f]=N.useState(null),[h,m]=N.useState(new Set),[g,p]=N.useState(""),{toast:x}=Qr(),v=Ya(),{data:y=[],isLoading:b}=ir({queryKey:["/api/fornecedores"]}),{data:j=[]}=ir({queryKey:["/api/compras"]}),{data:_=[]}=ir({queryKey:["/api/produtos"]}),P=rr({mutationFn:async K=>(await oa("POST","/api/fornecedores",K)).json(),onSuccess:()=>{v.invalidateQueries({queryKey:["/api/fornecedores"]}),t(!1),x({title:"Fornecedor cadastrado com sucesso!"})}}),k=rr({mutationFn:async({id:K,data:ae})=>(await oa("PUT",`/api/fornecedores/${K}`,ae)).json(),onSuccess:()=>{v.invalidateQueries({queryKey:["/api/fornecedores"]}),t(!1),l(null),x({title:"Fornecedor atualizado com sucesso!"})}}),S=rr({mutationFn:async K=>(await oa("DELETE",`/api/fornecedores/${K}`)).json(),onSuccess:()=>{v.invalidateQueries({queryKey:["/api/fornecedores"]}),x({title:"Fornecedor removido com sucesso!"})}}),E=rr({mutationFn:async K=>(await oa("POST","/api/compras",K)).json(),onSuccess:()=>{v.invalidateQueries({queryKey:["/api/compras"]}),v.invalidateQueries({queryKey:["/api/produtos"]}),n(!1),p(""),x({title:"Compra registrada com sucesso!"})},onError:K=>{x({title:"Erro ao registrar compra",description:K.message,variant:"destructive"})}}),M=rr({mutationFn:async({id:K,data:ae})=>(await oa("PUT",`/api/compras/${K}`,ae)).json(),onSuccess:()=>{v.invalidateQueries({queryKey:["/api/compras"]}),v.invalidateQueries({queryKey:["/api/produtos"]}),s(!1),u(null),x({title:"Compra atualizada com sucesso!"})},onError:K=>{x({title:"Erro ao atualizar compra",description:K.message,variant:"destructive"})}}),T=K=>{K.preventDefault();const ae=new FormData(K.currentTarget),ie={nome:ae.get("nome"),cnpj:ae.get("cnpj"),telefone:ae.get("telefone"),email:ae.get("email"),endereco:ae.get("endereco"),observacoes:ae.get("observacoes")};o?k.mutate({id:o.id,data:ie}):P.mutate(ie)},C=K=>{if(K.preventDefault(),!g){x({title:"Produto no selecionado",description:"Por favor, selecione um produto antes de registrar a compra.",variant:"destructive"});return}const ae=new FormData(K.currentTarget),ie=parseInt(ae.get("quantidade")),O=parseFloat(ae.get("valor_unitario")),V={fornecedor_id:d==null?void 0:d.id,produto_id:parseInt(g),quantidade:ie,valor_unitario:O,valor_total:ie*O,observacoes:ae.get("observacoes")};E.mutate(V)},I=K=>{if(K.preventDefault(),!c)return;const ae=new FormData(K.currentTarget),ie=parseInt(ae.get("quantidade")),O=parseFloat(ae.get("valor_unitario")),V={quantidade:ie,valor_unitario:O,valor_total:ie*O,observacoes:ae.get("observacoes")};M.mutate({id:c.id,data:V})},L=K=>j.filter(ae=>ae.fornecedor_id===K),z=K=>L(K).reduce((ie,O)=>ie+(O.valor_total||0),0),G=K=>{const ae=L(K),ie=new Set(ae.map(O=>O.produto_id));return _.filter(O=>ie.has(O.id))},W=K=>{m(ae=>{const ie=new Set(ae);return ie.has(K)?ie.delete(K):ie.add(K),ie})},q=K=>{const ae=_.find(ie=>ie.id===K);return(ae==null?void 0:ae.nome)||"Produto no encontrado"};return b?i.jsx("div",{children:"Carregando..."}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent","data-testid":"text-title",children:"Fornecedores"}),i.jsx("p",{className:"text-muted-foreground text-lg",children:"Gerencie seus fornecedores e histrico de compras"})]}),i.jsxs(kr,{open:e,onOpenChange:t,children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{onClick:()=>l(null),"data-testid":"button-novo-fornecedor",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[i.jsx(zl,{className:"h-4 w-4 mr-2"}),"Novo Fornecedor"]})}),i.jsxs(Sr,{className:"max-w-2xl border-t-4 border-t-blue-600",children:[i.jsx(yr,{children:i.jsx(br,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:o?"Editar Fornecedor":"Novo Fornecedor"})}),i.jsxs("form",{onSubmit:T,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"nome",children:"Nome *"}),i.jsx(Ze,{id:"nome",name:"nome",defaultValue:o==null?void 0:o.nome,required:!0,"data-testid":"input-nome-fornecedor",disabled:P.isPending||k.isPending})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"cnpj",children:"CNPJ"}),i.jsx(Ze,{id:"cnpj",name:"cnpj",defaultValue:(o==null?void 0:o.cnpj)||"","data-testid":"input-cnpj",disabled:P.isPending||k.isPending})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"telefone",children:"Telefone"}),i.jsx(Ze,{id:"telefone",name:"telefone",defaultValue:(o==null?void 0:o.telefone)||"","data-testid":"input-telefone",disabled:P.isPending||k.isPending})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"email",children:"Email"}),i.jsx(Ze,{id:"email",name:"email",type:"email",defaultValue:(o==null?void 0:o.email)||"","data-testid":"input-email-fornecedor",disabled:P.isPending||k.isPending})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"endereco",children:"Endereo"}),i.jsx(Ze,{id:"endereco",name:"endereco",defaultValue:(o==null?void 0:o.endereco)||"","data-testid":"input-endereco",disabled:P.isPending||k.isPending})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"observacoes",children:"Observaes"}),i.jsx(Es,{id:"observacoes",name:"observacoes",defaultValue:(o==null?void 0:o.observacoes)||"","data-testid":"input-observacoes-fornecedor",disabled:P.isPending||k.isPending})]}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(ye,{type:"button",variant:"outline",onClick:()=>t(!1),"data-testid":"button-cancelar-fornecedor",disabled:P.isPending||k.isPending,children:"Cancelar"}),i.jsx(ye,{type:"submit","data-testid":"button-salvar-fornecedor",disabled:P.isPending||k.isPending,children:P.isPending||k.isPending?"Salvando...":"Salvar"})]})]})]})]})]}),i.jsx(kr,{open:r,onOpenChange:n,children:i.jsxs(Sr,{className:"max-w-2xl border-t-4 border-t-green-600",children:[i.jsx(yr,{children:i.jsxs(br,{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:["Registrar Compra - ",d==null?void 0:d.nome]})}),i.jsxs("form",{onSubmit:C,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"produto_id",children:"Produto *"}),i.jsxs(Cr,{value:g,onValueChange:p,required:!0,disabled:E.isPending,children:[i.jsx(Nr,{"data-testid":"select-produto-compra",children:i.jsx(Er,{placeholder:"Selecione um produto"})}),i.jsx(_r,{children:_.map(K=>i.jsx(Je,{value:K.id.toString(),"data-testid":`option-produto-${K.id}`,children:K.nome},K.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"quantidade",children:"Quantidade *"}),i.jsx(Ze,{id:"quantidade",name:"quantidade",type:"number",min:"1",required:!0,"data-testid":"input-quantidade-compra",disabled:E.isPending})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"valor_unitario",children:"Valor Unitrio (R$) *"}),i.jsx(Ze,{id:"valor_unitario",name:"valor_unitario",type:"number",step:"0.01",min:"0",required:!0,"data-testid":"input-valor-unitario",disabled:E.isPending})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"observacoes",children:"Observaes"}),i.jsx(Es,{id:"observacoes",name:"observacoes","data-testid":"input-observacoes-compra",disabled:E.isPending})]}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(ye,{type:"button",variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancelar-compra",disabled:E.isPending,children:"Cancelar"}),i.jsx(ye,{type:"submit","data-testid":"button-salvar-compra",disabled:E.isPending,children:E.isPending?"Registrando...":"Registrar Compra"})]})]})]})}),i.jsx(kr,{open:a,onOpenChange:s,children:i.jsxs(Sr,{className:"max-w-2xl border-t-4 border-t-purple-600",children:[i.jsx(yr,{children:i.jsx(br,{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Editar Compra"})}),i.jsxs("form",{onSubmit:I,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{children:"Produto"}),i.jsx(Ze,{value:c?q(c.produto_id):"",disabled:!0,className:"bg-muted"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"edit_quantidade",children:"Quantidade *"}),i.jsx(Ze,{id:"edit_quantidade",name:"quantidade",type:"number",min:"1",defaultValue:(c==null?void 0:c.quantidade)||"",required:!0,"data-testid":"input-edit-quantidade-compra",disabled:M.isPending})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"edit_valor_unitario",children:"Valor Unitrio (R$) *"}),i.jsx(Ze,{id:"edit_valor_unitario",name:"valor_unitario",type:"number",step:"0.01",min:"0",defaultValue:(c==null?void 0:c.valor_unitario)||"",required:!0,"data-testid":"input-edit-valor-unitario",disabled:M.isPending})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"edit_observacoes",children:"Observaes"}),i.jsx(Es,{id:"edit_observacoes",name:"observacoes",defaultValue:(c==null?void 0:c.observacoes)||"","data-testid":"input-edit-observacoes-compra",disabled:M.isPending})]}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(ye,{type:"button",variant:"outline",onClick:()=>{s(!1),u(null)},"data-testid":"button-cancelar-edit-compra",disabled:M.isPending,children:"Cancelar"}),i.jsx(ye,{type:"submit","data-testid":"button-salvar-edit-compra",disabled:M.isPending,children:M.isPending?"Salvando...":"Salvar Alteraes"})]})]})]})}),i.jsxs(Ae,{className:"shadow-xl border-t-4 border-t-blue-600 overflow-hidden",children:[i.jsx(qe,{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20",children:i.jsx(Ue,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Lista de Fornecedores"})}),i.jsx(Pe,{className:"p-0",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 hover:from-gray-100 hover:to-gray-200 dark:hover:from-gray-800 dark:hover:to-gray-700",children:[i.jsx(Me,{className:"w-12"}),i.jsx(Me,{className:"font-bold",children:"Nome"}),i.jsx(Me,{className:"font-bold",children:"CNPJ"}),i.jsx(Me,{className:"font-bold",children:"Contato"}),i.jsx(Me,{className:"text-center font-bold",children:"Compras"}),i.jsx(Me,{className:"text-right font-bold",children:"Total Gasto"}),i.jsx(Me,{className:"text-right font-bold",children:"Aes"})]})}),i.jsx(gn,{children:y.length===0?i.jsx(Bt,{children:i.jsx(Ie,{colSpan:7,className:"text-center text-muted-foreground",children:"Nenhum fornecedor cadastrado"})}):y.map(K=>{const ae=L(K.id),ie=z(K.id),O=G(K.id),V=h.has(K.id);return i.jsxs(N.Fragment,{children:[i.jsxs(Bt,{"data-testid":`row-fornecedor-${K.id}`,children:[i.jsx(Ie,{children:i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>W(K.id),"data-testid":`button-expandir-${K.id}`,children:i.jsx(jb,{className:`h-4 w-4 transition-transform ${V?"rotate-180":""}`})})}),i.jsx(Ie,{className:"font-medium","data-testid":`text-nome-${K.id}`,children:K.nome}),i.jsx(Ie,{"data-testid":`text-cnpj-${K.id}`,children:K.cnpj||"-"}),i.jsx(Ie,{children:i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{children:K.telefone||"-"}),i.jsx("div",{className:"text-muted-foreground",children:K.email||"-"})]})}),i.jsx(Ie,{className:"text-center",children:i.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-full font-semibold text-green-700 dark:text-green-400","data-testid":`text-total-compras-${K.id}`,children:[i.jsx(Ci,{className:"h-4 w-4"}),ae.length]})}),i.jsx(Ie,{className:"text-right","data-testid":`text-total-gasto-${K.id}`,children:i.jsxs("span",{className:"font-bold text-lg bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:["R$ ",ie.toFixed(2)]})}),i.jsx(Ie,{className:"text-right",children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsxs(ye,{size:"sm",onClick:()=>{f(K),p(""),n(!0)},"data-testid":`button-compra-${K.id}`,className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white shadow-md hover:shadow-lg transition-all",children:[i.jsx(ss,{className:"h-4 w-4 mr-1"}),"Compra"]}),i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>{l(K),t(!0)},"data-testid":`button-editar-${K.id}`,className:"border-blue-600 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-950/30 shadow-sm hover:shadow-md transition-all",children:i.jsx(_d,{className:"h-4 w-4"})}),i.jsx(ye,{size:"sm",variant:"destructive",onClick:()=>{confirm("Deseja realmente excluir este fornecedor?")&&S.mutate(K.id)},"data-testid":`button-deletar-${K.id}`,className:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 shadow-md hover:shadow-lg transition-all",children:i.jsx(Ei,{className:"h-4 w-4"})})]})})]}),V&&i.jsx(Bt,{children:i.jsx(Ie,{colSpan:7,className:"bg-gradient-to-r from-blue-50/50 to-purple-50/50 dark:from-blue-950/20 dark:to-purple-950/20 border-l-4 border-l-blue-600",children:i.jsxs("div",{className:"py-6 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-lg mb-3 flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[i.jsx(Ga,{className:"h-5 w-5 text-blue-600"}),"Produtos Fornecidos (",O.length,")"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:O.length>0?O.map(D=>i.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-blue-100 to-purple-100 dark:from-blue-900/40 dark:to-purple-900/40 border border-blue-300 dark:border-blue-700 rounded-full text-sm font-medium shadow-sm hover:shadow-md transition-shadow","data-testid":`badge-produto-${D.id}`,children:D.nome},D.id)):i.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Nenhum produto fornecido ainda"})})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-lg mb-3 flex items-center gap-2 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:[i.jsx(ss,{className:"h-5 w-5 text-green-600"}),"Histrico de Compras (",ae.length,")"]}),ae.length>0?i.jsx("div",{className:"border-2 border-green-200 dark:border-green-800 rounded-xl overflow-hidden shadow-lg",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30",children:[i.jsx(Me,{className:"font-bold",children:"Data"}),i.jsx(Me,{className:"font-bold",children:"Produto"}),i.jsx(Me,{className:"text-center font-bold",children:"Quantidade"}),i.jsx(Me,{className:"text-right font-bold",children:"Valor Unitrio"}),i.jsx(Me,{className:"text-right font-bold",children:"Valor Total"}),i.jsx(Me,{className:"font-bold",children:"Observaes"}),i.jsx(Me,{className:"text-center font-bold",children:"Aes"})]})}),i.jsx(gn,{children:ae.map(D=>{var B,Q;return i.jsxs(Bt,{"data-testid":`row-compra-${D.id}`,children:[i.jsx(Ie,{"data-testid":`text-data-${D.id}`,children:D.data?Ea(new Date(D.data),"dd/MM/yyyy"):"-"}),i.jsx(Ie,{"data-testid":`text-produto-compra-${D.id}`,children:q(D.produto_id)}),i.jsx(Ie,{className:"text-center","data-testid":`text-quantidade-${D.id}`,children:D.quantidade}),i.jsxs(Ie,{className:"text-right","data-testid":`text-valor-unitario-${D.id}`,children:["R$ ",(B=D.valor_unitario)==null?void 0:B.toFixed(2)]}),i.jsx(Ie,{className:"text-right","data-testid":`text-valor-total-${D.id}`,children:i.jsxs("span",{className:"font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:["R$ ",(Q=D.valor_total)==null?void 0:Q.toFixed(2)]})}),i.jsx(Ie,{className:"text-sm text-muted-foreground","data-testid":`text-observacoes-${D.id}`,children:D.observacoes||"-"}),i.jsx(Ie,{className:"text-center",children:i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>{u(D),s(!0)},"data-testid":`button-edit-compra-${D.id}`,className:"hover:bg-purple-100 dark:hover:bg-purple-900/30 text-purple-600 hover:text-purple-700 transition-all",children:i.jsx(_d,{className:"h-4 w-4"})})})]},D.id)})})]})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma compra registrada ainda"})]})]})})})]},K.id)})})]})})]})]})}function wGe(){const[e,t]=N.useState(!1),[r,n]=N.useState(null),[a,s]=N.useState(new Set),{toast:o}=Qr(),l=Ya(),{data:c=[],isLoading:u}=ir({queryKey:["/api/clientes"],refetchInterval:3e4}),{data:d=[]}=ir({queryKey:["/api/vendas"],refetchInterval:1e4}),{data:f=[]}=ir({queryKey:["/api/devolucoes"]}),h=rr({mutationFn:async b=>(await oa("POST","/api/clientes",b)).json(),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/clientes"]}),t(!1),o({title:"Cliente cadastrado com sucesso!"})}}),m=rr({mutationFn:async({id:b,data:j})=>(await oa("PUT",`/api/clientes/${b}`,j)).json(),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/clientes"]}),t(!1),n(null),o({title:"Cliente atualizado com sucesso!"})}}),g=rr({mutationFn:async b=>(await oa("DELETE",`/api/clientes/${b}`)).json(),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/clientes"]}),o({title:"Cliente removido com sucesso!"})}}),p=b=>{b.preventDefault();const j=new FormData(b.currentTarget),_={nome:j.get("nome"),cpf_cnpj:j.get("cpf_cnpj"),telefone:j.get("telefone"),email:j.get("email"),endereco:j.get("endereco"),observacoes:j.get("observacoes"),percentual_desconto:j.get("percentual_desconto")?parseFloat(j.get("percentual_desconto")):null,data_cadastro:new Date().toISOString()};r?m.mutate({id:r.id,data:_}):h.mutate(_)},x=b=>d.filter(j=>j.cliente_id===b),v=b=>{const j=x(b),_=f.filter(C=>C.cliente_nome&&c.find(I=>I.id===b&&I.nome===C.cliente_nome)),P=j.length,k=_.filter(C=>C.status==="aprovada").length,S=j.reduce((C,I)=>C+(I.valor_total||0),0),E=_.filter(C=>C.status==="aprovada").reduce((C,I)=>C+(I.valor_total||0),0),M=S-E,T=j.length>0?j.sort((C,I)=>new Date(I.data).getTime()-new Date(C.data).getTime())[0]:null;return{totalCompras:P,valorTotal:M,ultimaCompra:T,totalDevolucoes:k,valorTotalDevolucoes:E,devolucoesCliente:_}},y=b=>{const j=new Set(a);j.has(b)?j.delete(b):j.add(b),s(j)};return u?i.jsx("div",{children:"Carregando..."}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Clientes"}),i.jsx("p",{className:"text-muted-foreground",children:"Gerencie seus clientes e histrico de compras"})]}),i.jsxs(kr,{open:e,onOpenChange:t,children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{onClick:()=>n(null),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[i.jsx(zl,{className:"h-4 w-4 mr-2"}),"Novo Cliente"]})}),i.jsxs(Sr,{className:"max-w-2xl",children:[i.jsx(yr,{children:i.jsx(br,{children:r?"Editar Cliente":"Novo Cliente"})}),i.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"nome",children:"Nome *"}),i.jsx(Ze,{id:"nome",name:"nome",defaultValue:r==null?void 0:r.nome,required:!0,disabled:m.isPending||h.isPending})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"cpf_cnpj",children:"CPF/CNPJ"}),i.jsx(Ze,{id:"cpf_cnpj",name:"cpf_cnpj",defaultValue:(r==null?void 0:r.cpf_cnpj)||"",disabled:m.isPending||h.isPending})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"telefone",children:"Telefone"}),i.jsx(Ze,{id:"telefone",name:"telefone",defaultValue:(r==null?void 0:r.telefone)||"",required:!0,disabled:m.isPending||h.isPending})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"email",children:"Email"}),i.jsx(Ze,{id:"email",name:"email",type:"email",defaultValue:(r==null?void 0:r.email)||"",required:!0,disabled:m.isPending||h.isPending})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"endereco",children:"Endereo"}),i.jsx(Ze,{id:"endereco",name:"endereco",defaultValue:(r==null?void 0:r.endereco)||"",disabled:m.isPending||h.isPending})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"observacoes",children:"Observaes"}),i.jsx(Es,{id:"observacoes",name:"observacoes",defaultValue:(r==null?void 0:r.observacoes)||"",disabled:m.isPending||h.isPending})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"percentual_desconto",children:"Desconto Padro (%)"}),i.jsx(Ze,{id:"percentual_desconto",name:"percentual_desconto",type:"number",min:"0",max:"100",step:"0.01",defaultValue:(r==null?void 0:r.percentual_desconto)||"",placeholder:"0.00",disabled:m.isPending||h.isPending}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Desconto aplicado automaticamente nas vendas para este cliente"})]}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(ye,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:m.isPending||h.isPending,children:"Cancelar"}),i.jsx(ye,{type:"submit",disabled:m.isPending||h.isPending,children:r?m.isPending?"Salvando...":"Salvar":h.isPending?"Adicionando...":"Adicionar"})]})]})]})]})]}),i.jsxs(Ae,{className:"border-blue-200 bg-gradient-to-br from-blue-50/50 to-white dark:from-blue-950/20 dark:to-background",children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(ss,{className:"h-5 w-5 text-blue-600"}),"Lista de Clientes"]})}),i.jsx(Pe,{children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{className:"w-12"}),i.jsx(Me,{children:"Nome"}),i.jsx(Me,{children:"CPF/CNPJ"}),i.jsx(Me,{children:"Contato"}),i.jsx(Me,{className:"text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx(ss,{className:"h-4 w-4"}),"Compras"]})}),i.jsx(Me,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx(Ci,{className:"h-4 w-4"}),"Valor Total"]})}),i.jsx(Me,{className:"text-right",children:"Aes"})]})}),i.jsx(gn,{children:c.length===0?i.jsx(Bt,{children:i.jsx(Ie,{colSpan:7,className:"text-center text-muted-foreground",children:"Nenhum cliente cadastrado"})}):c.map(b=>{const{totalCompras:j,valorTotal:_,ultimaCompra:P,totalDevolucoes:k,valorTotalDevolucoes:S,devolucoesCliente:E}=v(b.id),M=x(b.id),T=a.has(b.id);return i.jsxs(N.Fragment,{children:[i.jsxs(Bt,{className:"hover:bg-blue-50/50 dark:hover:bg-blue-950/20",children:[i.jsx(Ie,{children:i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>y(b.id),className:"h-8 w-8 p-0",children:T?i.jsx(fG,{className:"h-4 w-4"}):i.jsx(jb,{className:"h-4 w-4"})})}),i.jsx(Ie,{className:"font-medium",children:b.nome}),i.jsx(Ie,{children:b.cpf_cnpj||"-"}),i.jsx(Ie,{children:i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{children:b.telefone||"-"}),i.jsx("div",{className:"text-muted-foreground",children:b.email||"-"}),b.percentual_desconto&&b.percentual_desconto>0&&i.jsx("div",{className:"mt-1",children:i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded text-xs font-medium",children:[b.percentual_desconto,"% desconto"]})})]})}),i.jsx(Ie,{className:"text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-full text-sm font-medium",children:j}),k>0&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-full text-xs font-medium",children:[k," dev."]})]})}),i.jsx(Ie,{className:"text-right",children:i.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["R$ ",_.toFixed(2)]})}),i.jsx(Ie,{className:"text-right",children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>{n(b),t(!0)},children:i.jsx(_d,{className:"h-4 w-4"})}),i.jsx(ye,{size:"sm",variant:"destructive",onClick:()=>{confirm("Deseja realmente excluir este cliente?")&&g.mutate(b.id)},children:i.jsx(Ei,{className:"h-4 w-4"})})]})})]}),T&&i.jsx(Bt,{children:i.jsx(Ie,{colSpan:7,className:"bg-muted/30",children:i.jsxs("div",{className:"space-y-4 p-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ae,{className:"border-blue-200",children:i.jsx(Pe,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ss,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Compras"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:j})]})]})})}),i.jsx(Ae,{className:"border-green-200",children:i.jsx(Pe,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ci,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Total Gasto"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",_.toFixed(2)]})]})]})})}),i.jsx(Ae,{className:"border-purple-200",children:i.jsx(Pe,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Si,{className:"h-5 w-5 text-purple-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"ltima Compra"}),i.jsx("p",{className:"text-lg font-bold text-purple-600",children:P?Ea(new Date(P.data),"dd/MM/yyyy",{locale:Va}):"Nenhuma"})]})]})})})]}),k>0&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[i.jsx(Ae,{className:"border-red-200 bg-red-50/50 dark:bg-red-950/20",children:i.jsx(Pe,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(JC,{className:"h-5 w-5 text-red-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Devolues"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:k})]})]})})}),i.jsx(Ae,{className:"border-orange-200 bg-orange-50/50 dark:bg-orange-950/20",children:i.jsx(Pe,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(gp,{className:"h-5 w-5 text-orange-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Devolvido"}),i.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["R$ ",S.toFixed(2)]})]})]})})})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[i.jsx(ss,{className:"h-4 w-4"}),"Histrico de Compras (",M.length,")"]}),M.length>0?i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Data"}),i.jsx(Me,{children:"Produtos"}),i.jsx(Me,{className:"text-center",children:"Quantidade"}),i.jsx(Me,{className:"text-right",children:"Valor Total"})]})}),i.jsx(gn,{children:M.sort((C,I)=>new Date(I.data).getTime()-new Date(C.data).getTime()).map(C=>i.jsxs(Bt,{children:[i.jsx(Ie,{children:C.data?Ea(new Date(C.data),"dd/MM/yyyy HH:mm",{locale:Va}):"-"}),i.jsx(Ie,{children:i.jsx("div",{className:"max-w-md",children:C.produto||"-"})}),i.jsx(Ie,{className:"text-center",children:C.quantidade_vendida||0}),i.jsxs(Ie,{className:"text-right font-semibold text-green-600",children:["R$ ",(C.valor_total||0).toFixed(2)]})]},C.id))})]})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma compra registrada ainda"})]}),E&&E.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2 text-red-600",children:[i.jsx(JC,{className:"h-4 w-4"}),"Histrico de Devolues (",E.length,")"]}),i.jsx("div",{className:"border rounded-lg overflow-hidden border-red-200",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Data"}),i.jsx(Me,{children:"Produto"}),i.jsx(Me,{children:"Motivo"}),i.jsx(Me,{className:"text-center",children:"Quantidade"}),i.jsx(Me,{className:"text-center",children:"Status"}),i.jsx(Me,{className:"text-right",children:"Valor"})]})}),i.jsx(gn,{children:E.sort((C,I)=>new Date(I.data_devolucao).getTime()-new Date(C.data_devolucao).getTime()).map(C=>i.jsxs(Bt,{children:[i.jsx(Ie,{children:C.data_devolucao?Ea(new Date(C.data_devolucao),"dd/MM/yyyy HH:mm",{locale:Va}):"-"}),i.jsx(Ie,{children:i.jsx("div",{className:"max-w-md",children:C.produto_nome||"-"})}),i.jsx(Ie,{children:i.jsx("span",{className:"text-xs",children:C.motivo})}),i.jsx(Ie,{className:"text-center",children:C.quantidade||0}),i.jsxs(Ie,{className:"text-center",children:[C.status==="aprovada"&&i.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded-full text-xs",children:"Aprovada"}),C.status==="rejeitada"&&i.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-full text-xs",children:"Rejeitada"}),C.status==="pendente"&&i.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300 rounded-full text-xs",children:"Pendente"})]}),i.jsxs(Ie,{className:"text-right font-semibold text-red-600",children:["- R$ ",(C.valor_total||0).toFixed(2)]})]},C.id))})]})})]})]})})})]},b.id)})})]})})]})]})}function jGe(){const{toast:e}=Qr(),t=Ya(),[r,n]=N.useState(!1),[a,s]=N.useState(null),[o,l]=N.useState(""),[c,u]=N.useState("all"),[d,f]=N.useState("all"),{data:h=[],isLoading:m}=ir({queryKey:["/api/contas-pagar"],queryFn:async()=>(await Pr("GET","/api/contas-pagar")).json()}),g=rr({mutationFn:async S=>(await Pr("POST","/api/contas-pagar",S)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/contas-pagar"]}),n(!1),e({title:"Conta criada com sucesso!"})}}),p=rr({mutationFn:async({id:S,data:E})=>(await Pr("PUT",`/api/contas-pagar/${S}`,E)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/contas-pagar"]}),s(null),e({title:"Conta atualizada com sucesso!"})}}),x=rr({mutationFn:async S=>(await Pr("DELETE",`/api/contas-pagar/${S}`)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/contas-pagar"]}),e({title:"Conta excluda com sucesso!"})}}),v=rr({mutationFn:async S=>(await Pr("POST",`/api/contas-pagar/${S}/pagar`)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/contas-pagar"]}),e({title:"Conta marcada como paga!"})}}),y=S=>{S.preventDefault();const E=new FormData(S.currentTarget),M={descricao:E.get("descricao"),valor:parseFloat(E.get("valor")),data_vencimento:E.get("data_vencimento"),categoria:E.get("categoria"),data_cadastro:new Date().toISOString()};g.mutate(M)},b=S=>{if(S.preventDefault(),!a)return;const E=new FormData(S.currentTarget),M={descricao:E.get("descricao"),valor:parseFloat(E.get("valor")),data_vencimento:E.get("data_vencimento"),categoria:E.get("categoria")};p.mutate({id:a.id,data:M})},j=Array.from(new Set(h.map(S=>S.categoria).filter(Boolean))),_=h.filter(S=>{var C,I;const E=!o||((C=S.descricao)==null?void 0:C.toLowerCase().includes(o.toLowerCase()))||((I=S.categoria)==null?void 0:I.toLowerCase().includes(o.toLowerCase())),M=c==="all"||S.status===c,T=d==="all"||S.categoria===d;return E&&M&&T}),P=_.filter(S=>S.status==="pendente").reduce((S,E)=>S+(E.valor||0),0),k=_.filter(S=>S.status==="pago").reduce((S,E)=>S+(E.valor||0),0);return i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold dark:text-white",children:"Contas a Pagar"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie suas contas a pagar"})]}),i.jsxs(kr,{open:r,onOpenChange:n,children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{"data-testid":"button-add-conta-pagar",children:[i.jsx(zl,{className:"mr-2 h-4 w-4"}),"Nova Conta"]})}),i.jsxs(Sr,{children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Nova Conta a Pagar"}),i.jsx(tn,{children:"Adicione uma nova conta a pagar"})]}),i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{htmlFor:"descricao",children:"Descrio"}),i.jsx(Ze,{id:"descricao",name:"descricao",required:!0,disabled:g.isPending})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"valor",children:"Valor"}),i.jsx(Ze,{id:"valor",name:"valor",type:"number",step:"0.01",required:!0,disabled:g.isPending})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"data_vencimento",children:"Data de Vencimento"}),i.jsx(Ze,{id:"data_vencimento",name:"data_vencimento",type:"date",required:!0,disabled:g.isPending})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"categoria",children:"Categoria"}),i.jsx(Ze,{id:"categoria",name:"categoria",placeholder:"Ex: Fornecedor, Aluguel, etc",disabled:g.isPending})]}),i.jsx(ye,{type:"submit",className:"w-full",disabled:g.isPending,children:g.isPending?"Adicionando...":"Adicionar"})]})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Total Pendente"}),i.jsx(gp,{className:"h-4 w-4 text-red-600"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["R$ ",P.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"A pagar"})]})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Total Pago"}),i.jsx(Cs,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",k.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"J pagos"})]})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Total de Contas"}),i.jsx(Si,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(Pe,{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Cadastradas"})]})]})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ue,{children:"Lista de Contas a Pagar"}),i.jsx(Ht,{children:"Visualize e gerencie todas as suas contas a pagar"})]}),i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsx(Ze,{placeholder:"Buscar contas...",value:o,onChange:S=>l(S.target.value),className:"w-[200px]"}),i.jsxs(Cr,{value:c,onValueChange:u,children:[i.jsx(Nr,{className:"w-[140px]",children:i.jsx(Er,{placeholder:"Status"})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todos"}),i.jsx(Je,{value:"pendente",children:"Pendente"}),i.jsx(Je,{value:"pago",children:"Pago"})]})]}),i.jsxs(Cr,{value:d,onValueChange:f,children:[i.jsx(Nr,{className:"w-[140px]",children:i.jsx(Er,{placeholder:"Categoria"})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todas"}),j.map(S=>i.jsx(Je,{value:S,children:S},S))]})]})]})]})}),i.jsx(Pe,{children:_.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx("p",{children:"Nenhuma conta a pagar cadastrada"}),i.jsx("p",{className:"text-sm mt-2",children:'Clique em "Nova Conta" para adicionar uma conta a pagar'})]}):i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Descrio"}),i.jsx(Me,{children:"Categoria"}),i.jsx(Me,{children:"Valor"}),i.jsx(Me,{children:"Vencimento"}),i.jsx(Me,{children:"Status"}),i.jsx(Me,{children:"Aes"})]})}),i.jsx(gn,{children:_.map(S=>i.jsxs(Bt,{children:[i.jsx(Ie,{children:S.descricao}),i.jsx(Ie,{children:S.categoria||"-"}),i.jsxs(Ie,{children:["R$ ",S.valor.toFixed(2)]}),i.jsx(Ie,{children:new Date(S.data_vencimento).toLocaleDateString()}),i.jsx(Ie,{children:i.jsx(It,{variant:S.status==="pago"?"default":"destructive",children:S.status==="pago"?"Pago":"Pendente"})}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex gap-2",children:[S.status==="pendente"&&i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>v.mutate(S.id),disabled:v.isPending,children:v.isPending?"...":"Pagar"}),i.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>s(S),disabled:x.isPending||v.isPending,children:i.jsx(_d,{className:"h-4 w-4"})}),i.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>x.mutate(S.id),disabled:x.isPending,children:i.jsx(Ei,{className:"h-4 w-4"})})]})})]},S.id))})]})})]}),a&&i.jsx(kr,{open:!!a,onOpenChange:()=>s(null),children:i.jsxs(Sr,{children:[i.jsx(yr,{children:i.jsx(br,{children:"Editar Conta"})}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{htmlFor:"edit-descricao",children:"Descrio"}),i.jsx(Ze,{id:"edit-descricao",name:"descricao",defaultValue:a.descricao,required:!0,disabled:p.isPending})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"edit-valor",children:"Valor"}),i.jsx(Ze,{id:"edit-valor",name:"valor",type:"number",step:"0.01",defaultValue:a.valor,required:!0,disabled:p.isPending})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"edit-data_vencimento",children:"Data de Vencimento"}),i.jsx(Ze,{id:"edit-data_vencimento",name:"data_vencimento",type:"date",defaultValue:a.data_vencimento,required:!0,disabled:p.isPending})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"edit-categoria",children:"Categoria"}),i.jsx(Ze,{id:"edit-categoria",name:"categoria",defaultValue:a.categoria,disabled:p.isPending})]}),i.jsx(ye,{type:"submit",className:"w-full",disabled:p.isPending,children:p.isPending?"Salvando...":"Salvar"})]})]})})]})}function NGe(){const{toast:e}=Qr(),t=Ya(),[r,n]=N.useState(!1),[a,s]=N.useState(null),[o,l]=N.useState(""),[c,u]=N.useState("all"),[d,f]=N.useState("all"),{data:h=[],isLoading:m}=ir({queryKey:["/api/contas-receber"],queryFn:async()=>(await Pr("GET","/api/contas-receber")).json()}),g=rr({mutationFn:async S=>(await Pr("POST","/api/contas-receber",S)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/contas-receber"]}),n(!1),e({title:"Conta criada com sucesso!"})}}),p=rr({mutationFn:async({id:S,data:E})=>(await Pr("PUT",`/api/contas-receber/${S}`,E)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/contas-receber"]}),s(null),e({title:"Conta atualizada com sucesso!"})}}),x=rr({mutationFn:async S=>(await Pr("DELETE",`/api/contas-receber/${S}`)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/contas-receber"]}),e({title:"Conta excluda com sucesso!"})}}),v=rr({mutationFn:async S=>(await Pr("POST",`/api/contas-receber/${S}/receber`)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/contas-receber"]}),e({title:"Conta marcada como recebida!"})}}),y=S=>{S.preventDefault();const E=new FormData(S.currentTarget),M={descricao:E.get("descricao"),valor:parseFloat(E.get("valor")),data_vencimento:E.get("data_vencimento"),categoria:E.get("categoria"),data_cadastro:new Date().toISOString()};g.mutate(M)},b=S=>{if(S.preventDefault(),!a)return;const E=new FormData(S.currentTarget),M={descricao:E.get("descricao"),valor:parseFloat(E.get("valor")),data_vencimento:E.get("data_vencimento"),categoria:E.get("categoria")};p.mutate({id:a.id,data:M})},j=Array.from(new Set(h.map(S=>S.categoria).filter(Boolean))),_=h.filter(S=>{var C,I;const E=!o||((C=S.descricao)==null?void 0:C.toLowerCase().includes(o.toLowerCase()))||((I=S.categoria)==null?void 0:I.toLowerCase().includes(o.toLowerCase())),M=c==="all"||S.status===c,T=d==="all"||S.categoria===d;return E&&M&&T}),P=_.filter(S=>S.status==="pendente").reduce((S,E)=>S+(E.valor||0),0),k=_.filter(S=>S.status==="recebido").reduce((S,E)=>S+(E.valor||0),0);return i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold dark:text-white",children:"Contas a Receber"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie suas contas a receber"})]}),i.jsxs(kr,{open:r,onOpenChange:n,children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{"data-testid":"button-add-conta-receber",children:[i.jsx(zl,{className:"mr-2 h-4 w-4"}),"Nova Conta"]})}),i.jsxs(Sr,{children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Nova Conta a Receber"}),i.jsx(tn,{children:"Adicione uma nova conta a receber"})]}),i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{htmlFor:"descricao",children:"Descrio"}),i.jsx(Ze,{id:"descricao",name:"descricao",required:!0,disabled:g.isPending})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"valor",children:"Valor"}),i.jsx(Ze,{id:"valor",name:"valor",type:"number",step:"0.01",required:!0,disabled:g.isPending})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"data_vencimento",children:"Data de Recebimento"}),i.jsx(Ze,{id:"data_vencimento",name:"data_vencimento",type:"date",required:!0,disabled:g.isPending})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"categoria",children:"Categoria"}),i.jsx(Ze,{id:"categoria",name:"categoria",placeholder:"Ex: Cliente, Servio, etc",disabled:g.isPending})]}),i.jsx(ye,{type:"submit",className:"w-full",disabled:g.isPending,children:g.isPending?"Adicionando...":"Adicionar"})]})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Total a Receber"}),i.jsx(Ci,{className:"h-4 w-4 text-orange-600"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["R$ ",P.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pendente"})]})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Total Recebido"}),i.jsx(Cs,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",k.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"J recebidos"})]})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Total de Contas"}),i.jsx(Si,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(Pe,{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Cadastradas"})]})]})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ue,{children:"Lista de Contas a Receber"}),i.jsx(Ht,{children:"Visualize e gerencie todas as suas contas a receber"})]}),i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsx(Ze,{placeholder:"Buscar contas...",value:o,onChange:S=>l(S.target.value),className:"w-[200px]"}),i.jsxs(Cr,{value:c,onValueChange:u,children:[i.jsx(Nr,{className:"w-[140px]",children:i.jsx(Er,{placeholder:"Status"})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todos"}),i.jsx(Je,{value:"pendente",children:"Pendente"}),i.jsx(Je,{value:"recebido",children:"Recebido"})]})]}),i.jsxs(Cr,{value:d,onValueChange:f,children:[i.jsx(Nr,{className:"w-[140px]",children:i.jsx(Er,{placeholder:"Categoria"})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todas"}),j.map(S=>i.jsx(Je,{value:S,children:S},S))]})]})]})]})}),i.jsx(Pe,{children:_.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx("p",{children:"Nenhuma conta a receber cadastrada"}),i.jsx("p",{className:"text-sm mt-2",children:'Clique em "Nova Conta" para adicionar uma conta a receber'})]}):i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Descrio"}),i.jsx(Me,{children:"Categoria"}),i.jsx(Me,{children:"Valor"}),i.jsx(Me,{children:"Recebimento"}),i.jsx(Me,{children:"Status"}),i.jsx(Me,{children:"Aes"})]})}),i.jsx(gn,{children:_.map(S=>i.jsxs(Bt,{children:[i.jsx(Ie,{children:S.descricao}),i.jsx(Ie,{children:S.categoria||"-"}),i.jsxs(Ie,{children:["R$ ",S.valor.toFixed(2)]}),i.jsx(Ie,{children:new Date(S.data_vencimento).toLocaleDateString()}),i.jsx(Ie,{children:i.jsx(It,{variant:S.status==="recebido"?"default":"secondary",children:S.status==="recebido"?"Recebido":"Pendente"})}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex gap-2",children:[S.status==="pendente"&&i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>v.mutate(S.id),disabled:v.isPending,children:v.isPending?"...":"Receber"}),i.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>s(S),disabled:x.isPending||v.isPending,children:i.jsx(_d,{className:"h-4 w-4"})}),i.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>x.mutate(S.id),disabled:x.isPending,children:i.jsx(Ei,{className:"h-4 w-4"})})]})})]},S.id))})]})})]}),a&&i.jsx(kr,{open:!!a,onOpenChange:()=>s(null),children:i.jsxs(Sr,{children:[i.jsx(yr,{children:i.jsx(br,{children:"Editar Conta"})}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(De,{htmlFor:"edit-descricao",children:"Descrio"}),i.jsx(Ze,{id:"edit-descricao",name:"descricao",defaultValue:a.descricao,required:!0,disabled:p.isPending})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"edit-valor",children:"Valor"}),i.jsx(Ze,{id:"edit-valor",name:"valor",type:"number",step:"0.01",defaultValue:a.valor,required:!0,disabled:p.isPending})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"edit-data_vencimento",children:"Data de Recebimento"}),i.jsx(Ze,{id:"edit-data_vencimento",name:"data_vencimento",type:"date",defaultValue:a.data_vencimento,required:!0,disabled:p.isPending})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"edit-categoria",children:"Categoria"}),i.jsx(Ze,{id:"edit-categoria",name:"categoria",defaultValue:a.categoria,disabled:p.isPending})]}),i.jsx(ye,{type:"submit",className:"w-full",disabled:p.isPending,children:p.isPending?"Salvando...":"Salvar"})]})]})})]})}function _Ge(){const{data:e=[]}=ir({queryKey:["/api/contas-pagar"]}),{data:t=[]}=ir({queryKey:["/api/contas-receber"]}),{data:r=[]}=ir({queryKey:["/api/vendas"]}),n=new Date,a=new Date;a.setDate(n.getDate()+30);const s=N.useMemo(()=>t.filter(h=>{if(h.status==="recebido"||!h.data_vencimento)return!1;const m=new Date(h.data_vencimento);return m>=n&&m<=a}).reduce((h,m)=>h+(m.valor||0),0),[t]),o=N.useMemo(()=>e.filter(h=>{if(h.status==="pago"||!h.data_vencimento)return!1;const m=new Date(h.data_vencimento);return m>=n&&m<=a}).reduce((h,m)=>h+(m.valor||0),0),[e]),l=s-o,c=N.useMemo(()=>Array.from({length:4},(m,g)=>{const p=new Date(n);p.setDate(n.getDate()+g*7);const x=new Date(p);x.setDate(p.getDate()+6);const v=t.filter(b=>{if(b.status==="recebido"||!b.data_vencimento)return!1;const j=new Date(b.data_vencimento);return j>=p&&j<=x}).reduce((b,j)=>b+(j.valor||0),0),y=e.filter(b=>{if(b.status==="pago"||!b.data_vencimento)return!1;const j=new Date(b.data_vencimento);return j>=p&&j<=x}).reduce((b,j)=>b+(j.valor||0),0);return{semana:`Semana ${g+1}`,entrada:Number(v.toFixed(2)),saida:Number(y.toFixed(2)),saldo:Number((v-y).toFixed(2))}}),[e,t]),u=N.useMemo(()=>{const h=e.filter(g=>g.status==="pago"||!g.data_vencimento?!1:new Date(g.data_vencimento)<n).length,m=t.filter(g=>g.status==="recebido"||!g.data_vencimento?!1:new Date(g.data_vencimento)<n).length;return{pagar:h,receber:m}},[e,t]),d=c.some(h=>h.entrada>0||h.saida>0),f=N.useMemo(()=>{const h={};return e.filter(m=>m.status==="pendente").forEach(m=>{const g=m.categoria||"Outras";h[g]=(h[g]||0)+(m.valor||0)}),Object.entries(h).map(([m,g])=>({name:m,value:Number(g.toFixed(2))})).sort((m,g)=>g.value-m.value).slice(0,5)},[e]);return i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold dark:text-white",children:"Fluxo de Caixa Projetado"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Anlise de fluxo de caixa baseado em contas a pagar e receber"})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Entrada Projetada"}),i.jsx(Ci,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-entrada-projetada",children:["R$ ",s.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Prximos 30 dias"})]})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Sada Projetada"}),i.jsx(gp,{className:"h-4 w-4 text-red-600"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"text-2xl font-bold text-red-600","data-testid":"text-saida-projetada",children:["R$ ",o.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Prximos 30 dias"})]})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Saldo Projetado"}),i.jsx(Cs,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:`text-2xl font-bold ${l>=0?"text-blue-600":"text-red-600"}`,"data-testid":"text-saldo-projetado",children:["R$ ",l.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Prximos 30 dias"})]})]})]}),(u.pagar>0||u.receber>0)&&i.jsxs(Ae,{className:"border-orange-200 bg-orange-50 dark:bg-orange-950/20",children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"text-orange-800 dark:text-orange-300 flex items-center gap-2",children:[i.jsx(Si,{className:"h-5 w-5"}),"Ateno: Contas Vencidas"]})}),i.jsxs(Pe,{className:"space-y-2",children:[u.pagar>0&&i.jsxs("p",{className:"text-sm text-orange-700 dark:text-orange-400",children:[" ",u.pagar," conta(s) a pagar vencida(s)"]}),u.receber>0&&i.jsxs("p",{className:"text-sm text-orange-700 dark:text-orange-400",children:[" ",u.receber," conta(s) a receber vencida(s)"]})]})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{children:"Fluxo de Caixa Semanal"}),i.jsx(Ht,{children:"Projeo para as prximas 4 semanas"})]}),i.jsx(Pe,{children:d?i.jsxs(kS,{width:800,height:300,data:c,className:"mx-auto",children:[i.jsx(el,{strokeDasharray:"3 3"}),i.jsx(rs,{dataKey:"semana"}),i.jsx(ns,{}),i.jsx(ts,{formatter:h=>`R$ ${h.toFixed(2)}`}),i.jsx(hd,{}),i.jsx(dl,{type:"monotone",dataKey:"entrada",stroke:"#10b981",name:"Entrada",strokeWidth:2}),i.jsx(dl,{type:"monotone",dataKey:"saida",stroke:"#ef4444",name:"Sada",strokeWidth:2}),i.jsx(dl,{type:"monotone",dataKey:"saldo",stroke:"#3b82f6",name:"Saldo",strokeWidth:2})]}):i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx("p",{children:"Dados insuficientes para gerar o grfico"}),i.jsx("p",{className:"text-sm mt-2",children:"Adicione contas a pagar e a receber para visualizar o fluxo projetado"})]})})]}),f.length>0&&i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{children:"Despesas Pendentes por Categoria"}),i.jsx(Ht,{children:"Top 5 categorias de despesas"})]}),i.jsx(Pe,{children:i.jsxs(bm,{width:800,height:250,data:f,layout:"horizontal",className:"mx-auto",children:[i.jsx(el,{strokeDasharray:"3 3"}),i.jsx(rs,{type:"category",dataKey:"name"}),i.jsx(ns,{type:"number"}),i.jsx(ts,{formatter:h=>`R$ ${h.toFixed(2)}`}),i.jsx(nl,{dataKey:"value",fill:"#ef4444",radius:[4,4,0,0]})]})})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsx(Ue,{children:"Resumo Detalhado"})}),i.jsx(Pe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b",children:[i.jsx("span",{className:"font-semibold",children:"Contas a Receber (Pendentes)"}),i.jsxs("span",{className:"font-mono text-green-600",children:["R$ ",t.filter(h=>h.status==="pendente").reduce((h,m)=>h+(m.valor||0),0).toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b",children:[i.jsx("span",{className:"font-semibold",children:"Contas a Pagar (Pendentes)"}),i.jsxs("span",{className:"font-mono text-red-600",children:["R$ ",e.filter(h=>h.status==="pendente").reduce((h,m)=>h+(m.valor||0),0).toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b",children:[i.jsx("span",{className:"font-semibold",children:"Total de Vendas (Ms Atual)"}),i.jsxs("span",{className:"font-mono text-blue-600",children:["R$ ",r.filter(h=>{if(!h.data)return!1;const m=new Date(h.data);return m.getMonth()===n.getMonth()&&m.getFullYear()===n.getFullYear()}).reduce((h,m)=>h+(m.valor_total||0),0).toFixed(2)]})]})]})})]})]})}function SGe(){const{data:e=[]}=ir({queryKey:["/api/vendas"],queryFn:async()=>{try{return(await Pr("GET","/api/vendas")).json()}catch(m){return console.error("Erro ao buscar vendas:",m),[]}}}),{data:t=[]}=ir({queryKey:["/api/contas-pagar"],queryFn:async()=>{try{return(await Pr("GET","/api/contas-pagar")).json()}catch(m){return console.error("Erro ao buscar contas a pagar:",m),[]}}}),r=e.reduce((m,g)=>m+(g.valor_total||0),0),n=t.filter(m=>m.status==="pago").reduce((m,g)=>m+(g.valor||0),0),a=r-n,s=r,o=r*.1,l=s-o,c=s*.6,u=l-c,d=n,f=u-d,h=Array.from({length:3},(m,g)=>{const p=new Date;p.setMonth(p.getMonth()-(2-g));const x=p.getMonth(),v=p.getFullYear(),y=e.filter(j=>{if(!j.data)return!1;const _=new Date(j.data);return _.getMonth()===x&&_.getFullYear()===v}).reduce((j,_)=>j+(_.valor_total||0),0),b=t.filter(j=>{if(!j.data_pagamento||j.status!=="pago")return!1;const _=new Date(j.data_pagamento);return _.getMonth()===x&&_.getFullYear()===v}).reduce((j,_)=>j+(_.valor||0),0);return{mes:p.toLocaleDateString("pt-BR",{month:"short"}),receita:Number(y.toFixed(2)),despesas:Number(b.toFixed(2))}});return i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold dark:text-white",children:"DRE Completo"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Demonstrao do Resultado do Exerccio com Anlises"})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Receita Total"}),i.jsx(Ci,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-receita-total",children:["R$ ",r.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Perodo atual"})]})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Despesas Totais"}),i.jsx(gp,{className:"h-4 w-4 text-red-600"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"text-2xl font-bold text-red-600","data-testid":"text-despesas-totais",children:["R$ ",n.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Perodo atual"})]})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Resultado Lquido"}),i.jsx(Cs,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:`text-2xl font-bold ${a>=0?"text-blue-600":"text-red-600"}`,"data-testid":"text-resultado-liquido",children:["R$ ",a.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Perodo atual"})]})]})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{children:"Tendncia Trimestral"}),i.jsx(Ht,{children:"Evoluo de receitas e despesas"})]}),i.jsx(Pe,{children:i.jsxs(kS,{width:800,height:250,data:h,className:"mx-auto",children:[i.jsx(el,{strokeDasharray:"3 3"}),i.jsx(rs,{dataKey:"mes"}),i.jsx(ns,{}),i.jsx(ts,{formatter:m=>`R$ ${m.toFixed(2)}`,labelStyle:{color:"#000"}}),i.jsx(hd,{}),i.jsx(dl,{type:"monotone",dataKey:"receita",stroke:"#22c55e",strokeWidth:2,name:"Receita"}),i.jsx(dl,{type:"monotone",dataKey:"despesas",stroke:"#ef4444",strokeWidth:2,name:"Despesas"})]})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{children:"Demonstrao do Resultado"}),i.jsx(Ht,{children:"Estrutura completa do DRE"})]}),i.jsx(Pe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b",children:[i.jsx("span",{className:"font-semibold",children:"Receita Bruta"}),i.jsxs("span",{className:"font-mono","data-testid":"text-receita-bruta",children:["R$ ",s.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b",children:[i.jsx("span",{className:"text-muted-foreground pl-4",children:"(-) Dedues (10%)"}),i.jsxs("span",{className:"font-mono text-red-600","data-testid":"text-deducoes",children:["R$ ",o.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b",children:[i.jsx("span",{className:"font-semibold",children:"Receita Lquida"}),i.jsxs("span",{className:"font-mono","data-testid":"text-receita-liquida",children:["R$ ",l.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b",children:[i.jsx("span",{className:"text-muted-foreground pl-4",children:"(-) Custo das Vendas (60%)"}),i.jsxs("span",{className:"font-mono text-red-600","data-testid":"text-custo-vendas",children:["R$ ",c.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b",children:[i.jsx("span",{className:"font-semibold",children:"Lucro Bruto"}),i.jsxs("span",{className:"font-mono","data-testid":"text-lucro-bruto",children:["R$ ",u.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b",children:[i.jsx("span",{className:"text-muted-foreground pl-4",children:"(-) Despesas Operacionais"}),i.jsxs("span",{className:"font-mono text-red-600","data-testid":"text-despesas-operacionais",children:["R$ ",d.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-3",children:[i.jsx("span",{className:"font-bold text-lg",children:"Resultado Lquido"}),i.jsxs("span",{className:`font-mono font-bold text-lg ${f>=0?"text-green-600":"text-red-600"}`,"data-testid":"text-dre-resultado-final",children:["R$ ",f.toFixed(2)]})]})]})})]})]})}function AGe(){const[,e]=ui(),[t,r]=N.useState(!1),[n,a]=N.useState(!1),[s,o]=N.useState(!1),[l,c]=N.useState("suprimento"),[u,d]=N.useState(!1),{toast:f}=Qr(),{hasPermission:h}=w_(),m=Ya(),[g,p]=N.useState(""),[x,v]=N.useState(""),[y,b]=N.useState(""),[j,_]=N.useState(""),[P,k]=N.useState(""),[S,E]=N.useState(""),M=async()=>{try{const ee=JSON.parse(localStorage.getItem("user")||"{}"),X=ee.tipo||"usuario",U={"x-user-id":ee.id||"","x-user-type":X,"x-conta-id":ee.conta_id||ee.id||""};X==="funcionario"&&ee.id&&(U["funcionario-id"]=ee.id);const me=await fetch("/api/caixas/aberto",{headers:U});return me.ok?await me.json():null}catch(ee){return console.error("Erro ao buscar caixa aberto:",ee),null}},T=async(ee=!1)=>{try{const X=JSON.parse(localStorage.getItem("user")||"{}"),U=X.id||"",me=await fetch(`/api/caixas?conta_id=${U}&incluirArquivados=${ee}`,{headers:{"x-user-id":U,"x-user-type":X.tipo||"usuario","x-conta-id":X.conta_id||U}});return me.ok?await me.json():[]}catch(X){return console.error("Erro ao buscar histrico de caixas:",X),[]}},C=async ee=>{try{const X=JSON.parse(localStorage.getItem("user")||"{}"),U=await fetch(`/api/caixas/${ee}/movimentacoes`,{headers:{"x-user-id":X.id||"","x-user-type":X.tipo||"usuario","x-conta-id":X.conta_id||X.id||""}});return U.ok?await U.json():[]}catch(X){return console.error("Erro ao buscar movimentaes:",X),[]}},{data:I,isLoading:L,error:z}=ir({queryKey:["/api/caixas/aberto"],queryFn:M,refetchInterval:3e3,retry:3});N.useEffect(()=>{z&&(console.error("Erro ao buscar caixa aberto:",z),f({title:"Erro ao carregar caixa",description:z.message||"Tente recarregar a pgina",variant:"destructive"}))},[z,f]);const W=JSON.parse(localStorage.getItem("user")||"{}").id||"",{data:q=[]}=ir({queryKey:["/api/caixas",W,u],queryFn:()=>T(u),refetchInterval:5e3,enabled:!!W}),{data:K=[]}=ir({queryKey:["/api/caixas",I==null?void 0:I.id,"movimentacoes"],queryFn:()=>C(I.id),enabled:!!I,refetchInterval:3e3}),ae=rr({mutationFn:async ee=>{const X=JSON.parse(localStorage.getItem("user")||"{}"),U=await fetch("/api/caixas/abrir",{method:"POST",headers:{"Content-Type":"application/json","x-user-id":X.id||"","x-user-type":X.tipo||"usuario","x-conta-id":X.conta_id||X.id||""},body:JSON.stringify(ee)});if(!U.ok){const me=await U.json();throw new Error(me.error||"Erro ao abrir caixa")}return U.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["/api/caixas/aberto"]}),m.invalidateQueries({queryKey:["/api/caixas"]}),r(!1),p(""),v(""),f({title:"Caixa aberto com sucesso!"})},onError:ee=>{f({title:"Erro ao abrir caixa",description:ee.message,variant:"destructive"})}}),ie=rr({mutationFn:async({id:ee,saldo_final:X,observacoes:U})=>{const me=JSON.parse(localStorage.getItem("user")||"{}"),oe=await fetch(`/api/caixas/${ee}/fechar`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":me.id||"","x-user-type":me.tipo||"usuario","x-conta-id":me.conta_id||me.id||""},body:JSON.stringify({saldo_final:X,observacoes_fechamento:U})});if(!oe.ok){const Se=await oe.json();throw new Error(Se.error||"Erro ao fechar caixa")}return oe.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["/api/caixas/aberto"]}),m.invalidateQueries({queryKey:["/api/caixas"]}),a(!1),b(""),_(""),f({title:"Caixa fechado com sucesso!"})},onError:ee=>{f({title:"Erro ao fechar caixa",description:ee.message,variant:"destructive"})}}),O=rr({mutationFn:async ee=>{const X=JSON.parse(localStorage.getItem("user")||"{}"),U=await fetch(`/api/caixas/${I.id}/movimentacoes`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":X.id||"","x-user-type":X.tipo||"usuario","x-conta-id":X.conta_id||X.id||""},body:JSON.stringify(ee)});if(!U.ok){const me=await U.json();throw new Error(me.error||"Erro ao registrar movimentao")}return U.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["/api/caixas",I==null?void 0:I.id,"movimentacoes"]}),m.invalidateQueries({queryKey:["/api/caixas/aberto"]}),o(!1),k(""),E(""),f({title:"Movimentao registrada com sucesso!"})},onError:ee=>{f({title:"Erro ao registrar movimentao",description:ee.message,variant:"destructive"})}}),V=ee=>{ee.preventDefault();const X=new FormData(ee.currentTarget),U=parseFloat(X.get("saldo_inicial"));p(X.get("saldo_inicial")),v(X.get("observacoes")),!isNaN(U)&&U>=0?ae.mutate({saldo_inicial:U,observacoes_abertura:X.get("observacoes")||void 0}):f({title:"Erro",description:"Informe um saldo inicial vlido",variant:"destructive"})},D=ee=>{ee.preventDefault();const X=new FormData(ee.currentTarget),U=parseFloat(X.get("saldo_final"));b(X.get("saldo_final")),_(X.get("observacoes")),I&&!isNaN(U)&&U>=0?ie.mutate({id:I.id,saldo_final:U,observacoes:X.get("observacoes")||void 0}):f({title:"Erro",description:"Informe o saldo final corretamente",variant:"destructive"})},B=ee=>{ee.preventDefault();const X=new FormData(ee.currentTarget),U=parseFloat(X.get("valor"));k(X.get("valor")),E(X.get("descricao")),!isNaN(U)&&U>0?O.mutate({tipo:l,valor:U,descricao:X.get("descricao")||void 0}):f({title:"Erro",description:"Informe um valor vlido para a movimentao",variant:"destructive"})},Q=()=>I?(I.saldo_inicial||0)+(I.total_vendas||0)+(I.total_suprimentos||0)-(I.total_retiradas||0):0,Y=async()=>{if(confirm("Tem certeza que deseja limpar todo o histrico de caixas fechados? Esta ao no pode ser desfeita."))try{const ee=JSON.parse(localStorage.getItem("user")||"{}"),X=await fetch("/api/caixas/historico",{method:"DELETE",headers:{"x-user-id":ee.id||"","x-user-type":ee.tipo||"usuario","x-conta-id":ee.conta_id||ee.id||""}});if(!X.ok){const me=await X.json();throw new Error(me.error||"Erro ao limpar histrico")}const U=await X.json();m.invalidateQueries({queryKey:["/api/caixas"]}),f({title:"Histrico limpo com sucesso!",description:`${U.deletedCount} caixa(s) removido(s).`})}catch(ee){f({title:"Erro ao limpar histrico",description:ee.message,variant:"destructive"})}};return N.useEffect(()=>{},[m]),L?i.jsx("div",{className:"p-6",children:"Carregando..."}):z?i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-destructive mb-4",children:"Erro ao carregar informaes do caixa"}),i.jsx(ye,{onClick:()=>m.invalidateQueries({queryKey:["/api/caixas/aberto"]}),children:"Tentar Novamente"})]})}):i.jsxs("div",{className:"space-y-6 p-6",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsx("h1",{className:"text-3xl font-bold",children:"Gerenciamento de Caixa"})}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"flex items-center gap-2",children:I?i.jsxs(i.Fragment,{children:[i.jsx(kI,{className:"h-5 w-5 text-green-600"}),"Status do Caixa"]}):i.jsxs(i.Fragment,{children:[i.jsx(_o,{className:"h-5 w-5 text-red-600"}),"Caixa Fechado"]})}),i.jsx(Ht,{children:I?"O caixa est aberto":"Abra o caixa para comear"})]}),i.jsx(Pe,{className:"space-y-4",children:I?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),i.jsx(It,{className:"bg-green-600","data-testid":"badge-status",children:"Aberto"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Operador:"}),i.jsx("span",{className:"font-medium","data-testid":"text-operador",children:I.operador_nome||"N/A"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Abertura:"}),i.jsx("span",{className:"font-medium","data-testid":"text-abertura",children:Ea(new Date(I.data_abertura),"dd/MM/yyyy HH:mm",{locale:Va})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Saldo Inicial:"}),i.jsxs("span",{className:"font-medium","data-testid":"text-saldo-inicial",children:["R$ ",(I.saldo_inicial||0).toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Vendas:"}),i.jsxs("span",{className:"font-medium text-green-600","data-testid":"text-total-vendas",children:["+ R$ ",(I.total_vendas||0).toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Suprimentos:"}),i.jsxs("span",{className:"font-medium text-green-600","data-testid":"text-total-suprimentos",children:["+ R$ ",(I.total_suprimentos||0).toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Retiradas:"}),i.jsxs("span",{className:"font-medium text-red-600","data-testid":"text-total-retiradas",children:["- R$ ",(I.total_retiradas||0).toFixed(2)]})]}),i.jsxs("div",{className:"border-t pt-2 flex justify-between items-center",children:[i.jsx("span",{className:"font-semibold",children:"Saldo Atual:"}),i.jsxs("span",{className:"text-xl font-bold","data-testid":"text-saldo-atual",children:["R$ ",Q().toFixed(2)]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{variant:"outline",className:"flex-1",onClick:()=>e("/pdv"),children:[i.jsx(ss,{className:"mr-2 h-4 w-4"}),"Ir para PDV"]}),i.jsxs(kr,{open:n,onOpenChange:a,children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{variant:"destructive",className:"flex-1","data-testid":"button-fechar-caixa",children:[i.jsx(_o,{className:"mr-2 h-4 w-4"}),"Fechar Caixa"]})}),i.jsxs(Sr,{children:[i.jsx(yr,{children:i.jsx(br,{children:"Fechar Caixa"})}),i.jsxs("form",{onSubmit:D,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"saldo_final",children:"Saldo Final *"}),i.jsx(Ze,{id:"saldo_final",name:"saldo_final",type:"number",step:"0.01",required:!0,placeholder:"0.00","data-testid":"input-saldo-final",value:y,onChange:ee=>b(ee.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"observacoes_fechamento",children:"Observaes"}),i.jsx(Es,{id:"observacoes_fechamento",name:"observacoes",placeholder:"Observaes sobre o fechamento","data-testid":"input-observacoes-fechamento",value:j,onChange:ee=>_(ee.target.value)})]}),i.jsx(ye,{type:"submit",className:"w-full","data-testid":"button-confirmar-fechamento",disabled:!y||parseFloat(y)<0,children:"Confirmar Fechamento"})]})]})]})]})]}):i.jsxs(kr,{open:t,onOpenChange:r,children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{className:"w-full","data-testid":"button-abrir-caixa",children:[i.jsx(kI,{className:"mr-2 h-4 w-4"}),"Abrir Caixa"]})}),i.jsxs(Sr,{children:[i.jsx(yr,{children:i.jsx(br,{children:"Abrir Caixa"})}),i.jsxs("form",{onSubmit:V,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"saldo_inicial",children:"Saldo Inicial *"}),i.jsx(Ze,{id:"saldo_inicial",name:"saldo_inicial",type:"number",step:"0.01",required:!0,placeholder:"0.00","data-testid":"input-saldo-inicial",value:g,onChange:ee=>p(ee.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"observacoes_abertura",children:"Observaes"}),i.jsx(Es,{id:"observacoes_abertura",name:"observacoes",placeholder:"Observaes sobre a abertura","data-testid":"input-observacoes-abertura",value:x,onChange:ee=>v(ee.target.value)})]}),i.jsx(ye,{type:"submit",className:"w-full","data-testid":"button-confirmar-abertura",children:"Confirmar Abertura"})]})]})]})})]}),I&&i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Vj,{className:"h-5 w-5"}),"Movimentaes"]}),i.jsx(Ht,{children:"Registre suprimentos ou retiradas"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(kr,{open:s&&l==="suprimento",onOpenChange:ee=>{o(ee),ee&&c("suprimento")},children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{variant:"outline",className:"w-full","data-testid":"button-suprimento",children:[i.jsx(zl,{className:"mr-2 h-4 w-4"}),"Suprimento"]})}),i.jsxs(Sr,{children:[i.jsx(yr,{children:i.jsxs(br,{className:"flex items-center gap-2",children:[i.jsx(Ci,{className:"h-5 w-5 text-green-600"}),"Registrar Suprimento"]})}),i.jsxs("form",{onSubmit:B,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"valor_suprimento",children:"Valor *"}),i.jsx(Ze,{id:"valor_suprimento",name:"valor",type:"number",step:"0.01",required:!0,placeholder:"0.00","data-testid":"input-valor-suprimento",value:P,onChange:ee=>k(ee.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"descricao_suprimento",children:"Descrio"}),i.jsx(Es,{id:"descricao_suprimento",name:"descricao",placeholder:"Motivo do suprimento","data-testid":"input-descricao-suprimento",value:S,onChange:ee=>E(ee.target.value)})]}),i.jsx(ye,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700","data-testid":"button-confirmar-suprimento",children:"Confirmar Suprimento"})]})]})]}),i.jsxs(kr,{open:s&&l==="retirada",onOpenChange:ee=>{o(ee),ee&&c("retirada")},children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{variant:"outline",className:"w-full","data-testid":"button-retirada",children:[i.jsx(YC,{className:"mr-2 h-4 w-4"}),"Retirada"]})}),i.jsxs(Sr,{children:[i.jsx(yr,{children:i.jsxs(br,{className:"flex items-center gap-2",children:[i.jsx(gp,{className:"h-5 w-5 text-red-600"}),"Registrar Retirada"]})}),i.jsxs("form",{onSubmit:B,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"valor_retirada",children:"Valor *"}),i.jsx(Ze,{id:"valor_retirada",name:"valor",type:"number",step:"0.01",required:!0,placeholder:"0.00","data-testid":"input-valor-retirada",value:P,onChange:ee=>k(ee.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"descricao_retirada",children:"Descrio"}),i.jsx(Es,{id:"descricao_retirada",name:"descricao",placeholder:"Motivo da retirada","data-testid":"input-descricao-retirada",value:S,onChange:ee=>E(ee.target.value)})]}),i.jsx(ye,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700","data-testid":"button-confirmar-retirada",children:"Confirmar Retirada"})]})]})]})]}),K.length>0&&i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("h4",{className:"font-semibold text-sm",children:"ltimas Movimentaes"}),i.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto",children:K.slice(0,5).map(ee=>i.jsxs("div",{className:"flex justify-between items-center text-sm border-b pb-1","data-testid":`movimentacao-${ee.id}`,children:[i.jsxs("div",{children:[i.jsx(It,{variant:ee.tipo==="suprimento"?"default":"destructive",className:"mr-2",children:ee.tipo==="suprimento"?"Suprimento":"Retirada"}),i.jsx("span",{className:"text-muted-foreground",children:ee.descricao||"Sem descrio"})]}),i.jsxs("span",{className:`font-medium ${ee.tipo==="suprimento"?"text-green-600":"text-red-600"}`,children:[ee.tipo==="suprimento"?"+":"-"," R$ ",ee.valor.toFixed(2)]})]},ee.id))})]})]})]})]}),h("historico_caixas")&&i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs(Ue,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(hhe,{className:"h-5 w-5"}),"Histrico de Caixas"]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K1,{className:"h-4 w-4 text-muted-foreground"}),i.jsx(De,{htmlFor:"incluir-arquivados-caixas",className:"text-sm font-normal cursor-pointer",children:"Incluir Arquivados"}),i.jsx(po,{id:"incluir-arquivados-caixas",checked:u,onCheckedChange:d})]}),i.jsx(ye,{variant:"destructive",size:"sm",onClick:Y,disabled:q.filter(ee=>ee.status==="fechado").length===0,"data-testid":"button-limpar-historico",children:"Limpar Histrico"})]})]})}),i.jsx(Pe,{children:q.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Nenhum caixa encontrado"}):i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"ID"}),i.jsx(Me,{children:"Operador"}),i.jsx(Me,{children:"Abertura"}),i.jsx(Me,{children:"Fechamento"}),i.jsx(Me,{children:"Saldo Inicial"}),i.jsx(Me,{children:"Vendas"}),i.jsx(Me,{children:"Saldo Final"}),i.jsx(Me,{children:"Obs. Abertura"}),i.jsx(Me,{children:"Obs. Fechamento"}),i.jsx(Me,{children:"Status"})]})}),i.jsx(gn,{children:q.map(ee=>i.jsxs(Bt,{"data-testid":`row-caixa-${ee.id}`,children:[i.jsx(Ie,{children:ee.id}),i.jsx(Ie,{children:i.jsx("span",{className:"font-medium text-sm",children:ee.operador_nome||"N/A"})}),i.jsx(Ie,{children:Ea(new Date(ee.data_abertura),"dd/MM/yyyy HH:mm",{locale:Va})}),i.jsx(Ie,{children:ee.data_fechamento?Ea(new Date(ee.data_fechamento),"dd/MM/yyyy HH:mm",{locale:Va}):"-"}),i.jsxs(Ie,{children:["R$ ",(ee.saldo_inicial||0).toFixed(2)]}),i.jsxs(Ie,{className:"text-green-600",children:["R$ ",(ee.total_vendas||0).toFixed(2)]}),i.jsx(Ie,{className:"font-semibold",children:ee.saldo_final?`R$ ${ee.saldo_final.toFixed(2)}`:"-"}),i.jsx(Ie,{children:i.jsx("span",{className:"text-sm text-muted-foreground max-w-[200px] truncate block",title:ee.observacoes_abertura||"",children:ee.observacoes_abertura||"-"})}),i.jsx(Ie,{children:i.jsx("span",{className:"text-sm text-muted-foreground max-w-[200px] truncate block",title:ee.observacoes_fechamento||"",children:ee.observacoes_fechamento||"-"})}),i.jsx(Ie,{children:i.jsx(It,{variant:ee.status==="aberto"?"default":"secondary",children:ee.status==="aberto"?"Aberto":"Fechado"})})]},ee.id))})]})})]})]})}const CGe=[{title:"Dashboard",url:"/dashboard",icon:mhe,permission:"dashboard",adminOnly:!0}],EGe=[{title:"Produtos",url:"/produtos",icon:Ga,permission:"produtos"},{title:"Inventrio",url:"/inventario",icon:hG,permission:"inventario"},{title:"Devolues",url:"/devolucoes",icon:XC,permission:"devolucoes"},{title:"Fornecedores",url:"/fornecedores",icon:Ga,permission:"fornecedores"},{title:"Clientes",url:"/clientes",icon:Ba,permission:"clientes"}],PGe=[{title:"Oramentos",url:"/orcamentos",icon:ai,permission:"orcamentos"},{title:"Contas a Pagar",url:"/financeiro/contas-pagar",icon:As,permission:"contas_pagar"},{title:"Contas a Receber",url:"/financeiro/contas-receber",icon:Cs,permission:"contas_receber"},{title:"Fluxo de Caixa",url:"/financeiro/fluxo-pdv",icon:Ci,permission:"financeiro",adminOnly:!0},{title:"DRE Simplificado",url:"/financeiro/dre",icon:she,permission:"financeiro",adminOnly:!0},{title:"Relatrios",url:"/relatorios",icon:o1,permission:"relatorios",adminOnly:!0}],kGe=[{title:"Planos",url:"/planos",icon:rl,adminOnly:!0}],TGe=[{title:"Config. Fiscal",url:"/config-fiscal",icon:ai,permission:"config_fiscal",adminOnly:!0}],OGe=[{title:"Configuraes",url:"/configuracoes",icon:FT,permission:"configuracoes",adminOnly:!0}];function DGe(){const[e]=ui(),{hasPermission:t}=w_(),{user:r}=Rd(),n=(r==null?void 0:r.is_admin)==="true",a=s=>{if(s.adminOnly&&!n)return null;const o=!s.permission||t(s.permission);return i.jsx(e0,{children:i.jsx(t0,{asChild:!0,isActive:e===s.url,className:"group relative overflow-hidden transition-all duration-300 hover:scale-[1.02] data-[active=true]:bg-gradient-to-r data-[active=true]:from-primary/10 data-[active=true]:to-primary/5 data-[active=true]:shadow-sm",children:i.jsxs(_s,{href:s.url,"data-testid":`link-${s.title.toLowerCase()}`,children:[i.jsx(s.icon,{className:"h-4 w-4 transition-transform duration-300 group-hover:scale-110"}),i.jsx("span",{className:"flex-1 font-medium",children:s.title}),!o&&i.jsx(_o,{className:"h-3 w-3 text-muted-foreground/60 animate-pulse","data-testid":`lock-${s.title.toLowerCase()}`})]})})},s.title)};return i.jsx(CWe,{className:"border-r border-sidebar-border/50 bg-gradient-to-b from-sidebar to-sidebar/95",children:i.jsxs(PWe,{className:"py-4",children:[i.jsx(Aw,{children:i.jsx(Cw,{children:i.jsx(Ew,{className:"space-y-1",children:CGe.map(a)})})}),i.jsxs(Aw,{children:[i.jsx(S3,{className:"px-3 text-xs font-semibold tracking-wider text-muted-foreground/80 uppercase",children:" Estoque"}),i.jsx(Cw,{children:i.jsx(Ew,{className:"space-y-1",children:EGe.map(a)})})]}),i.jsxs(Aw,{children:[i.jsx(S3,{className:"px-3 text-xs font-semibold tracking-wider text-muted-foreground/80 uppercase",children:" Financeiro"}),i.jsx(Cw,{children:i.jsxs(Ew,{className:"space-y-1",children:[t("pdv")&&i.jsx(e0,{children:i.jsx(t0,{asChild:!0,isActive:e==="/pdv",children:i.jsxs(_s,{href:"/pdv",children:[i.jsx(ss,{className:"h-4 w-4"}),i.jsx("span",{children:"PDV"})]})})}),t("caixa")&&i.jsx(e0,{children:i.jsx(t0,{asChild:!0,isActive:e==="/caixa",children:i.jsxs(_s,{href:"/caixa",children:[i.jsx(Vj,{className:"h-4 w-4"}),i.jsx("span",{children:"Caixa"})]})})}),PGe.map(a)]})})]}),i.jsxs(Aw,{children:[i.jsx(S3,{className:"px-3 text-xs font-semibold tracking-wider text-muted-foreground/80 uppercase",children:"Sistema"}),i.jsx(Cw,{children:i.jsxs(Ew,{className:"space-y-1",children:[kGe.map(a),n&&i.jsx(e0,{children:i.jsx(t0,{asChild:!0,className:"group relative overflow-hidden transition-all duration-300 hover:scale-[1.02] data-[active=true]:bg-gradient-to-r data-[active=true]:from-primary/10 data-[active=true]:to-primary/5",children:i.jsxs(_s,{href:"/admin",children:[i.jsx(rl,{className:"h-4 w-4 text-yellow-500 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12"}),i.jsx("span",{className:"flex-1 font-medium",children:"Painel Admin"})]})})}),TGe.map(a),i.jsx(e0,{children:i.jsx(t0,{asChild:!0,className:"group relative overflow-hidden transition-all duration-300 hover:scale-[1.02] data-[active=true]:bg-gradient-to-r data-[active=true]:from-primary/10 data-[active=true]:to-primary/5",children:i.jsxs(_s,{href:"/ajuda",children:[i.jsx(Y1,{className:"h-4 w-4 transition-transform duration-300 group-hover:scale-110"}),i.jsx("span",{className:"flex-1 font-medium",children:"Ajuda e Termos"})]})})}),OGe.map(a),(r==null?void 0:r.email)==="pavisoft.suporte@gmail.com"&&(r==null?void 0:r.is_admin)==="true"&&i.jsx(e0,{children:i.jsx(t0,{asChild:!0,className:"group relative overflow-hidden transition-all duration-300 hover:scale-[1.02] data-[active=true]:bg-gradient-to-r data-[active=true]:from-primary/10 data-[active=true]:to-primary/5",children:i.jsxs(_s,{href:"/admin-publico",children:[i.jsx(rl,{className:"h-4 w-4 text-amber-500 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12"}),i.jsx("span",{className:"flex-1 font-medium bg-gradient-to-r from-amber-500 to-yellow-500 bg-clip-text text-transparent",children:"Admin Master"})]})})})]})})]})]})})}var vk=["Enter"," "],IGe=["ArrowDown","PageUp","Home"],Fae=["ArrowUp","PageDown","End"],FGe=[...IGe,...Fae],RGe={ltr:[...vk,"ArrowRight"],rtl:[...vk,"ArrowLeft"]},MGe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hb="Menu",[rb,LGe,$Ge]=dx(Hb),[_p,Rae]=zi(Hb,[$Ge,xh,O_]),zS=xh(),Mae=O_(),[BGe,Sp]=_p(Hb),[zGe,Gb]=_p(Hb),Lae=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:o=!0}=e,l=zS(t),[c,u]=N.useState(null),d=N.useRef(!1),f=us(s),h=vx(a);return N.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(m_,{...l,children:i.jsx(BGe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(zGe,{scope:t,onClose:N.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};Lae.displayName=Hb;var qGe="MenuAnchor",O6=N.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=zS(r);return i.jsx(Sb,{...a,...n,ref:t})});O6.displayName=qGe;var D6="MenuPortal",[UGe,$ae]=_p(D6,{forceMount:void 0}),Bae=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Sp(D6,t);return i.jsx(UGe,{scope:t,forceMount:r,children:i.jsx(Co,{present:r||s.open,children:i.jsx(fx,{asChild:!0,container:a,children:n})})})};Bae.displayName=D6;var Ll="MenuContent",[VGe,I6]=_p(Ll),zae=N.forwardRef((e,t)=>{const r=$ae(Ll,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Sp(Ll,e.__scopeMenu),o=Gb(Ll,e.__scopeMenu);return i.jsx(rb.Provider,{scope:e.__scopeMenu,children:i.jsx(Co,{present:n||s.open,children:i.jsx(rb.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(WGe,{...a,ref:t}):i.jsx(HGe,{...a,ref:t})})})})}),WGe=N.forwardRef((e,t)=>{const r=Sp(Ll,e.__scopeMenu),n=N.useRef(null),a=Lr(t,n);return N.useEffect(()=>{const s=n.current;if(s)return __(s)},[]),i.jsx(F6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ct(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),HGe=N.forwardRef((e,t)=>{const r=Sp(Ll,e.__scopeMenu);return i.jsx(F6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),GGe=th("MenuContent.ScrollLock"),F6=N.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,x=Sp(Ll,r),v=Gb(Ll,r),y=zS(r),b=Mae(r),j=LGe(r),[_,P]=N.useState(null),k=N.useRef(null),S=Lr(t,k,x.onContentChange),E=N.useRef(0),M=N.useRef(""),T=N.useRef(0),C=N.useRef(null),I=N.useRef("right"),L=N.useRef(0),z=g?Cb:N.Fragment,G=g?{as:GGe,allowPinchZoom:!0}:void 0,W=K=>{var Y,ee;const ae=M.current+K,ie=j().filter(X=>!X.disabled),O=document.activeElement,V=(Y=ie.find(X=>X.ref.current===O))==null?void 0:Y.textValue,D=ie.map(X=>X.textValue),B=iKe(D,ae,V),Q=(ee=ie.find(X=>X.textValue===B))==null?void 0:ee.ref.current;(function X(U){M.current=U,window.clearTimeout(E.current),U!==""&&(E.current=window.setTimeout(()=>X(""),1e3))})(ae),Q&&setTimeout(()=>Q.focus())};N.useEffect(()=>()=>window.clearTimeout(E.current),[]),j_();const q=N.useCallback(K=>{var ie,O;return I.current===((ie=C.current)==null?void 0:ie.side)&&oKe(K,(O=C.current)==null?void 0:O.area)},[]);return i.jsx(VGe,{scope:r,searchRef:M,onItemEnter:N.useCallback(K=>{q(K)&&K.preventDefault()},[q]),onItemLeave:N.useCallback(K=>{var ae;q(K)||((ae=k.current)==null||ae.focus(),P(null))},[q]),onTriggerLeave:N.useCallback(K=>{q(K)&&K.preventDefault()},[q]),pointerGraceTimerRef:T,onPointerGraceIntentChange:N.useCallback(K=>{C.current=K},[]),children:i.jsx(z,{...G,children:i.jsx(Ab,{asChild:!0,trapped:a,onMountAutoFocus:Ct(s,K=>{var ae;K.preventDefault(),(ae=k.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(mp,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(jY,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:P,onEntryFocus:Ct(c,K=>{v.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(p_,{role:"menu","aria-orientation":"vertical","data-state":nie(x.open),"data-radix-menu-content":"",dir:v.dir,...y,...p,ref:S,style:{outline:"none",...p.style},onKeyDown:Ct(p.onKeyDown,K=>{const ie=K.target.closest("[data-radix-menu-content]")===K.currentTarget,O=K.ctrlKey||K.altKey||K.metaKey,V=K.key.length===1;ie&&(K.key==="Tab"&&K.preventDefault(),!O&&V&&W(K.key));const D=k.current;if(K.target!==D||!FGe.includes(K.key))return;K.preventDefault();const Q=j().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);Fae.includes(K.key)&&Q.reverse(),nKe(Q)}),onBlur:Ct(e.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(E.current),M.current="")}),onPointerMove:Ct(e.onPointerMove,nb(K=>{const ae=K.target,ie=L.current!==K.clientX;if(K.currentTarget.contains(ae)&&ie){const O=K.clientX>L.current?"right":"left";I.current=O,L.current=K.clientX}}))})})})})})})});zae.displayName=Ll;var KGe="MenuGroup",R6=N.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(zt.div,{role:"group",...n,ref:t})});R6.displayName=KGe;var YGe="MenuLabel",qae=N.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(zt.div,{...n,ref:t})});qae.displayName=YGe;var S5="MenuItem",h9="menu.itemSelect",qS=N.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=N.useRef(null),o=Gb(S5,e.__scopeMenu),l=I6(S5,e.__scopeMenu),c=Lr(t,s),u=N.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(h9,{bubbles:!0,cancelable:!0});f.addEventListener(h9,m=>n==null?void 0:n(m),{once:!0}),_T(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(Uae,{...a,ref:c,disabled:r,onClick:Ct(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ct(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ct(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||vk.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});qS.displayName=S5;var Uae=N.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,o=I6(S5,r),l=Mae(r),c=N.useRef(null),u=Lr(t,c),[d,f]=N.useState(!1),[h,m]=N.useState("");return N.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[s.children]),i.jsx(rb.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:i.jsx(NY,{asChild:!0,...l,focusable:!n,children:i.jsx(zt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Ct(e.onPointerMove,nb(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ct(e.onPointerLeave,nb(g=>o.onItemLeave(g))),onFocus:Ct(e.onFocus,()=>f(!0)),onBlur:Ct(e.onBlur,()=>f(!1))})})})}),XGe="MenuCheckboxItem",Vae=N.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return i.jsx(Yae,{scope:e.__scopeMenu,checked:r,children:i.jsx(qS,{role:"menuitemcheckbox","aria-checked":A5(r)?"mixed":r,...a,ref:t,"data-state":L6(r),onSelect:Ct(a.onSelect,()=>n==null?void 0:n(A5(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Vae.displayName=XGe;var Wae="MenuRadioGroup",[QGe,ZGe]=_p(Wae,{value:void 0,onValueChange:()=>{}}),Hae=N.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=us(n);return i.jsx(QGe,{scope:e.__scopeMenu,value:r,onValueChange:s,children:i.jsx(R6,{...a,ref:t})})});Hae.displayName=Wae;var Gae="MenuRadioItem",Kae=N.forwardRef((e,t)=>{const{value:r,...n}=e,a=ZGe(Gae,e.__scopeMenu),s=r===a.value;return i.jsx(Yae,{scope:e.__scopeMenu,checked:s,children:i.jsx(qS,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":L6(s),onSelect:Ct(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});Kae.displayName=Gae;var M6="MenuItemIndicator",[Yae,JGe]=_p(M6,{checked:!1}),Xae=N.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=JGe(M6,r);return i.jsx(Co,{present:n||A5(s.checked)||s.checked===!0,children:i.jsx(zt.span,{...a,ref:t,"data-state":L6(s.checked)})})});Xae.displayName=M6;var eKe="MenuSeparator",Qae=N.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(zt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Qae.displayName=eKe;var tKe="MenuArrow",Zae=N.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=zS(r);return i.jsx(g_,{...a,...n,ref:t})});Zae.displayName=tKe;var rKe="MenuSub",[Ant,Jae]=_p(rKe),Yv="MenuSubTrigger",eie=N.forwardRef((e,t)=>{const r=Sp(Yv,e.__scopeMenu),n=Gb(Yv,e.__scopeMenu),a=Jae(Yv,e.__scopeMenu),s=I6(Yv,e.__scopeMenu),o=N.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=N.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return N.useEffect(()=>d,[d]),N.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(O6,{asChild:!0,...u,children:i.jsx(Uae,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":nie(r.open),...e,ref:Nd(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ct(e.onPointerMove,nb(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ct(e.onPointerLeave,nb(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,x=p==="right",v=x?-5:5,y=h[x?"left":"right"],b=h[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:y,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:y,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ct(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||RGe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});eie.displayName=Yv;var tie="MenuSubContent",rie=N.forwardRef((e,t)=>{const r=$ae(Ll,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Sp(Ll,e.__scopeMenu),o=Gb(Ll,e.__scopeMenu),l=Jae(tie,e.__scopeMenu),c=N.useRef(null),u=Lr(t,c);return i.jsx(rb.Provider,{scope:e.__scopeMenu,children:i.jsx(Co,{present:n||s.open,children:i.jsx(rb.Slot,{scope:e.__scopeMenu,children:i.jsx(F6,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ct(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ct(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ct(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=MGe[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});rie.displayName=tie;function nie(e){return e?"open":"closed"}function A5(e){return e==="indeterminate"}function L6(e){return A5(e)?"indeterminate":e?"checked":"unchecked"}function nKe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function aKe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function iKe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=aKe(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function sKe(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s].x,c=t[s].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function oKe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return sKe(r,t)}function nb(e){return t=>t.pointerType==="mouse"?e(t):void 0}var lKe=Lae,cKe=O6,uKe=Bae,dKe=zae,fKe=R6,hKe=qae,mKe=qS,pKe=Vae,gKe=Hae,xKe=Kae,vKe=Xae,yKe=Qae,bKe=Zae,wKe=eie,jKe=rie,$6="DropdownMenu",[NKe]=zi($6,[Rae]),so=Rae(),[_Ke,aie]=NKe($6),iie=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=so(t),u=N.useRef(null),[d=!1,f]=No({prop:a,defaultProp:s,onChange:o});return i.jsx(_Ke,{scope:t,triggerId:si(),triggerRef:u,contentId:si(),open:d,onOpenChange:f,onOpenToggle:N.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(lKe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};iie.displayName=$6;var sie="DropdownMenuTrigger",oie=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=aie(sie,r),o=so(r);return i.jsx(cKe,{asChild:!0,...o,children:i.jsx(zt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Nd(t,s.triggerRef),onPointerDown:Ct(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ct(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});oie.displayName=sie;var SKe="DropdownMenuPortal",lie=e=>{const{__scopeDropdownMenu:t,...r}=e,n=so(t);return i.jsx(uKe,{...n,...r})};lie.displayName=SKe;var cie="DropdownMenuContent",uie=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=aie(cie,r),s=so(r),o=N.useRef(!1);return i.jsx(dKe,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:Ct(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ct(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uie.displayName=cie;var AKe="DropdownMenuGroup",CKe=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=so(r);return i.jsx(fKe,{...a,...n,ref:t})});CKe.displayName=AKe;var EKe="DropdownMenuLabel",die=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=so(r);return i.jsx(hKe,{...a,...n,ref:t})});die.displayName=EKe;var PKe="DropdownMenuItem",fie=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=so(r);return i.jsx(mKe,{...a,...n,ref:t})});fie.displayName=PKe;var kKe="DropdownMenuCheckboxItem",hie=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=so(r);return i.jsx(pKe,{...a,...n,ref:t})});hie.displayName=kKe;var TKe="DropdownMenuRadioGroup",OKe=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=so(r);return i.jsx(gKe,{...a,...n,ref:t})});OKe.displayName=TKe;var DKe="DropdownMenuRadioItem",mie=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=so(r);return i.jsx(xKe,{...a,...n,ref:t})});mie.displayName=DKe;var IKe="DropdownMenuItemIndicator",pie=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=so(r);return i.jsx(vKe,{...a,...n,ref:t})});pie.displayName=IKe;var FKe="DropdownMenuSeparator",gie=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=so(r);return i.jsx(yKe,{...a,...n,ref:t})});gie.displayName=FKe;var RKe="DropdownMenuArrow",MKe=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=so(r);return i.jsx(bKe,{...a,...n,ref:t})});MKe.displayName=RKe;var LKe="DropdownMenuSubTrigger",xie=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=so(r);return i.jsx(wKe,{...a,...n,ref:t})});xie.displayName=LKe;var $Ke="DropdownMenuSubContent",vie=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=so(r);return i.jsx(jKe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vie.displayName=$Ke;var BKe=iie,zKe=oie,qKe=lie,yie=uie,bie=die,wie=fie,jie=hie,Nie=mie,_ie=pie,Sie=gie,Aie=xie,Cie=vie;const Eie=BKe,Pie=zKe,UKe=N.forwardRef(({className:e,inset:t,children:r,...n},a)=>i.jsxs(Aie,{ref:a,className:ht("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,i.jsx(Nb,{className:"ml-auto"})]}));UKe.displayName=Aie.displayName;const VKe=N.forwardRef(({className:e,...t},r)=>i.jsx(Cie,{ref:r,className:ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));VKe.displayName=Cie.displayName;const B6=N.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(qKe,{children:i.jsx(yie,{ref:n,sideOffset:t,className:ht("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));B6.displayName=yie.displayName;const Mm=N.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(wie,{ref:n,className:ht("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Mm.displayName=wie.displayName;const WKe=N.forwardRef(({className:e,children:t,checked:r,...n},a)=>i.jsxs(jie,{ref:a,className:ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(_ie,{children:i.jsx(ma,{className:"h-4 w-4"})})}),t]}));WKe.displayName=jie.displayName;const HKe=N.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Nie,{ref:n,className:ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(_ie,{children:i.jsx(lhe,{className:"h-2 w-2 fill-current"})})}),t]}));HKe.displayName=Nie.displayName;const GKe=N.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(bie,{ref:n,className:ht("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));GKe.displayName=bie.displayName;const kie=N.forwardRef(({className:e,...t},r)=>i.jsx(Sie,{ref:r,className:ht("-mx-1 my-1 h-px bg-muted",e),...t}));kie.displayName=Sie.displayName;var z6="Avatar",[KKe]=zi(z6),[YKe,Tie]=KKe(z6),Oie=N.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=N.useState("idle");return i.jsx(YKe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(zt.span,{...n,ref:t})})});Oie.displayName=z6;var Die="AvatarImage",Iie=N.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,o=Tie(Die,r),l=XKe(n,s),c=us(u=>{a(u),o.onImageLoadingStatusChange(u)});return ci(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(zt.img,{...s,ref:t,src:n}):null});Iie.displayName=Die;var Fie="AvatarFallback",Rie=N.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=Tie(Fie,r),[o,l]=N.useState(n===void 0);return N.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(zt.span,{...a,ref:t}):null});Rie.displayName=Fie;function m9(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function XKe(e,{referrerPolicy:t,crossOrigin:r}){const n=ZKe(),a=N.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=N.useState(()=>m9(s,e));return ci(()=>{l(m9(s,e))},[s,e]),ci(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),o}function QKe(){return()=>{}}function ZKe(){return N.useSyncExternalStore(QKe,()=>!0,()=>!1)}var Mie=Oie,Lie=Iie,$ie=Rie;const Bie=N.forwardRef(({className:e,...t},r)=>i.jsx(Mie,{ref:r,className:ht(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Bie.displayName=Mie.displayName;const JKe=N.forwardRef(({className:e,...t},r)=>i.jsx(Lie,{ref:r,className:ht("aspect-square h-full w-full",e),...t}));JKe.displayName=Lie.displayName;const zie=N.forwardRef(({className:e,...t},r)=>i.jsx($ie,{ref:r,className:ht("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));zie.displayName=$ie.displayName;function eYe(){const{setTheme:e}=$pe();return i.jsxs(Eie,{children:[i.jsx(Pie,{asChild:!0,children:i.jsxs(ye,{variant:"outline",size:"icon",children:[i.jsx(She,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),i.jsx(xhe,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),i.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}),i.jsxs(B6,{align:"end",children:[i.jsx(Mm,{onClick:()=>e("light"),children:"Claro"}),i.jsx(Mm,{onClick:()=>e("dark"),children:"Noturno"}),i.jsx(Mm,{onClick:()=>e("system"),children:"Sistema (Gradiente)"})]})]})}function kw(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!t)return"0 0% 0%";let r=parseInt(t[1],16)/255,n=parseInt(t[2],16)/255,a=parseInt(t[3],16)/255;const s=Math.max(r,n,a),o=Math.min(r,n,a);let l=0,c=0,u=(s+o)/2;if(s!==o){const d=s-o;switch(c=u>.5?d/(2-s-o):d/(s+o),s){case r:l=((n-a)/d+(n<a?6:0))/6;break;case n:l=((a-r)/d+2)/6;break;case a:l=((r-n)/d+4)/6;break}}return l=Math.round(l*360),c=Math.round(c*100),u=Math.round(u*100),`${l} ${c}% ${u}%`}function tYe({userEmail:e="usuario@email.com",onLogout:t}){const{toast:r}=Qr(),[n,a]=N.useState({logoUrl:"",storeName:"Pavisoft Sistemas"}),[s,o]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(""),[f,h]=N.useState(!1),[m,g]=N.useState(""),[p,x]=N.useState(""),[v,y]=N.useState(""),[b,j]=N.useState(""),[_,P]=N.useState(!1),[k,S]=N.useState(!1);N.useEffect(()=>{const C=localStorage.getItem("customization");if(C){const L=JSON.parse(C);a({logoUrl:L.logoUrl||"",storeName:L.storeName||"Controle de Estoque Simples"}),L.primaryColor&&document.documentElement.style.setProperty("--primary",kw(L.primaryColor)),L.secondaryColor&&document.documentElement.style.setProperty("--secondary",kw(L.secondaryColor)),L.accentColor&&document.documentElement.style.setProperty("--accent",kw(L.accentColor)),L.backgroundColor&&document.documentElement.style.setProperty("--background",kw(L.backgroundColor))}const I=localStorage.getItem("user");if(I)try{const L=JSON.parse(I);o(L.nome||"Usurio"),c(L.cargo||(L.tipo==="funcionario"?"Funcionrio":"Administrador")),d(L.id||"")}catch{o("Usurio"),c("Usurio"),d("")}},[]);const E=C=>{const I=C.split(" ");return I.length>=2?(I[0][0]+I[1][0]).toUpperCase():C.substring(0,2).toUpperCase()},M=async()=>{S(!0);try{const I=await(await Pr("POST","/api/auth/send-verification-code",{userId:u,email:e})).json();j(I.code),P(!0),r({title:"Cdigo enviado",description:`Um cdigo de verificao foi enviado para ${e}`})}catch{r({title:"Erro",description:"Erro ao enviar cdigo de verificao. Tente novamente.",variant:"destructive"})}finally{S(!1)}},T=async()=>{if(!v||!m||!p){r({title:"Erro",description:"Preencha todos os campos",variant:"destructive"});return}if(v!==b){r({title:"Erro",description:"Cdigo de verificao invlido",variant:"destructive"});return}if(m!==p){r({title:"Erro",description:"As senhas no coincidem",variant:"destructive"});return}if(m.length<6){r({title:"Erro",description:"A senha deve ter no mnimo 6 caracteres",variant:"destructive"});return}try{await Pr("PATCH",`/api/users/${u}`,{senha:m}),r({title:"Senha alterada",description:"Sua senha foi alterada com sucesso!"}),h(!1),g(""),x(""),y(""),j(""),P(!1)}catch{r({title:"Erro",description:"Erro ao alterar senha. Tente novamente.",variant:"destructive"})}};return i.jsxs("header",{className:"border-b bg-background",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(EWe,{"data-testid":"button-sidebar-toggle"}),n.logoUrl&&i.jsx("img",{src:n.logoUrl,alt:"Logo",className:"h-8 w-auto object-contain"}),i.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-400 dark:from-blue-400 dark:via-cyan-300 dark:to-blue-300 bg-clip-text text-transparent animate-gradient-x tracking-tight",children:n.storeName})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(eYe,{}),i.jsxs(Eie,{children:[i.jsx(Pie,{asChild:!0,children:i.jsxs(ye,{variant:"ghost",className:"gap-2","data-testid":"button-user-menu",children:[i.jsx(Bie,{className:"h-8 w-8",children:i.jsx(zie,{className:"bg-primary/10 text-primary font-semibold",children:s?E(s):"U"})}),i.jsx("span",{className:"text-sm font-medium","data-testid":"text-user-name",children:s||"Usurio"})]})}),i.jsxs(B6,{align:"end",className:"w-56",children:[i.jsxs(Mm,{className:"flex flex-col items-start gap-1 cursor-default",disabled:!0,children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Cargo"}),i.jsx("span",{className:"text-sm font-medium",children:l})]}),i.jsxs(Mm,{className:"flex flex-col items-start gap-1 cursor-default",disabled:!0,children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Email"}),i.jsx("span",{className:"text-sm font-medium","data-testid":"text-user-email",children:e})]}),i.jsx(kie,{}),i.jsxs(Mm,{onClick:()=>h(!0),children:[i.jsx(phe,{className:"h-4 w-4 mr-2"}),"Redefinir Senha"]})]})]}),i.jsxs(ye,{variant:"outline",size:"sm",onClick:t,"data-testid":"button-logout",children:[i.jsx(OT,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]}),i.jsx(kr,{open:f,onOpenChange:C=>{h(C),C||(g(""),x(""),y(""),j(""),P(!1))},children:i.jsxs(Sr,{children:[i.jsxs(yr,{children:[i.jsx(br,{children:" Redefinir Senha"}),i.jsx(tn,{children:"Por segurana, enviaremos um cdigo de verificao para seu email"})]}),i.jsx("div",{className:"space-y-4",children:_?i.jsxs(i.Fragment,{children:[i.jsx($i,{className:"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800",children:i.jsxs(Bi,{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[i.jsx("span",{children:""}),i.jsxs("span",{children:["Cdigo enviado para ",e]})]})}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"verification-code",children:"Cdigo de Verificao"}),i.jsx(Ze,{id:"verification-code",type:"text",value:v,onChange:C=>y(C.target.value),placeholder:"Digite o cdigo recebido por email",maxLength:6})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"new-password",children:"Nova Senha"}),i.jsx(Ze,{id:"new-password",type:"password",value:m,onChange:C=>g(C.target.value),placeholder:"Digite a nova senha"})]}),i.jsxs("div",{children:[i.jsx(De,{htmlFor:"confirm-password",children:"Confirmar Senha"}),i.jsx(Ze,{id:"confirm-password",type:"password",value:p,onChange:C=>x(C.target.value),placeholder:"Confirme a nova senha"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{onClick:T,className:"flex-1",children:"Alterar Senha"}),i.jsx(ye,{variant:"outline",onClick:()=>{P(!1),y("")},className:"flex-1",children:"Reenviar Cdigo"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx($i,{children:i.jsxs(Bi,{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsxs("span",{children:["Um cdigo ser enviado para ",i.jsx("strong",{children:e})]})]})}),i.jsx(ye,{onClick:M,className:"w-full",disabled:k,children:k?"Enviando...":"Enviar Cdigo de Verificao"})]})})]})})]})}function rYe(){const[,e]=ui(),{user:t,checkExpiration:r}=Rd(),{isPremium:n}=w_();return N.useEffect(()=>{t&&r&&r()},[t==null?void 0:t.id]),(()=>{if(!t||t.is_admin==="true")return!1;if(t.status==="bloqueado")return!0;if(t.tipo==="funcionario"||n())return!1;if(t.plano==="trial"||t.plano==="free"){if(t.data_expiracao_plano){const s=new Date,o=new Date(t.data_expiracao_plano);return s>=o}if(t.data_expiracao_trial){const s=new Date,o=new Date(t.data_expiracao_trial);return s>=o}}return!1})()?i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4","data-testid":"modal-trial-expired",children:i.jsx(Ae,{className:"max-w-2xl w-full","data-testid":"card-trial-expired",children:i.jsx(Pe,{className:"pt-8 pb-8",children:i.jsxs("div",{className:"flex flex-col items-center text-center space-y-6",children:[i.jsx("div",{className:"rounded-full bg-yellow-100 dark:bg-yellow-900/30 p-8",children:i.jsx(ud,{className:"h-20 w-20 text-yellow-600 dark:text-yellow-400","data-testid":"icon-alert"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100","data-testid":"text-expired-title",children:"Perodo de Teste Expirado"}),i.jsx("p",{className:"text-xl text-gray-700 dark:text-gray-300","data-testid":"text-expired-description",children:"Para continuar utilizando nossos servios, contrate um plano"})]}),i.jsxs("div",{className:"w-full space-y-4 pt-4",children:[i.jsx("button",{onClick:()=>e("/planos"),className:"w-full bg-primary hover:bg-primary/90 text-white font-semibold py-4 px-6 rounded-lg text-lg transition-colors","data-testid":"button-ver-planos",children:"Ver Planos Disponveis"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400","data-testid":"text-contato-info",children:"Dvidas? Entre em contato: pavisoft.suporte@gmail.com"})]})]})})})}):null}function nYe({phoneNumber:e,message:t="Ol! Gostaria de tirar uma dvida sobre o sistema."}){const[r]=ui(),[n,a]=N.useState(!1);if(["/caixa","/pdv"].includes(r))return null;const o=()=>{if(!n)a(!0),setTimeout(()=>{a(!1)},3e3);else{const l=e.replace(/\D/g,""),c=encodeURIComponent(t),u=`https://wa.me/${l}?text=${c}`;window.open(u,"_blank"),a(!1)}};return i.jsxs("button",{onClick:o,className:"fixed bottom-6 right-6 z-50 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 group","aria-label":"Falar no WhatsApp","data-testid":"whatsapp-button",children:[n?i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 animate-in fade-in slide-in-from-right-2",children:[i.jsx(Uj,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium text-sm whitespace-nowrap",children:"Fale Conosco!"})]}):i.jsx("div",{className:"flex items-center justify-center w-12 h-12",children:i.jsx(Uj,{className:"h-5 w-5"})}),i.jsx("span",{className:"absolute inset-0 rounded-full bg-green-400 opacity-0 group-hover:opacity-20 group-hover:animate-ping"})]})}function Ja({children:e}){const[t,r]=ui(),[n,a]=he.useState("usuario@email.com");he.useEffect(()=>{const g=localStorage.getItem("user");if(g)try{const p=JSON.parse(g);a(p.email||"usuario@email.com")}catch{a("usuario@email.com")}},[]);const s=()=>{console.log("Logout realizado"),localStorage.removeItem("user"),r("/")},o={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"},l=t==="/pdv",[c,u]=N.useState({premium_mensal:79.99,premium_anual:767.04});N.useEffect(()=>{(async()=>{try{const p=await R_();u(p)}catch(p){console.error(" Erro ao carregar preos:",p)}})()},[]);const d=c.premium_mensal,f=c.premium_anual,h=f/12,m=d*12-f;return`${d.toFixed(2).replace(".",",")}`,`${h.toFixed(2).replace(".",",")}`,`${f.toFixed(2).replace(".",",")}`,`${m.toFixed(2).replace(".",",")}`,i.jsxs(AWe,{style:o,children:[i.jsx(rYe,{}),i.jsxs("div",{className:"flex h-screen w-full",children:[i.jsx(DGe,{}),i.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[!l&&i.jsx(tYe,{userEmail:n,onLogout:s}),i.jsxs("main",{className:"flex-1 overflow-auto p-6 bg-background",children:[e,i.jsx(nYe,{phoneNumber:localStorage.getItem("whatsapp_number")||"+5598984267488",message:"Ol! Gostaria de tirar uma dvida sobre o Pavisoft Sistemas."}),i.jsx("footer",{className:"mt-8 pt-6 border-t border-border",children:i.jsxs("p",{className:"text-center text-xs text-muted-foreground",children:["Desenvolvido por ",i.jsx("span",{className:"font-medium text-foreground",children:"Pavisoft Sistemas"})]})})]})]})]})]})}function aYe(){Rd();const[,e]=ui(),[t,r]=N.useState(!1),[n,a]=N.useState(null),{toast:s}=Qr(),[o,l]=N.useState(wF()),[c,u]=N.useState(!0);N.useEffect(()=>{(async()=>{u(!0);try{const y=await R_();l(y)}catch(y){console.error(" [PLANOS] Erro ao carregar preos:",y),l(wF())}finally{u(!1)}})()},[]),N.useEffect(()=>{const y=new URLSearchParams(window.location.search).get("status");y&&(y==="success"||y==="approved"?s({title:" Pagamento Confirmado!",description:"Sua assinatura ser ativada em breve. Voc receber um e-mail de confirmao."}):y==="failure"?s({title:" Pagamento Recusado",description:"No foi possvel processar seu pagamento. Tente novamente.",variant:"destructive"}):y==="pending"&&s({title:" Pagamento Pendente",description:"Seu pagamento est sendo processado. Aguarde a confirmao."}),localStorage.removeItem("pending_subscription"),window.history.replaceState({},document.title,window.location.pathname))},[s]);const d=()=>{const v=localStorage.getItem("user");e(v?"/dashboard":"/login")},f=o.premium_mensal,h=o.premium_anual,m=h/12,g=gX(f,h),p=v=>{a(v==="mensal"?{plano:"premium_mensal",planoNome:"Plano Mensal",planoPreco:Hu(o.premium_mensal)}:{plano:"premium_anual",planoNome:"Plano Anual",planoPreco:Hu(o.premium_anual/12)}),r(!0)},x=[{icon:o1,titulo:"PDV Completo",desc:"Sistema de ponto de venda moderno e intuitivo"},{icon:Ga,titulo:"Gesto de Estoque",desc:"Controle total de produtos e inventrio"},{icon:ai,titulo:"NFC-e",desc:"Emisso de notas fiscais eletrnicas"},{icon:Ci,titulo:"Relatrios Avanados",desc:"Dashboards e anlises em tempo real"},{icon:Ba,titulo:"Multi-usurio",desc:"Gerencie funcionrios e permisses"},{icon:eo,titulo:"Backup Automtico",desc:"Seus dados sempre seguros"}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-purple-950","data-testid":"page-planos",children:[i.jsx("nav",{className:"bg-black/30 backdrop-blur-xl border-b border-white/10 sticky top-0 z-50",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(_s,{href:"/",children:i.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl group-hover:scale-110 transition-transform",children:i.jsx(Ga,{className:"h-6 w-6 text-white"})}),i.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Pavisoft Sistemas"})]})}),i.jsxs(ye,{variant:"outline",className:"gap-2 border-white/20 hover:bg-white/10 text-white",onClick:d,children:[i.jsx(uG,{className:"h-4 w-4"}),"Voltar ao Sistema"]})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-500/20 border border-purple-500/30 rounded-full mb-6",children:[i.jsx(dd,{className:"h-4 w-4 text-purple-400"}),i.jsx("span",{className:"text-sm text-purple-300 font-medium",children:"Transforme seu negcio hoje"})]}),i.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6","data-testid":"text-title",children:i.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Escolha o Plano Ideal"})}),i.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto","data-testid":"text-subtitle",children:"Sistema completo de gesto para sua empresa crescer com segurana e eficincia"})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-16",children:x.map((v,y)=>i.jsx(Ae,{className:"bg-white/5 border-white/10 backdrop-blur-sm hover:bg-white/10 transition-all",children:i.jsxs(Pe,{className:"p-4 text-center",children:[i.jsx(v.icon,{className:"h-8 w-8 mx-auto mb-2 text-purple-400"}),i.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:v.titulo}),i.jsx("p",{className:"text-xs text-gray-400",children:v.desc})]})},y))}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto mb-16",children:[i.jsxs(Ae,{className:"bg-white/5 border-white/10 backdrop-blur-xl hover:border-blue-500/50 transition-all group","data-testid":"card-plano-mensal",children:[i.jsxs(qe,{className:"text-center pb-8 pt-10",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl mb-4 mx-auto group-hover:scale-110 transition-transform",children:i.jsx(Z1,{className:"h-8 w-8 text-white"})}),i.jsx(Ue,{className:"text-3xl font-bold text-white mb-2","data-testid":"text-nome-mensal",children:"Plano Mensal"}),i.jsx(Ht,{className:"text-gray-400","data-testid":"text-descricao-mensal",children:"Flexibilidade total"}),i.jsx("div",{className:"mt-6",children:i.jsxs("div",{className:"flex items-baseline justify-center gap-2",children:[i.jsx("span",{className:"text-5xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent","data-testid":"text-preco-mensal",children:Hu(f)}),i.jsx("span",{className:"text-gray-400 text-xl","data-testid":"text-periodo-mensal",children:"/ms"})]})})]}),i.jsxs(Pe,{className:"space-y-6",children:[i.jsx("ul",{className:"space-y-3",children:["Acesso completo ao sistema","1 funcionrio incluso","PDV e controle de caixa","Gesto de estoque ilimitada","Emisso de NFC-e","Relatrios em tempo real","Gesto financeira completa","Suporte por email","Backup automtico dirio"].map((v,y)=>i.jsxs("li",{className:"flex items-start gap-3","data-testid":`item-recurso-mensal-${y}`,children:[i.jsx(ma,{className:"h-5 w-5 text-green-400 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-gray-300",children:v})]},y))}),i.jsx(ye,{className:"w-full text-lg py-6 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 shadow-lg shadow-blue-500/50",onClick:()=>p("mensal"),"data-testid":"button-contratar-mensal",children:"Contratar Agora"})]})]}),i.jsxs(Ae,{className:"relative bg-gradient-to-br from-purple-500/10 to-pink-500/10 border-2 border-purple-500/50 backdrop-blur-xl shadow-2xl shadow-purple-500/20 group overflow-hidden","data-testid":"card-plano-anual",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500 to-pink-500 rounded-bl-full opacity-20"}),i.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-10",children:i.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-full shadow-lg","data-testid":"badge-destaque",children:i.jsxs("span",{className:"font-bold",children:[" Mais Popular - Economize ",Hu(g)]})})}),i.jsxs(qe,{className:"text-center pb-8 pt-14 relative",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl mb-4 mx-auto group-hover:scale-110 transition-transform",children:i.jsx(dd,{className:"h-8 w-8 text-white"})}),i.jsx(Ue,{className:"text-3xl font-bold text-white mb-2","data-testid":"text-nome-anual",children:"Plano Anual"}),i.jsx(Ht,{className:"text-gray-300","data-testid":"text-descricao-anual",children:"Melhor custo-benefcio"}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"flex items-baseline justify-center gap-2",children:[i.jsx("span",{className:"text-5xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent","data-testid":"text-preco-anual",children:Hu(m)}),i.jsx("span",{className:"text-gray-300 text-xl","data-testid":"text-periodo-anual",children:"/ms"})]}),i.jsxs("p",{className:"text-sm text-purple-300 mt-2",children:[Hu(h),"/ano  12x sem juros"]})]})]}),i.jsxs(Pe,{className:"space-y-6",children:[i.jsx("ul",{className:"space-y-3",children:["Todos os recursos do plano mensal","1 funcionrio incluso",`Economize ${Hu(g)} por ano`,"Suporte prioritrio","Backups em tempo real","Atualizaes antecipadas","Acesso completo ao sistema","PDV e controle de caixa","Gesto financeira completa"].map((v,y)=>i.jsxs("li",{className:"flex items-start gap-3","data-testid":`item-recurso-anual-${y}`,children:[i.jsx(ma,{className:"h-5 w-5 text-green-400 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-white font-medium",children:v})]},y))}),i.jsx(ye,{className:"w-full text-lg py-6 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-lg shadow-purple-500/50",onClick:()=>p("anual"),"data-testid":"button-contratar-anual",children:"Contratar Agora"})]})]})]}),i.jsxs(Ae,{className:"bg-white/5 border-white/10 backdrop-blur-xl max-w-4xl mx-auto",children:[i.jsxs(qe,{children:[i.jsxs(Ue,{className:"text-2xl text-white text-center flex items-center justify-center gap-2",children:[i.jsx(eo,{className:"h-6 w-6 text-green-400"}),"Segurana no Pagamento"]}),i.jsx("p",{className:"text-center text-gray-400 mt-2",children:"Sua compra  100% segura e protegida"})]}),i.jsxs(Pe,{className:"space-y-6",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white/5 rounded-lg border border-white/10",children:[i.jsx(_o,{className:"h-5 w-5 text-blue-400 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-1",children:"Criptografia SSL/TLS"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Todos os dados do pagamento so criptografados"})]})]}),i.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white/5 rounded-lg border border-white/10",children:[i.jsx(eo,{className:"h-5 w-5 text-green-400 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-1",children:"Dados Protegidos"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Informaes nunca armazenadas em nossos servidores"})]})]}),i.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white/5 rounded-lg border border-white/10",children:[i.jsx(As,{className:"h-5 w-5 text-purple-400 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-1",children:"Gateway Seguro Mercado Pago"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Certificado PCI-DSS Nvel 1"})]})]}),i.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white/5 rounded-lg border border-white/10",children:[i.jsx(La,{className:"h-5 w-5 text-green-400 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-1",children:"Conformidade LGPD"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Totalmente em conformidade com a LGPD"})]})]})]}),i.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-lg border border-blue-500/20",children:[i.jsx("p",{className:"text-gray-300 mb-2",children:"Tem dvidas sobre segurana ou pagamento?"}),i.jsxs(ye,{variant:"default",className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600",onClick:()=>window.location.href="mailto:atendimento.pavisoft@gmail.com","data-testid":"button-email-suporte",children:[i.jsx(sl,{className:"h-4 w-4"}),"Entre em Contato"]})]})]})]}),i.jsx("footer",{className:"mt-16 pt-8 border-t border-white/10",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[i.jsx(Ga,{className:"h-6 w-6 text-purple-400"}),i.jsx("span",{className:"text-white font-bold",children:"Pavisoft Sistemas"})]}),i.jsx("p",{className:"text-sm text-gray-400",children:" 2025 Pavisoft Sistemas. Todos os direitos reservados."})]})})]}),n&&i.jsx(jX,{open:t,onOpenChange:r,plano:n.plano,planoNome:n.planoNome,planoPreco:n.planoPreco})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var C5={};C5.version="0.18.5";var qie=1252,iYe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Uie=function(e){iYe.indexOf(e)!=-1&&(qie=e)};function sYe(){Uie(1252)}var ab=function(e){Uie(e)};function oYe(){ab(1200),sYe()}var Tw=function(t){return String.fromCharCode(t)},p9=function(t){return String.fromCharCode(t)},E5,Bf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ib(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=Bf.charAt(s)+Bf.charAt(o)+Bf.charAt(l)+Bf.charAt(c);return t}function Dd(e){var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=Bf.indexOf(e.charAt(u++)),o=Bf.indexOf(e.charAt(u++)),r=s<<2|o>>4,t+=String.fromCharCode(r),l=Bf.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=Bf.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var hn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),zd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function lp(e){return hn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function g9(e){return hn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var xc=function(t){return hn?zd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function US(e){if(typeof ArrayBuffer>"u")return xc(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Kb(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function lYe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var as=hn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:zd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function cYe(e){for(var t=[],r=0,n=e.length+250,a=lp(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=lp(65535),n=65530)}return t.push(a.slice(0,r)),as(t)}var _1=/\u0000/g,Ow=/[\u0001-\u0006]/g;function rg(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function yc(e,t){var r=""+e;return r.length>=t?r:Ca("0",t-r.length)+r}function q6(e,t){var r=""+e;return r.length>=t?r:Ca(" ",t-r.length)+r}function P5(e,t){var r=""+e;return r.length>=t?r:r+Ca(" ",t-r.length)}function uYe(e,t){var r=""+Math.round(e);return r.length>=t?r:Ca("0",t-r.length)+r}function dYe(e,t){var r=""+e;return r.length>=t?r:Ca("0",t-r.length)+r}var x9=Math.pow(2,32);function n0(e,t){if(e>x9||e<-x9)return uYe(e,t);var r=Math.round(e);return dYe(r,t)}function k5(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var v9=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],P3=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function fYe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var ka={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},y9={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},hYe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function T5(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function Dw(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=bYe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var Vie=new Date(1899,11,31,0,0,0),mYe=Vie.getTime(),pYe=new Date(1900,2,1,0,0,0);function Wie(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=pYe&&(r+=24*60*60*1e3),(r-(mYe+(e.getTimezoneOffset()-Vie.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function U6(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function gYe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function xYe(e){var t=e<0?12:11,r=U6(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function vYe(e){var t=U6(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function yYe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=xYe(e):t===10?r=e.toFixed(10).substr(0,12):r=vYe(e),U6(gYe(r.toUpperCase()))}function yk(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):yYe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return dh(14,Wie(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function bYe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function wYe(e,t,r,n){var a="",s=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return P3[r.m-1][1];case 5:return P3[r.m-1][0];default:return P3[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return v9[r.q][0];default:return v9[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?yc(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=yc(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?yc(c,u):"";return d}function zf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Hie=/%/g;function jYe(e,t,r){var n=t.replace(Hie,""),a=t.length-n.length;return pd(e,n,r*Math.pow(10,2*a))+Ca("%",a)}function NYe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return pd(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Gie(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Gie(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Kie=/# (\?+)( ?)\/( ?)(\d+)/;function _Ye(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),o=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(o===0?Ca(" ",e[1].length+1+e[4].length):q6(o,e[1].length)+e[2]+"/"+e[3]+yc(l,e[4].length))}function SYe(e,t,r){return r+(t===0?"":""+t)+Ca(" ",e[1].length+2+e[4].length)}var Yie=/^#*0*\.([0#]+)/,Xie=/\).*[0#]/,Qie=/\(###\) ###\\?-####/;function Ws(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function b9(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function w9(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function AYe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function CYe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Al(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Xie)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Al("n",n,r):"("+Al("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return NYe(e,t,r);if(t.indexOf("%")!==-1)return jYe(e,t,r);if(t.indexOf("E")!==-1)return Gie(t,r);if(t.charCodeAt(0)===36)return"$"+Al(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+n0(c,t.length);if(t.match(/^[#?]+$/))return a=n0(r,0),a==="0"&&(a=""),a.length>t.length?a:Ws(t.substr(0,t.length-a.length))+a;if(s=t.match(Kie))return _Ye(s,c,u);if(t.match(/^#+0+$/))return u+n0(c,t.length-t.indexOf("0"));if(s=t.match(Yie))return a=b9(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ws(s[1])).replace(/\.$/,"."+Ws(s[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+Ca("0",Ws(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+b9(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+zf(n0(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Al(e,t,-r):zf(""+(Math.floor(r)+AYe(r,s[1].length)))+"."+yc(w9(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Al(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=rg(Al(e,t.replace(/[\\-]/g,""),r)),o=0,rg(rg(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(Qie))return a=Al(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=T5(c,Math.pow(10,o)-1,!1),a=""+u,d=pd("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=P5(l[2],o),d.length<s[4].length&&(d=Ws(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=T5(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?q6(l[1],o)+s[2]+"/"+s[3]+P5(l[2],o):Ca(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=n0(r,0),t.length<=a.length?a:Ws(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Ws(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=w9(r,s[1].length),r<0?"-"+Al(e,t,-r):zf(CYe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?yc(0,3-g.length):"")+g})+"."+yc(o,s[1].length);switch(t){case"###,##0.00":return Al(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=zf(n0(c,0));return m!=="0"?u+m:"";case"###,###.00":return Al(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Al(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function EYe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return pd(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function PYe(e,t,r){var n=t.replace(Hie,""),a=t.length-n.length;return pd(e,n,r*Math.pow(10,2*a))+Ca("%",a)}function Zie(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Zie(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Gc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Xie)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Gc("n",n,r):"("+Gc("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return EYe(e,t,r);if(t.indexOf("%")!==-1)return PYe(e,t,r);if(t.indexOf("E")!==-1)return Zie(t,r);if(t.charCodeAt(0)===36)return"$"+Gc(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+yc(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ws(t.substr(0,t.length-a.length))+a;if(s=t.match(Kie))return SYe(s,c,u);if(t.match(/^#+0+$/))return u+yc(c,t.length-t.indexOf("0"));if(s=t.match(Yie))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ws(s[1])).replace(/\.$/,"."+Ws(s[1])),a=a.replace(/\.(\d*)$/,function(g,p){return"."+p+Ca("0",Ws(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+zf(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Gc(e,t,-r):zf(""+r)+"."+Ca("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Gc(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=rg(Gc(e,t.replace(/[\\-]/g,""),r)),o=0,rg(rg(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(Qie))return a=Gc(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=T5(c,Math.pow(10,o)-1,!1),a=""+u,d=pd("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=P5(l[2],o),d.length<s[4].length&&(d=Ws(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=T5(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?q6(l[1],o)+s[2]+"/"+s[3]+P5(l[2],o):Ca(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ws(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Ws(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Gc(e,t,-r):zf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?yc(0,3-g.length):"")+g})+"."+yc(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=zf(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Gc(e,t.slice(0,t.lastIndexOf(".")),r)+Ws(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function pd(e,t,r){return(r|0)===r?Gc(e,t,r):Al(e,t,r)}function kYe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Jie=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ese(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":k5(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Jie))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function TYe(e,t,r,n){for(var a=[],s="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!k5(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++o;break;case"\\":var m=e.charAt(++o),g=m==="("||m===")"?m:"t";a[a.length]={t:g,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Dw(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Dw(t,r),u==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(u==null&&(u=Dw(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(p.v=u.H>=12?"":""),p.t="T",o+=5,h="h"):(p.t="t",++o),u==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Jie)){if(u==null&&(u=Dw(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",ese(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var x=0,v=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",x<1&&(x=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(v=Math.max(v,y[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[o].v.match(/[Hh]/)&&(x=1),x<2&&a[o].v.match(/[Mm]/)&&(x=2),x<3&&a[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",j;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=wYe(a[o].t.charCodeAt(0),a[o].v,u,v),a[o].t="t";break;case"n":case"?":for(j=o+1;a[j]!=null&&((l=a[j].t)==="?"||l==="D"||(l===" "||l==="t")&&a[j+1]!=null&&(a[j+1].t==="?"||a[j+1].t==="t"&&a[j+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[j].v==="/"||a[j].v===" "&&a[j+1]!=null&&a[j+1].t=="?"));)a[o].v+=a[j].v,a[j]={v:"",t:";"},++j;b+=a[o].v,o=j-1;break;case"G":a[o].t="t",a[o].v=yk(t,r);break}var _="",P,k;if(b.length>0){b.charCodeAt(0)==40?(P=t<0&&b.charCodeAt(0)===45?-t:t,k=pd("n",b,P)):(P=t<0&&n>1?-t:t,k=pd("n",b,P),P<0&&a[0]&&a[0].t=="t"&&(k=k.substr(1),a[0].v="-"+a[0].v)),j=k.length-1;var S=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){S=o;break}var E=a.length;if(S===a.length&&k.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(j>=a[o].v.length-1?(j-=a[o].v.length,a[o].v=k.substr(j+1,a[o].v.length)):j<0?a[o].v="":(a[o].v=k.substr(0,j+1),j=-1),a[o].t="t",E=o);j>=0&&E<a.length&&(a[E].v=k.substr(0,j+1)+a[E].v)}else if(S!==a.length&&k.indexOf("E")===-1){for(j=k.indexOf(".")-1,o=S;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===S?a[o].v.indexOf(".")-1:a[o].v.length-1,_=a[o].v.substr(d+1);d>=0;--d)j>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(_=k.charAt(j--)+_);a[o].v=_,a[o].t="t",E=o}for(j>=0&&E<a.length&&(a[E].v=k.substr(0,j+1)+a[E].v),j=k.indexOf(".")+1,o=S;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==S)){for(d=a[o].v.indexOf(".")>-1&&o===S?a[o].v.indexOf(".")+1:0,_=a[o].v.substr(0,d);d<a[o].v.length;++d)j<k.length&&(_+=k.charAt(j++));a[o].v=_,a[o].t="t",E=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(P=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=pd(a[o].t,a[o].v,P),a[o].t="t");var M="";for(o=0;o!==a.length;++o)a[o]!=null&&(M+=a[o].v);return M}var j9=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function N9(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function OYe(e,t){var r=kYe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(j9),l=r[1].match(j9);return N9(t,o)?[n,r[0]]:N9(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,s]}function dh(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:ka)[e],n==null&&(n=r.table&&r.table[y9[e]]||ka[y9[e]]),n==null&&(n=hYe[e]||"General");break}if(k5(n,0))return yk(t,r);t instanceof Date&&(t=Wie(t,r.date1904));var a=OYe(n,t);if(k5(a[1]))return yk(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return TYe(a[1],t,r,a[0])}function tse(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(ka[r]==null){t<0&&(t=r);continue}if(ka[r]==e){t=r;break}}t<0&&(t=391)}return ka[t]=e,t}function VS(e){for(var t=0;t!=392;++t)e[t]!==void 0&&tse(e[t],t)}function WS(){ka=fYe()}var rse=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function DYe(e){var t=typeof e=="number"?ka[e]:e;return t=t.replace(rse,"(\\d+)"),new RegExp("^"+t+"$")}function IYe(e,t,r){var n=-1,a=-1,s=-1,o=-1,l=-1,c=-1;(t.match(rse)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var FYe=function(){var e={};e.version="1.2.0";function t(){for(var k=0,S=new Array(256),E=0;E!=256;++E)k=E,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,S[E]=k;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function n(k){var S=0,E=0,M=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)T[M]=k[M];for(M=0;M!=256;++M)for(E=k[M],S=256+M;S<4096;S+=256)E=T[S]=E>>>8^k[E&255];var C=[];for(M=1;M!=16;++M)C[M-1]=typeof Int32Array<"u"?T.subarray(M*256,M*256+256):T.slice(M*256,M*256+256);return C}var a=n(r),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],g=a[9],p=a[10],x=a[11],v=a[12],y=a[13],b=a[14];function j(k,S){for(var E=S^-1,M=0,T=k.length;M<T;)E=E>>>8^r[(E^k.charCodeAt(M++))&255];return~E}function _(k,S){for(var E=S^-1,M=k.length-15,T=0;T<M;)E=b[k[T++]^E&255]^y[k[T++]^E>>8&255]^v[k[T++]^E>>16&255]^x[k[T++]^E>>>24]^p[k[T++]]^g[k[T++]]^m[k[T++]]^h[k[T++]]^f[k[T++]]^d[k[T++]]^u[k[T++]]^c[k[T++]]^l[k[T++]]^o[k[T++]]^s[k[T++]]^r[k[T++]];for(M+=15;T<M;)E=E>>>8^r[(E^k[T++])&255];return~E}function P(k,S){for(var E=S^-1,M=0,T=k.length,C=0,I=0;M<T;)C=k.charCodeAt(M++),C<128?E=E>>>8^r[(E^C)&255]:C<2048?(E=E>>>8^r[(E^(192|C>>6&31))&255],E=E>>>8^r[(E^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,I=k.charCodeAt(M++)&1023,E=E>>>8^r[(E^(240|C>>8&7))&255],E=E>>>8^r[(E^(128|C>>2&63))&255],E=E>>>8^r[(E^(128|I>>6&15|(C&3)<<4))&255],E=E>>>8^r[(E^(128|I&63))&255]):(E=E>>>8^r[(E^(224|C>>12&15))&255],E=E>>>8^r[(E^(128|C>>6&63))&255],E=E>>>8^r[(E^(128|C&63))&255]);return~E}return e.table=r,e.bstr=j,e.buf=_,e.str=P,e}(),$n=function(){var t={};t.version="1.2.1";function r(te,be){for(var ue=te.split("/"),pe=be.split("/"),we=0,Ne=0,We=Math.min(ue.length,pe.length);we<We;++we){if(Ne=ue[we].length-pe[we].length)return Ne;if(ue[we]!=pe[we])return ue[we]<pe[we]?-1:1}return ue.length-pe.length}function n(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:n(te.slice(0,-1));var be=te.lastIndexOf("/");return be===-1?te:te.slice(0,be+1)}function a(te){if(te.charAt(te.length-1)=="/")return a(te.slice(0,-1));var be=te.lastIndexOf("/");return be===-1?te:te.slice(be+1)}function s(te,be){typeof be=="string"&&(be=new Date(be));var ue=be.getHours();ue=ue<<6|be.getMinutes(),ue=ue<<5|be.getSeconds()>>>1,te.write_shift(2,ue);var pe=be.getFullYear()-1980;pe=pe<<4|be.getMonth()+1,pe=pe<<5|be.getDate(),te.write_shift(2,pe)}function o(te){var be=te.read_shift(2)&65535,ue=te.read_shift(2)&65535,pe=new Date,we=ue&31;ue>>>=5;var Ne=ue&15;ue>>>=4,pe.setMilliseconds(0),pe.setFullYear(ue+1980),pe.setMonth(Ne-1),pe.setDate(we);var We=be&31;be>>>=5;var tt=be&63;return be>>>=6,pe.setHours(be),pe.setMinutes(tt),pe.setSeconds(We<<1),pe}function l(te){Go(te,0);for(var be={},ue=0;te.l<=te.length-4;){var pe=te.read_shift(2),we=te.read_shift(2),Ne=te.l+we,We={};switch(pe){case 21589:ue=te.read_shift(1),ue&1&&(We.mtime=te.read_shift(4)),we>5&&(ue&2&&(We.atime=te.read_shift(4)),ue&4&&(We.ctime=te.read_shift(4))),We.mtime&&(We.mt=new Date(We.mtime*1e3));break}te.l=Ne,be[pe]=We}return be}var c;function u(){return c||(c={})}function d(te,be){if(te[0]==80&&te[1]==75)return Ve(te,be);if((te[0]|32)==109&&(te[1]|32)==105)return ur(te,be);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var ue=3,pe=512,we=0,Ne=0,We=0,tt=0,He=0,Ge=[],Qe=te.slice(0,512);Go(Qe,0);var vt=f(Qe);switch(ue=vt[0],ue){case 3:pe=512;break;case 4:pe=4096;break;case 0:if(vt[1]==0)return Ve(te,be);default:throw new Error("Major Version: Expected 3 or 4 saw "+ue)}pe!==512&&(Qe=te.slice(0,pe),Go(Qe,28));var Et=te.slice(0,pe);h(Qe,ue);var Lt=Qe.read_shift(4,"i");if(ue===3&&Lt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Lt);Qe.l+=4,We=Qe.read_shift(4,"i"),Qe.l+=4,Qe.chk("00100000","Mini Stream Cutoff Size: "),tt=Qe.read_shift(4,"i"),we=Qe.read_shift(4,"i"),He=Qe.read_shift(4,"i"),Ne=Qe.read_shift(4,"i");for(var St=-1,Ft=0;Ft<109&&(St=Qe.read_shift(4,"i"),!(St<0));++Ft)Ge[Ft]=St;var xr=m(te,pe);x(He,Ne,xr,pe,Ge);var Mn=y(xr,We,Ge,pe);Mn[We].name="!Directory",we>0&&tt!==I&&(Mn[tt].name="!MiniFAT"),Mn[Ge[0]].name="!FAT",Mn.fat_addrs=Ge,Mn.ssz=pe;var Zr={},ya=[],Lc=[],Kl=[];b(We,Mn,xr,ya,we,Zr,Lc,tt),g(Lc,Kl,ya),ya.shift();var $c={FileIndex:Lc,FullPaths:Kl};return be&&be.raw&&($c.raw={header:Et,sectors:xr}),$c}function f(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(L,"Header Signature: "),te.l+=16;var be=te.read_shift(2,"u");return[te.read_shift(2,"u"),be]}function h(te,be){var ue=9;switch(te.l+=2,ue=te.read_shift(2)){case 9:if(be!=3)throw new Error("Sector Shift: Expected 9 saw "+ue);break;case 12:if(be!=4)throw new Error("Sector Shift: Expected 12 saw "+ue);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ue)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function m(te,be){for(var ue=Math.ceil(te.length/be)-1,pe=[],we=1;we<ue;++we)pe[we-1]=te.slice(we*be,(we+1)*be);return pe[ue-1]=te.slice(ue*be),pe}function g(te,be,ue){for(var pe=0,we=0,Ne=0,We=0,tt=0,He=ue.length,Ge=[],Qe=[];pe<He;++pe)Ge[pe]=Qe[pe]=pe,be[pe]=ue[pe];for(;tt<Qe.length;++tt)pe=Qe[tt],we=te[pe].L,Ne=te[pe].R,We=te[pe].C,Ge[pe]===pe&&(we!==-1&&Ge[we]!==we&&(Ge[pe]=Ge[we]),Ne!==-1&&Ge[Ne]!==Ne&&(Ge[pe]=Ge[Ne])),We!==-1&&(Ge[We]=pe),we!==-1&&pe!=Ge[pe]&&(Ge[we]=Ge[pe],Qe.lastIndexOf(we)<tt&&Qe.push(we)),Ne!==-1&&pe!=Ge[pe]&&(Ge[Ne]=Ge[pe],Qe.lastIndexOf(Ne)<tt&&Qe.push(Ne));for(pe=1;pe<He;++pe)Ge[pe]===pe&&(Ne!==-1&&Ge[Ne]!==Ne?Ge[pe]=Ge[Ne]:we!==-1&&Ge[we]!==we&&(Ge[pe]=Ge[we]));for(pe=1;pe<He;++pe)if(te[pe].type!==0){if(tt=pe,tt!=Ge[tt])do tt=Ge[tt],be[pe]=be[tt]+"/"+be[pe];while(tt!==0&&Ge[tt]!==-1&&tt!=Ge[tt]);Ge[pe]=-1}for(be[0]+="/",pe=1;pe<He;++pe)te[pe].type!==2&&(be[pe]+="/")}function p(te,be,ue){for(var pe=te.start,we=te.size,Ne=[],We=pe;ue&&we>0&&We>=0;)Ne.push(be.slice(We*C,We*C+C)),we-=C,We=om(ue,We*4);return Ne.length===0?nt(0):as(Ne).slice(0,te.size)}function x(te,be,ue,pe,we){var Ne=I;if(te===I){if(be!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var We=ue[te],tt=(pe>>>2)-1;if(!We)return;for(var He=0;He<tt&&(Ne=om(We,He*4))!==I;++He)we.push(Ne);x(om(We,pe-4),be-1,ue,pe,we)}}function v(te,be,ue,pe,we){var Ne=[],We=[];we||(we=[]);var tt=pe-1,He=0,Ge=0;for(He=be;He>=0;){we[He]=!0,Ne[Ne.length]=He,We.push(te[He]);var Qe=ue[Math.floor(He*4/pe)];if(Ge=He*4&tt,pe<4+Ge)throw new Error("FAT boundary crossed: "+He+" 4 "+pe);if(!te[Qe])break;He=om(te[Qe],Ge)}return{nodes:Ne,data:T9([We])}}function y(te,be,ue,pe){var we=te.length,Ne=[],We=[],tt=[],He=[],Ge=pe-1,Qe=0,vt=0,Et=0,Lt=0;for(Qe=0;Qe<we;++Qe)if(tt=[],Et=Qe+be,Et>=we&&(Et-=we),!We[Et]){He=[];var St=[];for(vt=Et;vt>=0;){St[vt]=!0,We[vt]=!0,tt[tt.length]=vt,He.push(te[vt]);var Ft=ue[Math.floor(vt*4/pe)];if(Lt=vt*4&Ge,pe<4+Lt)throw new Error("FAT boundary crossed: "+vt+" 4 "+pe);if(!te[Ft]||(vt=om(te[Ft],Lt),St[vt]))break}Ne[Et]={nodes:tt,data:T9([He])}}return Ne}function b(te,be,ue,pe,we,Ne,We,tt){for(var He=0,Ge=pe.length?2:0,Qe=be[te].data,vt=0,Et=0,Lt;vt<Qe.length;vt+=128){var St=Qe.slice(vt,vt+128);Go(St,64),Et=St.read_shift(2),Lt=K6(St,0,Et-Ge),pe.push(Lt);var Ft={name:Lt,type:St.read_shift(1),color:St.read_shift(1),L:St.read_shift(4,"i"),R:St.read_shift(4,"i"),C:St.read_shift(4,"i"),clsid:St.read_shift(16),state:St.read_shift(4,"i"),start:0,size:0},xr=St.read_shift(2)+St.read_shift(2)+St.read_shift(2)+St.read_shift(2);xr!==0&&(Ft.ct=j(St,St.l-8));var Mn=St.read_shift(2)+St.read_shift(2)+St.read_shift(2)+St.read_shift(2);Mn!==0&&(Ft.mt=j(St,St.l-8)),Ft.start=St.read_shift(4,"i"),Ft.size=St.read_shift(4,"i"),Ft.size<0&&Ft.start<0&&(Ft.size=Ft.type=0,Ft.start=I,Ft.name=""),Ft.type===5?(He=Ft.start,we>0&&He!==I&&(be[He].name="!StreamData")):Ft.size>=4096?(Ft.storage="fat",be[Ft.start]===void 0&&(be[Ft.start]=v(ue,Ft.start,be.fat_addrs,be.ssz)),be[Ft.start].name=Ft.name,Ft.content=be[Ft.start].data.slice(0,Ft.size)):(Ft.storage="minifat",Ft.size<0?Ft.size=0:He!==I&&Ft.start!==I&&be[He]&&(Ft.content=p(Ft,be[He].data,(be[tt]||{}).data))),Ft.content&&Go(Ft.content,0),Ne[Lt]=Ft,We.push(Ft)}}function j(te,be){return new Date((Xo(te,be+4)/1e7*Math.pow(2,32)+Xo(te,be)/1e7-11644473600)*1e3)}function _(te,be){return u(),d(c.readFileSync(te),be)}function P(te,be){var ue=be&&be.type;switch(ue||hn&&Buffer.isBuffer(te)&&(ue="buffer"),ue||"base64"){case"file":return _(te,be);case"base64":return d(xc(Dd(te)),be);case"binary":return d(xc(te),be)}return d(te,be)}function k(te,be){var ue=be||{},pe=ue.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=pe+"/",te.FileIndex[0]={name:pe,type:5}),ue.CLSID&&(te.FileIndex[0].clsid=ue.CLSID),S(te)}function S(te){var be="Sh33tJ5";if(!$n.find(te,"/"+be)){var ue=nt(4);ue[0]=55,ue[1]=ue[3]=50,ue[2]=54,te.FileIndex.push({name:be,type:2,content:ue,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+be),E(te)}}function E(te,be){k(te);for(var ue=!1,pe=!1,we=te.FullPaths.length-1;we>=0;--we){var Ne=te.FileIndex[we];switch(Ne.type){case 0:pe?ue=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:pe=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(ue=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(ue=!0);break;default:ue=!0;break}}if(!(!ue&&!be)){var We=new Date(1987,1,19),tt=0,He=Object.create?Object.create(null):{},Ge=[];for(we=0;we<te.FullPaths.length;++we)He[te.FullPaths[we]]=!0,te.FileIndex[we].type!==0&&Ge.push([te.FullPaths[we],te.FileIndex[we]]);for(we=0;we<Ge.length;++we){var Qe=n(Ge[we][0]);pe=He[Qe],pe||(Ge.push([Qe,{name:a(Qe).replace("/",""),type:1,clsid:G,ct:We,mt:We,content:null}]),He[Qe]=!0)}for(Ge.sort(function(Lt,St){return r(Lt[0],St[0])}),te.FullPaths=[],te.FileIndex=[],we=0;we<Ge.length;++we)te.FullPaths[we]=Ge[we][0],te.FileIndex[we]=Ge[we][1];for(we=0;we<Ge.length;++we){var vt=te.FileIndex[we],Et=te.FullPaths[we];if(vt.name=a(Et).replace("/",""),vt.L=vt.R=vt.C=-(vt.color=1),vt.size=vt.content?vt.content.length:0,vt.start=0,vt.clsid=vt.clsid||G,we===0)vt.C=Ge.length>1?1:-1,vt.size=0,vt.type=5;else if(Et.slice(-1)=="/"){for(tt=we+1;tt<Ge.length&&n(te.FullPaths[tt])!=Et;++tt);for(vt.C=tt>=Ge.length?-1:tt,tt=we+1;tt<Ge.length&&n(te.FullPaths[tt])!=n(Et);++tt);vt.R=tt>=Ge.length?-1:tt,vt.type=1}else n(te.FullPaths[we+1]||"")==n(Et)&&(vt.R=we+1),vt.type=2}}}function M(te,be){var ue=be||{};if(ue.fileType=="mad")return oo(te,ue);switch(E(te),ue.fileType){case"zip":return cr(te,ue)}var pe=function(Lt){for(var St=0,Ft=0,xr=0;xr<Lt.FileIndex.length;++xr){var Mn=Lt.FileIndex[xr];if(Mn.content){var Zr=Mn.content.length;Zr>0&&(Zr<4096?St+=Zr+63>>6:Ft+=Zr+511>>9)}}for(var ya=Lt.FullPaths.length+3>>2,Lc=St+7>>3,Kl=St+127>>7,$c=Lc+Ft+ya+Kl,xl=$c+127>>7,Ud=xl<=109?0:Math.ceil((xl-109)/127);$c+xl+Ud+127>>7>xl;)Ud=++xl<=109?0:Math.ceil((xl-109)/127);var fs=[1,Ud,xl,Kl,ya,Ft,St,0];return Lt.FileIndex[0].size=St<<6,fs[7]=(Lt.FileIndex[0].start=fs[0]+fs[1]+fs[2]+fs[3]+fs[4]+fs[5])+(fs[6]+7>>3),fs}(te),we=nt(pe[7]<<9),Ne=0,We=0;{for(Ne=0;Ne<8;++Ne)we.write_shift(1,z[Ne]);for(Ne=0;Ne<8;++Ne)we.write_shift(2,0);for(we.write_shift(2,62),we.write_shift(2,3),we.write_shift(2,65534),we.write_shift(2,9),we.write_shift(2,6),Ne=0;Ne<3;++Ne)we.write_shift(2,0);for(we.write_shift(4,0),we.write_shift(4,pe[2]),we.write_shift(4,pe[0]+pe[1]+pe[2]+pe[3]-1),we.write_shift(4,0),we.write_shift(4,4096),we.write_shift(4,pe[3]?pe[0]+pe[1]+pe[2]-1:I),we.write_shift(4,pe[3]),we.write_shift(-4,pe[1]?pe[0]-1:I),we.write_shift(4,pe[1]),Ne=0;Ne<109;++Ne)we.write_shift(-4,Ne<pe[2]?pe[1]+Ne:-1)}if(pe[1])for(We=0;We<pe[1];++We){for(;Ne<236+We*127;++Ne)we.write_shift(-4,Ne<pe[2]?pe[1]+Ne:-1);we.write_shift(-4,We===pe[1]-1?I:We+1)}var tt=function(Lt){for(We+=Lt;Ne<We-1;++Ne)we.write_shift(-4,Ne+1);Lt&&(++Ne,we.write_shift(-4,I))};for(We=Ne=0,We+=pe[1];Ne<We;++Ne)we.write_shift(-4,W.DIFSECT);for(We+=pe[2];Ne<We;++Ne)we.write_shift(-4,W.FATSECT);tt(pe[3]),tt(pe[4]);for(var He=0,Ge=0,Qe=te.FileIndex[0];He<te.FileIndex.length;++He)Qe=te.FileIndex[He],Qe.content&&(Ge=Qe.content.length,!(Ge<4096)&&(Qe.start=We,tt(Ge+511>>9)));for(tt(pe[6]+7>>3);we.l&511;)we.write_shift(-4,W.ENDOFCHAIN);for(We=Ne=0,He=0;He<te.FileIndex.length;++He)Qe=te.FileIndex[He],Qe.content&&(Ge=Qe.content.length,!(!Ge||Ge>=4096)&&(Qe.start=We,tt(Ge+63>>6)));for(;we.l&511;)we.write_shift(-4,W.ENDOFCHAIN);for(Ne=0;Ne<pe[4]<<2;++Ne){var vt=te.FullPaths[Ne];if(!vt||vt.length===0){for(He=0;He<17;++He)we.write_shift(4,0);for(He=0;He<3;++He)we.write_shift(4,-1);for(He=0;He<12;++He)we.write_shift(4,0);continue}Qe=te.FileIndex[Ne],Ne===0&&(Qe.start=Qe.size?Qe.start-1:I);var Et=Ne===0&&ue.root||Qe.name;if(Ge=2*(Et.length+1),we.write_shift(64,Et,"utf16le"),we.write_shift(2,Ge),we.write_shift(1,Qe.type),we.write_shift(1,Qe.color),we.write_shift(-4,Qe.L),we.write_shift(-4,Qe.R),we.write_shift(-4,Qe.C),Qe.clsid)we.write_shift(16,Qe.clsid,"hex");else for(He=0;He<4;++He)we.write_shift(4,0);we.write_shift(4,Qe.state||0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,Qe.start),we.write_shift(4,Qe.size),we.write_shift(4,0)}for(Ne=1;Ne<te.FileIndex.length;++Ne)if(Qe=te.FileIndex[Ne],Qe.size>=4096)if(we.l=Qe.start+1<<9,hn&&Buffer.isBuffer(Qe.content))Qe.content.copy(we,we.l,0,Qe.size),we.l+=Qe.size+511&-512;else{for(He=0;He<Qe.size;++He)we.write_shift(1,Qe.content[He]);for(;He&511;++He)we.write_shift(1,0)}for(Ne=1;Ne<te.FileIndex.length;++Ne)if(Qe=te.FileIndex[Ne],Qe.size>0&&Qe.size<4096)if(hn&&Buffer.isBuffer(Qe.content))Qe.content.copy(we,we.l,0,Qe.size),we.l+=Qe.size+63&-64;else{for(He=0;He<Qe.size;++He)we.write_shift(1,Qe.content[He]);for(;He&63;++He)we.write_shift(1,0)}if(hn)we.l=we.length;else for(;we.l<we.length;)we.write_shift(1,0);return we}function T(te,be){var ue=te.FullPaths.map(function(He){return He.toUpperCase()}),pe=ue.map(function(He){var Ge=He.split("/");return Ge[Ge.length-(He.slice(-1)=="/"?2:1)]}),we=!1;be.charCodeAt(0)===47?(we=!0,be=ue[0].slice(0,-1)+be):we=be.indexOf("/")!==-1;var Ne=be.toUpperCase(),We=we===!0?ue.indexOf(Ne):pe.indexOf(Ne);if(We!==-1)return te.FileIndex[We];var tt=!Ne.match(Ow);for(Ne=Ne.replace(_1,""),tt&&(Ne=Ne.replace(Ow,"!")),We=0;We<ue.length;++We)if((tt?ue[We].replace(Ow,"!"):ue[We]).replace(_1,"")==Ne||(tt?pe[We].replace(Ow,"!"):pe[We]).replace(_1,"")==Ne)return te.FileIndex[We];return null}var C=64,I=-2,L="d0cf11e0a1b11ae1",z=[208,207,17,224,161,177,26,225],G="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:I,FREESECT:-1,HEADER_SIGNATURE:L,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:G,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(te,be,ue){u();var pe=M(te,ue);c.writeFileSync(be,pe)}function K(te){for(var be=new Array(te.length),ue=0;ue<te.length;++ue)be[ue]=String.fromCharCode(te[ue]);return be.join("")}function ae(te,be){var ue=M(te,be);switch(be&&be.type||"buffer"){case"file":return u(),c.writeFileSync(be.filename,ue),ue;case"binary":return typeof ue=="string"?ue:K(ue);case"base64":return ib(typeof ue=="string"?ue:K(ue));case"buffer":if(hn)return Buffer.isBuffer(ue)?ue:zd(ue);case"array":return typeof ue=="string"?xc(ue):ue}return ue}var ie;function O(te){try{var be=te.InflateRaw,ue=new be;if(ue._processChunk(new Uint8Array([3,0]),ue._finishFlushFlag),ue.bytesRead)ie=te;else throw new Error("zlib does not expose bytesRead")}catch(pe){console.error("cannot use native zlib: "+(pe.message||pe))}}function V(te,be){if(!ie)return Dr(te,be);var ue=ie.InflateRaw,pe=new ue,we=pe._processChunk(te.slice(te.l),pe._finishFlushFlag);return te.l+=pe.bytesRead,we}function D(te){return ie?ie.deflateRawSync(te):$t(te)}var B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ee(te){var be=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(be>>16|be>>8|be)&255}for(var X=typeof Uint8Array<"u",U=X?new Uint8Array(256):[],me=0;me<256;++me)U[me]=ee(me);function oe(te,be){var ue=U[te&255];return be<=8?ue>>>8-be:(ue=ue<<8|U[te>>8&255],be<=16?ue>>>16-be:(ue=ue<<8|U[te>>16&255],ue>>>24-be))}function Se(te,be){var ue=be&7,pe=be>>>3;return(te[pe]|(ue<=6?0:te[pe+1]<<8))>>>ue&3}function _e(te,be){var ue=be&7,pe=be>>>3;return(te[pe]|(ue<=5?0:te[pe+1]<<8))>>>ue&7}function se(te,be){var ue=be&7,pe=be>>>3;return(te[pe]|(ue<=4?0:te[pe+1]<<8))>>>ue&15}function ft(te,be){var ue=be&7,pe=be>>>3;return(te[pe]|(ue<=3?0:te[pe+1]<<8))>>>ue&31}function de(te,be){var ue=be&7,pe=be>>>3;return(te[pe]|(ue<=1?0:te[pe+1]<<8))>>>ue&127}function ce(te,be,ue){var pe=be&7,we=be>>>3,Ne=(1<<ue)-1,We=te[we]>>>pe;return ue<8-pe||(We|=te[we+1]<<8-pe,ue<16-pe)||(We|=te[we+2]<<16-pe,ue<24-pe)||(We|=te[we+3]<<24-pe),We&Ne}function Ee(te,be,ue){var pe=be&7,we=be>>>3;return pe<=5?te[we]|=(ue&7)<<pe:(te[we]|=ue<<pe&255,te[we+1]=(ue&7)>>8-pe),be+3}function rt(te,be,ue){var pe=be&7,we=be>>>3;return ue=(ue&1)<<pe,te[we]|=ue,be+1}function ot(te,be,ue){var pe=be&7,we=be>>>3;return ue<<=pe,te[we]|=ue&255,ue>>>=8,te[we+1]=ue,be+8}function ge(te,be,ue){var pe=be&7,we=be>>>3;return ue<<=pe,te[we]|=ue&255,ue>>>=8,te[we+1]=ue&255,te[we+2]=ue>>>8,be+16}function ke(te,be){var ue=te.length,pe=2*ue>be?2*ue:be+5,we=0;if(ue>=be)return te;if(hn){var Ne=g9(pe);if(te.copy)te.copy(Ne);else for(;we<te.length;++we)Ne[we]=te[we];return Ne}else if(X){var We=new Uint8Array(pe);if(We.set)We.set(te);else for(;we<ue;++we)We[we]=te[we];return We}return te.length=pe,te}function Be(te){for(var be=new Array(te),ue=0;ue<te;++ue)be[ue]=0;return be}function Xe(te,be,ue){var pe=1,we=0,Ne=0,We=0,tt=0,He=te.length,Ge=X?new Uint16Array(32):Be(32);for(Ne=0;Ne<32;++Ne)Ge[Ne]=0;for(Ne=He;Ne<ue;++Ne)te[Ne]=0;He=te.length;var Qe=X?new Uint16Array(He):Be(He);for(Ne=0;Ne<He;++Ne)Ge[we=te[Ne]]++,pe<we&&(pe=we),Qe[Ne]=0;for(Ge[0]=0,Ne=1;Ne<=pe;++Ne)Ge[Ne+16]=tt=tt+Ge[Ne-1]<<1;for(Ne=0;Ne<He;++Ne)tt=te[Ne],tt!=0&&(Qe[Ne]=Ge[tt+16]++);var vt=0;for(Ne=0;Ne<He;++Ne)if(vt=te[Ne],vt!=0)for(tt=oe(Qe[Ne],pe)>>pe-vt,We=(1<<pe+4-vt)-1;We>=0;--We)be[tt|We<<vt]=vt&15|Ne<<4;return pe}var et=X?new Uint16Array(512):Be(512),ct=X?new Uint16Array(32):Be(32);if(!X){for(var dt=0;dt<512;++dt)et[dt]=0;for(dt=0;dt<32;++dt)ct[dt]=0}(function(){for(var te=[],be=0;be<32;be++)te.push(5);Xe(te,ct,32);var ue=[];for(be=0;be<=143;be++)ue.push(8);for(;be<=255;be++)ue.push(9);for(;be<=279;be++)ue.push(7);for(;be<=287;be++)ue.push(8);Xe(ue,et,288)})();var Nt=function(){for(var be=X?new Uint8Array(32768):[],ue=0,pe=0;ue<Y.length-1;++ue)for(;pe<Y[ue+1];++pe)be[pe]=ue;for(;pe<32768;++pe)be[pe]=29;var we=X?new Uint8Array(259):[];for(ue=0,pe=0;ue<Q.length-1;++ue)for(;pe<Q[ue+1];++pe)we[pe]=ue;function Ne(tt,He){for(var Ge=0;Ge<tt.length;){var Qe=Math.min(65535,tt.length-Ge),vt=Ge+Qe==tt.length;for(He.write_shift(1,+vt),He.write_shift(2,Qe),He.write_shift(2,~Qe&65535);Qe-- >0;)He[He.l++]=tt[Ge++]}return He.l}function We(tt,He){for(var Ge=0,Qe=0,vt=X?new Uint16Array(32768):[];Qe<tt.length;){var Et=Math.min(65535,tt.length-Qe);if(Et<10){for(Ge=Ee(He,Ge,+(Qe+Et==tt.length)),Ge&7&&(Ge+=8-(Ge&7)),He.l=Ge/8|0,He.write_shift(2,Et),He.write_shift(2,~Et&65535);Et-- >0;)He[He.l++]=tt[Qe++];Ge=He.l*8;continue}Ge=Ee(He,Ge,+(Qe+Et==tt.length)+2);for(var Lt=0;Et-- >0;){var St=tt[Qe];Lt=(Lt<<5^St)&32767;var Ft=-1,xr=0;if((Ft=vt[Lt])&&(Ft|=Qe&-32768,Ft>Qe&&(Ft-=32768),Ft<Qe))for(;tt[Ft+xr]==tt[Qe+xr]&&xr<250;)++xr;if(xr>2){St=we[xr],St<=22?Ge=ot(He,Ge,U[St+1]>>1)-1:(ot(He,Ge,3),Ge+=5,ot(He,Ge,U[St-23]>>5),Ge+=3);var Mn=St<8?0:St-4>>2;Mn>0&&(ge(He,Ge,xr-Q[St]),Ge+=Mn),St=be[Qe-Ft],Ge=ot(He,Ge,U[St]>>3),Ge-=3;var Zr=St<4?0:St-2>>1;Zr>0&&(ge(He,Ge,Qe-Ft-Y[St]),Ge+=Zr);for(var ya=0;ya<xr;++ya)vt[Lt]=Qe&32767,Lt=(Lt<<5^tt[Qe])&32767,++Qe;Et-=xr-1}else St<=143?St=St+48:Ge=rt(He,Ge,1),Ge=ot(He,Ge,U[St]),vt[Lt]=Qe&32767,++Qe}Ge=ot(He,Ge,0)-1}return He.l=(Ge+7)/8|0,He.l}return function(He,Ge){return He.length<8?Ne(He,Ge):We(He,Ge)}}();function $t(te){var be=nt(50+Math.floor(te.length*1.1)),ue=Nt(te,be);return be.slice(0,ue)}var Tt=X?new Uint16Array(32768):Be(32768),rn=X?new Uint16Array(32768):Be(32768),Vr=X?new Uint16Array(128):Be(128),Vt=1,dr=1;function nn(te,be){var ue=ft(te,be)+257;be+=5;var pe=ft(te,be)+1;be+=5;var we=se(te,be)+4;be+=4;for(var Ne=0,We=X?new Uint8Array(19):Be(19),tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],He=1,Ge=X?new Uint8Array(8):Be(8),Qe=X?new Uint8Array(8):Be(8),vt=We.length,Et=0;Et<we;++Et)We[B[Et]]=Ne=_e(te,be),He<Ne&&(He=Ne),Ge[Ne]++,be+=3;var Lt=0;for(Ge[0]=0,Et=1;Et<=He;++Et)Qe[Et]=Lt=Lt+Ge[Et-1]<<1;for(Et=0;Et<vt;++Et)(Lt=We[Et])!=0&&(tt[Et]=Qe[Lt]++);var St=0;for(Et=0;Et<vt;++Et)if(St=We[Et],St!=0){Lt=U[tt[Et]]>>8-St;for(var Ft=(1<<7-St)-1;Ft>=0;--Ft)Vr[Lt|Ft<<St]=St&7|Et<<3}var xr=[];for(He=1;xr.length<ue+pe;)switch(Lt=Vr[de(te,be)],be+=Lt&7,Lt>>>=3){case 16:for(Ne=3+Se(te,be),be+=2,Lt=xr[xr.length-1];Ne-- >0;)xr.push(Lt);break;case 17:for(Ne=3+_e(te,be),be+=3;Ne-- >0;)xr.push(0);break;case 18:for(Ne=11+de(te,be),be+=7;Ne-- >0;)xr.push(0);break;default:xr.push(Lt),He<Lt&&(He=Lt);break}var Mn=xr.slice(0,ue),Zr=xr.slice(ue);for(Et=ue;Et<286;++Et)Mn[Et]=0;for(Et=pe;Et<30;++Et)Zr[Et]=0;return Vt=Xe(Mn,Tt,286),dr=Xe(Zr,rn,30),be}function lr(te,be){if(te[0]==3&&!(te[1]&3))return[lp(be),2];for(var ue=0,pe=0,we=g9(be||1<<18),Ne=0,We=we.length>>>0,tt=0,He=0;!(pe&1);){if(pe=_e(te,ue),ue+=3,pe>>>1)pe>>1==1?(tt=9,He=5):(ue=nn(te,ue),tt=Vt,He=dr);else{ue&7&&(ue+=8-(ue&7));var Ge=te[ue>>>3]|te[(ue>>>3)+1]<<8;if(ue+=32,Ge>0)for(!be&&We<Ne+Ge&&(we=ke(we,Ne+Ge),We=we.length);Ge-- >0;)we[Ne++]=te[ue>>>3],ue+=8;continue}for(;;){!be&&We<Ne+32767&&(we=ke(we,Ne+32767),We=we.length);var Qe=ce(te,ue,tt),vt=pe>>>1==1?et[Qe]:Tt[Qe];if(ue+=vt&15,vt>>>=4,!(vt>>>8&255))we[Ne++]=vt;else{if(vt==256)break;vt-=257;var Et=vt<8?0:vt-4>>2;Et>5&&(Et=0);var Lt=Ne+Q[vt];Et>0&&(Lt+=ce(te,ue,Et),ue+=Et),Qe=ce(te,ue,He),vt=pe>>>1==1?ct[Qe]:rn[Qe],ue+=vt&15,vt>>>=4;var St=vt<4?0:vt-2>>1,Ft=Y[vt];for(St>0&&(Ft+=ce(te,ue,St),ue+=St),!be&&We<Lt&&(we=ke(we,Lt+100),We=we.length);Ne<Lt;)we[Ne]=we[Ne-Ft],++Ne}}}return be?[we,ue+7>>>3]:[we.slice(0,Ne),ue+7>>>3]}function Dr(te,be){var ue=te.slice(te.l||0),pe=lr(ue,be);return te.l+=pe[1],pe[0]}function pr(te,be){if(te)typeof console<"u"&&console.error(be);else throw new Error(be)}function Ve(te,be){var ue=te;Go(ue,0);var pe=[],we=[],Ne={FileIndex:pe,FullPaths:we};k(Ne,{root:be.root});for(var We=ue.length-4;(ue[We]!=80||ue[We+1]!=75||ue[We+2]!=5||ue[We+3]!=6)&&We>=0;)--We;ue.l=We+4,ue.l+=4;var tt=ue.read_shift(2);ue.l+=6;var He=ue.read_shift(4);for(ue.l=He,We=0;We<tt;++We){ue.l+=20;var Ge=ue.read_shift(4),Qe=ue.read_shift(4),vt=ue.read_shift(2),Et=ue.read_shift(2),Lt=ue.read_shift(2);ue.l+=8;var St=ue.read_shift(4),Ft=l(ue.slice(ue.l+vt,ue.l+vt+Et));ue.l+=vt+Et+Lt;var xr=ue.l;ue.l=St+4,Ot(ue,Ge,Qe,Ne,Ft),ue.l=xr}return Ne}function Ot(te,be,ue,pe,we){te.l+=2;var Ne=te.read_shift(2),We=te.read_shift(2),tt=o(te);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var He=te.read_shift(4),Ge=te.read_shift(4),Qe=te.read_shift(4),vt=te.read_shift(2),Et=te.read_shift(2),Lt="",St=0;St<vt;++St)Lt+=String.fromCharCode(te[te.l++]);if(Et){var Ft=l(te.slice(te.l,te.l+Et));(Ft[21589]||{}).mt&&(tt=Ft[21589].mt),((we||{})[21589]||{}).mt&&(tt=we[21589].mt)}te.l+=Et;var xr=te.slice(te.l,te.l+Ge);switch(We){case 8:xr=V(te,Qe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+We)}var Mn=!1;Ne&8&&(He=te.read_shift(4),He==134695760&&(He=te.read_shift(4),Mn=!0),Ge=te.read_shift(4),Qe=te.read_shift(4)),Ge!=be&&pr(Mn,"Bad compressed size: "+be+" != "+Ge),Qe!=ue&&pr(Mn,"Bad uncompressed size: "+ue+" != "+Qe),Bn(pe,Lt,xr,{unsafe:!0,mt:tt})}function cr(te,be){var ue=be||{},pe=[],we=[],Ne=nt(1),We=ue.compression?8:0,tt=0,He=0,Ge=0,Qe=0,vt=0,Et=te.FullPaths[0],Lt=Et,St=te.FileIndex[0],Ft=[],xr=0;for(He=1;He<te.FullPaths.length;++He)if(Lt=te.FullPaths[He].slice(Et.length),St=te.FileIndex[He],!(!St.size||!St.content||Lt=="Sh33tJ5")){var Mn=Qe,Zr=nt(Lt.length);for(Ge=0;Ge<Lt.length;++Ge)Zr.write_shift(1,Lt.charCodeAt(Ge)&127);Zr=Zr.slice(0,Zr.l),Ft[vt]=FYe.buf(St.content,0);var ya=St.content;We==8&&(ya=D(ya)),Ne=nt(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,tt),Ne.write_shift(2,We),St.mt?s(Ne,St.mt):Ne.write_shift(4,0),Ne.write_shift(-4,Ft[vt]),Ne.write_shift(4,ya.length),Ne.write_shift(4,St.content.length),Ne.write_shift(2,Zr.length),Ne.write_shift(2,0),Qe+=Ne.length,pe.push(Ne),Qe+=Zr.length,pe.push(Zr),Qe+=ya.length,pe.push(ya),Ne=nt(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,tt),Ne.write_shift(2,We),Ne.write_shift(4,0),Ne.write_shift(-4,Ft[vt]),Ne.write_shift(4,ya.length),Ne.write_shift(4,St.content.length),Ne.write_shift(2,Zr.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,Mn),xr+=Ne.l,we.push(Ne),xr+=Zr.length,we.push(Zr),++vt}return Ne=nt(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,vt),Ne.write_shift(2,vt),Ne.write_shift(4,xr),Ne.write_shift(4,Qe),Ne.write_shift(2,0),as([as(pe),as(we),Ne])}var Wt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Qt(te,be){if(te.ctype)return te.ctype;var ue=te.name||"",pe=ue.match(/\.([^\.]+)$/);return pe&&Wt[pe[1]]||be&&(pe=(ue=be).match(/[\.\\]([^\.\\])+$/),pe&&Wt[pe[1]])?Wt[pe[1]]:"application/octet-stream"}function Fn(te){for(var be=ib(te),ue=[],pe=0;pe<be.length;pe+=76)ue.push(be.slice(pe,pe+76));return ue.join(`\r
`)+`\r
`}function Kr(te){var be=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ge){var Qe=Ge.charCodeAt(0).toString(16).toUpperCase();return"="+(Qe.length==1?"0"+Qe:Qe)});be=be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),be.charAt(0)==`
`&&(be="=0D"+be.slice(1)),be=be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ue=[],pe=be.split(`\r
`),we=0;we<pe.length;++we){var Ne=pe[we];if(Ne.length==0){ue.push("");continue}for(var We=0;We<Ne.length;){var tt=76,He=Ne.slice(We,We+tt);He.charAt(tt-1)=="="?tt--:He.charAt(tt-2)=="="?tt-=2:He.charAt(tt-3)=="="&&(tt-=3),He=Ne.slice(We,We+tt),We+=tt,We<Ne.length&&(He+="="),ue.push(He)}}return ue.join(`\r
`)}function Vi(te){for(var be=[],ue=0;ue<te.length;++ue){for(var pe=te[ue];ue<=te.length&&pe.charAt(pe.length-1)=="=";)pe=pe.slice(0,pe.length-1)+te[++ue];be.push(pe)}for(var we=0;we<be.length;++we)be[we]=be[we].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return xc(be.join(`\r
`))}function Wi(te,be,ue){for(var pe="",we="",Ne="",We,tt=0;tt<10;++tt){var He=be[tt];if(!He||He.match(/^\s*$/))break;var Ge=He.match(/^(.*?):\s*([^\s].*)$/);if(Ge)switch(Ge[1].toLowerCase()){case"content-location":pe=Ge[2].trim();break;case"content-type":Ne=Ge[2].trim();break;case"content-transfer-encoding":we=Ge[2].trim();break}}switch(++tt,we.toLowerCase()){case"base64":We=xc(Dd(be.slice(tt).join("")));break;case"quoted-printable":We=Vi(be.slice(tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+we)}var Qe=Bn(te,pe.slice(ue.length),We,{unsafe:!0});Ne&&(Qe.ctype=Ne)}function ur(te,be){if(K(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ue=be&&be.root||"",pe=(hn&&Buffer.isBuffer(te)?te.toString("binary"):K(te)).split(`\r
`),we=0,Ne="";for(we=0;we<pe.length;++we)if(Ne=pe[we],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),ue||(ue=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,ue.length)!=ue))for(;ue.length>0&&(ue=ue.slice(0,ue.length-1),ue=ue.slice(0,ue.lastIndexOf("/")+1),Ne.slice(0,ue.length)!=ue););var We=(pe[1]||"").match(/boundary="(.*?)"/);if(!We)throw new Error("MAD cannot find boundary");var tt="--"+(We[1]||""),He=[],Ge=[],Qe={FileIndex:He,FullPaths:Ge};k(Qe);var vt,Et=0;for(we=0;we<pe.length;++we){var Lt=pe[we];Lt!==tt&&Lt!==tt+"--"||(Et++&&Wi(Qe,pe.slice(vt,we),ue),vt=we)}return Qe}function oo(te,be){var ue=be||{},pe=ue.boundary||"SheetJS";pe="------="+pe;for(var we=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+pe.slice(2)+'"',"","",""],Ne=te.FullPaths[0],We=Ne,tt=te.FileIndex[0],He=1;He<te.FullPaths.length;++He)if(We=te.FullPaths[He].slice(Ne.length),tt=te.FileIndex[He],!(!tt.size||!tt.content||We=="Sh33tJ5")){We=We.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(xr){return"_x"+xr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(xr){return"_u"+xr.charCodeAt(0).toString(16)+"_"});for(var Ge=tt.content,Qe=hn&&Buffer.isBuffer(Ge)?Ge.toString("binary"):K(Ge),vt=0,Et=Math.min(1024,Qe.length),Lt=0,St=0;St<=Et;++St)(Lt=Qe.charCodeAt(St))>=32&&Lt<128&&++vt;var Ft=vt>=Et*4/5;we.push(pe),we.push("Content-Location: "+(ue.root||"file:///C:/SheetJS/")+We),we.push("Content-Transfer-Encoding: "+(Ft?"quoted-printable":"base64")),we.push("Content-Type: "+Qt(tt,We)),we.push(""),we.push(Ft?Kr(Qe):Fn(Qe))}return we.push(pe+`--\r
`),we.join(`\r
`)}function Fs(te){var be={};return k(be,te),be}function Bn(te,be,ue,pe){var we=pe&&pe.unsafe;we||k(te);var Ne=!we&&$n.find(te,be);if(!Ne){var We=te.FullPaths[0];be.slice(0,We.length)==We?We=be:(We.slice(-1)!="/"&&(We+="/"),We=(We+be).replace("//","/")),Ne={name:a(be),type:2},te.FileIndex.push(Ne),te.FullPaths.push(We),we||$n.utils.cfb_gc(te)}return Ne.content=ue,Ne.size=ue?ue.length:0,pe&&(pe.CLSID&&(Ne.clsid=pe.CLSID),pe.mt&&(Ne.mt=pe.mt),pe.ct&&(Ne.ct=pe.ct)),Ne}function va(te,be){k(te);var ue=$n.find(te,be);if(ue){for(var pe=0;pe<te.FileIndex.length;++pe)if(te.FileIndex[pe]==ue)return te.FileIndex.splice(pe,1),te.FullPaths.splice(pe,1),!0}return!1}function Rn(te,be,ue){k(te);var pe=$n.find(te,be);if(pe){for(var we=0;we<te.FileIndex.length;++we)if(te.FileIndex[we]==pe)return te.FileIndex[we].name=a(ue),te.FullPaths[we]=ue,!0}return!1}function ua(te){E(te,!0)}return t.find=T,t.read=P,t.parse=d,t.write=ae,t.writeFile=q,t.utils={cfb_new:Fs,cfb_add:Bn,cfb_del:va,cfb_mov:Rn,cfb_gc:ua,ReadShift:A1,CheckField:bse,prep_blob:Go,bconcat:as,use_zlib:O,_deflateRaw:$t,_inflateRaw:Dr,consts:W},t}();function RYe(e){return typeof e=="string"?US(e):Array.isArray(e)?lYe(e):e}function Yb(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=US(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?ob(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([RYe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Kb(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function ds(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function _9(e,t){for(var r=[],n=ds(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function V6(e){for(var t=[],r=ds(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function HS(e){for(var t=[],r=ds(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function MYe(e){for(var t=[],r=ds(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var O5=new Date(1899,11,30,0,0,0);function So(e,t){var r=e.getTime(),n=O5.getTime()+(e.getTimezoneOffset()-O5.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var nse=new Date,LYe=O5.getTime()+(nse.getTimezoneOffset()-O5.getTimezoneOffset())*6e4,S9=nse.getTimezoneOffset();function ase(e){var t=new Date;return t.setTime(e*24*60*60*1e3+LYe),t.getTimezoneOffset()!==S9&&t.setTime(t.getTime()+(t.getTimezoneOffset()-S9)*6e4),t}var A9=new Date("2017-02-19T19:06:09.000Z"),ise=isNaN(A9.getFullYear())?new Date("2/19/17"):A9,$Ye=ise.getFullYear()==2017;function ro(e,t){var r=new Date(e);if($Ye)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(ise.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function GS(e,t){if(hn&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ao(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ao(e[r]));return t}function Ca(e,t){for(var r="";r.length<t;)r+=e;return r}function gd(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var BYe=["january","february","march","april","may","june","july","august","september","october","november","december"];function sb(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&BYe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Hr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return hn?n=zd(r):n=cYe(r),$n.utils.cfb_add(e,t,n)}$n.utils.cfb_add(e,t,r)}else e.file(t,r)}function W6(){return $n.utils.cfb_new()}var di=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,zYe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},H6=V6(zYe),G6=/[&<>'"]/g,qYe=/[\u0000-\u0008\u000b-\u001f]/g;function Tn(e){var t=e+"";return t.replace(G6,function(r){return H6[r]}).replace(qYe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function C9(e){return Tn(e).replace(/ /g,"_x0020_")}var sse=/[\u0000-\u001f]/g;function UYe(e){var t=e+"";return t.replace(G6,function(r){return H6[r]}).replace(/\n/g,"<br/>").replace(sse,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function VYe(e){var t=e+"";return t.replace(G6,function(r){return H6[r]}).replace(sse,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function WYe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function HYe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function k3(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function E9(e){var t=lp(2*e.length),r,n,a=1,s=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function P9(e){return zd(e,"binary").toString("utf8")}var Iw="foo bar baz",S1=hn&&(P9(Iw)==k3(Iw)&&P9||E9(Iw)==k3(Iw)&&E9)||k3,ob=hn?function(e){return zd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},GYe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),ose=/(^\s|\s$|\n)/;function is(e,t){return"<"+e+(t.match(ose)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function lb(e){return ds(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Pt(e,t,r){return"<"+e+(r!=null?lb(r):"")+(t!=null?(t.match(ose)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function bk(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function KYe(e,t){switch(typeof e){case"string":var r=Pt("vt:lpwstr",Tn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Pt((e|0)==e?"vt:i4":"vt:r8",Tn(String(e)));case"boolean":return Pt("vt:bool",e?"true":"false")}if(e instanceof Date)return Pt("vt:filetime",bk(e));throw new Error("Unable to serialize "+e)}var Fi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Mx=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Yo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function YYe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function XYe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=n?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var k9=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},T9=hn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:zd(t)})):k9(e)}:k9,O9=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Xv(e,a)));return n.join("").replace(_1,"")},K6=hn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(_1,""):O9(e,t,r)}:O9,D9=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},lse=hn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):D9(e,t,r)}:D9,I9=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(f0(e,a)));return n.join("")},Xb=hn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):I9(t,r,n)}:I9,cse=function(e,t){var r=Xo(e,t);return r>0?Xb(e,t+4,t+4+r-1):""},use=cse,dse=function(e,t){var r=Xo(e,t);return r>0?Xb(e,t+4,t+4+r-1):""},fse=dse,hse=function(e,t){var r=2*Xo(e,t);return r>0?Xb(e,t+4,t+4+r-1):""},mse=hse,pse=function(t,r){var n=Xo(t,r);return n>0?K6(t,r+4,r+4+n):""},gse=pse,xse=function(e,t){var r=Xo(e,t);return r>0?Xb(e,t+4,t+4+r):""},vse=xse,yse=function(e,t){return YYe(e,t)},D5=yse,Y6=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};hn&&(use=function(t,r){if(!Buffer.isBuffer(t))return cse(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},fse=function(t,r){if(!Buffer.isBuffer(t))return dse(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},mse=function(t,r){if(!Buffer.isBuffer(t))return hse(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},gse=function(t,r){if(!Buffer.isBuffer(t))return pse(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},vse=function(t,r){if(!Buffer.isBuffer(t))return xse(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},D5=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):yse(t,r)},Y6=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var f0=function(e,t){return e[t]},Xv=function(e,t){return e[t+1]*256+e[t]},QYe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Xo=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},om=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},ZYe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function A1(e,t){var r="",n,a,s=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,hn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Xv(this,u)),u+=2;e*=2;break;case"utf8":r=Xb(this,this.l,this.l+e);break;case"utf16le":e*=2,r=K6(this,this.l,this.l+e);break;case"wstr":return A1.call(this,e,"dbcs");case"lpstr-ansi":r=use(this,this.l),e=4+Xo(this,this.l);break;case"lpstr-cp":r=fse(this,this.l),e=4+Xo(this,this.l);break;case"lpwstr":r=mse(this,this.l),e=4+2*Xo(this,this.l);break;case"lpp4":e=4+Xo(this,this.l),r=gse(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Xo(this,this.l),r=vse(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=f0(this,this.l+e++))!==0;)s.push(Tw(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=Xv(this,this.l+e))!==0;)s.push(Tw(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=f0(this,u),this.l=u+1,l=A1.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Tw(Xv(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=f0(this,u),this.l=u+1,l=A1.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Tw(f0(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=f0(this,this.l),this.l++,n;case 2:return n=(t==="i"?QYe:Xv)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?om:ZYe)(this,this.l),this.l+=4,n):(a=Xo(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=D5(this,this.l):a=D5([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=lse(this,this.l,e);break}}return this.l+=e,r}var JYe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},eXe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},tXe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function rXe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)tXe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,JYe(this,t,this.l);break;case 8:if(n=8,r==="f"){XYe(this,t,this.l);break}case 16:break;case-4:n=4,eXe(this,t,this.l);break}return this.l+=n,this}function bse(e,t){var r=lse(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Go(e,t){e.l=t,e.read_shift=A1,e.chk=bse,e.write_shift=rXe}function wu(e,t){e.l+=t}function nt(e){var t=lp(e);return Go(t,0),t}function jo(){var e=[],t=hn?256:2048,r=function(u){var d=nt(u);return Go(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),as(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function mt(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=Qtt[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var o=e.next(s);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&Y6(r)&&e.push(r)}}function C1(e,t,r){var n=Ao(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function F9(e,t,r){var n=Ao(e);return n.s=C1(n.s,t.s,r),n.e=C1(n.e,t.s,r),n}function E1(e,t){if(e.cRel&&e.c<0)for(e=Ao(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ao(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Dn(e);return!e.cRel&&e.cRel!=null&&(r=iXe(r)),!e.rRel&&e.rRel!=null&&(r=nXe(r)),r}function T3(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ks(e.s.c)+":"+(e.e.cRel?"":"$")+ks(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ls(e.s.r)+":"+(e.e.rRel?"":"$")+ls(e.e.r):E1(e.s,t.biff)+":"+E1(e.e,t.biff)}function X6(e){return parseInt(aXe(e),10)-1}function ls(e){return""+(e+1)}function nXe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function aXe(e){return e.replace(/\$(\d+)$/,"$1")}function Q6(e){for(var t=sXe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ks(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function iXe(e){return e.replace(/^([A-Z])/,"$$$1")}function sXe(e){return e.replace(/^\$([A-Z])/,"$1")}function oXe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ri(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Dn(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function hl(e){var t=e.indexOf(":");return t==-1?{s:Ri(e),e:Ri(e)}:{s:Ri(e.slice(0,t)),e:Ri(e.slice(t+1))}}function li(e,t){return typeof t>"u"||typeof t=="number"?li(e.s,e.e):(typeof e!="string"&&(e=Dn(e)),typeof t!="string"&&(t=Dn(t)),e==t?e:e+":"+t)}function aa(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function R9(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=dh(e.z,r?So(t):t)}catch{}try{return e.w=dh((e.XF||{}).numFmtId||(r?14:0),r?So(t):t)}catch{return""+t}}function Id(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Qb[e.v]||e.v:t==null?R9(e,e.v):R9(e,t))}function Ap(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function wse(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),o=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Ri(n.origin):n.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=aa(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},g=o+f,p=l+h;if(u.s.r>g&&(u.s.r=g),u.s.c>p&&(u.s.c=p),u.e.r<g&&(u.e.r=g),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||ka[14],n.cellDates?(m.t="d",m.w=dh(m.z,So(m.v))):(m.t="n",m.v=So(m.v),m.w=dh(m.z,m.v))):m.t="s";if(a)s[g]||(s[g]=[]),s[g][p]&&s[g][p].z&&(m.z=s[g][p].z),s[g][p]=m;else{var x=Dn({c:p,r:g});s[x]&&s[x].z&&(m.z=s[x].z),s[x]=m}}}return u.s.c<1e7&&(s["!ref"]=li(u)),s}function Lx(e,t){return wse(null,e,t)}function lXe(e){return e.read_shift(4,"i")}function Sc(e,t){return t||(t=nt(4)),t.write_shift(4,e),t}function Ts(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Mi(e,t){var r=!1;return t==null&&(r=!0,t=nt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function cXe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function uXe(e,t){return t||(t=nt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Z6(e,t){var r=e.l,n=e.read_shift(1),a=Ts(e),s=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(cXe(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function dXe(e,t){var r=!1;return t==null&&(r=!0,t=nt(15+4*e.t.length)),t.write_shift(1,0),Mi(e.t,t),r?t.slice(0,t.l):t}var fXe=Z6;function hXe(e,t){var r=!1;return t==null&&(r=!0,t=nt(23+4*e.t.length)),t.write_shift(1,1),Mi(e.t,t),t.write_shift(4,1),uXe({},t),r?t.slice(0,t.l):t}function Gl(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Cp(e,t){return t==null&&(t=nt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Ep(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Pp(e,t){return t==null&&(t=nt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var mXe=Ts,jse=Mi;function J6(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function I5(e,t){var r=!1;return t==null&&(r=!0,t=nt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var pXe=Ts,wk=J6,eD=I5;function Nse(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?D5([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):om(t,0)>>2;return r?a/100:a}function _se(e,t){t==null&&(t=nt(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Sse(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function gXe(e,t){return t||(t=nt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var kp=Sse,$x=gXe;function Bx(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function cp(e,t){return(t||nt(8)).write_shift(8,e,"f")}function xXe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=AXe[a];u&&(t.rgb=G9(u));break;case 2:t.rgb=G9([o,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function F5(e,t){if(t||(t=nt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function vXe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function yXe(e,t){t||(t=nt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var Ase=2,Uo=3,Fw=11,R5=19,Rw=64,bXe=65,wXe=71,jXe=4108,NXe=4126,es=80,M9={1:{n:"CodePage",t:Ase},2:{n:"Category",t:es},3:{n:"PresentationFormat",t:es},4:{n:"ByteCount",t:Uo},5:{n:"LineCount",t:Uo},6:{n:"ParagraphCount",t:Uo},7:{n:"SlideCount",t:Uo},8:{n:"NoteCount",t:Uo},9:{n:"HiddenCount",t:Uo},10:{n:"MultimediaClipCount",t:Uo},11:{n:"ScaleCrop",t:Fw},12:{n:"HeadingPairs",t:jXe},13:{n:"TitlesOfParts",t:NXe},14:{n:"Manager",t:es},15:{n:"Company",t:es},16:{n:"LinksUpToDate",t:Fw},17:{n:"CharacterCount",t:Uo},19:{n:"SharedDoc",t:Fw},22:{n:"HyperlinksChanged",t:Fw},23:{n:"AppVersion",t:Uo,p:"version"},24:{n:"DigSig",t:bXe},26:{n:"ContentType",t:es},27:{n:"ContentStatus",t:es},28:{n:"Language",t:es},29:{n:"Version",t:es},255:{},2147483648:{n:"Locale",t:R5},2147483651:{n:"Behavior",t:R5},1919054434:{}},L9={1:{n:"CodePage",t:Ase},2:{n:"Title",t:es},3:{n:"Subject",t:es},4:{n:"Author",t:es},5:{n:"Keywords",t:es},6:{n:"Comments",t:es},7:{n:"Template",t:es},8:{n:"LastAuthor",t:es},9:{n:"RevNumber",t:es},10:{n:"EditTime",t:Rw},11:{n:"LastPrinted",t:Rw},12:{n:"CreatedDate",t:Rw},13:{n:"ModifiedDate",t:Rw},14:{n:"PageCount",t:Uo},15:{n:"WordCount",t:Uo},16:{n:"CharCount",t:Uo},17:{n:"Thumbnail",t:wXe},18:{n:"Application",t:es},19:{n:"DocSecurity",t:Uo},255:{},2147483648:{n:"Locale",t:R5},2147483651:{n:"Behavior",t:R5},1919054434:{}};function _Xe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var SXe=_Xe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),AXe=Ao(SXe),Qb={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},CXe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Mw={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Cse(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Ese(e,t){var r=MYe(CXe),n=[],a;n[n.length]=di,n[n.length]=Pt("Types",null,{xmlns:Fi.CT,"xmlns:xsd":Fi.xsd,"xmlns:xsi":Fi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Pt("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=Pt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Mw[c][t.bookType]||Mw[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Pt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Mw[c][t.bookType]||Mw[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Pt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return s("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var un={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Pse(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ng(e){var t=[di,Pt("Relationships",null,{xmlns:Fi.RELS})];return ds(e["!id"]).forEach(function(r){t[t.length]=Pt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Pn(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[un.HLINK,un.XPATH,un.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function EXe(e){var t=[di];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function $9(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function PXe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function kXe(e){var t=[di];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push($9(e[r][0],e[r][1])),t.push(PXe("",e[r][0]));return t.push($9("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function kse(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+C5.version+"</meta:generator></office:meta></office:document-meta>"}var Lm=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function O3(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Tn(t),n[n.length]=r?Pt(e,t,r):is(e,t))}function Tse(e,t){var r=t||{},n=[di,Pt("cp:coreProperties",null,{"xmlns:cp":Fi.CORE_PROPS,"xmlns:dc":Fi.dc,"xmlns:dcterms":Fi.dcterms,"xmlns:dcmitype":Fi.dcmitype,"xmlns:xsi":Fi.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&O3("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:bk(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&O3("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:bk(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=Lm.length;++s){var o=Lm[s],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&O3(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var ag=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Ose=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Dse(e){var t=[],r=Pt;return e||(e={}),e.Application="SheetJS",t[t.length]=di,t[t.length]=Pt("Properties",null,{xmlns:Fi.EXT_PROPS,"xmlns:vt":Fi.vt}),ag.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Tn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Tn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function Ise(e){var t=[di,Pt("Properties",null,{xmlns:Fi.CUST_PROPS,"xmlns:vt":Fi.vt})];if(!e)return t.join("");var r=1;return ds(e).forEach(function(a){++r,t[t.length]=Pt("property",KYe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Tn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var B9={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function TXe(e,t){var r=[];return ds(B9).map(function(n){for(var a=0;a<Lm.length;++a)if(Lm[a][1]==n)return Lm[a];for(a=0;a<ag.length;++a)if(ag[a][1]==n)return ag[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(is(B9[n[1]]||n[1],a))}}),Pt("DocumentProperties",r.join(""),{xmlns:Yo.o})}function OXe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&ds(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<Lm.length;++o)if(s==Lm[o][1])return;for(o=0;o<ag.length;++o)if(s==ag[o][1])return;for(o=0;o<r.length;++o)if(s==r[o])return;var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Pt(C9(s),l,{"dt:dt":c}))}}),t&&ds(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Pt(C9(s),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Yo.o+'">'+a.join("")+"</"+n+">"}function DXe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var o=nt(8);return o.write_shift(4,n),o.write_shift(4,a),o}function z9(e,t){var r=nt(4),n=nt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=nt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=DXe(t);break;case 31:case 80:for(n=nt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return as([r,n])}var Fse=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function IXe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function q9(e,t,r){var n=nt(8),a=[],s=[],o=8,l=0,c=nt(8),u=nt(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),a.push(u),o+=8+c.length,!t){u=nt(8),u.write_shift(4,0),a.unshift(u);var d=[nt(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=nt(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=as(d),s.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(Fse.indexOf(e[l][0])>-1||Ose.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],m=0;if(t){m=+t[e[l][0]];var g=r[m];if(g.p=="version"&&typeof h=="string"){var p=h.split(".");h=(+p[0]<<16)+(+p[1]||0)}c=z9(g.t,h)}else{var x=IXe(h);x==-1&&(x=31,h=String(h)),c=z9(x,h)}s.push(c),u=nt(8),u.write_shift(4,t?m:2+l),a.push(u),o+=8+c.length}var v=8*(s.length+1);for(l=0;l<s.length;++l)a[l].write_shift(4,v),v+=s[l].length;return n.write_shift(4,o),n.write_shift(4,s.length),as([n].concat(a).concat(s))}function U9(e,t,r,n,a,s){var o=nt(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,$n.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=q9(e,r,n);if(l.push(c),a){var u=q9(a,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+c.length),l.push(u)}return as(l)}function FXe(e,t){t||(t=nt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function RXe(e,t){return e.read_shift(t)===1}function Hs(e,t){return t||(t=nt(2)),t.write_shift(2,+!!e),t}function Rse(e){return e.read_shift(2,"u")}function kl(e,t){return t||(t=nt(2)),t.write_shift(2,e),t}function Mse(e,t,r){return r||(r=nt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Lse(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function MXe(e){var t=e.t||"",r=nt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=nt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return as(a)}function LXe(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function $Xe(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):LXe(e,n,r)}function BXe(e,t,r){if(r.biff>5)return $Xe(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function $se(e,t,r){return r||(r=nt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function V9(e,t){t||(t=nt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function zXe(e){var t=nt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(s==28)n=n.slice(1),V9(n,t);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),s&8&&V9(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function up(e,t,r,n){return n||(n=nt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function qXe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,s,o]}function UXe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Bse(e,t){return t||(t=nt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function tD(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=nt(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function VXe(e,t){var r=!t||t.biff==8,n=nt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function WXe(e,t){var r=!t||t.biff>=8?2:1,n=nt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function HXe(e,t){var r=nt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=MXe(e[a]);var s=as([r].concat(n));return s.parts=[r.length].concat(n.map(function(o){return o.length})),s}function GXe(){var e=nt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function KXe(e){var t=nt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function YXe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=nt(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function XXe(e,t,r,n){var a=nt(10);return up(e,t,n,a),a.write_shift(4,r),a}function QXe(e,t,r,n,a){var s=!a||a.biff==8,o=nt(8+ +s+(1+s)*r.length);return up(e,t,n,o),o.write_shift(2,r.length),s&&o.write_shift(1,1),o.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),o}function ZXe(e,t,r,n){var a=r&&r.biff==5;n||(n=nt(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function JXe(e,t){var r=t.biff==8||!t.biff?4:2,n=nt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function W9(e,t,r,n){var a=r&&r.biff==5;n||(n=nt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function eQe(e){var t=nt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function tQe(e,t,r,n,a,s){var o=nt(8);return up(e,t,n,o),Mse(r,s,o),o}function rQe(e,t,r,n){var a=nt(14);return up(e,t,n,a),cp(r,a),a}function nQe(e,t,r){if(r.biff<8)return aQe(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(qXe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function aQe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Lse(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function iQe(e){var t=nt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)Bse(e[r],t);return t}function sQe(e){var t=nt(24),r=Ri(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return as([t,zXe(e[1])])}function oQe(e){var t=e[1].Tooltip,r=nt(10+2*(t.length+1));r.write_shift(2,2048);var n=Ri(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function lQe(e){return e||(e=nt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function cQe(e,t,r){if(!r.cellStyles)return wu(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function uQe(e,t){var r=nt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function dQe(e){for(var t=nt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function fQe(e,t,r){var n=nt(15);return Jb(n,e,t),n.write_shift(8,r,"f"),n}function hQe(e,t,r){var n=nt(9);return Jb(n,e,t),n.write_shift(2,r),n}var mQe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=V6({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=lp(1);switch(c.type){case"base64":d=xc(Dd(l));break;case"binary":d=xc(l);break;case"buffer":case"array":d=l;break}Go(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,x=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(x=d.read_shift(2));var v=d.read_shift(2),y=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var b=[],j={},_=Math.min(d.length,f==2?521:x-10-(m?264:0)),P=g?32:11;d.l<_&&d[d.l]!=13;)switch(j={},j.name=E5.utils.decode(y,d.slice(d.l,d.l+P)).replace(/[\u0000\r\n].*$/g,""),d.l+=P,j.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(j.offset=d.read_shift(4)),j.len=d.read_shift(1),f==2&&(j.offset=d.read_shift(2)),j.dec=d.read_shift(1),j.name.length&&b.push(j),f!=2&&(d.l+=g?13:14),j.type){case"B":(!m||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var k=0,S=0;for(u[0]=[],S=0;S!=b.length;++S)u[0][S]=b[S].name;for(;p-- >0;){if(d[d.l]===42){d.l+=v;continue}for(++d.l,u[++k]=[],S=0,S=0;S!=b.length;++S){var E=d.slice(d.l,d.l+b[S].len);d.l+=b[S].len,Go(E,0);var M=E5.utils.decode(y,E);switch(b[S].type){case"C":M.trim().length&&(u[k][S]=M.replace(/\s+$/,""));break;case"D":M.length===8?u[k][S]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):u[k][S]=M;break;case"F":u[k][S]=parseFloat(M.trim());break;case"+":case"I":u[k][S]=g?E.read_shift(-4,"i")^2147483648:E.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":u[k][S]=!0;break;case"N":case"F":u[k][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[k][S]="##MEMO##"+(g?parseInt(M.trim(),10):E.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(u[k][S]=+M||0);break;case"@":u[k][S]=new Date(E.read_shift(-8,"f")-621356832e5);break;case"T":u[k][S]=new Date((E.read_shift(4)-2440588)*864e5+E.read_shift(4));break;case"Y":u[k][S]=E.read_shift(4,"i")/1e4+E.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[k][S]=-E.read_shift(-8,"f");break;case"B":if(m&&b[S].len==8){u[k][S]=E.read_shift(8,"f");break}case"G":case"P":E.l+=b[S].len;break;case"0":if(b[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[S].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=b,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Lx(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Ap(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&ab(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=jo(),f=z5(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),g=l["!cols"]||[],p=0,x=0,v=0,y=1;for(p=0;p<h.length;++p){if(((g[p]||{}).DBF||{}).name){h[p]=g[p].DBF.name,++v;continue}if(h[p]!=null){if(++v,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(x=0;x<1024;++x)if(h.indexOf(h[p]+"_"+x)==-1){h[p]+="_"+x;break}}}}var b=aa(l["!ref"]),j=[],_=[],P=[];for(p=0;p<=b.e.c-b.s.c;++p){var k="",S="",E=0,M=[];for(x=0;x<m.length;++x)m[x][p]!=null&&M.push(m[x][p]);if(M.length==0||h[p]==null){j[p]="?";continue}for(x=0;x<M.length;++x){switch(typeof M[x]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=M[x]instanceof Date?"D":"C";break;default:S="C"}E=Math.max(E,String(M[x]).length),k=k&&k!=S?"C":S}E>250&&(E=250),S=((g[p]||{}).DBF||{}).type,S=="C"&&g[p].DBF.len>E&&(E=g[p].DBF.len),k=="B"&&S=="N"&&(k="N",P[p]=g[p].DBF.dec,E=g[p].DBF.len),_[p]=k=="C"||S=="N"?E:s[k]||0,y+=_[p],j[p]=k}var T=d.next(32);for(T.write_shift(4,318902576),T.write_shift(4,m.length),T.write_shift(2,296+32*v),T.write_shift(2,y),p=0;p<4;++p)T.write_shift(4,0);for(T.write_shift(4,0|(+t[qie]||3)<<8),p=0,x=0;p<h.length;++p)if(h[p]!=null){var C=d.next(32),I=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,I,"sbcs"),C.write_shift(1,j[p]=="?"?"C":j[p],"sbcs"),C.write_shift(4,x),C.write_shift(1,_[p]||s[j[p]]||0),C.write_shift(1,P[p]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),x+=_[p]||s[j[p]]||0}var L=d.next(264);for(L.write_shift(4,13),p=0;p<65;++p)L.write_shift(4,0);for(p=0;p<m.length;++p){var z=d.next(y);for(z.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(j[x]){case"L":z.write_shift(1,m[p][x]==null?63:m[p][x]?84:70);break;case"B":z.write_shift(8,m[p][x]||0,"f");break;case"N":var G="0";for(typeof m[p][x]=="number"&&(G=m[p][x].toFixed(P[x]||0)),v=0;v<_[x]-G.length;++v)z.write_shift(1,32);z.write_shift(1,G,"sbcs");break;case"D":m[p][x]?(z.write_shift(4,("0000"+m[p][x].getFullYear()).slice(-4),"sbcs"),z.write_shift(2,("00"+(m[p][x].getMonth()+1)).slice(-2),"sbcs"),z.write_shift(2,("00"+m[p][x].getDate()).slice(-2),"sbcs")):z.write_shift(8,"00000000","sbcs");break;case"C":var W=String(m[p][x]!=null?m[p][x]:"").slice(0,_[x]);for(z.write_shift(1,W,"sbcs"),v=0;v<_[x]-W.length;++v)z.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),pQe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ds(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var g=e[m];return typeof g=="number"?p9(g):g},n=function(h,m,g){var p=m.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?h:p9(p)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(Dd(h),m);case"binary":return s(h,m);case"buffer":return s(hn&&Buffer.isBuffer(h)?h.toString("binary"):Kb(h),m);case"array":return s(GS(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var g=h.split(/[\n\r]+/),p=-1,x=-1,v=0,y=0,b=[],j=[],_=null,P={},k=[],S=[],E=[],M=0,T;for(+m.codepage>=0&&ab(+m.codepage);v!==g.length;++v){M=0;var C=g[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),I=C.replace(/;;/g,"\0").split(";").map(function(B){return B.replace(/\u0000/g,";")}),L=I[0],z;if(C.length>0)switch(L){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":I[1].charAt(0)=="P"&&j.push(C.slice(3).replace(/;;/g,";"));break;case"C":var G=!1,W=!1,q=!1,K=!1,ae=-1,ie=-1;for(y=1;y<I.length;++y)switch(I[y].charAt(0)){case"A":break;case"X":x=parseInt(I[y].slice(1))-1,W=!0;break;case"Y":for(p=parseInt(I[y].slice(1))-1,W||(x=0),T=b.length;T<=p;++T)b[T]=[];break;case"K":z=I[y].slice(1),z.charAt(0)==='"'?z=z.slice(1,z.length-1):z==="TRUE"?z=!0:z==="FALSE"?z=!1:isNaN(gd(z))?isNaN(sb(z).getDate())||(z=ro(z)):(z=gd(z),_!==null&&ese(_)&&(z=ase(z))),G=!0;break;case"E":K=!0;var O=hZe(I[y].slice(1),{r:p,c:x});b[p][x]=[b[p][x],O];break;case"S":q=!0,b[p][x]=[b[p][x],"S5S"];break;case"G":break;case"R":ae=parseInt(I[y].slice(1))-1;break;case"C":ie=parseInt(I[y].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+C)}if(G&&(b[p][x]&&b[p][x].length==2?b[p][x][0]=z:b[p][x]=z,_=null),q){if(K)throw new Error("SYLK shared formula cannot have own formula");var V=ae>-1&&b[ae][ie];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");b[p][x][1]=mZe(V[1],{r:p-ae,c:x-ie})}break;case"F":var D=0;for(y=1;y<I.length;++y)switch(I[y].charAt(0)){case"X":x=parseInt(I[y].slice(1))-1,++D;break;case"Y":for(p=parseInt(I[y].slice(1))-1,T=b.length;T<=p;++T)b[T]=[];break;case"M":M=parseInt(I[y].slice(1))/20;break;case"F":break;case"G":break;case"P":_=j[parseInt(I[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(E=I[y].slice(1).split(" "),T=parseInt(E[0],10);T<=parseInt(E[1],10);++T)M=parseInt(E[2],10),S[T-1]=M===0?{hidden:!0}:{wch:M},rD(S[T-1]);break;case"C":x=parseInt(I[y].slice(1))-1,S[x]||(S[x]={});break;case"R":p=parseInt(I[y].slice(1))-1,k[p]||(k[p]={}),M>0?(k[p].hpt=M,k[p].hpx=Wse(M)):M===0&&(k[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+C)}D<1&&(_=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+C)}}return k.length>0&&(P["!rows"]=k),S.length>0&&(P["!cols"]=S),m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),[b,P]}function o(h,m){var g=a(h,m),p=g[0],x=g[1],v=Lx(p,m);return ds(x).forEach(function(y){v[y]=x[y]}),v}function l(h,m){return Ap(o(h,m),m)}function c(h,m,g,p){var x="C;Y"+(g+1)+";X"+(p+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+aD(h.f,{r:g,c:p}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,m){m.forEach(function(g,p){var x="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=M5(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=L5(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,m){m.forEach(function(g,p){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*$5(g.hpx)+";"),x.length>2&&h.push(x+"R"+(p+1))})}function f(h,m){var g=["ID;PWXL;N;E"],p=[],x=aa(h["!ref"]),v,y=Array.isArray(h),b=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var j=x.s.r;j<=x.e.r;++j)for(var _=x.s.c;_<=x.e.c;++_){var P=Dn({r:j,c:_});v=y?(h[j]||[])[_]:h[P],!(!v||v.v==null&&(!v.f||v.F))&&p.push(c(v,h,j,_))}return g.join(b)+b+p.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),gQe=function(){function e(s,o){switch(o.type){case"base64":return t(Dd(s),o);case"binary":return t(s,o);case"buffer":return t(hn&&Buffer.isBuffer(s)?s.toString("binary"):Kb(s),o);case"array":return t(GS(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],g=h[1];++d;for(var p=l[d]||"";(p.match(/["]/g)||[]).length&1&&d<l.length-1;)p+=`
`+l[++d];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][u]=!0:p==="FALSE"?f[c][u]=!1:isNaN(gd(g))?isNaN(sb(g).getDate())?f[c][u]=g:f[c][u]=ro(g):f[c][u]=gd(g),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(s,o){return Lx(e(s,o),o)}function n(s,o){return Ap(r(s,o),o)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=aa(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var p=Dn({r:m,c:g});if(f=h?(c[m]||[])[g]:c[p],!f){o(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,x,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=dh(f.z||ka[14],So(ro(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var v=`\r
`,y=u.join(v);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),zse=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),g=-1,p=-1,x=0,v=[];x!==m.length;++x){var y=m[x].trim().split(":");if(y[0]==="cell"){var b=Ri(y[1]);if(v.length<=b.r)for(g=v.length;g<=b.r;++g)v[g]||(v[g]=[]);switch(g=b.r,p=b.c,y[2]){case"t":v[g][p]=e(y[3]);break;case"v":v[g][p]=+y[3];break;case"vtf":var j=y[y.length-1];case"vtc":switch(y[3]){case"nl":v[g][p]=!!+y[4];break;default:v[g][p]=+y[4];break}y[2]=="vtf"&&(v[g][p]=[v[g][p],j])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(f,h){return Lx(r(f,h),h)}function a(f,h){return Ap(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],g,p="",x=hl(f["!ref"]),v=Array.isArray(f),y=x.s.r;y<=x.e.r;++y)for(var b=x.s.c;b<=x.e.c;++b)if(p=Dn({r:y,c:b}),g=v?(f[y]||[])[b]:f[p],!(!g||g.v==null||g.t==="z")){switch(m=["cell",p,"t"],g.t){case"s":case"str":m.push(t(g.v));break;case"n":g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=t(g.f)):(m[2]="v",m[3]=g.v);break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var j=So(ro(g.v));m[2]="vtc",m[3]="nd",m[4]=""+j,m[5]=g.w||dh(g.z||ka[14],j);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),xQe=function(){function e(d,f,h,m,g){g.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(gd(d))?isNaN(sb(d).getDate())?f[h][m]=d:f[h][m]=ro(d):f[h][m]=gd(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var g=d.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var x=10,v=0,y=0;y<=p;++y)v=g[y].indexOf(" "),v==-1?v=g[y].length:v++,x=Math.max(x,v);for(y=0;y<=p;++y){m[y]=[];var b=0;for(e(g[y].slice(0,x).trim(),m,y,b,h),b=1;b<=(g[y].length-x)/10+1;++b)e(g[y].slice(x+(b-1)*10,x+b*10).trim(),m,y,b,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,g=0;m<d.length;++m)(g=d.charCodeAt(m))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m]);if(!g.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m])}return g.sort(function(p,x){return p[0]-x[0]||n[p[1]]-n[x[1]]}),r[g.pop()[1]]||44}function s(d,f){var h=f||{},m="",g=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var x=0,v=0,y=0,b=0,j=0,_=m.charCodeAt(0),P=!1,k=0,S=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var E=h.dateNF!=null?DYe(h.dateNF):null;function M(){var T=d.slice(b,j),C={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)C.t="z";else if(h.raw)C.t="s",C.v=T;else if(T.trim().length===0)C.t="s",C.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(C.t="s",C.v=T.slice(2,-1).replace(/""/g,'"')):pZe(T)?(C.t="n",C.f=T.slice(1)):(C.t="s",C.v=T);else if(T=="TRUE")C.t="b",C.v=!0;else if(T=="FALSE")C.t="b",C.v=!1;else if(!isNaN(y=gd(T)))C.t="n",h.cellText!==!1&&(C.w=T),C.v=y;else if(!isNaN(sb(T).getDate())||E&&T.match(E)){C.z=h.dateNF||ka[14];var I=0;E&&T.match(E)&&(T=IYe(T,h.dateNF,T.match(E)||[]),I=1),h.cellDates?(C.t="d",C.v=ro(T,I)):(C.t="n",C.v=So(ro(T,I))),h.cellText!==!1&&(C.w=dh(C.z,C.v instanceof Date?So(C.v):C.v)),h.cellNF||delete C.z}else C.t="s",C.v=T;if(C.t=="z"||(h.dense?(g[x]||(g[x]=[]),g[x][v]=C):g[Dn({c:v,r:x})]=C),b=j+1,S=d.charCodeAt(b),p.e.c<v&&(p.e.c=v),p.e.r<x&&(p.e.r=x),k==_)++v;else if(v=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;j<d.length;++j)switch(k=d.charCodeAt(j)){case 34:S===34&&(P=!P);break;case _:case 10:case 13:if(!P&&M())break e;break}return j-b>0&&M(),g["!ref"]=li(p),g}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Lx(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:Trt(d,f);switch(f.type){case"base64":h=Dd(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof E5<"u"||(h=hn&&Buffer.isBuffer(d)?d.toString("binary"):Kb(d));break;case"array":h=GS(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=S1(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=S1(h):f.type=="binary"&&typeof E5<"u",h.slice(0,19)=="socialcalc:version:"?zse.to_sheet(f.type=="string"?h:S1(h),f):o(h,f)}function c(d,f){return Ap(l(d,f),f)}function u(d){for(var f=[],h=aa(d["!ref"]),m,g=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var x=[],v=h.s.c;v<=h.e.c;++v){var y=Dn({r:p,c:v});if(m=g?(d[p]||[])[v]:d[y],!m||m.v==null){x.push("          ");continue}for(var b=(m.w||(Id(m),m.w)||"").slice(0,10);b.length<10;)b+=" ";x.push(b+(v===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),H9=function(){function e(O,V,D){if(O){Go(O,O.l||0);for(var B=D.Enum||ae;O.l<O.length;){var Q=O.read_shift(2),Y=B[Q]||B[65535],ee=O.read_shift(2),X=O.l+ee,U=Y.f&&Y.f(O,ee,D);if(O.l=X,V(U,Y,Q))return}}}function t(O,V){switch(V.type){case"base64":return r(xc(Dd(O)),V);case"binary":return r(xc(O),V);case"buffer":case"array":return r(O,V)}throw"Unsupported type "+V.type}function r(O,V){if(!O)return O;var D=V||{},B=D.dense?[]:{},Q="Sheet1",Y="",ee=0,X={},U=[],me=[],oe={s:{r:0,c:0},e:{r:0,c:0}},Se=D.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)D.Enum=ae,e(O,function(de,ce,Ee){switch(Ee){case 0:D.vers=de,de>=4096&&(D.qpro=!0);break;case 6:oe=de;break;case 204:de&&(Y=de);break;case 222:Y=de;break;case 15:case 51:D.qpro||(de[1].v=de[1].v.slice(1));case 13:case 14:case 16:Ee==14&&(de[2]&112)==112&&(de[2]&15)>1&&(de[2]&15)<15&&(de[1].z=D.dateNF||ka[14],D.cellDates&&(de[1].t="d",de[1].v=ase(de[1].v))),D.qpro&&de[3]>ee&&(B["!ref"]=li(oe),X[Q]=B,U.push(Q),B=D.dense?[]:{},oe={s:{r:0,c:0},e:{r:0,c:0}},ee=de[3],Q=Y||"Sheet"+(ee+1),Y="");var rt=D.dense?(B[de[0].r]||[])[de[0].c]:B[Dn(de[0])];if(rt){rt.t=de[1].t,rt.v=de[1].v,de[1].z!=null&&(rt.z=de[1].z),de[1].f!=null&&(rt.f=de[1].f);break}D.dense?(B[de[0].r]||(B[de[0].r]=[]),B[de[0].r][de[0].c]=de[1]):B[Dn(de[0])]=de[1];break}},D);else if(O[2]==26||O[2]==14)D.Enum=ie,O[2]==14&&(D.qpro=!0,O.l=0),e(O,function(de,ce,Ee){switch(Ee){case 204:Q=de;break;case 22:de[1].v=de[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(de[3]>ee&&(B["!ref"]=li(oe),X[Q]=B,U.push(Q),B=D.dense?[]:{},oe={s:{r:0,c:0},e:{r:0,c:0}},ee=de[3],Q="Sheet"+(ee+1)),Se>0&&de[0].r>=Se)break;D.dense?(B[de[0].r]||(B[de[0].r]=[]),B[de[0].r][de[0].c]=de[1]):B[Dn(de[0])]=de[1],oe.e.c<de[0].c&&(oe.e.c=de[0].c),oe.e.r<de[0].r&&(oe.e.r=de[0].r);break;case 27:de[14e3]&&(me[de[14e3][0]]=de[14e3][1]);break;case 1537:me[de[0]]=de[1],de[0]==ee&&(Q=de[1]);break}},D);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(B["!ref"]=li(oe),X[Y||Q]=B,U.push(Y||Q),!me.length)return{SheetNames:U,Sheets:X};for(var _e={},se=[],ft=0;ft<me.length;++ft)X[U[ft]]?(se.push(me[ft]||U[ft]),_e[me[ft]]=X[me[ft]]||X[U[ft]]):(se.push(me[ft]),_e[me[ft]]={"!ref":"A1"});return{SheetNames:se,Sheets:_e}}function n(O,V){var D=V||{};if(+D.codepage>=0&&ab(+D.codepage),D.type=="string")throw new Error("Cannot write WK1 to JS string");var B=jo(),Q=aa(O["!ref"]),Y=Array.isArray(O),ee=[];kt(B,0,s(1030)),kt(B,6,c(Q));for(var X=Math.min(Q.e.r,8191),U=Q.s.r;U<=X;++U)for(var me=ls(U),oe=Q.s.c;oe<=Q.e.c;++oe){U===Q.s.r&&(ee[oe]=ks(oe));var Se=ee[oe]+me,_e=Y?(O[U]||[])[oe]:O[Se];if(!(!_e||_e.t=="z"))if(_e.t=="n")(_e.v|0)==_e.v&&_e.v>=-32768&&_e.v<=32767?kt(B,13,m(U,oe,_e.v)):kt(B,14,p(U,oe,_e.v));else{var se=Id(_e);kt(B,15,f(U,oe,se.slice(0,239)))}}return kt(B,1),B.end()}function a(O,V){var D=V||{};if(+D.codepage>=0&&ab(+D.codepage),D.type=="string")throw new Error("Cannot write WK3 to JS string");var B=jo();kt(B,0,o(O));for(var Q=0,Y=0;Q<O.SheetNames.length;++Q)(O.Sheets[O.SheetNames[Q]]||{})["!ref"]&&kt(B,27,K(O.SheetNames[Q],Y++));var ee=0;for(Q=0;Q<O.SheetNames.length;++Q){var X=O.Sheets[O.SheetNames[Q]];if(!(!X||!X["!ref"])){for(var U=aa(X["!ref"]),me=Array.isArray(X),oe=[],Se=Math.min(U.e.r,8191),_e=U.s.r;_e<=Se;++_e)for(var se=ls(_e),ft=U.s.c;ft<=U.e.c;++ft){_e===U.s.r&&(oe[ft]=ks(ft));var de=oe[ft]+se,ce=me?(X[_e]||[])[ft]:X[de];if(!(!ce||ce.t=="z"))if(ce.t=="n")kt(B,23,M(_e,ft,ee,ce.v));else{var Ee=Id(ce);kt(B,22,k(_e,ft,ee,Ee.slice(0,239)))}}++ee}}return kt(B,1),B.end()}function s(O){var V=nt(2);return V.write_shift(2,O),V}function o(O){var V=nt(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var D=0,B=0,Q=0,Y=0;Y<O.SheetNames.length;++Y){var ee=O.SheetNames[Y],X=O.Sheets[ee];if(!(!X||!X["!ref"])){++Q;var U=hl(X["!ref"]);D<U.e.r&&(D=U.e.r),B<U.e.c&&(B=U.e.c)}}return D>8191&&(D=8191),V.write_shift(2,D),V.write_shift(1,Q),V.write_shift(1,B),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function l(O,V,D){var B={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&D.qpro?(B.s.c=O.read_shift(1),O.l++,B.s.r=O.read_shift(2),B.e.c=O.read_shift(1),O.l++,B.e.r=O.read_shift(2),B):(B.s.c=O.read_shift(2),B.s.r=O.read_shift(2),V==12&&D.qpro&&(O.l+=2),B.e.c=O.read_shift(2),B.e.r=O.read_shift(2),V==12&&D.qpro&&(O.l+=2),B.s.c==65535&&(B.s.c=B.e.c=B.s.r=B.e.r=0),B)}function c(O){var V=nt(8);return V.write_shift(2,O.s.c),V.write_shift(2,O.s.r),V.write_shift(2,O.e.c),V.write_shift(2,O.e.r),V}function u(O,V,D){var B=[{c:0,r:0},{t:"n",v:0},0,0];return D.qpro&&D.vers!=20768?(B[0].c=O.read_shift(1),B[3]=O.read_shift(1),B[0].r=O.read_shift(2),O.l+=2):(B[2]=O.read_shift(1),B[0].c=O.read_shift(2),B[0].r=O.read_shift(2)),B}function d(O,V,D){var B=O.l+V,Q=u(O,V,D);if(Q[1].t="s",D.vers==20768){O.l++;var Y=O.read_shift(1);return Q[1].v=O.read_shift(Y,"utf8"),Q}return D.qpro&&O.l++,Q[1].v=O.read_shift(B-O.l,"cstr"),Q}function f(O,V,D){var B=nt(7+D.length);B.write_shift(1,255),B.write_shift(2,V),B.write_shift(2,O),B.write_shift(1,39);for(var Q=0;Q<B.length;++Q){var Y=D.charCodeAt(Q);B.write_shift(1,Y>=128?95:Y)}return B.write_shift(1,0),B}function h(O,V,D){var B=u(O,V,D);return B[1].v=O.read_shift(2,"i"),B}function m(O,V,D){var B=nt(7);return B.write_shift(1,255),B.write_shift(2,V),B.write_shift(2,O),B.write_shift(2,D,"i"),B}function g(O,V,D){var B=u(O,V,D);return B[1].v=O.read_shift(8,"f"),B}function p(O,V,D){var B=nt(13);return B.write_shift(1,255),B.write_shift(2,V),B.write_shift(2,O),B.write_shift(8,D,"f"),B}function x(O,V,D){var B=O.l+V,Q=u(O,V,D);if(Q[1].v=O.read_shift(8,"f"),D.qpro)O.l=B;else{var Y=O.read_shift(2);j(O.slice(O.l,O.l+Y),Q),O.l+=Y}return Q}function v(O,V,D){var B=V&32768;return V&=-32769,V=(B?O:0)+(V>=8192?V-16384:V),(B?"":"$")+(D?ks(V):ls(V))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(O,V){Go(O,0);for(var D=[],B=0,Q="",Y="",ee="",X="";O.l<O.length;){var U=O[O.l++];switch(U){case 0:D.push(O.read_shift(8,"f"));break;case 1:Y=v(V[0].c,O.read_shift(2),!0),Q=v(V[0].r,O.read_shift(2),!1),D.push(Y+Q);break;case 2:{var me=v(V[0].c,O.read_shift(2),!0),oe=v(V[0].r,O.read_shift(2),!1);Y=v(V[0].c,O.read_shift(2),!0),Q=v(V[0].r,O.read_shift(2),!1),D.push(me+oe+":"+Y+Q)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:D.push("("+D.pop()+")");break;case 5:D.push(O.read_shift(2));break;case 6:{for(var Se="";U=O[O.l++];)Se+=String.fromCharCode(U);D.push('"'+Se.replace(/"/g,'""')+'"')}break;case 8:D.push("-"+D.pop());break;case 23:D.push("+"+D.pop());break;case 22:D.push("NOT("+D.pop()+")");break;case 20:case 21:X=D.pop(),ee=D.pop(),D.push(["AND","OR"][U-20]+"("+ee+","+X+")");break;default:if(U<32&&b[U])X=D.pop(),ee=D.pop(),D.push(ee+b[U]+X);else if(y[U]){if(B=y[U][1],B==69&&(B=O[O.l++]),B>D.length){console.error("WK1 bad formula parse 0x"+U.toString(16)+":|"+D.join("|")+"|");return}var _e=D.slice(-B);D.length-=B,D.push(y[U][0]+"("+_e.join(",")+")")}else return U<=7?console.error("WK1 invalid opcode "+U.toString(16)):U<=24?console.error("WK1 unsupported op "+U.toString(16)):U<=30?console.error("WK1 invalid opcode "+U.toString(16)):U<=115?console.error("WK1 unsupported function opcode "+U.toString(16)):console.error("WK1 unrecognized opcode "+U.toString(16))}}D.length==1?V[1].f=""+D[0]:console.error("WK1 bad formula parse |"+D.join("|")+"|")}function _(O){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=O.read_shift(2),V[3]=O[O.l++],V[0].c=O[O.l++],V}function P(O,V){var D=_(O);return D[1].t="s",D[1].v=O.read_shift(V-4,"cstr"),D}function k(O,V,D,B){var Q=nt(6+B.length);Q.write_shift(2,O),Q.write_shift(1,D),Q.write_shift(1,V),Q.write_shift(1,39);for(var Y=0;Y<B.length;++Y){var ee=B.charCodeAt(Y);Q.write_shift(1,ee>=128?95:ee)}return Q.write_shift(1,0),Q}function S(O,V){var D=_(O);D[1].v=O.read_shift(2);var B=D[1].v>>1;if(D[1].v&1)switch(B&7){case 0:B=(B>>3)*5e3;break;case 1:B=(B>>3)*500;break;case 2:B=(B>>3)/20;break;case 3:B=(B>>3)/200;break;case 4:B=(B>>3)/2e3;break;case 5:B=(B>>3)/2e4;break;case 6:B=(B>>3)/16;break;case 7:B=(B>>3)/64;break}return D[1].v=B,D}function E(O,V){var D=_(O),B=O.read_shift(4),Q=O.read_shift(4),Y=O.read_shift(2);if(Y==65535)return B===0&&Q===3221225472?(D[1].t="e",D[1].v=15):B===0&&Q===3489660928?(D[1].t="e",D[1].v=42):D[1].v=0,D;var ee=Y&32768;return Y=(Y&32767)-16446,D[1].v=(1-ee*2)*(Q*Math.pow(2,Y+32)+B*Math.pow(2,Y)),D}function M(O,V,D,B){var Q=nt(14);if(Q.write_shift(2,O),Q.write_shift(1,D),Q.write_shift(1,V),B==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var Y=0,ee=0,X=0,U=0;return B<0&&(Y=1,B=-B),ee=Math.log2(B)|0,B/=Math.pow(2,ee-31),U=B>>>0,U&2147483648||(B/=2,++ee,U=B>>>0),B-=U,U|=2147483648,U>>>=0,B*=Math.pow(2,32),X=B>>>0,Q.write_shift(4,X),Q.write_shift(4,U),ee+=16383+(Y?32768:0),Q.write_shift(2,ee),Q}function T(O,V){var D=E(O);return O.l+=V-14,D}function C(O,V){var D=_(O),B=O.read_shift(4);return D[1].v=B>>6,D}function I(O,V){var D=_(O),B=O.read_shift(8,"f");return D[1].v=B,D}function L(O,V){var D=I(O);return O.l+=V-10,D}function z(O,V){return O[O.l+V-1]==0?O.read_shift(V,"cstr"):""}function G(O,V){var D=O[O.l++];D>V-1&&(D=V-1);for(var B="";B.length<D;)B+=String.fromCharCode(O[O.l++]);return B}function W(O,V,D){if(!(!D.qpro||V<21)){var B=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var Q=O.read_shift(V-21,"cstr");return[B,Q]}}function q(O,V){for(var D={},B=O.l+V;O.l<B;){var Q=O.read_shift(2);if(Q==14e3){for(D[Q]=[0,""],D[Q][0]=O.read_shift(2);O[O.l];)D[Q][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return D}function K(O,V){var D=nt(5+O.length);D.write_shift(2,14e3),D.write_shift(2,V);for(var B=0;B<O.length;++B){var Q=O.charCodeAt(B);D[D.l++]=Q>127?95:Q}return D[D.l++]=0,D}var ae={0:{n:"BOF",f:Rse},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:z},222:{n:"SHEETNAMELP",f:G},65535:{n:""}},ie={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:E},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:I},40:{n:"FORMULA28",f:L},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:z},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),vQe=/^\s|\s$|[\t\n\r]/;function qse(e,t){if(!t.bookSST)return"";var r=[di];r[r.length]=Pt("sst",null,{xmlns:Mx[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(vQe)&&(s+=' xml:space="preserve"'),s+=">"+Tn(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function yQe(e){return[e.read_shift(4),e.read_shift(4)]}function bQe(e,t){return t||(t=nt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var wQe=dXe;function jQe(e){var t=jo();mt(t,159,bQe(e));for(var r=0;r<e.length;++r)mt(t,19,wQe(e[r]));return mt(t,160),t.end()}function NQe(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Use(e){var t=0,r,n=NQe(e),a=n.length+1,s,o,l,c,u;for(r=lp(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var _Qe=function(){function e(a,s){switch(s.type){case"base64":return t(Dd(a),s);case"binary":return t(a,s);case"buffer":return t(hn&&Buffer.isBuffer(a)?a.toString("binary"):Kb(a),s);case"array":return t(GS(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,g,p=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var x=d.slice(m,h.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++p,x.length){var v={v:x,t:"s"};Array.isArray(l)?l[f][p]=v:l[Dn({r:f,c:p})]=v}break}m=h.lastIndex}p>u.e.c&&(u.e.c=p)}),l["!ref"]=li(u),l}function r(a,s){return Ap(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=aa(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Dn({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(Id(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function G9(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var SQe=6,xd=SQe;function M5(e){return Math.floor((e+Math.round(128/xd)/256)*xd)}function L5(e){return Math.floor((e-5)/xd*100+.5)/100}function jk(e){return Math.round((e*xd+5)/xd*256)/256}function rD(e){e.width?(e.wpx=M5(e.width),e.wch=L5(e.wpx),e.MDW=xd):e.wpx?(e.wch=L5(e.wpx),e.width=jk(e.wch),e.MDW=xd):typeof e.wch=="number"&&(e.width=jk(e.wch),e.wpx=M5(e.width),e.MDW=xd),e.customWidth&&delete e.customWidth}var AQe=96,Vse=AQe;function $5(e){return e*96/Vse}function Wse(e){return e*Vse/96}function CQe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Pt("numFmt",null,{numFmtId:n,formatCode:Tn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Pt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function EQe(e){var t=[];return t[t.length]=Pt("cellXfs",null),e.forEach(function(r){t[t.length]=Pt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Pt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Hse(e,t){var r=[di,Pt("styleSheet",null,{xmlns:Mx[0],"xmlns:vt":Fi.vt})],n;return e.SSF&&(n=CQe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=EQe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function PQe(e,t){var r=e.read_shift(2),n=Ts(e);return[r,n]}function kQe(e,t,r){r||(r=nt(6+4*t.length)),r.write_shift(2,e),Mi(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function TQe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=vXe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=xXe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ts(e),n}function OQe(e,t){t||(t=nt(25+4*32)),t.write_shift(2,e.sz*20),yXe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),F5(e.color,t);var n=0;return n=2,t.write_shift(1,n),Mi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var DQe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],D3,IQe=wu;function K9(e,t){t||(t=nt(4*3+8*7+16*1)),D3||(D3=V6(DQe));var r=D3[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(F5({auto:1},t),F5({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function FQe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function Gse(e,t,r){r||(r=nt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Lv(e,t){return t||(t=nt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var RQe=wu;function MQe(e,t){return t||(t=nt(51)),t.write_shift(1,0),Lv(null,t),Lv(null,t),Lv(null,t),Lv(null,t),Lv(null,t),t.length>t.l?t.slice(0,t.l):t}function LQe(e,t){return t||(t=nt(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),I5(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function $Qe(e,t,r){var n=nt(2052);return n.write_shift(4,e),I5(t,n),I5(r,n),n.length>n.l?n.slice(0,n.l):n}function BQe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(mt(e,615,Sc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&mt(e,44,kQe(a,t[a]))}),mt(e,616))}}function zQe(e){var t=1;mt(e,611,Sc(t)),mt(e,43,OQe({sz:12,color:{theme:1},name:"Calibri",family:2})),mt(e,612)}function qQe(e){var t=2;mt(e,603,Sc(t)),mt(e,45,K9({patternType:"none"})),mt(e,45,K9({patternType:"gray125"})),mt(e,604)}function UQe(e){var t=1;mt(e,613,Sc(t)),mt(e,46,MQe()),mt(e,614)}function VQe(e){var t=1;mt(e,626,Sc(t)),mt(e,47,Gse({numFmtId:0},65535)),mt(e,627)}function WQe(e,t){mt(e,617,Sc(t.length)),t.forEach(function(r){mt(e,47,Gse(r,0))}),mt(e,618)}function HQe(e){var t=1;mt(e,619,Sc(t)),mt(e,48,LQe({xfId:0,name:"Normal"})),mt(e,620)}function GQe(e){var t=0;mt(e,505,Sc(t)),mt(e,506)}function KQe(e){var t=0;mt(e,508,$Qe(t,"TableStyleMedium9","PivotStyleMedium4")),mt(e,509)}function YQe(e,t){var r=jo();return mt(r,278),BQe(r,e.SSF),zQe(r),qQe(r),UQe(r),VQe(r),WQe(r,t.cellXfs),HQe(r),GQe(r),KQe(r),mt(r,279),r.end()}function Kse(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[di];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function XQe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ts(e)}}function QQe(e){var t=nt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Mi(e.name,t),t.slice(0,t.l)}function ZQe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function JQe(e){var t=nt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function eZe(e,t){var r=nt(8+2*t.length);return r.write_shift(4,e),Mi(t,r),r.slice(0,r.l)}function tZe(e){return e.l+=4,e.read_shift(4)!=0}function rZe(e,t){var r=nt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function nZe(){var e=jo();return mt(e,332),mt(e,334,Sc(1)),mt(e,335,QQe({name:"XLDAPR",version:12e4,flags:3496657072})),mt(e,336),mt(e,339,eZe(1,"XLDAPR")),mt(e,52),mt(e,35,Sc(514)),mt(e,4096,Sc(0)),mt(e,4097,kl(1)),mt(e,36),mt(e,53),mt(e,340),mt(e,337,rZe(1)),mt(e,51,JQe([[1,0]])),mt(e,338),mt(e,333),e.end()}function Yse(){var e=[di];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function aZe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Dn(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var O0=1024;function Xse(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Pt("xml",null,{"xmlns:v":Yo.v,"xmlns:o":Yo.o,"xmlns:x":Yo.x,"xmlns:mv":Yo.mv}).replace(/\/>/,">"),Pt("o:shapelayout",Pt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Pt("v:shapetype",[Pt("v:stroke",null,{joinstyle:"miter"}),Pt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];O0<e*1e3;)O0+=1e3;return t.forEach(function(s){var o=Ri(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Pt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Pt("v:fill",c,l),d={on:"t",obscured:"t"};++O0,a=a.concat(["<v:shape"+lb({id:"_x0000_s"+O0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Pt("v:shadow",null,d),Pt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",is("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),is("x:AutoFill","False"),is("x:Row",String(o.r)),is("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function Qse(e){var t=[di,Pt("comments",null,{xmlns:Mx[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=Tn(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Tn(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(is("t",Tn(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)o+=`Reply:
    `+s[l]+`
`;t.push(is("t",Tn(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function iZe(e,t,r){var n=[di,Pt("ThreadedComments",null,{xmlns:Fi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(Pt("threadedComment",is("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function sZe(e){var t=[di,Pt("personList",null,{xmlns:Fi.TCMNT,"xmlns:x":Mx[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Pt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function oZe(e){var t={};t.iauthor=e.read_shift(4);var r=kp(e);return t.rfx=r.s,t.ref=Dn(r.s),e.l+=16,t}function lZe(e,t){return t==null&&(t=nt(36)),t.write_shift(4,e[1].iauthor),$x(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var cZe=Ts;function uZe(e){return Mi(e.slice(0,54))}function dZe(e){var t=jo(),r=[];return mt(t,628),mt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),mt(t,632,uZe(a.a)))})}),mt(t,631),mt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:Ri(n[0]),e:Ri(n[0])};mt(t,635,lZe([s,a])),a.t&&a.t.length>0&&mt(t,637,hXe(a)),mt(t,636),delete a.iauthor})}),mt(t,634),mt(t,629),t.end()}function fZe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&$n.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var Zse=["xlsb","xlsm","xlam","biff8","xla"],hZe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+ks(d)+(c?"":"$")+ls(u)}return function(a,s){return t=s,a.replace(e,r)}}(),nD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,aD=function(){return function(t,r){return t.replace(nD,function(n,a,s,o,l,c){var u=Q6(o)-(s?0:r.c),d=X6(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function mZe(e,t){return e.replace(nD,function(r,n,a,s,o,l){return n+(a=="$"?a+s:ks(Q6(s)+t.c))+(o=="$"?o+l:ls(X6(l)+t.r))})}function pZe(e){return e.length!=1}function ei(e){e.l+=1}function fh(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Jse(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return eoe(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),o=fh(e),l=fh(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function eoe(e){var t=fh(e),r=fh(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function gZe(e,t,r){if(r.biff<8)return eoe(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=fh(e),o=fh(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function toe(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return xZe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=fh(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function xZe(e){var t=fh(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function vZe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function yZe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return bZe(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:l}}function bZe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function wZe(e,t,r){var n=(e[e.l++]&96)>>5,a=Jse(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function jZe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=Jse(e,s,r);return[n,a,o]}function NZe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function _Ze(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function SZe(e,t,r){var n=(e[e.l++]&96)>>5,a=gZe(e,t-1,r);return[n,a]}function AZe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Y9(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function CZe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function EZe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function PZe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function kZe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function TZe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function roe(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function OZe(e){return e.read_shift(2),roe(e)}function DZe(e){return e.read_shift(2),roe(e)}function IZe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=toe(e,0,r);return[n,a]}function FZe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=yZe(e,0,r);return[n,a]}function RZe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=toe(e,0,r);return[n,a,s]}function MZe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[MJe[a],ioe[a],n]}function LZe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:$Ze(e);return[a,(s[0]===0?ioe:RJe)[s[1]]]}function $Ze(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function BZe(e,t,r){e.l+=r&&r.biff==2?3:4}function zZe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function qZe(e){return e.l++,Qb[e.read_shift(1)]}function UZe(e){return e.l++,e.read_shift(2)}function VZe(e){return e.l++,e.read_shift(1)!==0}function WZe(e){return e.l++,Bx(e)}function HZe(e,t,r){return e.l++,Lse(e,t-1,r)}function GZe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=RXe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Qb[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Bx(e);break;case 2:r[1]=BXe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function KZe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?kp:UXe)(e));return a}function YZe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=a;++l)o[s][l]=GZe(e,r.biff);return o}function XZe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function QZe(e,t,r){if(r.biff==5)return ZZe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function ZZe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function JZe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function eJe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function tJe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function rJe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var nJe=wu,aJe=wu,iJe=wu;function Zb(e,t,r){return e.l+=2,[vZe(e)]}function iD(e){return e.l+=6,[]}var sJe=Zb,oJe=iD,lJe=iD,cJe=Zb;function noe(e){return e.l+=2,[Rse(e),e.read_shift(2)&1]}var uJe=Zb,dJe=noe,fJe=iD,hJe=Zb,mJe=Zb,pJe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function gJe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=pJe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:s}}function xJe(e){return e.l+=2,[e.read_shift(4)]}function vJe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function yJe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function bJe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function wJe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function jJe(e){return e.l+=4,[0,0]}var X9={1:{n:"PtgExp",f:zZe},2:{n:"PtgTbl",f:iJe},3:{n:"PtgAdd",f:ei},4:{n:"PtgSub",f:ei},5:{n:"PtgMul",f:ei},6:{n:"PtgDiv",f:ei},7:{n:"PtgPower",f:ei},8:{n:"PtgConcat",f:ei},9:{n:"PtgLt",f:ei},10:{n:"PtgLe",f:ei},11:{n:"PtgEq",f:ei},12:{n:"PtgGe",f:ei},13:{n:"PtgGt",f:ei},14:{n:"PtgNe",f:ei},15:{n:"PtgIsect",f:ei},16:{n:"PtgUnion",f:ei},17:{n:"PtgRange",f:ei},18:{n:"PtgUplus",f:ei},19:{n:"PtgUminus",f:ei},20:{n:"PtgPercent",f:ei},21:{n:"PtgParen",f:ei},22:{n:"PtgMissArg",f:ei},23:{n:"PtgStr",f:HZe},26:{n:"PtgSheet",f:vJe},27:{n:"PtgEndSheet",f:yJe},28:{n:"PtgErr",f:qZe},29:{n:"PtgBool",f:VZe},30:{n:"PtgInt",f:UZe},31:{n:"PtgNum",f:WZe},32:{n:"PtgArray",f:AZe},33:{n:"PtgFunc",f:MZe},34:{n:"PtgFuncVar",f:LZe},35:{n:"PtgName",f:XZe},36:{n:"PtgRef",f:IZe},37:{n:"PtgArea",f:wZe},38:{n:"PtgMemArea",f:JZe},39:{n:"PtgMemErr",f:nJe},40:{n:"PtgMemNoMem",f:aJe},41:{n:"PtgMemFunc",f:eJe},42:{n:"PtgRefErr",f:tJe},43:{n:"PtgAreaErr",f:NZe},44:{n:"PtgRefN",f:FZe},45:{n:"PtgAreaN",f:SZe},46:{n:"PtgMemAreaN",f:bJe},47:{n:"PtgMemNoMemN",f:wJe},57:{n:"PtgNameX",f:QZe},58:{n:"PtgRef3d",f:RZe},59:{n:"PtgArea3d",f:jZe},60:{n:"PtgRefErr3d",f:rJe},61:{n:"PtgAreaErr3d",f:_Ze},255:{}},NJe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},_Je={1:{n:"PtgElfLel",f:noe},2:{n:"PtgElfRw",f:hJe},3:{n:"PtgElfCol",f:sJe},6:{n:"PtgElfRwV",f:mJe},7:{n:"PtgElfColV",f:cJe},10:{n:"PtgElfRadical",f:uJe},11:{n:"PtgElfRadicalS",f:fJe},13:{n:"PtgElfColS",f:oJe},15:{n:"PtgElfColSV",f:lJe},16:{n:"PtgElfRadicalLel",f:dJe},25:{n:"PtgList",f:gJe},29:{n:"PtgSxName",f:xJe},255:{}},SJe={0:{n:"PtgAttrNoop",f:jJe},1:{n:"PtgAttrSemi",f:TZe},2:{n:"PtgAttrIf",f:PZe},4:{n:"PtgAttrChoose",f:CZe},8:{n:"PtgAttrGoto",f:EZe},16:{n:"PtgAttrSum",f:BZe},32:{n:"PtgAttrBaxcel",f:Y9},33:{n:"PtgAttrBaxcel",f:Y9},64:{n:"PtgAttrSpace",f:OZe},65:{n:"PtgAttrSpaceSemi",f:DZe},128:{n:"PtgAttrIfError",f:kZe},255:{}};function AJe(e,t,r,n){if(n.biff<8)return wu(e,t);for(var a=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=YZe(e,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=KZe(e,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&s.push(wu(e,t)),s}function CJe(e,t,r){for(var n=e.l+t,a,s,o=[];n!=e.l;)t=n-e.l,s=e[e.l],a=X9[s]||X9[NJe[s]],(s===24||s===25)&&(a=(s===24?_Je:SJe)[e[e.l+1]]),!a||!a.f?wu(e,t):o.push([a.n,a.f(e,t,r)]);return o}function EJe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var PJe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function kJe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function aoe(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Q9(e,t,r){var n=aoe(e,t,r);return n=="#REF"?n:kJe(n,r)}function sx(e,t,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,x="",v=0,y=e[0].length;v<y;++v){var b=e[0][v];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:x=Ca(" ",e[0][p][1][1]);break;case 1:x=Ca("\r",e[0][p][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+x,p=-1}l.push(u+PJe[b[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=C1(b[1][1],o,a),l.push(E1(d,s));break;case"PtgRefN":d=r?C1(b[1][1],r,a):b[1][1],l.push(E1(d,s));break;case"PtgRef3d":f=b[1][1],d=C1(b[1][2],o,a),g=Q9(n,f,a),l.push(g+"!"+E1(d,s));break;case"PtgFunc":case"PtgFuncVar":var j=b[1][0],_=b[1][1];j||(j=0),j&=127;var P=j==0?[]:l.slice(-j);l.length-=j,_==="User"&&(_=P.shift()),l.push(_+"("+P.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":m=F9(b[1][1],r?{s:r}:o,a),l.push(T3(m,a));break;case"PtgArea":m=F9(b[1][1],o,a),l.push(T3(m,a));break;case"PtgArea3d":f=b[1][1],m=b[1][2],g=Q9(n,f,a),l.push(g+"!"+T3(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var k=(n.names||[])[h-1]||(n[0]||[])[h],S=k?k.Name:"SH33TJSNAME"+String(h);S&&S.slice(0,6)=="_xlfn."&&!a.xlfn&&(S=S.slice(6)),l.push(S);break;case"PtgNameX":var E=b[1][1];h=b[1][2];var M;if(a.biff<=5)E<0&&(E=-E),n[E]&&(M=n[E][h]);else{var T="";if(((n[E]||[])[0]||[])[0]==14849||(((n[E]||[])[0]||[])[0]==1025?n[E][h]&&n[E][h].itab>0&&(T=n.SheetNames[n[E][h].itab-1]+"!"):T=n.SheetNames[h-1]+"!"),n[E]&&n[E][h])T+=n[E][h].Name;else if(n[0]&&n[0][h])T+=n[0][h].Name;else{var C=(aoe(n,E,a)||"").split(";;");C[h-1]?T=C[h-1]:T+="SH33TJSERRX"}l.push(T);break}M||(M={Name:"SH33TJSERRY"}),l.push(M.Name);break;case"PtgParen":var I="(",L=")";if(p>=0){switch(x="",e[0][p][1][0]){case 2:I=Ca(" ",e[0][p][1][1])+I;break;case 3:I=Ca("\r",e[0][p][1][1])+I;break;case 4:L=Ca(" ",e[0][p][1][1])+L;break;case 5:L=Ca("\r",e[0][p][1][1])+L;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(I+l.pop()+L);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var z={c:r.c,r:r.r};if(n.sharedf[Dn(d)]){var G=n.sharedf[Dn(d)];l.push(sx(G,o,z,n,a))}else{var W=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(sx(u[1],o,z,n,a)),W=!0;break}W||l.push(b[1])}break;case"PtgArray":l.push("{"+EJe(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&q.indexOf(e[0][v][0])==-1){b=e[0][p];var K=!0;switch(b[1][0]){case 4:K=!1;case 0:x=Ca(" ",b[1][1]);break;case 5:K=!1;case 1:x=Ca("\r",b[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((K?x:"")+l.pop()+(K?"":x)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function TJe(e){if(e==null){var t=nt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return cp(e);return cp(0)}function OJe(e,t,r,n,a){var s=up(t,r,a),o=TJe(e.v),l=nt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=nt(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=as([s,o,l,u]);return f}function KS(e,t,r){var n=e.read_shift(4),a=CJe(e,n,r),s=e.read_shift(4),o=s>0?AJe(e,s,a,r):null;return[a,o]}var DJe=KS,YS=KS,IJe=KS,FJe=KS,RJe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ioe={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},MJe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function LJe(e){var t="of:="+e.replace(nD,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function $Je(e){return e.replace(/\./,"!")}var P1=typeof Map<"u";function sD(e,t,r){var n=0,a=e.length;if(r){if(P1?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=P1?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(P1?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function XS(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(xd=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=L5(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=jk(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function soe(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Ch(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){tse(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function BJe(e,t,r){if(e&&e["!ref"]){var n=aa(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function zJe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+li(e[r])+'"/>';return t+"</mergeCells>"}function qJe(e,t,r,n,a){var s=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}s=!0,o.codeName=ob(Tn(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+Pt("outlinePr",null,u)}!s&&!l||(a[a.length]=Pt("sheetPr",l,o))}var UJe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],VJe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function WJe(e){var t={sheet:1};return UJe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),VJe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=Use(e.password).toString(16).toUpperCase()),Pt("sheetProtection",null,t)}function HJe(e){return soe(e),Pt("pageMargins",null,e)}function GJe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Pt("col",null,XS(a,n)));return r[r.length]="</cols>",r.join("")}function KJe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:li(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=hl(a);o.s.r==o.e.r&&(o.e.r=hl(t["!ref"]).e.r,a=li(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Pt("autoFilter",null,{ref:a})}function YJe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Pt("sheetViews",Pt("sheetView",null,a),{})}function XJe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Qb[e.v];break;case"d":n&&n.cellDates?a=ro(e.v,-1).toISOString():(e=Ao(e),e.t="n",a=""+(e.v=So(ro(e.v)))),typeof e.z>"u"&&(e.z=ka[14]);break;default:a=e.v;break}var l=is("v",Tn(a)),c={r:t},u=Ch(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=is("v",""+sD(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=s&&(e.t=s,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Pt("f",Tn(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Pt("c",l,c)}function QJe(e,t,r,n){var a=[],s=[],o=aa(e["!ref"]),l="",c,u="",d=[],f=0,h=0,m=e["!rows"],g=Array.isArray(e),p={r:u},x,v=-1;for(h=o.s.c;h<=o.e.c;++h)d[h]=ks(h);for(f=o.s.r;f<=o.e.r;++f){for(s=[],u=ls(f),h=o.s.c;h<=o.e.c;++h){c=d[h]+u;var y=g?(e[f]||[])[h]:e[c];y!==void 0&&(l=XJe(y,c,e,t))!=null&&s.push(l)}(s.length>0||m&&m[f])&&(p={r:u},m&&m[f]&&(x=m[f],x.hidden&&(p.hidden=1),v=-1,x.hpx?v=$5(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(p.ht=v,p.customHeight=1),x.level&&(p.outlineLevel=x.level)),a[a.length]=Pt("row",s.join(""),p))}if(m)for(;f<m.length;++f)m&&m[f]&&(p={r:f+1},x=m[f],x.hidden&&(p.hidden=1),v=-1,x.hpx?v=$5(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(p.ht=v,p.customHeight=1),x.level&&(p.outlineLevel=x.level),a[a.length]=Pt("row","",p));return a.join("")}function ooe(e,t,r,n){var a=[di,Pt("worksheet",null,{xmlns:Mx[0],"xmlns:r":Fi.r})],s=r.SheetNames[e],o=0,l="",c=r.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",d=aa(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=li(d)}n||(n={}),c["!comments"]=[];var f=[];qJe(c,r,e,t,a),a[a.length]=Pt("dimension",null,{ref:u}),a[a.length]=YJe(c,t,e,r),t.sheetFormat&&(a[a.length]=Pt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=GJe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=QJe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=WJe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=KJe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=zJe(c["!merges"]));var h=-1,m,g=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(m={ref:p[0]},p[1].Target.charAt(0)!="#"&&(g=Pn(n,-1,Tn(p[1].Target).replace(/#.*$/,""),un.HLINK),m["r:id"]="rId"+g),(h=p[1].Target.indexOf("#"))>-1&&(m.location=Tn(p[1].Target.slice(h+1))),p[1].Tooltip&&(m.tooltip=Tn(p[1].Tooltip)),a[a.length]=Pt("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=HJe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=is("ignoredErrors",Pt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(g=Pn(n,-1,"../drawings/drawing"+(e+1)+".xml",un.DRAW),a[a.length]=Pt("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=f),c["!comments"].length>0&&(g=Pn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",un.VML),a[a.length]=Pt("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function ZJe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function JJe(e,t,r){var n=nt(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=$5(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Dn(u)];g&&(f<0&&(f=m),h=m)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var p=n.l;return n.l=c,n.write_shift(4,l),n.l=p,n.length>n.l?n.slice(0,n.l):n}function eet(e,t,r,n){var a=JJe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&mt(e,0,a)}var tet=kp,ret=$x;function net(){}function aet(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=mXe(e),r}function iet(e,t,r){r==null&&(r=nt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return F5({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),jse(e,r),r.slice(0,r.l)}function set(e){var t=Gl(e);return[t]}function oet(e,t,r){return r==null&&(r=nt(8)),Cp(t,r)}function cet(e){var t=Ep(e);return[t]}function uet(e,t,r){return r==null&&(r=nt(4)),Pp(t,r)}function det(e){var t=Gl(e),r=e.read_shift(1);return[t,r,"b"]}function fet(e,t,r){return r==null&&(r=nt(9)),Cp(t,r),r.write_shift(1,e.v?1:0),r}function het(e){var t=Ep(e),r=e.read_shift(1);return[t,r,"b"]}function met(e,t,r){return r==null&&(r=nt(5)),Pp(t,r),r.write_shift(1,e.v?1:0),r}function pet(e){var t=Gl(e),r=e.read_shift(1);return[t,r,"e"]}function get(e,t,r){return r==null&&(r=nt(9)),Cp(t,r),r.write_shift(1,e.v),r}function xet(e){var t=Ep(e),r=e.read_shift(1);return[t,r,"e"]}function vet(e,t,r){return r==null&&(r=nt(8)),Pp(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function yet(e){var t=Gl(e),r=e.read_shift(4);return[t,r,"s"]}function bet(e,t,r){return r==null&&(r=nt(12)),Cp(t,r),r.write_shift(4,t.v),r}function wet(e){var t=Ep(e),r=e.read_shift(4);return[t,r,"s"]}function jet(e,t,r){return r==null&&(r=nt(8)),Pp(t,r),r.write_shift(4,t.v),r}function Net(e){var t=Gl(e),r=Bx(e);return[t,r,"n"]}function _et(e,t,r){return r==null&&(r=nt(16)),Cp(t,r),cp(e.v,r),r}function Aet(e){var t=Ep(e),r=Bx(e);return[t,r,"n"]}function Cet(e,t,r){return r==null&&(r=nt(12)),Pp(t,r),cp(e.v,r),r}function Eet(e){var t=Gl(e),r=Nse(e);return[t,r,"n"]}function Pet(e,t,r){return r==null&&(r=nt(12)),Cp(t,r),_se(e.v,r),r}function ket(e){var t=Ep(e),r=Nse(e);return[t,r,"n"]}function Tet(e,t,r){return r==null&&(r=nt(8)),Pp(t,r),_se(e.v,r),r}function Oet(e){var t=Gl(e),r=Z6(e);return[t,r,"is"]}function Det(e){var t=Gl(e),r=Ts(e);return[t,r,"str"]}function Iet(e,t,r){return r==null&&(r=nt(12+4*e.v.length)),Cp(t,r),Mi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Fet(e){var t=Ep(e),r=Ts(e);return[t,r,"str"]}function Ret(e,t,r){return r==null&&(r=nt(8+4*e.v.length)),Pp(t,r),Mi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Met(e,t,r){var n=e.l+t,a=Gl(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=YS(e,n-e.l,r);o[3]=sx(l,null,a,r.supbooks,r)}else e.l=n;return o}function Let(e,t,r){var n=e.l+t,a=Gl(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=YS(e,n-e.l,r);o[3]=sx(l,null,a,r.supbooks,r)}else e.l=n;return o}function $et(e,t,r){var n=e.l+t,a=Gl(e);a.r=r["!row"];var s=Bx(e),o=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=YS(e,n-e.l,r);o[3]=sx(l,null,a,r.supbooks,r)}else e.l=n;return o}function Bet(e,t,r){var n=e.l+t,a=Gl(e);a.r=r["!row"];var s=Ts(e),o=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=YS(e,n-e.l,r);o[3]=sx(l,null,a,r.supbooks,r)}else e.l=n;return o}var zet=kp,qet=$x;function Uet(e,t){return t==null&&(t=nt(4)),t.write_shift(4,e),t}function Vet(e,t){var r=e.l+t,n=kp(e),a=J6(e),s=Ts(e),o=Ts(e),l=Ts(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return o&&(c.Tooltip=o),c}function Wet(e,t){var r=nt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));$x({s:Ri(e[0]),e:Ri(e[0])},r),eD("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Mi(a||"",r),Mi(e[1].Tooltip||"",r),Mi("",r),r.slice(0,r.l)}function Het(){}function Get(e,t,r){var n=e.l+t,a=Sse(e),s=e.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var l=DJe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function Ket(e,t,r){var n=e.l+t,a=kp(e),s=[a];if(r.cellFormula){var o=FJe(e,n-e.l,r);s[1]=o,e.l=n}else e.l=n;return s}function Yet(e,t,r){r==null&&(r=nt(18));var n=XS(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var loe=["left","right","top","bottom","header","footer"];function Xet(e){var t={};return loe.forEach(function(r){t[r]=Bx(e)}),t}function Qet(e,t){return t==null&&(t=nt(6*8)),soe(e),loe.forEach(function(r){cp(e[r],t)}),t}function Zet(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Jet(e,t,r){r==null&&(r=nt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function ett(e){var t=nt(24);return t.write_shift(4,4),t.write_shift(4,1),$x(e,t),t}function ttt(e,t){return t==null&&(t=nt(16*4+2)),t.write_shift(2,e.password?Use(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function rtt(){}function ntt(){}function att(e,t,r,n,a,s,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Ao(t),t.z=t.z||ka[14],t.v=So(ro(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Ch(a.cellXfs,t,a),t.l&&s["!links"].push([Dn(c),t.l]),t.c&&s["!comments"].push([Dn(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=sD(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?mt(e,18,jet(t,c)):mt(e,7,bet(t,c))):(c.t="str",o?mt(e,17,Ret(t,c)):mt(e,6,Iet(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?mt(e,13,Tet(t,c)):mt(e,2,Pet(t,c)):o?mt(e,16,Cet(t,c)):mt(e,5,_et(t,c)),!0;case"b":return c.t="b",o?mt(e,15,met(t,c)):mt(e,4,fet(t,c)),!0;case"e":return c.t="e",o?mt(e,14,vet(t,c)):mt(e,3,get(t,c)),!0}return o?mt(e,12,uet(t,c)):mt(e,1,oet(t,c)),!0}function itt(e,t,r,n){var a=aa(t["!ref"]||"A1"),s,o="",l=[];mt(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=ls(d),eet(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(l[h]=ks(h)),s=l[h]+o;var m=c?(t[d]||[])[h]:t[s];if(!m){f=!1;continue}f=att(e,m,d,h,n,t,f)}}mt(e,146)}function stt(e,t){!t||!t["!merges"]||(mt(e,177,Uet(t["!merges"].length)),t["!merges"].forEach(function(r){mt(e,176,qet(r))}),mt(e,178))}function ott(e,t){!t||!t["!cols"]||(mt(e,390),t["!cols"].forEach(function(r,n){r&&mt(e,60,Yet(n,r))}),mt(e,391))}function ltt(e,t){!t||!t["!ref"]||(mt(e,648),mt(e,649,ett(aa(t["!ref"]))),mt(e,650))}function ctt(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Pn(r,-1,n[1].Target.replace(/#.*$/,""),un.HLINK);mt(e,494,Wet(n,a))}}),delete t["!links"]}function utt(e,t,r,n){if(t["!comments"].length>0){var a=Pn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",un.VML);mt(e,551,eD("rId"+a)),t["!legacy"]=a}}function dtt(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:li(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=hl(s);l.s.r==l.e.r&&(l.e.r=hl(t["!ref"]).e.r,s=li(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),mt(e,161,$x(aa(s))),mt(e,162)}}function ftt(e,t,r){mt(e,133),mt(e,137,Jet(t,r)),mt(e,138),mt(e,134)}function htt(e,t){t["!protect"]&&mt(e,535,ttt(t["!protect"]))}function mtt(e,t,r,n){var a=jo(),s=r.SheetNames[e],o=r.Sheets[s]||{},l=s;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=aa(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],mt(a,129),(r.vbaraw||o["!outline"])&&mt(a,147,iet(l,o["!outline"])),mt(a,148,ret(c)),ftt(a,o,r.Workbook),ott(a,o),itt(a,o,e,t),htt(a,o),dtt(a,o,r,e),stt(a,o),ctt(a,o,n),o["!margins"]&&mt(a,476,Qet(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&ltt(a,o),utt(a,o,e,n),mt(a,130),a.end()}function ptt(e,t){e.l+=10;var r=Ts(e);return{name:r}}var gtt=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function xtt(e){return!e.Workbook||!e.Workbook.WBProps?"false":HYe(e.Workbook.WBProps.date1904)?"true":"false"}var vtt="][*?/\\".split("");function coe(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return vtt.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function ytt(e,t,r){e.forEach(function(n,a){coe(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function btt(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];ytt(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)BJe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function uoe(e){var t=[di];t[t.length]=Pt("workbook",null,{xmlns:Mx[0],"xmlns:r":Fi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(gtt.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Pt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:Tn(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Pt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Pt("definedName",Tn(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function wtt(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=wk(e),r.name=Ts(e),r}function jtt(e,t){return t||(t=nt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),eD(e.strRelID,t),Mi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Ntt(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ts(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function _tt(e,t){t||(t=nt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),jse(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Stt(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=pXe(e),o=IJe(e,0,r),l=J6(e);e.l=n;var c={Name:s,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Att(e,t){mt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};mt(e,156,jtt(a))}mt(e,144)}function Ctt(e,t){t||(t=nt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Mi("SheetJS",t),Mi(C5.version,t),Mi(C5.version,t),Mi("7262",t),t.length>t.l?t.slice(0,t.l):t}function Ett(e,t){t||(t=nt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Ptt(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(mt(e,135),mt(e,158,Ett(a)),mt(e,136))}}function ktt(e,t){var r=jo();return mt(r,131),mt(r,128,Ctt()),mt(r,153,_tt(e.Workbook&&e.Workbook.WBProps||null)),Ptt(r,e),Att(r,e),mt(r,132),r.end()}function Ttt(e,t,r){return(t.slice(-4)===".bin"?ktt:uoe)(e)}function Ott(e,t,r,n,a){return(t.slice(-4)===".bin"?mtt:ooe)(e,r,n,a)}function Dtt(e,t,r){return(t.slice(-4)===".bin"?YQe:Hse)(e,r)}function Itt(e,t,r){return(t.slice(-4)===".bin"?jQe:qse)(e,r)}function Ftt(e,t,r){return(t.slice(-4)===".bin"?dZe:Qse)(e)}function Rtt(e){return(e.slice(-4)===".bin"?nZe:Yse)()}function Mtt(e,t){var r=[];return e.Props&&r.push(TXe(e.Props,t)),e.Custprops&&r.push(OXe(e.Props,e.Custprops)),r.join("")}function Ltt(){return""}function $tt(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(Pt("NumberFormat",null,{"ss:Format":Tn(ka[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(Pt("Style",s.join(""),o))}),Pt("Styles",r.join(""))}function doe(e){return Pt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+aD(e.Ref,{r:0,c:0})})}function Btt(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(doe(a)))}return Pt("Names",r.join(""))}function ztt(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||s.push(doe(l)))}return s.join("")}function qtt(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Pt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Pt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Pt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Pt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(is("ProtectContents","True")),e["!protect"].objects&&a.push(is("ProtectObjects","True")),e["!protect"].scenarios&&a.push(is("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(is("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(is("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Pt("WorksheetOptions",a.join(""),{xmlns:Yo.x})}function Utt(e){return e.map(function(t){var r=WYe(t.t||""),n=Pt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Pt("Comment",n,{"ss:Author":t.a})}).join("")}function Vtt(e,t,r,n,a,s,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Tn(aD(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Ri(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Tn(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Tn(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Qb[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||ka[14]);break;case"s":f="String",h=VYe(e.v||"");break}var m=Ch(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=o.c+1;var g=e.v!=null?h:"",p=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(p+=Utt(e.c)),Pt("Cell",p,l)}function Wtt(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Wse(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Htt(e,t,r,n){if(!e["!ref"])return"";var a=aa(e["!ref"]),s=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(x,v){rD(x);var y=!!x.width,b=XS(v,x),j={"ss:Index":v+1};y&&(j["ss:Width"]=M5(b.width)),x.hidden&&(j["ss:Hidden"]="1"),l.push(Pt("Column",null,j))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[Wtt(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>f)&&!(s[o].s.r>u)&&!(s[o].e.c<f)&&!(s[o].e.r<u)){(s[o].s.c!=f||s[o].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},g=Dn(m),p=c?(e[u]||[])[f]:e[g];d.push(Vtt(p,g,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function Gtt(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],o=s?ztt(s,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=s?Htt(s,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(qtt(s,t,e,r)),n.join("")}function Ktt(e,t){t||(t={}),e.SSF||(e.SSF=Ao(ka)),e.SSF&&(WS(),VS(e.SSF),t.revssf=HS(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ch(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Mtt(e,t)),r.push(Ltt()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Pt("Worksheet",Gtt(n,t,e),{"ss:Name":Tn(e.SheetNames[n])}));return r[2]=$tt(e,t),r[3]=Btt(e),di+Pt("Workbook",r.join(""),{xmlns:Yo.ss,"xmlns:o":Yo.o,"xmlns:x":Yo.x,"xmlns:ss":Yo.ss,"xmlns:dt":Yo.dt,"xmlns:html":Yo.html})}var I3={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Ytt(e,t){var r=[],n=[],a=[],s=0,o,l=_9(M9,"n"),c=_9(L9,"n");if(e.Props)for(o=ds(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?n:a).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=ds(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?n:a).push([o[s],e.Custprops[o[s]]]);var u=[];for(s=0;s<a.length;++s)Fse.indexOf(a[s][0])>-1||Ose.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&$n.utils.cfb_add(t,"/SummaryInformation",U9(n,I3.SI,c,L9)),(r.length||u.length)&&$n.utils.cfb_add(t,"/DocumentSummaryInformation",U9(r,I3.DSI,l,M9,u.length?u:null,I3.UDI))}function Xtt(e,t){var r=t||{},n=$n.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return $n.utils.cfb_add(n,a,foe(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Ytt(e,n),r.biff==8&&e.vbaraw&&fZe(n,$n.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Qtt={0:{f:ZJe},1:{f:set},2:{f:Eet},3:{f:pet},4:{f:det},5:{f:Net},6:{f:Det},7:{f:yet},8:{f:Bet},9:{f:$et},10:{f:Met},11:{f:Let},12:{f:cet},13:{f:ket},14:{f:xet},15:{f:het},16:{f:Aet},17:{f:Fet},18:{f:wet},19:{f:Z6},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Stt},40:{},42:{},43:{f:TQe},44:{f:PQe},45:{f:IQe},46:{f:RQe},47:{f:FQe},48:{},49:{f:lXe},50:{},51:{f:ZQe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:cQe},62:{f:Oet},63:{f:aZe},64:{f:rtt},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:wu,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Zet},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:aet},148:{f:tet,p:16},151:{f:Het},152:{},153:{f:Ntt},154:{},155:{},156:{f:wtt},157:{},158:{},159:{T:1,f:yQe},160:{T:-1},161:{T:1,f:kp},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:zet},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:XQe},336:{T:-1},337:{f:tZe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:wk},357:{},358:{},359:{},360:{T:1},361:{},362:{f:nQe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Get},427:{f:Ket},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Xet},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:net},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Vet},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:wk},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:cZe},633:{T:1},634:{T:-1},635:{T:1,f:oZe},636:{T:-1},637:{f:fXe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:ptt},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:ntt},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function kt(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&Y6(r)&&e.push(r)}}function Ztt(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return kt(e,t,r,a);var s=t;if(!isNaN(s)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Jb(e,t,r){return e||(e=nt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Jtt(e,t,r,n){var a=nt(9);return Jb(a,e,t),Mse(r,n||"b",a),a}function ert(e,t,r){var n=nt(8+2*r.length);return Jb(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function trt(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?So(ro(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?kt(e,2,hQe(r,n,a)):kt(e,3,fQe(r,n,a));return;case"b":case"e":kt(e,5,Jtt(r,n,t.v,t.t));return;case"s":case"str":kt(e,4,ert(r,n,(t.v||"").slice(0,255)));return}kt(e,1,Jb(null,r,n))}function rrt(e,t,r,n){var a=Array.isArray(t),s=aa(t["!ref"]||"A1"),o,l="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=li(s)}for(var u=s.s.r;u<=s.e.r;++u){l=ls(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(c[d]=ks(d)),o=c[d]+l;var f=a?(t[u]||[])[d]:t[o];f&&trt(e,f,u,d)}}}function nrt(e,t){for(var r=t||{},n=jo(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return kt(n,r.biff==4?1033:r.biff==3?521:9,tD(e,16,r)),rrt(n,e.Sheets[e.SheetNames[a]],a,r),kt(n,10),n.end()}function art(e,t,r){kt(e,49,YXe({sz:12,name:"Arial"},r))}function irt(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&kt(e,1054,ZXe(a,t[a],r))})}function srt(e,t){var r=nt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),kt(e,2151,r),r=nt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Bse(aa(t["!ref"]||"A1"),r),r.write_shift(4,4),kt(e,2152,r)}function ort(e,t){for(var r=0;r<16;++r)kt(e,224,W9({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){kt(e,224,W9(n,0,t))})}function lrt(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];kt(e,440,sQe(n)),n[1].Tooltip&&kt(e,2048,oQe(n))}delete t["!links"]}function crt(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&kt(e,125,uQe(XS(a,n),a))})}}function urt(e,t,r,n,a){var s=16+Ch(a.cellXfs,t,a);if(t.v==null&&!t.bf){kt(e,513,up(r,n,s));return}if(t.bf)kt(e,6,OJe(t,r,n,a,s));else switch(t.t){case"d":case"n":var o=t.t=="d"?So(ro(t.v)):t.v;kt(e,515,rQe(r,n,o,s));break;case"b":case"e":kt(e,517,tQe(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var l=sD(a.Strings,t.v,a.revStrings);kt(e,253,XXe(r,n,l,s))}else kt(e,516,QXe(r,n,(t.v||"").slice(0,255),s,a));break;default:kt(e,513,up(r,n,s))}}function drt(e,t,r){var n=jo(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(s),u=t.biff==8,d,f="",h=[],m=aa(s["!ref"]||"A1"),g=u?65536:16384;if(m.e.c>255||m.e.r>=g){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,g-1)}kt(n,2057,tD(r,16,t)),kt(n,13,kl(1)),kt(n,12,kl(100)),kt(n,15,Hs(!0)),kt(n,17,Hs(!1)),kt(n,16,cp(.001)),kt(n,95,Hs(!0)),kt(n,42,Hs(!1)),kt(n,43,Hs(!1)),kt(n,130,kl(1)),kt(n,128,eQe()),kt(n,131,Hs(!1)),kt(n,132,Hs(!1)),u&&crt(n,s["!cols"]),kt(n,512,JXe(m,t)),u&&(s["!links"]=[]);for(var p=m.s.r;p<=m.e.r;++p){f=ls(p);for(var x=m.s.c;x<=m.e.c;++x){p===m.s.r&&(h[x]=ks(x)),d=h[x]+f;var v=c?(s[p]||[])[x]:s[d];v&&(urt(n,v,p,x,t),u&&v.l&&s["!links"].push([d,v.l]))}}var y=l.CodeName||l.name||a;return u&&kt(n,574,KXe((o.Views||[])[0])),u&&(s["!merges"]||[]).length&&kt(n,229,iQe(s["!merges"])),u&&lrt(n,s),kt(n,442,$se(y)),u&&srt(n,s),kt(n,10),n.end()}function frt(e,t,r){var n=jo(),a=(e||{}).Workbook||{},s=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(kt(n,2057,tD(e,5,r)),r.bookType=="xla"&&kt(n,135),kt(n,225,l?kl(1200):null),kt(n,193,FXe(2)),c&&kt(n,191),c&&kt(n,192),kt(n,226),kt(n,92,VXe("SheetJS",r)),kt(n,66,kl(l?1200:1252)),l&&kt(n,353,kl(0)),l&&kt(n,448),kt(n,317,dQe(e.SheetNames.length)),l&&e.vbaraw&&kt(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";kt(n,442,$se(u))}kt(n,156,kl(17)),kt(n,25,Hs(!1)),kt(n,18,Hs(!1)),kt(n,19,kl(0)),l&&kt(n,431,Hs(!1)),l&&kt(n,444,kl(0)),kt(n,61,GXe()),kt(n,64,Hs(!1)),kt(n,141,kl(0)),kt(n,34,Hs(xtt(e)=="true")),kt(n,14,Hs(!0)),l&&kt(n,439,Hs(!1)),kt(n,218,kl(0)),art(n,e,r),irt(n,e.SSF,r),ort(n,r),l&&kt(n,352,Hs(!1));var d=n.end(),f=jo();l&&kt(f,140,lQe()),l&&r.Strings&&Ztt(f,252,HXe(r.Strings)),kt(f,10);var h=f.end(),m=jo(),g=0,p=0;for(p=0;p<e.SheetNames.length;++p)g+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var x=d.length+g+h.length;for(p=0;p<e.SheetNames.length;++p){var v=s[p]||{};kt(m,133,WXe({pos:x,hs:v.Hidden||0,dt:0,name:e.SheetNames[p]},r)),x+=t[p].length}var y=m.end();if(g!=y.length)throw new Error("BS8 "+g+" != "+y.length);var b=[];return d.length&&b.push(d),y.length&&b.push(y),h.length&&b.push(h),as(b)}function hrt(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Ao(ka)),e&&e.SSF&&(WS(),VS(e.SSF),r.revssf=HS(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,oD(r),r.cellXfs=[],Ch(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=drt(a,r,e);return n.unshift(frt(e,n,r)),as(n)}function foe(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=hl(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return hrt(e,t);case 4:case 3:case 2:return nrt(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function mrt(e,t,r,n){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Dn({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||UYe(f.w||(Id(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(Pt("td",h,m))}}var g="<tr>";return g+s.join("")+"</tr>"}var prt='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',grt="</body></html>";function xrt(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function hoe(e,t){var r=t||{},n=r.header!=null?r.header:prt,a=r.footer!=null?r.footer:grt,s=[n],o=hl(e["!ref"]);r.dense=Array.isArray(e),s.push(xrt(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)s.push(mrt(e,o,l,r));return s.push("</table>"+a),s.join("")}function moe(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Ri(n.origin):n.origin;a=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=hl(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),g=0,p=0,x=0,v=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&p<c;++g){var j=l[g];if(Z9(j)){if(n.display)continue;m[p]={hidden:!0}}var _=j.children;for(x=v=0;x<_.length;++x){var P=_[x];if(!(n.display&&Z9(P))){var k=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):GYe(P.innerHTML),S=P.getAttribute("data-z")||P.getAttribute("z");for(h=0;h<f.length;++h){var E=f[h];E.s.c==v+s&&E.s.r<p+a&&p+a<=E.e.r&&(v=E.e.c+1-s,h=-1)}b=+P.getAttribute("colspan")||1,((y=+P.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:p+a,c:v+s},e:{r:p+a+(y||1)-1,c:v+s+(b||1)-1}});var M={t:"s",v:k},T=P.getAttribute("data-t")||P.getAttribute("t")||"";k!=null&&(k.length==0?M.t=T||"z":n.raw||k.trim().length==0||T=="s"||(k==="TRUE"?M={t:"b",v:!0}:k==="FALSE"?M={t:"b",v:!1}:isNaN(gd(k))?isNaN(sb(k).getDate())||(M={t:"d",v:ro(k)},n.cellDates||(M={t:"n",v:So(M.v)}),M.z=n.dateNF||ka[14]):M={t:"n",v:gd(k)})),M.z===void 0&&S!=null&&(M.z=S);var C="",I=P.getElementsByTagName("A");if(I&&I.length)for(var L=0;L<I.length&&!(I[L].hasAttribute("href")&&(C=I[L].getAttribute("href"),C.charAt(0)!="#"));++L);C&&C.charAt(0)!="#"&&(M.l={Target:C}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][v+s]=M):e[Dn({c:v+s,r:p+a})]=M,u.e.c<v+s&&(u.e.c=v+s),v+=b}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=li(u),p>=c&&(e["!fullref"]=li((u.e.r=l.length-g+p-1+a,u))),e}function poe(e,t){var r=t||{},n=r.dense?[]:{};return moe(n,e,t)}function vrt(e,t){return Ap(poe(e,t),t)}function Z9(e){var t="",r=yrt(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function yrt(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var brt=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+lb({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return di+t}}(),J9=function(){var e=function(s){return Tn(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,o,l){var c=[];c.push('      <table:table table:name="'+Tn(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=hl(s["!ref"]||"A1"),h=s["!merges"]||[],m=0,g=Array.isArray(s);if(s["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var p="",x=s["!rows"]||[];for(u=0;u<f.s.r;++u)p=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;u<=f.e.r;++u){for(p=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+p+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var v=!1,y={},b="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(v=!0),y["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,y["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(v){c.push(r);continue}var j=Dn({r:u,c:d}),_=g?(s[u]||[])[d]:s[j];if(_&&_.f&&(y["table:formula"]=Tn(LJe(_.f)),_.F&&_.F.slice(0,j.length)==j)){var P=hl(_.F);y["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,y["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!_){c.push(t);continue}switch(_.t){case"b":b=_.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=_.v?"true":"false";break;case"n":b=_.w||String(_.v||0),y["office:value-type"]="float",y["office:value"]=_.v||0;break;case"s":case"str":b=_.v==null?"":_.v,y["office:value-type"]="string";break;case"d":b=_.w||ro(_.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=ro(_.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var k=e(b);if(_.l&&_.l.Target){var S=_.l.Target;S=S.charAt(0)=="#"?"#"+$Je(S.slice(1)):S,S.charAt(0)!="#"&&!S.match(/^\w+:/)&&(S="../"+S),k=Pt("text:a",k,{"xlink:href":S.replace(/&/g,"&amp;")})}c.push("          "+Pt("table:table-cell",Pt("text:p",k,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;rD(f),f.ods=l;var h=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,l){var c=[di],u=lb({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=lb({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(kse().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function goe(e,t){if(t.bookType=="fods")return J9(e,t);var r=W6(),n="",a=[],s=[];return n="mimetype",Hr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Hr(r,n,J9(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Hr(r,n,brt(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Hr(r,n,di+kse()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Hr(r,n,kXe(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Hr(r,n,EXe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function B5(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function wrt(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):xc(ob(e))}function jrt(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function hh(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function Nrt(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function cb(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Cn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function ig(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function yi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=cb(e,r),s=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=cb(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Qi(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Cn(n*8+a.type)),a.type==2&&t.push(Cn(a.data.length)),t.push(a.data))})}),hh(t)}function rc(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=cb(e,n),s=yi(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:ig(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=yi(l.data),u=ig(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=ig(s[3][0].data)>>>0>0),r.push(o)}return r}function a0(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Cn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Cn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Cn(o.data.length)}],n[2].push({data:Qi(o.meta),type:2})});var s=Qi(n);t.push(Cn(s.length)),t.push(s),a.forEach(function(o){return t.push(o)})}),hh(t)}function _rt(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=cb(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[hh(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=hh(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function nc(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(_rt(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return hh(t)}function i0(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=Cn(n),o=s.length;t.push(s),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return hh(t)}function F3(e,t){var r=new Uint8Array(32),n=B5(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,Nrt(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function R3(e,t){var r=new Uint8Array(32),n=B5(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function hf(e){var t=yi(e);return cb(t[1][0].data)}function Srt(e,t,r){var n,a,s,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(s=e[8])==null?void 0:s[0])==null?void 0:o.data)&&ig(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=B5(e[7][0].data),d=0,f=[],h=B5(e[4][0].data),m=0,g=[],p=0;p<t.length;++p){if(t[p]==null){u.setUint16(p*2,65535,!0),h.setUint16(p*2,65535);continue}u.setUint16(p*2,d,!0),h.setUint16(p*2,m,!0);var x,v;switch(typeof t[p]){case"string":x=F3({t:"s",v:t[p]},r),v=R3({t:"s",v:t[p]},r);break;case"number":x=F3({t:"n",v:t[p]},r),v=R3({t:"n",v:t[p]},r);break;case"boolean":x=F3({t:"b",v:t[p]},r),v=R3({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}f.push(x),d+=x.length,g.push(v),m+=v.length,++c}for(e[2][0].data=Cn(c);p<e[7][0].data.length/2;++p)u.setUint16(p*2,65535,!0),h.setUint16(p*2,65535,!0);return e[6][0].data=hh(f),e[3][0].data=hh(g),c}function Art(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=hl(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(li(n)));var s=z5(r,{range:n,header:1}),o=["~Sh33tJ5~"];s.forEach(function(V){return V.forEach(function(D){typeof D=="string"&&o.push(D)})});var l={},c=[],u=$n.read(t.numbers,{type:"base64"});u.FileIndex.map(function(V,D){return[V,u.FullPaths[D]]}).forEach(function(V){var D=V[0],B=V[1];if(D.type==2&&D.name.match(/\.iwa/)){var Q=D.content,Y=nc(Q),ee=rc(Y);ee.forEach(function(X){c.push(X.id),l[X.id]={deps:[],location:B,type:ig(X.messages[0].meta[1][0].data)}})}}),c.sort(function(V,D){return V-D});var d=c.filter(function(V){return V>1}).map(function(V){return[V,Cn(V)]});u.FileIndex.map(function(V,D){return[V,u.FullPaths[D]]}).forEach(function(V){var D=V[0];if(V[1],!!D.name.match(/\.iwa/)){var B=rc(nc(D.content));B.forEach(function(Q){Q.messages.forEach(function(Y){d.forEach(function(ee){Q.messages.some(function(X){return ig(X.meta[1][0].data)!=11006&&jrt(X.data,ee[1])})&&l[ee[0]].deps.push(Q.id)})})})}});for(var f=$n.find(u,l[1].location),h=rc(nc(f.content)),m,g=0;g<h.length;++g){var p=h[g];p.id==1&&(m=p)}var x=hf(yi(m.messages[0].data)[1][0].data);for(f=$n.find(u,l[x].location),h=rc(nc(f.content)),g=0;g<h.length;++g)p=h[g],p.id==x&&(m=p);for(x=hf(yi(m.messages[0].data)[2][0].data),f=$n.find(u,l[x].location),h=rc(nc(f.content)),g=0;g<h.length;++g)p=h[g],p.id==x&&(m=p);for(x=hf(yi(m.messages[0].data)[2][0].data),f=$n.find(u,l[x].location),h=rc(nc(f.content)),g=0;g<h.length;++g)p=h[g],p.id==x&&(m=p);var v=yi(m.messages[0].data);{v[6][0].data=Cn(n.e.r+1),v[7][0].data=Cn(n.e.c+1);var y=hf(v[46][0].data),b=$n.find(u,l[y].location),j=rc(nc(b.content));{for(var _=0;_<j.length&&j[_].id!=y;++_);if(j[_].id!=y)throw"Bad ColumnRowUIDMapArchive";var P=yi(j[_].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var k=0;k<=n.e.c;++k){var S=[];S[1]=S[2]=[{type:0,data:Cn(k+420690)}],P[1].push({type:2,data:Qi(S)}),P[2].push({type:0,data:Cn(k)}),P[3].push({type:0,data:Cn(k)})}P[4]=[],P[5]=[],P[6]=[];for(var E=0;E<=n.e.r;++E)S=[],S[1]=S[2]=[{type:0,data:Cn(E+726270)}],P[4].push({type:2,data:Qi(S)}),P[5].push({type:0,data:Cn(E)}),P[6].push({type:0,data:Cn(E)});j[_].messages[0].data=Qi(P)}b.content=i0(a0(j)),b.size=b.content.length,delete v[46];var M=yi(v[4][0].data);{M[7][0].data=Cn(n.e.r+1);var T=yi(M[1][0].data),C=hf(T[2][0].data);b=$n.find(u,l[C].location),j=rc(nc(b.content));{if(j[0].id!=C)throw"Bad HeaderStorageBucket";var I=yi(j[0].messages[0].data);for(E=0;E<s.length;++E){var L=yi(I[2][0].data);L[1][0].data=Cn(E),L[4][0].data=Cn(s[E].length),I[2][E]={type:I[2][0].type,data:Qi(L)}}j[0].messages[0].data=Qi(I)}b.content=i0(a0(j)),b.size=b.content.length;var z=hf(M[2][0].data);b=$n.find(u,l[z].location),j=rc(nc(b.content));{if(j[0].id!=z)throw"Bad HeaderStorageBucket";for(I=yi(j[0].messages[0].data),k=0;k<=n.e.c;++k)L=yi(I[2][0].data),L[1][0].data=Cn(k),L[4][0].data=Cn(n.e.r+1),I[2][k]={type:I[2][0].type,data:Qi(L)};j[0].messages[0].data=Qi(I)}b.content=i0(a0(j)),b.size=b.content.length;var G=hf(M[4][0].data);(function(){for(var V=$n.find(u,l[G].location),D=rc(nc(V.content)),B,Q=0;Q<D.length;++Q){var Y=D[Q];Y.id==G&&(B=Y)}var ee=yi(B.messages[0].data);{ee[3]=[];var X=[];o.forEach(function(oe,Se){X[1]=[{type:0,data:Cn(Se)}],X[2]=[{type:0,data:Cn(1)}],X[3]=[{type:2,data:wrt(oe)}],ee[3].push({type:2,data:Qi(X)})})}B.messages[0].data=Qi(ee);var U=a0(D),me=i0(U);V.content=me,V.size=V.content.length})();var W=yi(M[3][0].data);{var q=W[1][0];delete W[2];var K=yi(q.data);{var ae=hf(K[2][0].data);(function(){for(var V=$n.find(u,l[ae].location),D=rc(nc(V.content)),B,Q=0;Q<D.length;++Q){var Y=D[Q];Y.id==ae&&(B=Y)}var ee=yi(B.messages[0].data);{delete ee[6],delete W[7];var X=new Uint8Array(ee[5][0].data);ee[5]=[];for(var U=0,me=0;me<=n.e.r;++me){var oe=yi(X);U+=Srt(oe,s[me],o),oe[1][0].data=Cn(me),ee[5].push({data:Qi(oe),type:2})}ee[1]=[{type:0,data:Cn(n.e.c+1)}],ee[2]=[{type:0,data:Cn(n.e.r+1)}],ee[3]=[{type:0,data:Cn(U)}],ee[4]=[{type:0,data:Cn(n.e.r+1)}]}B.messages[0].data=Qi(ee);var Se=a0(D),_e=i0(Se);V.content=_e,V.size=V.content.length})()}q.data=Qi(K)}M[3][0].data=Qi(W)}v[4][0].data=Qi(M)}m.messages[0].data=Qi(v);var ie=a0(h),O=i0(ie);return f.content=O,f.size=f.content.length,u}function Crt(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function oD(e){Crt([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Ert(e,t){return t.bookType=="ods"?goe(e,t):t.bookType=="numbers"?Art(e,t):t.bookType=="xlsb"?Prt(e,t):krt(e,t)}function Prt(e,t){O0=1024,e&&!e.SSF&&(e.SSF=Ao(ka)),e&&e.SSF&&(WS(),VS(e.SSF),t.revssf=HS(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,P1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Zse.indexOf(t.bookType)>-1,a=Cse();oD(t=t||{});var s=W6(),o="",l=0;if(t.cellXfs=[],Ch(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Hr(s,o,Tse(e.Props,t)),a.coreprops.push(o),Pn(t.rels,2,o,un.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Hr(s,o,Dse(e.Props)),a.extprops.push(o),Pn(t.rels,3,o,un.EXT_PROPS),e.Custprops!==e.Props&&ds(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Hr(s,o,Ise(e.Custprops)),a.custprops.push(o),Pn(t.rels,4,o,un.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Hr(s,o,Ott(l-1,o,t,e,d)),a.sheets.push(o),Pn(t.wbrels,-1,"worksheets/sheet"+l+"."+r,un.WS[0])}if(f){var m=f["!comments"],g=!1,p="";m&&m.length>0&&(p="xl/comments"+l+"."+r,Hr(s,p,Ftt(m,p)),a.comments.push(p),Pn(d,-1,"../comments"+l+"."+r,un.CMNT),g=!0),f["!legacy"]&&g&&Hr(s,"xl/drawings/vmlDrawing"+l+".vml",Xse(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Hr(s,Pse(o),ng(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Hr(s,o,Itt(t.Strings,o,t)),a.strs.push(o),Pn(t.wbrels,-1,"sharedStrings."+r,un.SST)),o="xl/workbook."+r,Hr(s,o,Ttt(e,o)),a.workbooks.push(o),Pn(t.rels,1,o,un.WB),o="xl/theme/theme1.xml",Hr(s,o,Kse(e.Themes,t)),a.themes.push(o),Pn(t.wbrels,-1,"theme/theme1.xml",un.THEME),o="xl/styles."+r,Hr(s,o,Dtt(e,o,t)),a.styles.push(o),Pn(t.wbrels,-1,"styles."+r,un.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Hr(s,o,e.vbaraw),a.vba.push(o),Pn(t.wbrels,-1,"vbaProject.bin",un.VBA)),o="xl/metadata."+r,Hr(s,o,Rtt(o)),a.metadata.push(o),Pn(t.wbrels,-1,"metadata."+r,un.XLMETA),Hr(s,"[Content_Types].xml",Ese(a,t)),Hr(s,"_rels/.rels",ng(t.rels)),Hr(s,"xl/_rels/workbook."+r+".rels",ng(t.wbrels)),delete t.revssf,delete t.ssf,s}function krt(e,t){O0=1024,e&&!e.SSF&&(e.SSF=Ao(ka)),e&&e.SSF&&(WS(),VS(e.SSF),t.revssf=HS(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,P1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Zse.indexOf(t.bookType)>-1,a=Cse();oD(t=t||{});var s=W6(),o="",l=0;if(t.cellXfs=[],Ch(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Hr(s,o,Tse(e.Props,t)),a.coreprops.push(o),Pn(t.rels,2,o,un.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Hr(s,o,Dse(e.Props)),a.extprops.push(o),Pn(t.rels,3,o,un.EXT_PROPS),e.Custprops!==e.Props&&ds(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Hr(s,o,Ise(e.Custprops)),a.custprops.push(o),Pn(t.rels,4,o,un.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Hr(s,o,ooe(l-1,t,e,f)),a.sheets.push(o),Pn(t.wbrels,-1,"worksheets/sheet"+l+"."+r,un.WS[0])}if(h){var g=h["!comments"],p=!1,x="";if(g&&g.length>0){var v=!1;g.forEach(function(y){y[1].forEach(function(b){b.T==!0&&(v=!0)})}),v&&(x="xl/threadedComments/threadedComment"+l+"."+r,Hr(s,x,iZe(g,d,t)),a.threadedcomments.push(x),Pn(f,-1,"../threadedComments/threadedComment"+l+"."+r,un.TCMNT)),x="xl/comments"+l+"."+r,Hr(s,x,Qse(g)),a.comments.push(x),Pn(f,-1,"../comments"+l+"."+r,un.CMNT),p=!0}h["!legacy"]&&p&&Hr(s,"xl/drawings/vmlDrawing"+l+".vml",Xse(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Hr(s,Pse(o),ng(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Hr(s,o,qse(t.Strings,t)),a.strs.push(o),Pn(t.wbrels,-1,"sharedStrings."+r,un.SST)),o="xl/workbook."+r,Hr(s,o,uoe(e)),a.workbooks.push(o),Pn(t.rels,1,o,un.WB),o="xl/theme/theme1.xml",Hr(s,o,Kse(e.Themes,t)),a.themes.push(o),Pn(t.wbrels,-1,"theme/theme1.xml",un.THEME),o="xl/styles."+r,Hr(s,o,Hse(e,t)),a.styles.push(o),Pn(t.wbrels,-1,"styles."+r,un.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Hr(s,o,e.vbaraw),a.vba.push(o),Pn(t.wbrels,-1,"vbaProject.bin",un.VBA)),o="xl/metadata."+r,Hr(s,o,Yse()),a.metadata.push(o),Pn(t.wbrels,-1,"metadata."+r,un.XLMETA),d.length>1&&(o="xl/persons/person.xml",Hr(s,o,sZe(d)),a.people.push(o),Pn(t.wbrels,-1,"persons/person.xml",un.PEOPLE)),Hr(s,"[Content_Types].xml",Ese(a,t)),Hr(s,"_rels/.rels",ng(t.rels)),Hr(s,"xl/_rels/workbook."+r+".rels",ng(t.wbrels)),delete t.revssf,delete t.ssf,s}function Trt(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Dd(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function xoe(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Yb(t.file,$n.write(e,{type:hn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return $n.write(e,t)}function Ort(e,t){var r=Ao(t||{}),n=Ert(e,r);return Drt(n,r)}function Drt(e,t){var r={},n=hn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?$n.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(US(a))}return t.password&&typeof encrypt_agile<"u"?xoe(encrypt_agile(a,t.password),t):t.type==="file"?Yb(t.file,a):t.type=="string"?S1(a):a}function Irt(e,t){var r=t||{},n=Xtt(e,r);return xoe(n,r)}function Kc(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return ib(ob(n));case"binary":return ob(n);case"string":return e;case"file":return Yb(t.file,n,"utf8");case"buffer":return hn?zd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Kc(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Frt(e,t){switch(t.type){case"base64":return ib(e);case"binary":return e;case"string":return e;case"file":return Yb(t.file,e,"binary");case"buffer":return hn?zd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Lw(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?ib(r):t.type=="string"?S1(r):r;case"file":return Yb(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function voe(e,t){oYe(),btt(e);var r=Ao(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=voe(e,r);return r.type="array",US(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Kc(Ktt(e,r),r);case"slk":case"sylk":return Kc(pQe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Kc(hoe(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Frt(yoe(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Kc(lD(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Kc(gQe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Lw(mQe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Kc(xQe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Kc(_Qe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Kc(zse.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Kc(goe(e,r),r);case"wk1":return Lw(H9.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Lw(H9.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Lw(foe(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Irt(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Ort(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Rrt(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Mrt(e,t,r){var n={};return n.type="file",n.file=t,Rrt(n),voe(e,n)}function Lrt(e,t,r,n,a,s,o,l){var c=ls(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var g=o?e[r][m]:e[n[m]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[m]!=null){if(p==null)if(g.t=="e"&&p===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&p===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?p:Id(g,p,l);p!=null&&(f=!1)}}return{row:h,isempty:f}}function z5(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=aa(d);break;case"number":c=aa(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=ls(c.s.r),h=[],m=[],g=0,p=0,x=Array.isArray(e),v=c.s.r,y=0,b={};x&&!e[v]&&(e[v]=[]);var j=u.skipHidden&&e["!cols"]||[],_=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(j[y]||{}).hidden)switch(h[y]=ks(y),r=x?e[v][y]:e[h[y]+f],n){case 1:s[y]=y-c.s.c;break;case 2:s[y]=h[y];break;case 3:s[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Id(r,null,u),p=b[o]||0,!p)b[o]=1;else{do l=o+"_"+p++;while(b[l]);b[o]=p,b[l]=1}s[y]=l}for(v=c.s.r+a;v<=c.e.r;++v)if(!(_[v]||{}).hidden){var P=Lrt(e,c,v,h,n,s,x,u);(P.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[g++]=P.row)}return m.length=g,m}var eB=/"/g;function $rt(e,t,r,n,a,s,o,l){for(var c=!0,u=[],d="",f=ls(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:Id(m,null,l));for(var g=0,p=0;g!==d.length;++g)if((p=d.charCodeAt(g))===a||p===s||p===34||l.forceQuotes){d='"'+d.replace(eB,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(eB,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function lD(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=aa(e["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=ks(g));for(var p=0,x=a.s.r;x<=a.e.r;++x)(m[x]||{}).hidden||(d=$rt(e,a,x,f,o,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?l:"")+d)));return delete n.dense,r.join("")}function yoe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=lD(e,t);return r}function Brt(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=aa(e["!ref"]),s="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=ks(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=ls(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function boe(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},o=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Ri(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var f=aa(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(p,x){ds(p).forEach(function(v){(m=h.indexOf(v))==-1&&(h[m=h.length]=v);var y=p[v],b="z",j="",_=Dn({c:l+m,r:o+x+a});u=ub(s,_),y&&typeof y=="object"&&!(y instanceof Date)?s[_]=y:(typeof y=="number"?b="n":typeof y=="boolean"?b="b":typeof y=="string"?b="s":y instanceof Date?(b="d",n.cellDates||(b="n",y=So(y)),j=n.dateNF||ka[14]):y===null&&n.nullError&&(b="e",y=0),u?(u.t=b,u.v=y,delete u.w,delete u.R,j&&(u.z=j)):s[_]=u={t:b,v:y},j&&(u.z=j))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var g=ls(o);if(a)for(m=0;m<h.length;++m)s[ks(m+l)+g]={t:"s",v:h[m]};return s["!ref"]=li(d),s}function zrt(e,t){return boe(null,e,t)}function ub(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Ri(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?ub(e,Dn(t)):ub(e,Dn({r:t,c:r||0}))}function qrt(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Urt(){return{SheetNames:[],Sheets:{}}}function Vrt(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(coe(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Wrt(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=qrt(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Hrt(e,t){return e.z=t,e}function woe(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Grt(e,t,r){return woe(e,"#"+t,r)}function Krt(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Yrt(e,t,r,n){for(var a=typeof t!="string"?t:aa(t),s=typeof t=="string"?t:li(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=ub(e,o,l);c.t="n",c.F=s,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var M3={encode_col:ks,encode_row:ls,encode_cell:Dn,encode_range:li,decode_col:Q6,decode_row:X6,split_cell:oXe,decode_cell:Ri,decode_range:hl,format_cell:Id,sheet_add_aoa:wse,sheet_add_json:boe,sheet_add_dom:moe,aoa_to_sheet:Lx,json_to_sheet:zrt,table_to_sheet:poe,table_to_book:vrt,sheet_to_csv:lD,sheet_to_txt:yoe,sheet_to_json:z5,sheet_to_html:hoe,sheet_to_formulae:Brt,sheet_to_row_object_array:z5,sheet_get_cell:ub,book_new:Urt,book_append_sheet:Vrt,book_set_sheet_visibility:Wrt,cell_set_number_format:Hrt,cell_set_hyperlink:woe,cell_set_internal_link:Grt,cell_add_comment:Krt,sheet_set_array_formula:Yrt,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function Xrt(){var pr;const[e,t]=N.useState(!1),[r,n]=N.useState(!1),[a,s]=N.useState(!1),[o,l]=N.useState(null),[c,u]=N.useState(null),[d,f]=N.useState(null),[h,m]=N.useState(""),[g,p]=N.useState("all"),[x,v]=N.useState("all"),[y,b]=N.useState("all"),[j,_]=N.useState("all"),[P,k]=N.useState(""),[S,E]=N.useState(!1),{toast:M}=Qr(),T=Ya(),{data:C=[],isLoading:I}=ir({queryKey:["/api/devolucoes",{incluirArquivados:S}],refetchInterval:!1}),{data:L=[],isLoading:z}=ir({queryKey:["/api/produtos"]}),{data:G=[],isLoading:W}=ir({queryKey:["/api/vendas"]}),q=rr({mutationFn:async Ve=>(await Pr("POST","/api/devolucoes",Ve)).json(),onSuccess:()=>{T.invalidateQueries({queryKey:["/api/devolucoes"]}),T.invalidateQueries({queryKey:["/api/produtos"]}),M({title:"Devoluo registrada!",description:"A devoluo foi cadastrada com sucesso"}),t(!1),u(null),f(null)},onError:Ve=>{M({title:"Erro",description:Ve.message||"No foi possvel registrar a devoluo",variant:"destructive"})}}),K=rr({mutationFn:async({id:Ve,data:Ot})=>(await Pr("PUT",`/api/devolucoes/${Ve}`,Ot)).json(),onSuccess:()=>{T.invalidateQueries({queryKey:["/api/devolucoes"]}),T.invalidateQueries({queryKey:["/api/produtos"]}),M({title:"Devoluo atualizada!",description:"As informaes foram atualizadas com sucesso"}),t(!1),u(null)},onError:Ve=>{M({title:"Erro",description:Ve.message||"No foi possvel atualizar a devoluo",variant:"destructive"})}}),ae=rr({mutationFn:async Ve=>{const Ot=await Pr("DELETE",`/api/devolucoes/${Ve}`,void 0);if(!Ot.ok)throw new Error("Erro ao deletar devoluo");return Ot.json()},onSuccess:()=>{T.invalidateQueries({queryKey:["/api/devolucoes"]}),M({title:"Devoluo excluda!",description:"A devoluo foi removida do sistema"})},onError:Ve=>{M({title:"Erro",description:Ve.message||"No foi possvel excluir a devoluo",variant:"destructive"})}}),ie=Ve=>{Ve.preventDefault();const Ot=new FormData(Ve.currentTarget);let cr,Wt,Qt,Fn,Kr;if(d){if(Kr=U["item-principal"]||0,!Kr||Kr<=0){M({title:"Erro",description:"Informe a quantidade a devolver (deve ser maior que 0)",variant:"destructive"});return}const Bn=d.quantidade_vendida||0;if(Kr>Bn){M({title:"Erro",description:`Quantidade no pode ser maior que ${Bn} (quantidade vendida)`,variant:"destructive"});return}const va=L.find(Rn=>{var ua;return Rn.nome.toLowerCase()===((ua=d.produto)==null?void 0:ua.toLowerCase())});va?(cr=va.id,Wt=va,Qt=va.nome,Fn=va.preco):(Qt=d.produto||"Produto",Fn=(d.valor_total||0)/(d.quantidade_vendida||1))}else{const Bn=Ot.get("produto_id");if(!Bn){M({title:"Erro",description:"Selecione um produto",variant:"destructive"});return}if(cr=parseInt(Bn),Wt=L.find(Rn=>Rn.id===cr),!Wt){M({title:"Erro",description:"Produto no encontrado",variant:"destructive"});return}Qt=Wt.nome,Fn=Wt.preco;const va=Ot.get("quantidade");if(Kr=parseInt(va),!Kr||Kr<=0){M({title:"Erro",description:"Quantidade invlida",variant:"destructive"});return}}const Vi=Fn*Kr,Wi=localStorage.getItem("user");let ur="Sistema",oo;if(Wi)try{const Bn=JSON.parse(Wi);ur=Bn.nome||"Sistema",oo=Bn.id}catch(Bn){console.error("Erro ao buscar usurio:",Bn)}const Fs={produto_nome:Qt,quantidade:Kr,valor_total:Vi,motivo:Ot.get("motivo"),status:Ot.get("status"),observacoes:Ot.get("observacoes")||null,cliente_nome:Ot.get("cliente_nome")||null,operador_nome:ur,operador_id:oo};cr&&(Fs.produto_id=cr),c?K.mutate({id:c.id,data:Fs}):q.mutate(Fs)},O=Ve=>{u(Ve),t(!0)},V=Ve=>{confirm("Tem certeza que deseja excluir esta devoluo?")&&ae.mutate(Ve)},D=rr({mutationFn:async Ve=>{const Ot=new Date;Ot.setDate(Ot.getDate()-Ve);const cr=C.filter(Qt=>new Date(Qt.data_devolucao)<Ot&&Qt.status!=="arquivada");let Wt=0;for(const Qt of cr)try{await Pr("PUT",`/api/devolucoes/${Qt.id}`,{status:"arquivada"}),Wt++}catch(Fn){console.error(`Erro ao arquivar devoluo ${Qt.id}:`,Fn)}return{archivedCount:Wt}},onSuccess:Ve=>{T.invalidateQueries({queryKey:["/api/devolucoes"]}),M({title:"Histrico arquivado com sucesso!",description:`${Ve.archivedCount} devoluo(es) antiga(s) foram arquivadas.`}),Q(!1)},onError:Ve=>{M({title:"Erro ao arquivar histrico",description:Ve.message||"Tente novamente",variant:"destructive"})}}),[B,Q]=N.useState(!1),[Y,ee]=N.useState(90),X=()=>{confirm(`Tem certeza que deseja arquivar todas as devolues com mais de ${Y} dias? Esta ao no excluir os dados permanentemente.`)&&D.mutate(Y)},[U,me]=N.useState({}),oe=()=>{u(null),f(null),me({}),t(!0)},Se=Ve=>{f(Ve),u(null),me({}),s(!1),t(!0)},_e=Ve=>{l(Ve),n(!0)},se=Ve=>{if(x==="all")return!0;const Ot=new Date,cr=new Date(Ve.data_devolucao);switch(x){case"hoje":return cr.toDateString()===Ot.toDateString();case"semana":const Wt=new Date(Ot);return Wt.setDate(Ot.getDate()-7),cr>=Wt;case"mes":const Qt=new Date(Ot);return Qt.setMonth(Ot.getMonth()-1),cr>=Qt;default:return!0}},ft=C.filter(Ve=>{var Kr;const Ot=Ve.produto_nome.toLowerCase().includes(h.toLowerCase())||((Kr=Ve.cliente_nome)==null?void 0:Kr.toLowerCase().includes(h.toLowerCase())),cr=g==="all"||Ve.status===g,Wt=se(Ve),Qt=y==="all"||Ve.motivo===y;let Fn=!0;if(j!=="all"){const Vi=L.find(Wi=>Wi.id===Ve.produto_id);Fn=(Vi==null?void 0:Vi.categoria)===j}return Ot&&cr&&Wt&&Qt&&Fn}),de=C.length,ce=C.filter(Ve=>Ve.status==="aprovada").length,Ee=C.filter(Ve=>Ve.status==="rejeitada").length,rt=C.filter(Ve=>Ve.status==="aprovada").reduce((Ve,Ot)=>Ve+Ot.valor_total,0),ot=new Date,ge=new Date(ot);ge.setMonth(ot.getMonth()-1);const ke=C.filter(Ve=>new Date(Ve.data_devolucao)>=ge).length,Be=new Date(ot);Be.setMonth(ot.getMonth()-2);const Xe=C.filter(Ve=>{const Ot=new Date(Ve.data_devolucao);return Ot>=Be&&Ot<ge}).length,et=ke>Xe?"up":"down",ct=Xe>0?Math.abs((ke-Xe)/Xe*100).toFixed(1):"0",dt=Ve=>({defeito:"Produto com defeito",insatisfacao:"Insatisfao",vencido:"Produto vencido",errado:"Produto errado",danificado:"Produto danificado",outro:"Outro motivo"})[Ve]||Ve,Nt={};C.forEach(Ve=>{Nt[Ve.motivo]=(Nt[Ve.motivo]||0)+1});const $t=Object.entries(Nt).map(([Ve,Ot])=>({motivo:dt(Ve),quantidade:Ot})),Tt={};C.forEach(Ve=>{Ve.status==="aprovada"&&(Tt[Ve.produto_nome]||(Tt[Ve.produto_nome]={quantidade:0,vezes:0,valor:0}),Tt[Ve.produto_nome].quantidade+=Ve.quantidade,Tt[Ve.produto_nome].vezes+=1,Tt[Ve.produto_nome].valor+=Ve.valor_total)});const rn=Object.entries(Tt).map(([Ve,Ot])=>({nome:Ve,...Ot})).sort((Ve,Ot)=>Ot.quantidade-Ve.quantidade).slice(0,5),Vr=Array.from(new Set(L.map(Ve=>Ve.categoria))),Vt=[];for(let Ve=5;Ve>=0;Ve--){const Ot=new Date;Ot.setMonth(Ot.getMonth()-Ve);const cr=`${Ot.getFullYear()}-${String(Ot.getMonth()+1).padStart(2,"0")}`,Wt=Ot.toLocaleDateString("pt-BR",{month:"short",year:"numeric"}),Qt=C.filter(Fn=>{const Kr=new Date(Fn.data_devolucao);return`${Kr.getFullYear()}-${String(Kr.getMonth()+1).padStart(2,"0")}`===cr});Vt.push({mes:Wt,total:Qt.length,aprovadas:Qt.filter(Fn=>Fn.status==="aprovada").length,rejeitadas:Qt.filter(Fn=>Fn.status==="rejeitada").length,valor:Qt.reduce((Fn,Kr)=>Fn+(Kr.status==="aprovada"?Kr.valor_total:0),0)})}const dr=Ve=>{switch(Ve){case"aprovada":return i.jsxs(It,{className:"bg-green-500 hover:bg-green-600","data-testid":"badge-status-aprovada",children:[i.jsx(km,{className:"h-3 w-3 mr-1"}),"Aprovada"]});case"rejeitada":return i.jsxs(It,{variant:"destructive","data-testid":"badge-status-rejeitada",children:[i.jsx(jc,{className:"h-3 w-3 mr-1"}),"Rejeitada"]});default:return i.jsxs(It,{variant:"secondary","data-testid":"badge-status-pendente",children:[i.jsx(Ys,{className:"h-3 w-3 mr-1"}),"Pendente"]})}},nn=()=>{const Ve=ft.map(Qt=>({Data:im(Qt.data_devolucao),Produto:Qt.produto_nome,Cliente:Qt.cliente_nome||"-",Operador:Qt.operador_nome||"-",Quantidade:Qt.quantidade,"Valor Total":`R$ ${Qt.valor_total.toFixed(2)}`,Motivo:dt(Qt.motivo),Status:Qt.status,Observaes:Qt.observacoes||"-"})),Ot=M3.json_to_sheet(Ve),cr=M3.book_new();M3.book_append_sheet(cr,Ot,"Devolues");const Wt=[{wch:12},{wch:30},{wch:25},{wch:20},{wch:10},{wch:12},{wch:25},{wch:12},{wch:40}];Ot["!cols"]=Wt,Mrt(cr,`Devolucoes_${new Date().toISOString().split("T")[0]}.xlsx`),M({title:"Exportao concluda!",description:"O arquivo Excel foi baixado com sucesso"})},lr=()=>{m(""),p("all"),v("all"),b("all"),_("all")},Dr=h!==""||g!=="all"||x!=="all"||y!=="all"||j!=="all";return I||z?i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent animate-in slide-in-from-left duration-700",children:"Devolues"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie todas as devolues de produtos"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(kr,{open:B,onOpenChange:Q,children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{variant:"outline",className:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white border-0",children:[i.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Limpar Histrico"]})}),i.jsxs(Sr,{children:[i.jsxs(yr,{children:[i.jsxs(br,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(ji,{className:"h-5 w-5"}),"Arquivar Histrico de Devolues"]}),i.jsxs(tn,{children:[i.jsx("strong",{children:"Ateno:"})," Esta ao arquiva devolues antigas (no exclui). Os dados permanecero disponveis para relatrios e anlises futuras."]})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"dias-limpar",children:"Arquivar devolues com mais de quantos dias?"}),i.jsxs(Cr,{value:Y.toString(),onValueChange:Ve=>ee(parseInt(Ve)),children:[i.jsx(Nr,{id:"dias-limpar",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"30",children:"30 dias"}),i.jsx(Je,{value:"60",children:"60 dias"}),i.jsx(Je,{value:"90",children:"90 dias (recomendado)"}),i.jsx(Je,{value:"180",children:"180 dias (6 meses)"}),i.jsx(Je,{value:"365",children:"365 dias (1 ano)"})]})]})]}),i.jsxs($i,{className:"bg-yellow-50 border-yellow-200",children:[i.jsx(ji,{className:"h-4 w-4 text-yellow-600"}),i.jsx(wo,{className:"text-yellow-800",children:"Ateno"}),i.jsxs(Bi,{className:"text-yellow-700 text-sm",children:["Esta ao ir arquivar ",C.filter(Ve=>{const Ot=new Date(Ve.data_devolucao),cr=new Date;return cr.setDate(cr.getDate()-Y),Ot<cr}).length," devoluo(es) com mais de ",Y," dias. Os dados originais no sero perdidos."]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(ye,{variant:"outline",onClick:()=>Q(!1),children:"Cancelar"}),i.jsx(ye,{variant:"destructive",onClick:X,disabled:D.isPending,children:D.isPending?"Arquivando...":"Confirmar Arquivamento"})]})]})]}),i.jsxs(ye,{variant:"outline",onClick:nn,className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white border-0",children:[i.jsx(che,{className:"h-4 w-4 mr-2"}),"Exportar Excel"]}),i.jsxs(kr,{open:a,onOpenChange:s,children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{variant:"outline",className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white border-0",children:[i.jsx(ss,{className:"h-4 w-4 mr-2"}),"Devolver Venda"]})}),i.jsxs(Sr,{className:"sm:max-w-[800px] max-h-[80vh] overflow-y-auto",children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Selecionar Venda para Devoluo"}),i.jsx(tn,{children:"Escolha uma venda para criar a devoluo automaticamente"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{placeholder:"Buscar por produto...",value:P,onChange:Ve=>k(Ve.target.value),className:"pl-9"})]}),i.jsx("div",{className:"border rounded-md max-h-[400px] overflow-y-auto",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Data"}),i.jsx(Me,{children:"Produto(s)"}),i.jsx(Me,{className:"text-center",children:"Qtd"}),i.jsx(Me,{className:"text-right",children:"Valor"}),i.jsx(Me,{className:"text-center",children:"Ao"})]})}),i.jsx(gn,{children:G.filter(Ve=>{var Ot;return!P||((Ot=Ve.produto)==null?void 0:Ot.toLowerCase().includes(P.toLowerCase()))}).sort((Ve,Ot)=>new Date(Ot.data).getTime()-new Date(Ve.data).getTime()).slice(0,50).map(Ve=>i.jsxs(Bt,{children:[i.jsx(Ie,{className:"text-sm",children:im(Ve.data)}),i.jsx(Ie,{className:"text-sm",children:Ve.produto||"N/A"}),i.jsx(Ie,{className:"text-center text-sm",children:Ve.quantidade_vendida||0}),i.jsxs(Ie,{className:"text-right text-sm font-semibold",children:["R$ ",(Ve.valor_total||0).toFixed(2)]}),i.jsx(Ie,{className:"text-center",children:i.jsxs(ye,{size:"sm",onClick:()=>Se(Ve),className:"h-8",children:[i.jsx(JC,{className:"h-3 w-3 mr-1"}),"Devolver"]})})]},Ve.id))})]})})]})]})]}),i.jsxs(kr,{open:e,onOpenChange:t,children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{onClick:oe,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700","data-testid":"button-new-devolucao",children:[i.jsx(zl,{className:"h-4 w-4 mr-2"}),"Nova Devoluo"]})}),i.jsxs(Sr,{className:"sm:max-w-[500px]",children:[i.jsxs(yr,{children:[i.jsx(br,{children:c?"Editar Devoluo":d?"Devolver Venda":"Nova Devoluo"}),i.jsx(tn,{children:c?"Atualize as informaes da devoluo":d?"Preencha os dados para devolver esta venda":"Preencha os dados para registrar uma nova devoluo"})]}),d&&i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg border border-blue-200 dark:border-blue-800 space-y-3",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100",children:["Devoluo de Venda #",d.id]}),i.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:["Data: ",im(d.data)]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Selecione os itens para devolver:"}),i.jsxs("div",{className:"bg-white dark:bg-blue-900 rounded-md border border-blue-200 dark:border-blue-700 p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between pb-2 border-b",children:[i.jsx("span",{className:"text-xs font-medium text-blue-900 dark:text-blue-100",children:d.produto||"Produto"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(De,{htmlFor:"qtd-devolver",className:"text-xs text-blue-700 dark:text-blue-300",children:"Qtd a devolver:"}),i.jsx(Ze,{id:"qtd-devolver",type:"number",min:"0",max:d.quantidade_vendida||1,value:U["item-principal"]||0,onChange:Ve=>{const Ot=parseInt(Ve.target.value);if(!isNaN(Ot)&&Ot>=0){const cr=d.quantidade_vendida||1;me({"item-principal":Math.min(Math.max(0,Ot),cr)})}},className:"w-20 h-8 text-center",placeholder:"0"}),i.jsxs("span",{className:"text-xs text-blue-700 dark:text-blue-300",children:["de ",d.quantidade_vendida||1]})]})]}),i.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["Valor unitrio: R$ ",((d.valor_total||0)/(d.quantidade_vendida||1)).toFixed(2)]}),U["item-principal"]&&U["item-principal"]>0?i.jsxs("p",{className:"text-xs font-semibold text-blue-900 dark:text-blue-100 pt-1 border-t",children:["Valor a devolver: R$ ",((d.valor_total||0)/(d.quantidade_vendida||1)*U["item-principal"]).toFixed(2)]}):i.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 pt-1 border-t flex items-center gap-1",children:[i.jsx(ji,{className:"h-3 w-3"}),"Informe a quantidade para devolver (maior que 0)"]})]})]})]}),i.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[!d&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"produto_id",children:"Produto *"}),i.jsxs(Cr,{name:"produto_id",defaultValue:(pr=c==null?void 0:c.produto_id)==null?void 0:pr.toString(),required:!0,children:[i.jsx(Nr,{"data-testid":"select-produto",children:i.jsx(Er,{placeholder:"Selecione o produto"})}),i.jsx(_r,{children:L.map(Ve=>i.jsxs(Je,{value:Ve.id.toString(),children:[Ve.nome," - R$ ",Ve.preco.toFixed(2)]},Ve.id))})]})]}),d&&i.jsx("input",{type:"hidden",name:"venda_id",value:d.id}),!d&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"quantidade",children:"Quantidade *"}),i.jsx(Ze,{id:"quantidade",name:"quantidade",type:"number",min:"1",defaultValue:(c==null?void 0:c.quantidade)||1,required:!0,"data-testid":"input-quantidade"})]}),d&&i.jsx("input",{type:"hidden",name:"quantidade",value:U["item-principal"]||0}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"cliente_nome",children:"Nome do Cliente"}),i.jsx(Ze,{id:"cliente_nome",name:"cliente_nome",defaultValue:(c==null?void 0:c.cliente_nome)||"","data-testid":"input-cliente-nome"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"motivo",children:"Motivo *"}),i.jsxs(Cr,{name:"motivo",defaultValue:(c==null?void 0:c.motivo)||"defeito",required:!0,children:[i.jsx(Nr,{"data-testid":"select-motivo",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"defeito",children:"Produto com defeito"}),i.jsx(Je,{value:"insatisfacao",children:"Insatisfao com o produto"}),i.jsx(Je,{value:"vencido",children:"Produto vencido"}),i.jsx(Je,{value:"errado",children:"Produto errado"}),i.jsx(Je,{value:"danificado",children:"Produto danificado"}),i.jsx(Je,{value:"outro",children:"Outro motivo"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"status",children:"Status *"}),i.jsxs(Cr,{name:"status",defaultValue:(c==null?void 0:c.status)||"pendente",required:!0,children:[i.jsx(Nr,{"data-testid":"select-status",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"pendente",children:"Pendente"}),i.jsx(Je,{value:"aprovada",children:"Aprovada"}),i.jsx(Je,{value:"rejeitada",children:"Rejeitada"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"observacoes",children:"Observaes"}),i.jsx(Es,{id:"observacoes",name:"observacoes",rows:3,defaultValue:(c==null?void 0:c.observacoes)||"",placeholder:"Adicione observaes adicionais...","data-testid":"textarea-observacoes"})]}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(ye,{type:"button",variant:"outline",onClick:()=>{t(!1),u(null),f(null),me({})},"data-testid":"button-cancel",children:"Cancelar"}),i.jsx(ye,{type:"submit",disabled:q.isPending||K.isPending||d&&(!U["item-principal"]||U["item-principal"]<=0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700","data-testid":"button-save",children:q.isPending||K.isPending?"Salvando...":c?"Atualizar":"Cadastrar Devoluo"}),d&&(!U["item-principal"]||U["item-principal"]<=0)&&i.jsx("p",{className:"text-xs text-red-600 text-center w-full mt-2",children:" Informe a quantidade a devolver (deve ser maior que 0)"})]})]})]})]})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(Ae,{className:"border-0 bg-gradient-to-br from-blue-500/10 via-blue-500/5 to-transparent hover:shadow-lg transition-shadow",children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:"Total de Devolues"}),i.jsx(XC,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(Pe,{children:[i.jsx("div",{className:"text-2xl font-bold text-foreground","data-testid":"text-total-devolucoes",children:de}),i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[et==="up"?i.jsx(Ci,{className:"h-3 w-3 text-red-500"}):i.jsx(gp,{className:"h-3 w-3 text-green-500"}),i.jsxs("p",{className:ht("text-xs font-medium",et==="up"?"text-red-500":"text-green-500"),children:[ct,"% vs ms anterior"]})]})]})]}),i.jsxs(Ae,{className:"border-0 bg-gradient-to-br from-green-500/10 via-green-500/5 to-transparent hover:shadow-lg transition-shadow",children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:"Devolues Aprovadas"}),i.jsx(km,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(Pe,{children:[i.jsx("div",{className:"text-2xl font-bold text-foreground","data-testid":"text-devolucoes-aprovadas",children:ce}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[de>0?Math.round(ce/de*100):0,"% do total"]})]})]}),i.jsxs(Ae,{className:"border-0 bg-gradient-to-br from-red-500/10 via-red-500/5 to-transparent hover:shadow-lg transition-shadow",children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:"Devolues Rejeitadas"}),i.jsx(jc,{className:"h-4 w-4 text-red-600"})]}),i.jsxs(Pe,{children:[i.jsx("div",{className:"text-2xl font-bold text-foreground","data-testid":"text-devolucoes-rejeitadas",children:Ee}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[de>0?Math.round(Ee/de*100):0,"% do total"]})]})]}),i.jsxs(Ae,{className:"border-0 bg-gradient-to-br from-purple-500/10 via-purple-500/5 to-transparent hover:shadow-lg transition-shadow",children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:"Valor Total Devolvido"}),i.jsx(Ga,{className:"h-4 w-4 text-purple-600"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"text-2xl font-bold text-foreground","data-testid":"text-valor-devolvido",children:["R$ ",rt.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Devolues aprovadas"})]})]})]}),i.jsxs($i,{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/20 dark:to-orange-950/20 border-amber-200 dark:border-amber-800",children:[i.jsx(ji,{className:"h-4 w-4 text-amber-600"}),i.jsx(wo,{className:"text-amber-800 dark:text-amber-300",children:" Importante: Impacto no Caixa"}),i.jsxs(Bi,{className:"text-amber-700 dark:text-amber-400 text-sm",children:["Devolues ",i.jsx("strong",{children:"aprovadas"})," so automaticamente descontadas do total de vendas do caixa aberto. Certifique-se de que h caixa aberto ao aprovar uma devoluo para manter o controle financeiro preciso."]})]}),C.length>50&&i.jsxs($i,{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20 border-blue-200 dark:border-blue-800",children:[i.jsx(ji,{className:"h-4 w-4 text-blue-600"}),i.jsx(wo,{className:"text-blue-800 dark:text-blue-300",children:"Dica: Otimize o Desempenho do Sistema"}),i.jsxs(Bi,{className:"text-blue-700 dark:text-blue-400 text-sm",children:["Voc tem ",C.length,' devolues registradas. Para manter o sistema rpido e eficiente, considere arquivar devolues antigas usando o boto "Limpar Histrico" acima ou configure a limpeza automtica em ',i.jsx("strong",{children:"Configuraes"}),"."]})]}),rn.length>0&&i.jsxs(Ae,{className:"border-0 bg-gradient-to-br from-amber-500/10 via-amber-500/5 to-transparent backdrop-blur-sm",children:[i.jsxs(qe,{children:[i.jsxs(Ue,{className:"text-lg flex items-center gap-2",children:[i.jsx(ji,{className:"h-5 w-5 text-amber-600"}),"Produtos Mais Devolvidos"]}),i.jsx(Ht,{children:"Top 5 produtos com mais devolues aprovadas"})]}),i.jsx(Pe,{children:i.jsx("div",{className:"space-y-3",children:rn.map((Ve,Ot)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-card/50 border",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-amber-700 dark:text-amber-300",children:Ot+1})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-sm truncate",children:Ve.nome}),i.jsxs("div",{className:"flex gap-3 text-xs text-muted-foreground mt-1",children:[i.jsxs("span",{children:[Ve.quantidade," un. devolvidas"]}),i.jsx("span",{children:""}),i.jsxs("span",{children:[Ve.vezes,"x devolvido"]}),i.jsx("span",{children:""}),i.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium",children:["-R$ ",Ve.valor.toFixed(2)]})]})]})]},Ve.nome))})})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs(Ae,{className:"border-0 bg-card/50 backdrop-blur-sm",children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"text-lg",children:"Devolues por Motivo"}),i.jsx(Ht,{children:"Distribuio das causas de devoluo"})]}),i.jsx(Pe,{children:i.jsx(fc,{width:"100%",height:300,children:i.jsxs(bm,{data:$t,children:[i.jsx(el,{strokeDasharray:"3 3",className:"stroke-muted"}),i.jsx(rs,{dataKey:"motivo",className:"text-xs",angle:-45,textAnchor:"end",height:100}),i.jsx(ns,{className:"text-xs"}),i.jsx(ts,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),i.jsx(nl,{dataKey:"quantidade",fill:"#6366f1",radius:[8,8,0,0]})]})})})]}),i.jsxs(Ae,{className:"border-0 bg-card/50 backdrop-blur-sm",children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"text-lg",children:"Tendncia Mensal"}),i.jsx(Ht,{children:"Evoluo das devolues nos ltimos 6 meses"})]}),i.jsx(Pe,{children:i.jsx(fc,{width:"100%",height:300,children:i.jsxs(kS,{data:Vt,children:[i.jsx(el,{strokeDasharray:"3 3",className:"stroke-muted"}),i.jsx(rs,{dataKey:"mes",className:"text-xs"}),i.jsx(ns,{className:"text-xs"}),i.jsx(ts,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),i.jsx(hd,{}),i.jsx(dl,{type:"monotone",dataKey:"total",stroke:"#6366f1",strokeWidth:2,name:"Total"}),i.jsx(dl,{type:"monotone",dataKey:"aprovadas",stroke:"#22c55e",strokeWidth:2,name:"Aprovadas"}),i.jsx(dl,{type:"monotone",dataKey:"rejeitadas",stroke:"#ef4444",strokeWidth:2,name:"Rejeitadas"})]})})})]})]}),i.jsxs(Ae,{className:"border-0 bg-card/50 backdrop-blur-sm",children:[i.jsxs(qe,{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ue,{children:"Listagem de Devolues"}),i.jsx(Ht,{children:"Visualize e gerencie todas as devolues de produtos"})]}),i.jsxs("div",{className:"flex gap-2 w-full sm:w-auto flex-wrap",children:[i.jsxs("div",{className:"relative flex-1 sm:flex-initial",children:[i.jsx(Ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{placeholder:"Buscar por produto ou cliente...",value:h,onChange:Ve=>m(Ve.target.value),className:"pl-9 w-full sm:w-[250px]","data-testid":"input-search"})]}),i.jsxs(Cr,{value:g,onValueChange:p,children:[i.jsx(Nr,{className:"w-[140px]","data-testid":"select-filter-status",children:i.jsx(Er,{placeholder:"Status"})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todos Status"}),i.jsx(Je,{value:"pendente",children:"Pendente"}),i.jsx(Je,{value:"aprovada",children:"Aprovada"}),i.jsx(Je,{value:"rejeitada",children:"Rejeitada"})]})]}),i.jsxs(Cr,{value:y,onValueChange:b,children:[i.jsx(Nr,{className:"w-[140px]",children:i.jsx(Er,{placeholder:"Motivo"})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todos Motivos"}),i.jsx(Je,{value:"defeito",children:"Defeito"}),i.jsx(Je,{value:"insatisfacao",children:"Insatisfao"}),i.jsx(Je,{value:"vencido",children:"Vencido"}),i.jsx(Je,{value:"errado",children:"Errado"}),i.jsx(Je,{value:"danificado",children:"Danificado"}),i.jsx(Je,{value:"outro",children:"Outro"})]})]}),i.jsxs(Cr,{value:j,onValueChange:_,children:[i.jsx(Nr,{className:"w-[140px]",children:i.jsx(Er,{placeholder:"Categoria"})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todas Categorias"}),Vr.map(Ve=>i.jsx(Je,{value:Ve,children:Ve},Ve))]})]}),i.jsxs(Cr,{value:x,onValueChange:v,children:[i.jsx(Nr,{className:"w-[140px]","data-testid":"select-filter-periodo",children:i.jsx(Er,{placeholder:"Perodo"})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"all",children:"Todos Perodos"}),i.jsx(Je,{value:"hoje",children:"Hoje"}),i.jsx(Je,{value:"semana",children:"ltima Semana"}),i.jsx(Je,{value:"mes",children:"ltimo Ms"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 border rounded-md px-3 py-2",children:[i.jsx(K1,{className:"h-4 w-4 text-muted-foreground"}),i.jsx(De,{htmlFor:"mostrar-arquivados",className:"cursor-pointer text-sm whitespace-nowrap",children:"Arquivados"}),i.jsx(po,{id:"mostrar-arquivados",checked:S,onCheckedChange:E,"data-testid":"switch-arquivados"})]})]})]}),Dr&&i.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[h&&i.jsxs(It,{variant:"outline",className:"gap-1",children:["Busca: ",h,i.jsx(Zu,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>m("")})]}),g!=="all"&&i.jsxs(It,{variant:"outline",className:"gap-1",children:["Status: ",g,i.jsx(Zu,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>p("all")})]}),y!=="all"&&i.jsxs(It,{variant:"outline",className:"gap-1",children:["Motivo: ",dt(y),i.jsx(Zu,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>b("all")})]}),j!=="all"&&i.jsxs(It,{variant:"outline",className:"gap-1",children:["Categoria: ",j,i.jsx(Zu,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>_("all")})]}),x!=="all"&&i.jsxs(It,{variant:"outline",className:"gap-1",children:["Perodo: ",x,i.jsx(Zu,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>v("all")})]}),i.jsxs(ye,{variant:"ghost",size:"sm",onClick:lr,className:"h-6 px-2 text-xs",children:[i.jsx(TT,{className:"h-3 w-3 mr-1"}),"Limpar filtros"]})]})]}),i.jsx(Pe,{children:ft.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(XC,{className:"mx-auto h-12 w-12 text-muted-foreground opacity-50"}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:Dr?"Nenhuma devoluo encontrada com os filtros aplicados":"Nenhuma devoluo registrada ainda"})]}):i.jsx("div",{className:"rounded-md border overflow-x-auto",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{children:[i.jsx(Me,{children:"Data"}),i.jsx(Me,{children:"Produto"}),i.jsx(Me,{children:"Cliente"}),i.jsx(Me,{children:"Operador"}),i.jsx(Me,{children:"Quantidade"}),i.jsx(Me,{children:"Valor"}),i.jsx(Me,{children:"Motivo"}),i.jsx(Me,{children:"Status"}),i.jsx(Me,{className:"text-right",children:"Aes"})]})}),i.jsx(gn,{children:ft.map(Ve=>i.jsxs(Bt,{"data-testid":`row-devolucao-${Ve.id}`,className:"hover:bg-muted/50 transition-colors",children:[i.jsx(Ie,{className:"font-medium","data-testid":`text-data-${Ve.id}`,children:im(Ve.data_devolucao)}),i.jsx(Ie,{"data-testid":`text-produto-${Ve.id}`,children:Ve.produto_nome}),i.jsx(Ie,{"data-testid":`text-cliente-${Ve.id}`,children:Ve.cliente_nome||"-"}),i.jsx(Ie,{"data-testid":`text-operador-${Ve.id}`,children:Ve.operador_nome||"Sistema"}),i.jsx(Ie,{"data-testid":`text-quantidade-${Ve.id}`,children:Ve.quantidade}),i.jsxs(Ie,{"data-testid":`text-valor-${Ve.id}`,children:["R$ ",Ve.valor_total.toFixed(2)]}),i.jsx(Ie,{"data-testid":`text-motivo-${Ve.id}`,children:i.jsx("span",{className:"text-sm",children:dt(Ve.motivo)})}),i.jsx(Ie,{children:dr(Ve.status)}),i.jsx(Ie,{className:"text-right",children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(ye,{size:"icon",variant:"outline",onClick:()=>_e(Ve),"data-testid":`button-view-${Ve.id}`,className:"h-8 w-8",title:"Ver detalhes",children:i.jsx(Ps,{className:"h-4 w-4"})}),i.jsx(ye,{size:"icon",variant:"outline",onClick:()=>O(Ve),"data-testid":`button-edit-${Ve.id}`,className:"h-8 w-8",title:"Editar",children:i.jsx(Q1,{className:"h-4 w-4"})}),i.jsx(ye,{size:"icon",variant:"outline",onClick:()=>V(Ve.id),"data-testid":`button-delete-${Ve.id}`,className:"h-8 w-8 hover:bg-destructive/10 hover:text-destructive",title:"Excluir",children:i.jsx(Ei,{className:"h-4 w-4"})})]})})]},Ve.id))})]})})})]}),i.jsx(kr,{open:r,onOpenChange:n,children:i.jsxs(Sr,{className:"sm:max-w-[600px]",children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Detalhes da Devoluo"}),i.jsx(tn,{children:"Informaes completas da devoluo"})]}),o&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"text-muted-foreground",children:"Data da Devoluo"}),i.jsx("p",{className:"font-medium",children:im(o.data_devolucao)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"text-muted-foreground",children:"Status"}),i.jsx("div",{children:dr(o.status)})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"text-muted-foreground",children:"Produto"}),i.jsx("p",{className:"font-medium text-lg",children:o.produto_nome})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"text-muted-foreground",children:"Quantidade"}),i.jsxs("p",{className:"font-medium",children:[o.quantidade," unidades"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"text-muted-foreground",children:"Valor Total"}),i.jsxs("p",{className:"font-medium text-lg",children:["R$ ",o.valor_total.toFixed(2)]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"text-muted-foreground",children:"Cliente"}),i.jsx("p",{className:"font-medium",children:o.cliente_nome||"No informado"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"text-muted-foreground",children:"Operador"}),i.jsx("p",{className:"font-medium",children:o.operador_nome||"Sistema"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"text-muted-foreground",children:"Motivo"}),i.jsx("p",{className:"font-medium",children:dt(o.motivo)})]}),o.observacoes&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{className:"text-muted-foreground",children:"Observaes"}),i.jsx("p",{className:"text-sm bg-muted p-3 rounded-md",children:o.observacoes})]}),i.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[i.jsx(ye,{variant:"outline",onClick:()=>n(!1),children:"Fechar"}),i.jsxs(ye,{onClick:()=>{n(!1),O(o)},className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[i.jsx(Q1,{className:"h-4 w-4 mr-2"}),"Editar"]})]})]})]})})]})}function Qrt(){const{toast:e}=Qr(),t=Ya(),[r,n]=N.useState(!1),[a,s]=N.useState(!1),[o,l]=N.useState(null),[c,u]=N.useState(!1),[d,f]=N.useState(null),[h,m]=N.useState({cliente_nome:"",cliente_email:"",cliente_telefone:"",validade:"",observacoes:""}),[g,p]=N.useState([]),[x,v]=N.useState(""),[y,b]=N.useState(""),[j,_]=N.useState(!1),{data:P=[],isLoading:k}=ir({queryKey:["/api/orcamentos",{incluirArquivados:j}]}),{data:S=[]}=ir({queryKey:["/api/produtos"]}),{data:E=[]}=ir({queryKey:["/api/clientes"]}),M=N.useMemo(()=>x.trim()?S.filter(de=>de.nome.toLowerCase().includes(x.toLowerCase())):S,[S,x]),T=N.useMemo(()=>y.trim()?P.filter(de=>de.numero.toLowerCase().includes(y.toLowerCase())||de.cliente_nome.toLowerCase().includes(y.toLowerCase())||de.cliente_email&&de.cliente_email.toLowerCase().includes(y.toLowerCase())):P,[P,y]),C=N.useMemo(()=>{const de=P.filter(Xe=>Xe.status==="pendente").length,ce=P.filter(Xe=>Xe.status==="aprovado").length,Ee=P.filter(Xe=>Xe.status==="rejeitado").length,rt=P.filter(Xe=>Xe.status==="convertido").length,ot=P.reduce((Xe,et)=>Xe+et.valor_total,0),ge=P.filter(Xe=>Xe.status==="pendente").reduce((Xe,et)=>Xe+et.valor_total,0),ke=P.filter(Xe=>Xe.status==="aprovado").reduce((Xe,et)=>Xe+et.valor_total,0),Be=P.filter(Xe=>Xe.status==="convertido").reduce((Xe,et)=>Xe+et.valor_total,0);return{statusChart:[{name:"Pendente",value:de,color:"#eab308"},{name:"Aprovado",value:ce,color:"#22c55e"},{name:"Rejeitado",value:Ee,color:"#ef4444"},{name:"Convertido",value:rt,color:"#3b82f6"}].filter(Xe=>Xe.value>0),valorChart:[{status:"Pendente",valor:ge},{status:"Aprovado",valor:ke},{status:"Convertido",valor:Be}].filter(Xe=>Xe.valor>0),total:P.length,totalValor:ot,valorPendentes:ge,valorAprovados:ke,valorConvertidos:Be}},[P]),I=rr({mutationFn:async de=>c&&d?(await oa("PUT",`/api/orcamentos/${d.id}`,de)).json():(await oa("POST","/api/orcamentos",de)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/orcamentos"]}),e({title:c?" Oramento atualizado com sucesso!":" Oramento criado com sucesso!"}),n(!1),X(),u(!1),f(null)},onError:de=>{e({title:c?" Erro ao atualizar oramento":" Erro ao criar oramento",description:de.message||"Tente novamente",variant:"destructive"})}}),L=de=>{u(!0),f(de),m({cliente_nome:de.cliente_nome||"",cliente_email:de.cliente_email||"",cliente_telefone:de.cliente_telefone||"",validade:de.validade||"",observacoes:de.observacoes||""});const ce=Array.isArray(de.itens)?de.itens:[];p(ce.map(Ee=>({produto_id:Ee.produto_id,nome:Ee.nome,preco:Ee.preco,quantidade:Ee.quantidade}))),de.cliente_id&&oe(de.cliente_id),n(!0)},z=rr({mutationFn:async({id:de,status:ce})=>(await oa("PUT",`/api/orcamentos/${de}`,{status:ce})).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/orcamentos"]}),e({title:" Status atualizado com sucesso!"})},onError:()=>{e({title:" Erro ao atualizar status",variant:"destructive"})}}),[G,W]=N.useState(!1),[q,K]=N.useState(null),[ae,ie]=N.useState("dinheiro"),O=rr({mutationFn:async({id:de,forma_pagamento:ce})=>{const Ee=await oa("POST",`/api/orcamentos/${de}/converter-venda`,{forma_pagamento:ce});if(!Ee.ok)throw await Ee.json();return Ee.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/orcamentos"]}),t.invalidateQueries({queryKey:["/api/vendas"]}),t.invalidateQueries({queryKey:["/api/produtos"]}),t.invalidateQueries({queryKey:["/api/devolucoes"]}),t.invalidateQueries({queryKey:["/api/reports/expiring"]}),t.invalidateQueries({queryKey:["/api/caixas/aberto"]}),t.invalidateQueries({queryKey:["/api/clientes"]}),e({title:" Oramento convertido em venda com sucesso!"}),W(!1),ie("dinheiro"),K(null)},onError:de=>{let ce=de.error||de.message||"Tente novamente";de.detalhes&&Array.isArray(de.detalhes)&&(ce=i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"font-semibold",children:de.error||"Estoque insuficiente"}),i.jsx("div",{className:"text-sm space-y-1",children:de.detalhes.map((Ee,rt)=>i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-500",children:""}),i.jsx("span",{children:Ee})]},rt))})]})),e({title:" No  possvel converter este oramento",description:ce,variant:"destructive",duration:6e3})}}),V=de=>{K(de),W(!0)},D=()=>{q&&O.mutate({id:q,forma_pagamento:ae})},B=rr({mutationFn:async de=>(await oa("DELETE",`/api/orcamentos/${de}`,{})).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/orcamentos"]}),e({title:" Oramento excludo com sucesso!"})},onError:()=>{e({title:" Erro ao excluir oramento",variant:"destructive"})}}),Q=de=>{const ce=S.find(rt=>rt.id===de);if(!ce)return;const Ee=g.find(rt=>rt.produto_id===de);p(Ee?g.map(rt=>rt.produto_id===de?{...rt,quantidade:rt.quantidade+1}:rt):[...g,{produto_id:de,nome:ce.nome,preco:ce.preco,quantidade:1}])},Y=de=>{p(g.filter(ce=>ce.produto_id!==de))},ee=()=>g.reduce((de,ce)=>de+ce.preco*ce.quantidade,0),X=()=>{m({cliente_nome:"",cliente_email:"",cliente_telefone:"",validade:"",observacoes:""}),p([]),oe(null),u(!1),f(null),v("")},U=()=>{if(!h.cliente_nome.trim()){e({title:" Nome do cliente  obrigatrio",variant:"destructive"});return}if(g.length===0){e({title:" Adicione pelo menos um produto",variant:"destructive"});return}const de=ee();I.mutate({cliente_id:me||void 0,cliente_nome:h.cliente_nome,cliente_email:h.cliente_email||"",cliente_telefone:h.cliente_telefone||"",validade:h.validade||null,observacoes:h.observacoes||null,itens:g,subtotal:de,desconto:0,valor_total:de})},[me,oe]=N.useState(null),Se=de=>{const ce=E.find(Ee=>Ee.id===parseInt(de));ce&&(oe(ce.id),m({...h,cliente_nome:ce.nome,cliente_email:ce.email||"",cliente_telefone:ce.telefone||""}))},_e=de=>{l(de),s(!0)},se=de=>{const ce=window.open("","_blank");if(!ce)return;const Ee=Array.isArray(de.itens)?de.itens:[];ce.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Oramento ${de.numero}</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; }
            .header { text-align: center; margin-bottom: 40px; border-bottom: 3px solid #3b82f6; padding-bottom: 20px; }
            .header h1 { color: #1e40af; margin: 0; font-size: 28px; }
            .header p { color: #6b7280; margin: 5px 0; }
            .info-section { margin: 30px 0; }
            .info-section h2 { color: #1e40af; font-size: 18px; margin-bottom: 15px; border-left: 4px solid #3b82f6; padding-left: 10px; }
            .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
            .info-item { margin-bottom: 10px; }
            .info-label { font-weight: bold; color: #4b5563; display: block; margin-bottom: 3px; font-size: 12px; text-transform: uppercase; }
            .info-value { color: #1f2937; font-size: 14px; }
            table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            th, td { padding: 12px; text-align: left; border-bottom: 1px solid #e5e7eb; }
            th { background-color: #f3f4f6; color: #1f2937; font-weight: 600; text-transform: uppercase; font-size: 12px; }
            td { color: #4b5563; }
            .text-right { text-align: right; }
            .total-section { margin-top: 30px; text-align: right; }
            .total-row { display: flex; justify-content: flex-end; margin: 10px 0; }
            .total-label { font-weight: 600; margin-right: 20px; min-width: 100px; }
            .total-value { font-size: 18px; }
            .grand-total { font-size: 24px; color: #1e40af; font-weight: bold; border-top: 2px solid #3b82f6; padding-top: 15px; margin-top: 15px; }
            .observacoes { background-color: #f9fafb; padding: 20px; border-radius: 8px; margin-top: 30px; }
            .observacoes h3 { color: #1e40af; margin-top: 0; }
            .footer { margin-top: 50px; text-align: center; color: #9ca3af; font-size: 12px; border-top: 1px solid #e5e7eb; padding-top: 20px; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>ORAMENTO</h1>
            <p>${de.numero}</p>
          </div>

          <div class="info-section">
            <h2>Informaes do Cliente</h2>
            <div class="info-grid">
              <div class="info-item">
                <span class="info-label">Nome</span>
                <span class="info-value">${de.cliente_nome||"No informado"}</span>
              </div>
              ${de.cliente_email?`
                <div class="info-item">
                  <span class="info-label">Email</span>
                  <span class="info-value">${de.cliente_email}</span>
                </div>
              `:""}
              ${de.cliente_telefone?`
                <div class="info-item">
                  <span class="info-label">Telefone</span>
                  <span class="info-value">${de.cliente_telefone}</span>
                </div>
              `:""}
              <div class="info-item">
                <span class="info-label">Data de Emisso</span>
                <span class="info-value">${de.data_criacao&&!isNaN(new Date(de.data_criacao).getTime())?Ea(new Date(de.data_criacao),"dd/MM/yyyy",{locale:Va}):"-"}</span>
              </div>
              ${de.validade&&!isNaN(new Date(de.validade).getTime())?`
                <div class="info-item">
                  <span class="info-label">Validade</span>
                  <span class="info-value">${Ea(new Date(de.validade),"dd/MM/yyyy",{locale:Va})}</span>
                </div>
              `:""}
            </div>
          </div>

          <div class="info-section">
            <h2>Itens do Oramento</h2>
            <table>
              <thead>
                <tr>
                  <th>Produto</th>
                  <th class="text-right">Qtd.</th>
                  <th class="text-right">Preo Unit.</th>
                  <th class="text-right">Total</th>
                </tr>
              </thead>
              <tbody>
                ${Ee.map(rt=>`
                  <tr>
                    <td>${rt.nome}</td>
                    <td class="text-right">${rt.quantidade}</td>
                    <td class="text-right">R$ ${rt.preco.toFixed(2)}</td>
                    <td class="text-right">R$ ${(rt.preco*rt.quantidade).toFixed(2)}</td>
                  </tr>
                `).join("")}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span class="total-value">R$ ${de.subtotal.toFixed(2)}</span>
            </div>
            ${de.desconto&&de.desconto>0?`
              <div class="total-row">
                <span class="total-label">Desconto:</span>
                <span class="total-value">R$ ${de.desconto.toFixed(2)}</span>
              </div>
            `:""}
            <div class="total-row grand-total">
              <span class="total-label">TOTAL:</span>
              <span class="total-value">R$ ${de.valor_total.toFixed(2)}</span>
            </div>
          </div>

          ${de.observacoes?`
            <div class="observacoes">
              <h3>Observaes</h3>
              <p>${de.observacoes}</p>
            </div>
          `:""}

          <div class="footer">
            <p>Este oramento foi gerado automaticamente pelo sistema</p>
            <p>Emitido em ${new Date().toLocaleDateString("pt-BR")} s ${new Date().toLocaleTimeString("pt-BR")}</p>
          </div>

          <script>window.print();<\/script>
        </body>
      </html>
    `),ce.document.close()},ft=de=>{const ce={pendente:i.jsx(It,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:"Pendente"}),aprovado:i.jsx(It,{className:"bg-green-50 text-green-700 border-green-200 border",children:"Aprovado"}),rejeitado:i.jsx(It,{className:"bg-red-50 text-red-700 border-red-200 border",children:"Rejeitado"}),convertido:i.jsx(It,{className:"bg-blue-50 text-blue-700 border-blue-200 border",children:"Convertido"})};return ce[de]||ce.pendente};return k?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"text-lg text-muted-foreground",children:"Carregando oramentos..."})}):i.jsxs("div",{className:"container mx-auto max-w-7xl space-y-6 p-6",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Oramentos"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Gerencie suas propostas comerciais de forma profissional"})]}),i.jsxs(kr,{open:r,onOpenChange:de=>{n(de),de||X()},children:[i.jsx(ii,{asChild:!0,children:i.jsxs(ye,{size:"default",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",onClick:()=>{X(),n(!0)},children:[i.jsx(zl,{className:"h-4 w-4 mr-2"}),"Novo Oramento"]})}),i.jsxs(Sr,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(yr,{className:"border-b pb-4",children:[i.jsx(br,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:c?"Editar Oramento":"Criar Novo Oramento"}),i.jsx(tn,{className:"text-base",children:c?"Atualize as informaes do oramento conforme necessrio":"Preencha as informaes do cliente e adicione os produtos para gerar o oramento"})]}),i.jsxs("div",{className:"space-y-6 py-4",children:[i.jsxs(Ae,{className:"border-2 shadow-md",children:[i.jsx(qe,{className:"bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 border-b",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(Tm,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-lg text-gray-900",children:"Informaes do Cliente"}),i.jsx(Ht,{className:"text-sm",children:"Dados necessrios para identificao do cliente"})]})]})})}),i.jsxs(Pe,{className:"space-y-5 pt-6",children:[i.jsxs("div",{className:"bg-blue-50/50 border border-blue-100 rounded-lg p-4",children:[i.jsx(De,{htmlFor:"select-cliente",className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Cliente Cadastrado (Opcional)"}),i.jsxs(Cr,{onValueChange:Se,children:[i.jsx(Nr,{id:"select-cliente",className:"bg-white",children:i.jsx(Er,{placeholder:"Buscar cliente j cadastrado..."})}),i.jsx(_r,{children:E.map(de=>i.jsx(Je,{value:de.id.toString(),children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium",children:de.nome}),de.email&&i.jsx("span",{className:"text-xs text-muted-foreground",children:de.email})]})},de.id))})]})]}),i.jsx(Xf,{className:"my-4"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(De,{htmlFor:"input-nome",className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[i.jsx(Tm,{className:"h-4 w-4 text-blue-600"}),"Nome Completo *"]}),i.jsx(Ze,{id:"input-nome",value:h.cliente_nome,onChange:de=>m({...h,cliente_nome:de.target.value}),placeholder:"Digite o nome completo do cliente",required:!0,className:"border-2 focus:border-blue-500"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(De,{htmlFor:"input-email",className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[i.jsx(sl,{className:"h-4 w-4 text-purple-600"}),"Email"]}),i.jsx(Ze,{id:"input-email",type:"email",value:h.cliente_email,onChange:de=>m({...h,cliente_email:de.target.value}),placeholder:"email@exemplo.com",className:"border-2 focus:border-purple-500"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(De,{htmlFor:"input-telefone",className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[i.jsx(u_,{className:"h-4 w-4 text-green-600"}),"Telefone"]}),i.jsx(Ze,{id:"input-telefone",value:h.cliente_telefone,onChange:de=>m({...h,cliente_telefone:de.target.value}),placeholder:"(00) 00000-0000",className:"border-2 focus:border-green-500"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(De,{htmlFor:"input-validade",className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[i.jsx(Si,{className:"h-4 w-4 text-orange-600"}),"Validade do Oramento"]}),i.jsx(Ze,{id:"input-validade",type:"date",value:h.validade,onChange:de=>m({...h,validade:de.target.value}),className:"border-2 focus:border-orange-500"})]})]})]})]}),i.jsxs(Ae,{className:"border-2 shadow-md",children:[i.jsx(qe,{className:"bg-gradient-to-r from-green-50 via-emerald-50 to-teal-50 border-b",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:i.jsx(ss,{className:"h-5 w-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-lg text-gray-900",children:"Produtos do Oramento"}),i.jsx(Ht,{className:"text-sm",children:"Selecione e adicione os produtos"})]})]}),g.length>0&&i.jsxs(It,{className:"bg-green-600 text-white px-3 py-1",children:[g.length," ",g.length===1?"item":"itens"]})]})}),i.jsxs(Pe,{className:"space-y-4 pt-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(De,{htmlFor:"search-produto",className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[i.jsx(Ps,{className:"h-4 w-4 text-green-600"}),"Buscar e Adicionar Produto"]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{id:"search-produto",type:"text",placeholder:"Digite o nome do produto e selecione abaixo...",value:x,onChange:de=>v(de.target.value),className:"pl-9 border-2 focus:border-green-500"})]}),x&&i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx("span",{className:"font-semibold text-green-600",children:M.length}),"produto(s) encontrado(s)"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Cr,{onValueChange:de=>{Q(parseInt(de)),v("")},value:"",children:[i.jsx(Nr,{className:"border-2 focus:border-green-500 h-11",children:i.jsx(Er,{placeholder:x?` ${M.length} produto(s) - Clique para selecionar`:" Todos os produtos - Digite acima para filtrar"})}),i.jsx(_r,{className:"max-h-[300px]",children:M.length===0?i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("div",{className:"text-muted-foreground text-sm mb-2",children:x?`Nenhum produto encontrado para "${x}"`:"Nenhum produto disponvel"}),x&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Tente buscar por outro nome"})]}):M.map(de=>i.jsx(Je,{value:de.id.toString(),className:"cursor-pointer hover:bg-green-50",children:i.jsxs("div",{className:"flex justify-between items-center w-full gap-4 py-1",children:[i.jsx("span",{className:"font-medium",children:de.nome}),i.jsxs("span",{className:"text-green-600 font-semibold whitespace-nowrap",children:["R$ ",de.preco.toFixed(2)]})]})},de.id))})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" Digite no campo acima para filtrar e facilitar a busca"})]}),g.length>0&&i.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{className:"bg-muted/50",children:[i.jsx(Me,{children:"Produto"}),i.jsx(Me,{className:"w-32",children:"Quantidade"}),i.jsx(Me,{className:"w-32 text-right",children:"Preo Unit."}),i.jsx(Me,{className:"w-32 text-right",children:"Subtotal"}),i.jsx(Me,{className:"w-20"})]})}),i.jsx(gn,{children:g.map((de,ce)=>i.jsxs(Bt,{children:[i.jsx(Ie,{className:"font-medium",children:de.nome}),i.jsx(Ie,{children:i.jsx(Ze,{type:"number",min:"1",value:de.quantidade,onChange:Ee=>{const rt=Math.max(1,parseInt(Ee.target.value)||1);p(g.map((ot,ge)=>ge===ce?{...ot,quantidade:rt}:ot))},className:"w-20"})}),i.jsxs(Ie,{className:"text-right text-muted-foreground",children:["R$ ",de.preco.toFixed(2)]}),i.jsxs(Ie,{className:"text-right font-semibold",children:["R$ ",(de.preco*de.quantidade).toFixed(2)]}),i.jsx(Ie,{children:i.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>Y(de.produto_id),children:i.jsx(Ei,{className:"h-4 w-4 text-destructive"})})})]},ce))})]}),i.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-purple-50 border-t",children:i.jsx("div",{className:"flex justify-end",children:i.jsxs("div",{className:"text-right space-y-1",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total do Oramento"}),i.jsxs("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["R$ ",ee().toFixed(2)]})]})})})]}),g.length===0&&i.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[i.jsx(ss,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhum produto adicionado. Selecione produtos acima."})]})]})]}),i.jsxs(Ae,{className:"border-2 shadow-md",children:[i.jsx(qe,{className:"bg-gradient-to-r from-orange-50 via-amber-50 to-yellow-50 border-b",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:i.jsx(ai,{className:"h-5 w-5 text-orange-600"})}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-lg text-gray-900",children:"Observaes e Condies"}),i.jsx(Ht,{className:"text-sm",children:"Informaes adicionais importantes"})]})]})}),i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"observacoes",className:"text-sm font-semibold text-gray-700",children:"Condies de pagamento, prazos, garantias e outras informaes"}),i.jsx(Es,{id:"observacoes",value:h.observacoes,onChange:de=>m({...h,observacoes:de.target.value}),placeholder:`Exemplo:
- Pagamento: 50% entrada + 50% em 30 dias
- Prazo de entrega: 7 dias teis
- Garantia: 12 meses
- Frete: Por conta do cliente`,rows:5,className:"border-2 focus:border-orange-500 resize-none"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Estas informaes aparecero no oramento impresso"})]})})]})]}),i.jsxs(to,{className:"gap-2",children:[i.jsx(ye,{variant:"outline",onClick:()=>n(!1),disabled:I.isPending,children:"Cancelar"}),i.jsx(ye,{onClick:U,disabled:I.isPending,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:I.isPending?c?"Salvando...":"Criando...":c?"Salvar Alteraes":"Criar Oramento"})]})]})]})]}),P.length>0&&i.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Total de Oramentos"}),i.jsx(ai,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Pe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:C.total}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total registrado"})]})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Valor Total"}),i.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",C.totalValor.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Soma de todos os oramentos"})]})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ue,{className:"text-sm font-medium",children:"Em Anlise"}),i.jsx(Ys,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Pe,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",C.valorPendentes.toFixed(2)]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Oramentos pendentes"})]})]})]}),P.length>0&&i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"text-base",children:"Oramentos por Status"}),i.jsx(Ht,{children:"Distribuio de oramentos"})]}),i.jsx(Pe,{children:C.statusChart.length>0?i.jsx(hc,{config:{pendente:{label:"Pendente",color:"#eab308"},aprovado:{label:"Aprovado",color:"#22c55e"},rejeitado:{label:"Rejeitado",color:"#ef4444"},convertido:{label:"Convertido",color:"#3b82f6"}},className:"h-[300px]",children:i.jsxs(v6,{children:[i.jsx(Fc,{data:C.statusChart,cx:"50%",cy:"50%",labelLine:!1,label:({name:de,percent:ce})=>`${de}: ${(ce*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:C.statusChart.map((de,ce)=>i.jsx(Qf,{fill:de.color},`cell-${ce}`))}),i.jsx(Lf,{content:i.jsx(od,{})})]})}):i.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"Nenhum dado disponvel"})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"text-base",children:"Valor por Status"}),i.jsx(Ht,{children:"Valores em Reais (R$)"})]}),i.jsx(Pe,{children:C.valorChart.length>0?i.jsx(hc,{config:{valor:{label:"Valor",color:"#3b82f6"}},className:"h-[300px]",children:i.jsxs(bm,{data:C.valorChart,children:[i.jsx(el,{strokeDasharray:"3 3"}),i.jsx(rs,{dataKey:"status"}),i.jsx(ns,{}),i.jsx(Lf,{content:i.jsx(od,{}),formatter:de=>`R$ ${Number(de).toFixed(2)}`}),i.jsx(nl,{dataKey:"valor",fill:"#3b82f6",radius:[8,8,0,0]})]})}):i.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"Nenhum dado disponvel"})})]})]}),i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ue,{children:"Lista de Oramentos"}),i.jsx(Ht,{children:P.length===0?"Nenhum oramento cadastrado":`${T.length} de ${P.length} oramento(s)`})]}),P.length>0&&i.jsxs("div",{className:"flex gap-2 items-center w-full max-w-lg",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ze,{placeholder:"Buscar por nmero, cliente ou email...",value:y,onChange:de=>b(de.target.value),className:"pl-9"})]}),i.jsxs("div",{className:"flex items-center gap-2 border rounded-md px-3 py-2 whitespace-nowrap",children:[i.jsx(K1,{className:"h-4 w-4 text-muted-foreground"}),i.jsx(De,{htmlFor:"mostrar-arquivados-orcamentos",className:"cursor-pointer text-sm",children:"Arquivados"}),i.jsx(po,{id:"mostrar-arquivados-orcamentos",checked:j,onCheckedChange:_,"data-testid":"switch-arquivados"})]})]})]})}),i.jsx(Pe,{children:P.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx(ai,{className:"h-16 w-16 mx-auto text-muted-foreground/30 mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum oramento criado"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Comece criando seu primeiro oramento profissional"})]}):i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{className:"bg-muted/50",children:[i.jsx(Me,{children:"Nmero"}),i.jsx(Me,{children:"Cliente"}),i.jsx(Me,{children:"Data"}),i.jsx(Me,{children:"Validade"}),i.jsx(Me,{className:"text-right",children:"Total"}),i.jsx(Me,{children:"Status"}),i.jsx(Me,{className:"text-right",children:"Aes"})]})}),i.jsx(gn,{children:T.map(de=>i.jsxs(Bt,{children:[i.jsx(Ie,{children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-mono font-bold text-blue-600 text-base",children:de.numero}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Oramento #",de.id]})]})}),i.jsx(Ie,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:de.cliente_nome||"Cliente no informado"}),de.cliente_email&&i.jsx("div",{className:"text-sm text-muted-foreground",children:de.cliente_email})]})}),i.jsx(Ie,{className:"text-muted-foreground",children:de.data_criacao&&de.data_criacao!==""&&!isNaN(new Date(de.data_criacao).getTime())?Ea(new Date(de.data_criacao),"dd/MM/yyyy",{locale:Va}):"-"}),i.jsx(Ie,{className:"text-muted-foreground",children:de.validade&&de.validade!==""&&!isNaN(new Date(de.validade).getTime())?Ea(new Date(de.validade),"dd/MM/yyyy",{locale:Va}):"-"}),i.jsxs(Ie,{className:"text-right font-semibold text-lg",children:["R$ ",de.valor_total.toFixed(2)]}),i.jsx(Ie,{children:ft(de.status||"pendente")}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex justify-end gap-1",children:[i.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>_e(de),className:"hover:bg-blue-50",children:i.jsx(rd,{className:"h-4 w-4"})}),i.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>se(de),className:"hover:bg-purple-50",children:i.jsx(QC,{className:"h-4 w-4"})}),de.status==="pendente"&&i.jsxs(i.Fragment,{children:[i.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>L(de),className:"hover:bg-blue-50",title:"Editar oramento",children:i.jsx(_d,{className:"h-4 w-4 text-blue-600"})}),i.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>z.mutate({id:de.id,status:"aprovado"}),className:"hover:bg-green-50",children:i.jsx(La,{className:"h-4 w-4 text-green-600"})}),i.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>z.mutate({id:de.id,status:"rejeitado"}),className:"hover:bg-red-50",children:i.jsx(jc,{className:"h-4 w-4 text-red-600"})})]}),de.status==="aprovado"&&i.jsxs(ye,{size:"sm",onClick:()=>V(de.id),className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700",children:[i.jsx(ss,{className:"h-4 w-4 mr-1"}),"Converter"]}),de.status!=="convertido"&&i.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>{confirm("Tem certeza que deseja excluir este oramento?")&&B.mutate(de.id)},className:"hover:bg-red-50",children:i.jsx(Ei,{className:"h-4 w-4 text-destructive"})})]})})]},de.id))})]})})})]}),i.jsx(kr,{open:G,onOpenChange:W,children:i.jsxs(Sr,{className:"max-w-md",children:[i.jsxs(yr,{children:[i.jsx(br,{children:"Converter em Venda"}),i.jsx(tn,{children:"Selecione a forma de pagamento para finalizar a converso"})]}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"forma-pagamento",children:"Forma de Pagamento"}),i.jsxs(Cr,{value:ae,onValueChange:ie,children:[i.jsx(Nr,{id:"forma-pagamento",children:i.jsx(Er,{})}),i.jsxs(_r,{children:[i.jsx(Je,{value:"dinheiro",children:" Dinheiro"}),i.jsx(Je,{value:"cartao_credito",children:" Carto de Crdito"}),i.jsx(Je,{value:"cartao_debito",children:" Carto de Dbito"}),i.jsx(Je,{value:"pix",children:" PIX"})]})]})]})}),i.jsxs(to,{className:"gap-2",children:[i.jsx(ye,{variant:"outline",onClick:()=>W(!1),children:"Cancelar"}),i.jsx(ye,{onClick:D,disabled:O.isPending,className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700",children:O.isPending?"Convertendo...":"Confirmar Converso"})]})]})}),i.jsx(kr,{open:a,onOpenChange:s,children:i.jsx(Sr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-background",children:o&&i.jsxs(i.Fragment,{children:[i.jsxs(yr,{className:"border-b pb-4",children:[i.jsxs(br,{className:"text-2xl font-bold text-foreground",children:["Oramento ",o.numero]}),i.jsx(tn,{className:"text-base text-muted-foreground",children:o.data_criacao&&o.data_criacao!==""&&!isNaN(new Date(o.data_criacao).getTime())?`Criado em ${Ea(new Date(o.data_criacao),"dd/MM/yyyy 's' HH:mm",{locale:Va})}`:"Data de criao no disponvel"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ae,{className:"border-2",children:[i.jsx(qe,{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/50 dark:to-purple-950/50 border-b",children:i.jsxs(Ue,{className:"text-base flex items-center gap-2 text-foreground",children:[i.jsx(Tm,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Informaes do Cliente"]})}),i.jsx(Pe,{className:"space-y-4 pt-6 bg-card",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Nome"}),i.jsx("div",{className:"font-semibold text-foreground",children:o.cliente_nome||"No informado"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Email"}),i.jsx("div",{className:"font-semibold text-foreground",children:o.cliente_email||"No informado"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Telefone"}),i.jsx("div",{className:"font-semibold text-foreground",children:o.cliente_telefone||"No informado"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Status"}),i.jsx("div",{className:"mt-1",children:ft(o.status||"pendente")})]})]})})]}),i.jsxs(Ae,{className:"border-2",children:[i.jsx(qe,{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/50 dark:to-emerald-950/50 border-b",children:i.jsxs(Ue,{className:"text-base flex items-center gap-2 text-foreground",children:[i.jsx(ss,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),"Produtos"]})}),i.jsxs(Pe,{className:"pt-6 bg-card",children:[i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsxs(mn,{children:[i.jsx(pn,{children:i.jsxs(Bt,{className:"bg-muted/80 hover:bg-muted",children:[i.jsx(Me,{className:"font-semibold text-foreground",children:"Produto"}),i.jsx(Me,{className:"w-24 text-center font-semibold text-foreground",children:"Qtd"}),i.jsx(Me,{className:"w-32 text-right font-semibold text-foreground",children:"Preo Unit."}),i.jsx(Me,{className:"w-32 text-right font-semibold text-foreground",children:"Total"})]})}),i.jsx(gn,{children:(Array.isArray(o.itens)?o.itens:[]).map((de,ce)=>i.jsxs(Bt,{className:"hover:bg-muted/50",children:[i.jsxs(Ie,{className:"font-medium text-foreground flex items-center gap-2",children:[i.jsx("span",{children:de.nome}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Estoque: ",de.estoque_disponivel||0,")"]})]}),i.jsx(Ie,{className:"text-center text-foreground",children:de.quantidade}),i.jsxs(Ie,{className:"text-right text-foreground",children:["R$ ",de.preco.toFixed(2)]}),i.jsxs(Ie,{className:"text-right font-semibold text-foreground",children:["R$ ",(de.preco*de.quantidade).toFixed(2)]})]},ce))})]})}),i.jsx(Xf,{className:"my-6"}),i.jsxs("div",{className:"space-y-3 bg-muted/30 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between text-base",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Subtotal"}),i.jsxs("span",{className:"font-semibold text-foreground",children:["R$ ",o.subtotal.toFixed(2)]})]}),o.desconto&&o.desconto>0&&i.jsxs("div",{className:"flex justify-between text-base",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Desconto"}),i.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["- R$ ",o.desconto.toFixed(2)]})]}),i.jsx(Xf,{}),i.jsxs("div",{className:"flex justify-between items-center text-xl bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/50 dark:to-purple-950/50 p-3 rounded-lg",children:[i.jsx("span",{className:"font-bold text-foreground",children:"TOTAL"}),i.jsxs("span",{className:"font-bold text-2xl text-blue-600 dark:text-blue-400",children:["R$ ",o.valor_total.toFixed(2)]})]})]})]})]}),o.observacoes&&i.jsxs(Ae,{className:"border-2",children:[i.jsx(qe,{className:"bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-950/50 dark:to-amber-950/50 border-b",children:i.jsxs(Ue,{className:"text-base flex items-center gap-2 text-foreground",children:[i.jsx(ai,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"}),"Observaes"]})}),i.jsx(Pe,{className:"pt-6 bg-card",children:i.jsx("p",{className:"text-sm whitespace-pre-wrap text-foreground leading-relaxed",children:o.observacoes})})]})]}),i.jsxs(to,{className:"gap-2 border-t pt-4",children:[i.jsx(ye,{variant:"outline",onClick:()=>s(!1),children:"Fechar"}),o.status==="pendente"&&i.jsxs(ye,{onClick:()=>{s(!1),L(o)},className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700",children:[i.jsx(_d,{className:"h-4 w-4 mr-2"}),"Editar"]}),i.jsxs(ye,{onClick:()=>se(o),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[i.jsx(QC,{className:"h-4 w-4 mr-2"}),"Imprimir"]})]})]})})})]})}function Zrt(){const[e,t]=N.useState(!1),[r,n]=N.useState([]),[a,s]=N.useState(null),{toast:o}=Qr(),l=async()=>{t(!0),n([]),s(null);try{const f=await(await Pr("POST","/api/run-tests",{})).json();n(f.results),s(f.summary),o({title:f.success?" Testes Concludos":" Testes Finalizados com Erros",description:`${f.summary.success} sucessos, ${f.summary.errors} erros, ${f.summary.warnings} avisos`,variant:f.success?"default":"destructive"})}catch(d){o({title:"Erro ao executar testes",description:d.message,variant:"destructive"})}finally{t(!1)}},c=d=>{switch(d){case"success":return i.jsx(La,{className:"h-5 w-5 text-green-500"});case"error":return i.jsx(jc,{className:"h-5 w-5 text-red-500"});case"warning":return i.jsx(ji,{className:"h-5 w-5 text-yellow-500"});default:return null}},u=d=>{const f={success:"default",error:"destructive",warning:"secondary"};return i.jsx(It,{variant:f[d],children:d==="success"?"Passou":d==="error"?"Erro":"Aviso"})};return i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:" Suite de Testes"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Execute testes completos do sistema para validar funcionalidades"})]}),i.jsx(ye,{onClick:l,disabled:e,size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:e?i.jsxs(i.Fragment,{children:[i.jsx(Ha,{className:"h-5 w-5 mr-2 animate-spin"}),"Executando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(KC,{className:"h-5 w-5 mr-2"}),"Executar Todos os Testes"]})})]}),a&&i.jsxs(Ae,{className:"border-2 border-blue-500",children:[i.jsx(qe,{children:i.jsx(Ue,{className:"flex items-center gap-2",children:" Resumo dos Testes"})}),i.jsx(Pe,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-700 dark:text-gray-300",children:a.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"})]}),i.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.success}),i.jsx("div",{className:"text-sm text-green-600",children:"Sucessos"})]}),i.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.errors}),i.jsx("div",{className:"text-sm text-red-600",children:"Erros"})]}),i.jsxs("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:a.warnings}),i.jsx("div",{className:"text-sm text-yellow-600",children:"Avisos"})]}),i.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[i.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[a.percentage,"%"]}),i.jsx("div",{className:"text-sm text-blue-600",children:"Taxa de Sucesso"})]})]})})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"flex items-center gap-2",children:" Teste 1: Fluxo de Bloqueio"}),i.jsx(Ht,{children:"Valida bloqueio de usurios e funcionrios"})]}),i.jsx(Pe,{children:i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:" Verificao de usurios bloqueados"}),i.jsx("li",{children:" Bloqueio automtico de funcionrios"}),i.jsx("li",{children:" Restrio de acesso ao sistema"})]})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"flex items-center gap-2",children:" Teste 2: Pacotes de Funcionrios"}),i.jsx(Ht,{children:"Valida compra e gerenciamento de pacotes"})]}),i.jsx(Pe,{children:i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:" Verificao de limites base e atuais"}),i.jsx("li",{children:" Validao de datas de expirao"}),i.jsx("li",{children:" Status dos pacotes cadastrados"})]})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"flex items-center gap-2",children:" Teste 3: Sistema de Emails"}),i.jsx(Ht,{children:"Valida templates e configurao SMTP"})]}),i.jsx(Pe,{children:i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:" 8 templates de email configurados"}),i.jsx("li",{children:" Configurao SMTP verificada"}),i.jsx("li",{children:" Servio de envio funcional"})]})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"flex items-center gap-2",children:" Teste 4: Sistema de Bloqueios"}),i.jsx(Ht,{children:"Valida bloqueios de estoque em oramentos"})]}),i.jsx(Pe,{children:i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:" Bloqueios ativos em oramentos aprovados"}),i.jsx("li",{children:" Integridade dos bloqueios (sem rfos)"}),i.jsx("li",{children:" Mtricas de aprovao e latncia"})]})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"flex items-center gap-2",children:" Teste 5: Webhooks Mercado Pago"}),i.jsx(Ht,{children:"Valida integrao com gateway de pagamento"})]}),i.jsx(Pe,{children:i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:" Verificao de credenciais"}),i.jsx("li",{children:" Teste de conexo com API"}),i.jsx("li",{children:" Validao de endpoint webhook"})]})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"flex items-center gap-2",children:" Teste 6: Integridade do Banco"}),i.jsx(Ht,{children:"Verifica consistncia dos dados no banco"})]}),i.jsx(Pe,{children:i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:" Produtos sem user_id"}),i.jsx("li",{children:" Vendas sem user_id"}),i.jsx("li",{children:" Trials expirados"}),i.jsx("li",{children:" Estatsticas gerais"})]})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"flex items-center gap-2",children:" Teste 7: Permisses"}),i.jsx(Ht,{children:"Valida permisses de funcionrios"})]}),i.jsx(Pe,{children:i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:" Funcionrios com permisses"}),i.jsx("li",{children:" Funcionrios sem permisses"}),i.jsx("li",{children:" Consistncia de configurao"})]})})]}),i.jsxs(Ae,{children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"flex items-center gap-2",children:" Teste 8: Operaes de Caixa"}),i.jsx(Ht,{children:"Verifica status dos caixas no sistema"})]}),i.jsx(Pe,{children:i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:" Caixas abertos"}),i.jsx("li",{children:" Caixas fechados"}),i.jsx("li",{children:" Deteco de inconsistncias"})]})})]})]}),r.length>0&&i.jsxs(Ae,{children:[i.jsx(qe,{children:i.jsx(Ue,{children:" Resultados Detalhados"})}),i.jsx(Pe,{children:i.jsx("div",{className:"space-y-3",children:r.map((d,f)=>i.jsx($i,{children:i.jsxs("div",{className:"flex items-start gap-3",children:[c(d.status),i.jsxs("div",{className:"flex-1",children:[i.jsxs(wo,{className:"flex items-center justify-between",children:[i.jsx("span",{children:d.name}),u(d.status)]}),i.jsxs(Bi,{className:"mt-2",children:[d.message,d.details&&i.jsx("pre",{className:"mt-2 p-2 bg-gray-100 dark:bg-gray-900 rounded text-xs overflow-auto",children:JSON.stringify(d.details,null,2)})]})]})]})},f))})})]}),!e&&r.length===0&&i.jsx(Ae,{className:"border-dashed border-2",children:i.jsxs(Pe,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(KC,{className:"h-16 w-16 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground text-center",children:'Clique no boto "Executar Todos os Testes" para iniciar a validao completa do sistema.'})]})})]})}var cD="Collapsible",[Jrt,joe]=zi(cD),[ent,uD]=Jrt(cD),Noe=N.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:s,onOpenChange:o,...l}=e,[c=!1,u]=No({prop:n,defaultProp:a,onChange:o});return i.jsx(ent,{scope:r,disabled:s,contentId:si(),open:c,onOpenToggle:N.useCallback(()=>u(d=>!d),[u]),children:i.jsx(zt.div,{"data-state":fD(c),"data-disabled":s?"":void 0,...l,ref:t})})});Noe.displayName=cD;var _oe="CollapsibleTrigger",Soe=N.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=uD(_oe,r);return i.jsx(zt.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":fD(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Ct(e.onClick,a.onOpenToggle)})});Soe.displayName=_oe;var dD="CollapsibleContent",Aoe=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=uD(dD,e.__scopeCollapsible);return i.jsx(Co,{present:r||a.open,children:({present:s})=>i.jsx(tnt,{...n,ref:t,present:s})})});Aoe.displayName=dD;var tnt=N.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...s}=e,o=uD(dD,r),[l,c]=N.useState(n),u=N.useRef(null),d=Lr(t,u),f=N.useRef(0),h=f.current,m=N.useRef(0),g=m.current,p=o.open||l,x=N.useRef(p),v=N.useRef(void 0);return N.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),ci(()=>{const y=u.current;if(y){v.current=v.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const b=y.getBoundingClientRect();f.current=b.height,m.current=b.width,x.current||(y.style.transitionDuration=v.current.transitionDuration,y.style.animationName=v.current.animationName),c(n)}},[o.open,n]),i.jsx(zt.div,{"data-state":fD(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&a})});function fD(e){return e?"open":"closed"}var rnt=Noe,nnt=Soe,ant=Aoe,qd="Accordion",int=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[hD,snt,ont]=dx(qd),[QS]=zi(qd,[ont,joe]),mD=joe(),Coe=he.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,s=n;return i.jsx(hD.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?i.jsx(dnt,{...s,ref:t}):i.jsx(unt,{...a,ref:t})})});Coe.displayName=qd;var[Eoe,lnt]=QS(qd),[Poe,cnt]=QS(qd,{collapsible:!1}),unt=he.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:s=!1,...o}=e,[l,c]=No({prop:r,defaultProp:n,onChange:a});return i.jsx(Eoe,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:he.useCallback(()=>s&&c(""),[s,c]),children:i.jsx(Poe,{scope:e.__scopeAccordion,collapsible:s,children:i.jsx(koe,{...o,ref:t})})})}),dnt=he.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...s}=e,[o=[],l]=No({prop:r,defaultProp:n,onChange:a}),c=he.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=he.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return i.jsx(Eoe,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:i.jsx(Poe,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(koe,{...s,ref:t})})})}),[fnt,ZS]=QS(qd),koe=he.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:s="vertical",...o}=e,l=he.useRef(null),c=Lr(l,t),u=snt(r),f=vx(a)==="ltr",h=Ct(e.onKeyDown,m=>{var S;if(!int.includes(m.key))return;const g=m.target,p=u().filter(E=>{var M;return!((M=E.ref.current)!=null&&M.disabled)}),x=p.findIndex(E=>E.ref.current===g),v=p.length;if(x===-1)return;m.preventDefault();let y=x;const b=0,j=v-1,_=()=>{y=x+1,y>j&&(y=b)},P=()=>{y=x-1,y<b&&(y=j)};switch(m.key){case"Home":y=b;break;case"End":y=j;break;case"ArrowRight":s==="horizontal"&&(f?_():P());break;case"ArrowDown":s==="vertical"&&_();break;case"ArrowLeft":s==="horizontal"&&(f?P():_());break;case"ArrowUp":s==="vertical"&&P();break}const k=y%v;(S=p[k].ref.current)==null||S.focus()});return i.jsx(fnt,{scope:r,disabled:n,direction:a,orientation:s,children:i.jsx(hD.Slot,{scope:r,children:i.jsx(zt.div,{...o,"data-orientation":s,ref:c,onKeyDown:n?void 0:h})})})}),q5="AccordionItem",[hnt,pD]=QS(q5),Toe=he.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,s=ZS(q5,r),o=lnt(q5,r),l=mD(r),c=si(),u=n&&o.value.includes(n)||!1,d=s.disabled||e.disabled;return i.jsx(hnt,{scope:r,open:u,disabled:d,triggerId:c,children:i.jsx(rnt,{"data-orientation":s.orientation,"data-state":Moe(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});Toe.displayName=q5;var Ooe="AccordionHeader",Doe=he.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=ZS(qd,r),s=pD(Ooe,r);return i.jsx(zt.h3,{"data-orientation":a.orientation,"data-state":Moe(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:t})});Doe.displayName=Ooe;var Nk="AccordionTrigger",Ioe=he.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=ZS(qd,r),s=pD(Nk,r),o=cnt(Nk,r),l=mD(r);return i.jsx(hD.ItemSlot,{scope:r,children:i.jsx(nnt,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:s.triggerId,...l,...n,ref:t})})});Ioe.displayName=Nk;var Foe="AccordionContent",Roe=he.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=ZS(qd,r),s=pD(Foe,r),o=mD(r);return i.jsx(ant,{role:"region","aria-labelledby":s.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Roe.displayName=Foe;function Moe(e){return e?"open":"closed"}var mnt=Coe,pnt=Toe,gnt=Doe,Loe=Ioe,$oe=Roe;const xnt=mnt,Boe=N.forwardRef(({className:e,...t},r)=>i.jsx(pnt,{ref:r,className:ht("border-b",e),...t}));Boe.displayName="AccordionItem";const zoe=N.forwardRef(({className:e,children:t,...r},n)=>i.jsx(gnt,{className:"flex",children:i.jsxs(Loe,{ref:n,className:ht("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,i.jsx(jb,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));zoe.displayName=Loe.displayName;const qoe=N.forwardRef(({className:e,children:t,...r},n)=>i.jsx($oe,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:ht("pb-4 pt-0",e),children:t})}));qoe.displayName=$oe.displayName;function vnt(){const e=[{question:"Como fao para cadastrar produtos?",answer:"Acesse o menu 'Produtos' no painel lateral e clique em 'Adicionar Produto'. Preencha as informaes como nome, cdigo de barras, preo e quantidade em estoque.",category:"produtos"},{question:"Como emitir uma NFC-e?",answer:"Configure primeiro suas credenciais fiscais em 'Configuraes Fiscais'. Depois, ao realizar uma venda no PDV, selecione a opo 'Emitir NFC-e' antes de finalizar.",category:"fiscal"},{question:"Como adicionar funcionrios?",answer:"No menu 'Admin' (disponvel apenas para administradores), acesse a aba 'Funcionrios' e clique em 'Adicionar Funcionrio'. Defina as permisses adequadas para cada colaborador.",category:"admin"},{question:"Como funciona o controle de estoque?",answer:"O sistema atualiza automaticamente o estoque a cada venda realizada. Voc pode fazer ajustes manuais em 'Inventrio' e receber alertas de produtos com estoque baixo.",category:"estoque"},{question:"Como visualizar relatrios de vendas?",answer:"Acesse a seo 'Relatrios' no menu principal. Voc pode filtrar por perodo, produto, vendedor e muito mais para anlises detalhadas.",category:"relatorios"},{question:"O que fazer se esquecer minha senha?",answer:"Na tela de login, clique em 'Esqueci minha senha' e siga as instrues enviadas para seu email cadastrado.",category:"conta"},{question:"Como funciona o perodo de teste?",answer:"Ao se cadastrar, voc tem acesso gratuito a todos os recursos Premium por 7 dias. Aps este perodo, voc pode escolher um plano adequado para continuar usando o sistema.",category:"planos"},{question:"Posso usar o sistema em dispositivos mveis?",answer:"Sim! O Pavisoft  responsivo e funciona perfeitamente em smartphones e tablets atravs do navegador.",category:"geral"},{question:"Como funcionam os pacotes de funcionrios?",answer:"O sistema inclui 1 funcionrio por padro. Voc pode contratar pacotes adicionais de 5, 10, 20 ou 50 funcionrios. Quando o pacote vence por falta de pagamento, os funcionrios extras so bloqueados. Ao renovar, os mesmos funcionrios que estavam bloqueados so reativados automaticamente.",category:"admin"},{question:"O que acontece se meu plano vencer?",answer:"Voc receber avisos 7, 3 e 1 dia antes do vencimento. Se o plano vencer, sua conta ser bloqueada at a renovao. Todos os dados so preservados e voc ter acesso novamente assim que renovar o plano.",category:"planos"},{question:"Como funciona o bloqueio de funcionrios?",answer:"Se o pacote de funcionrios vencer, apenas os funcionrios extras (alm do padro) so bloqueados. O funcionrio padro do sistema continua ativo se o plano principal estiver pago.",category:"admin"}],t=[{titulo:"Tutorial Completo do Pavisoft",descricao:"Vdeo completo mostrando todas as funcionalidades do sistema",duracao:"Em breve",nivel:"Todos os nveis",icon:xG}],r=[{icon:Uj,titulo:"WhatsApp",descricao:"Atendimento rpido via WhatsApp",disponibilidade:"Seg-Sex: 8h s 18h",link:"https://wa.me/5598984267488",badge:"Mais Rpido",badgeColor:"bg-green-500"},{icon:sl,titulo:"Email",descricao:"atendimento.pavisoft@gmail.com",disponibilidade:"Resposta em at 24h",link:"mailto:atendimento.pavisoft@gmail.com",badge:"Suporte Tcnico",badgeColor:"bg-blue-500"},{icon:u_,titulo:"Telefone",descricao:"(98) 98426-7488",disponibilidade:"Seg-Sex: 8h s 18h",link:"tel:+5598984267488",badge:"Urgncias",badgeColor:"bg-orange-500"}],n=[{categoria:" Comeando",artigos:["Crie sua conta no Pavisoft e escolha um plano (7 dias grtis para testar)","Configure os dados da sua empresa em Configuraes","Cadastre seus produtos com cdigo de barras, preo e estoque","Realize sua primeira venda no PDV usando o leitor de cdigo de barras"]},{categoria:" Gesto",artigos:["Acompanhe seu estoque em tempo real e receba alertas de produtos acabando","Cadastre fornecedores e registre suas compras com histrico completo","Processe devolues de clientes mantendo controle total das operaes","Gere relatrios detalhados de vendas, produtos mais vendidos e anlises"]},{categoria:" Financeiro",artigos:["Registre contas a pagar e receber com vencimentos e status","Visualize o fluxo de caixa projetado baseado nas vendas do PDV","Acompanhe DRE com receitas, despesas e lucro lquido do perodo","Gerencie clientes inadimplentes e envie lembretes de pagamento"]},{categoria:" Fiscal",artigos:["Configure seu certificado digital A1 em Configuraes Fiscais","Emita NFC-e diretamente do PDV aps finalizar vendas","Emita NF-e para vendas que necessitam nota fiscal completa","Cancele ou consulte notas fiscais emitidas pelo sistema"]}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-950",children:[i.jsx("nav",{className:"sticky top-0 z-50 bg-slate-900/50 backdrop-blur-xl border-b border-blue-500/20",children:i.jsx("div",{className:"container mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(_s,{href:"/",children:i.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",children:[i.jsx(Ga,{className:"h-8 w-8 text-blue-400"}),i.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Pavisoft Sistemas"})]})}),i.jsx(_s,{href:"/dashboard",children:i.jsx(ye,{variant:"outline",className:"border-blue-400/30 hover:border-blue-400 hover:bg-blue-500/10",children:"Voltar ao Sistema"})})]})})}),i.jsx("div",{className:"container mx-auto px-6 py-12",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-4",children:i.jsx(Y1,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent mb-4",children:"Central de Ajuda & Termos"}),i.jsx("p",{className:"text-gray-400 text-lg",children:"Suporte completo e informaes legais do Pavisoft"})]}),i.jsxs(Zj,{defaultValue:"ajuda",className:"mb-12",children:[i.jsxs(ty,{className:"grid w-full grid-cols-2 bg-slate-900/50 border border-blue-500/20 mb-8",children:[i.jsxs(Qo,{value:"ajuda",className:"data-[state=active]:bg-blue-500/20",children:[i.jsx(Y1,{className:"mr-2 h-4 w-4"}),"Central de Ajuda"]}),i.jsxs(Qo,{value:"termos",className:"data-[state=active]:bg-blue-500/20",children:[i.jsx(Nhe,{className:"mr-2 h-4 w-4"}),"Termos de Uso"]})]}),i.jsxs(Zo,{value:"ajuda",className:"space-y-8",children:[i.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[i.jsx(Ps,{className:"absolute left-4 top-4 h-5 w-5 text-gray-400"}),i.jsx(Ze,{placeholder:"Buscar por palavra-chave, produto, funcionalidade...",className:"pl-12 bg-slate-900/50 border-blue-500/20 text-white placeholder:text-gray-500 h-14 text-lg"})]}),i.jsxs(Ae,{className:"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-blue-500/30",children:[i.jsxs(qe,{children:[i.jsxs(Ue,{className:"text-2xl text-white flex items-center gap-2",children:[i.jsx(fhe,{className:"h-6 w-6 text-blue-400"}),"Fale Conosco Agora"]}),i.jsx(Ht,{className:"text-gray-300",children:"Escolha o canal de atendimento que melhor se adequa  sua necessidade"})]}),i.jsx(Pe,{children:i.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:r.map((a,s)=>i.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"block",children:i.jsx(Ae,{className:"bg-slate-900/50 border-blue-500/20 hover:border-blue-500/60 hover:bg-slate-900/70 transition-all cursor-pointer h-full group",children:i.jsxs(Pe,{className:"pt-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(a.icon,{className:"h-6 w-6 text-white"})}),i.jsx(It,{className:`${a.badgeColor} text-white`,children:a.badge})]}),i.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:a.titulo}),i.jsx("p",{className:"text-gray-400 text-sm mb-3",children:a.descricao}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[i.jsx(Ys,{className:"h-3 w-3"}),a.disponibilidade]}),i.jsxs("div",{className:"mt-3 flex items-center gap-2 text-blue-400 text-sm font-medium",children:["Abrir agora",i.jsx(X1,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})})},s))})})]}),i.jsxs(Zj,{defaultValue:"faqs",children:[i.jsxs(ty,{className:"grid w-full grid-cols-3 bg-slate-900/50 border border-blue-500/20",children:[i.jsx(Qo,{value:"faqs",className:"data-[state=active]:bg-blue-500/20",children:"Perguntas Frequentes"}),i.jsx(Qo,{value:"tutoriais",className:"data-[state=active]:bg-blue-500/20",children:"Tutorial em Vdeo"}),i.jsx(Qo,{value:"base",className:"data-[state=active]:bg-blue-500/20",children:"Base de Conhecimento"})]}),i.jsx(Zo,{value:"faqs",children:i.jsxs(Ae,{className:"bg-slate-900/50 border-blue-500/20",children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"text-2xl text-white",children:"Perguntas Frequentes"}),i.jsx(Ht,{className:"text-gray-400",children:"Respostas rpidas para as dvidas mais comuns"})]}),i.jsx(Pe,{children:i.jsx(xnt,{type:"single",collapsible:!0,className:"w-full",children:e.map((a,s)=>i.jsxs(Boe,{value:`item-${s}`,className:"border-blue-500/20",children:[i.jsx(zoe,{className:"text-white hover:text-blue-400",children:i.jsxs("div",{className:"flex items-start gap-3 text-left",children:[i.jsx(La,{className:"h-5 w-5 text-green-400 flex-shrink-0 mt-0.5"}),i.jsx("span",{children:a.question})]})}),i.jsx(qoe,{className:"text-gray-400 pl-8",children:a.answer})]},s))})})]})}),i.jsx(Zo,{value:"tutoriais",children:i.jsxs(Ae,{className:"bg-slate-900/50 border-blue-500/20",children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"text-2xl text-white",children:"Tutorial em Vdeo"}),i.jsx(Ht,{className:"text-gray-400",children:"Aprenda assistindo nosso guia completo do sistema"})]}),i.jsx(Pe,{children:i.jsx("div",{className:"max-w-2xl mx-auto",children:t.map((a,s)=>i.jsx(Ae,{className:"bg-slate-800/50 border-blue-500/20 hover:border-blue-500/40 transition-all cursor-pointer group",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:i.jsx(a.icon,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-white font-semibold mb-2",children:a.titulo}),i.jsx("p",{className:"text-gray-400 text-sm mb-3",children:a.descricao}),i.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[i.jsx(It,{variant:"outline",className:"border-blue-500/30 text-blue-300",children:a.nivel}),i.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[i.jsx(Ys,{className:"h-3 w-3"}),a.duracao]})]})]})]})})},s))})})]})}),i.jsx(Zo,{value:"base",children:i.jsxs(Ae,{className:"bg-slate-900/50 border-blue-500/20",children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"text-2xl text-white",children:"Base de Conhecimento"}),i.jsx(Ht,{className:"text-gray-400",children:"Documentao completa organizada por categoria"})]}),i.jsx(Pe,{children:i.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.map((a,s)=>i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:a.categoria}),i.jsx("ul",{className:"space-y-2",children:a.artigos.map((o,l)=>i.jsx("li",{children:i.jsxs("a",{href:"#",className:"flex items-center gap-2 text-gray-400 hover:text-blue-400 transition-colors group",children:[i.jsx(Nb,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"}),i.jsx("span",{className:"text-sm",children:o})]})},l))})]},s))})})]})})]}),i.jsx(Ae,{className:"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-blue-500/20",children:i.jsxs(Pe,{className:"py-8",children:[i.jsx("h3",{className:"text-2xl font-semibold text-white mb-2 text-center",children:"No encontrou o que procurava?"}),i.jsx("p",{className:"text-gray-400 mb-6 max-w-2xl mx-auto text-center",children:"Nossa equipe de suporte est pronta para ajudar voc a resolver qualquer dvida ou problema. Entre em contato e teremos o prazer em atend-lo!"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[i.jsxs(ye,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",onClick:()=>window.open("https://wa.me/5598984267488","_blank"),children:[i.jsx(Uj,{className:"mr-2 h-4 w-4"}),"WhatsApp"]}),i.jsx(_s,{href:"/contato",children:i.jsxs(ye,{variant:"outline",className:"border-blue-400/30 hover:border-blue-400 hover:bg-blue-500/10 w-full",children:[i.jsx(sl,{className:"mr-2 h-4 w-4"}),"Enviar Email"]})})]})]})})]}),i.jsx(Zo,{value:"termos",children:i.jsxs(Ae,{className:"bg-slate-900/50 border-blue-500/20",children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"text-3xl text-white",children:"Termos de Uso do Pavisoft Sistemas"}),i.jsx(Ht,{className:"text-gray-400",children:"ltima atualizao: 13 de novembro de 2025"})]}),i.jsx(Pe,{className:"prose prose-invert max-w-none",children:i.jsxs("div",{className:"space-y-8 text-gray-300",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"1. Aceitao dos Termos"}),i.jsx("p",{className:"mb-4",children:'Ao acessar e utilizar o Pavisoft Sistemas ("Servio"), voc concorda em cumprir e estar vinculado aos seguintes termos e condies de uso. Se voc no concordar com estes termos, no utilize o Servio.'}),i.jsx("p",{children:"O Pavisoft  operado pela Pavisoft Sistemas Ltda."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"2. Descrio do Servio"}),i.jsx("p",{className:"mb-4",children:"O Pavisoft  um sistema de gesto empresarial completo que oferece funcionalidades incluindo, mas no limitadas a:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Gesto de produtos e estoque"}),i.jsx("li",{children:"Ponto de Venda (PDV)"}),i.jsx("li",{children:"Emisso de notas fiscais eletrnicas (NF-e e NFC-e)"}),i.jsx("li",{children:"Controle financeiro e relatrios"}),i.jsx("li",{children:"Gesto de clientes e fornecedores"}),i.jsx("li",{children:"Sistema de caixa e fluxo de caixa"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"3. Cadastro e Conta"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"3.1 Registro"}),i.jsx("p",{className:"mb-4",children:"Para utilizar o Servio, voc deve criar uma conta fornecendo informaes precisas, completas e atualizadas. Voc  responsvel por manter a confidencialidade de suas credenciais de acesso."}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"3.2 Responsabilidade"}),i.jsx("p",{className:"mb-4",children:"Voc  responsvel por todas as atividades que ocorrem em sua conta. Notifique-nos imediatamente sobre qualquer uso no autorizado."}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"3.3 Perodo de Teste"}),i.jsx("p",{children:"Novos usurios tm direito a um perodo de teste gratuito de 7 dias com acesso completo aos recursos Premium. Aps esse perodo,  necessrio escolher um plano de assinatura para continuar usando o sistema."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"4. Planos e Pagamentos"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"4.1 Planos de Assinatura"}),i.jsx("p",{className:"mb-4",children:"O Pavisoft oferece diferentes planos de assinatura (Bsico, Profissional, Premium) com funcionalidades e preos variados. Os detalhes de cada plano esto disponveis em nossa pgina de preos."}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"4.2 Pagamento"}),i.jsx("p",{className:"mb-4",children:"Os pagamentos so processados atravs do Mercado Pago. Ao assinar um plano, voc autoriza cobranas recorrentes no carto de crdito ou mtodo de pagamento escolhido."}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"4.3 Renovao Automtica"}),i.jsx("p",{className:"mb-4",children:"As assinaturas so renovadas automaticamente no final de cada perodo de cobrana, a menos que voc cancele antes da renovao."}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"4.4 Cancelamento"}),i.jsx("p",{className:"mb-4",children:"Voc pode cancelar sua assinatura a qualquer momento atravs do painel de administrao. O cancelamento ter efeito no final do perodo de cobrana atual."}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"4.5 Reembolsos"}),i.jsx("p",{children:"No oferecemos reembolsos para perodos de assinatura j pagos, exceto quando exigido por lei."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"5. Pacotes de Funcionrios"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"5.1 Funcionrio Padro"}),i.jsx("p",{className:"mb-4",children:"Todos os planos incluem 1 (um) funcionrio padro sem custos adicionais. Este funcionrio permanece ativo enquanto o plano principal estiver pago."}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"5.2 Funcionrios Adicionais"}),i.jsx("p",{className:"mb-4",children:"Voc pode contratar pacotes de funcionrios adicionais (5, 10, 20 ou 50 funcionrios) mediante pagamento de taxa adicional. Os pacotes tm cobrana recorrente mensal."}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"5.3 Bloqueio e Reativao"}),i.jsx("p",{className:"mb-4",children:"Se o pacote de funcionrios no for renovado:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsx("li",{children:"Os funcionrios extras contratados sero bloqueados automaticamente"}),i.jsx("li",{children:"O funcionrio padro continuar ativo (se o plano principal estiver pago)"}),i.jsx("li",{children:"Ao renovar o pacote, os mesmos funcionrios bloqueados so reativados automaticamente"}),i.jsx("li",{children:"No  necessrio recadastrar os funcionrios aps renovao"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"6. Uso Aceitvel"}),i.jsx("p",{className:"mb-4",children:"Voc concorda em NO utilizar o Servio para:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Violar qualquer lei ou regulamento aplicvel"}),i.jsx("li",{children:"Realizar atividades fraudulentas ou ilegais"}),i.jsx("li",{children:"Transmitir vrus, malware ou qualquer cdigo malicioso"}),i.jsx("li",{children:"Tentar acessar reas restritas do sistema sem autorizao"}),i.jsx("li",{children:"Realizar engenharia reversa, descompilar ou desmontar o software"}),i.jsx("li",{children:"Revender ou redistribuir o Servio sem autorizao expressa"}),i.jsx("li",{children:"Sobrecarregar intencionalmente nossa infraestrutura"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"7. Propriedade Intelectual"}),i.jsx("p",{className:"mb-4",children:"Todo o contedo, funcionalidades e recursos do Pavisoft, incluindo mas no limitado a textos, grficos, logotipos, cones, imagens, cdigo e software, so propriedade exclusiva da Pavisoft Sistemas ou de seus licenciadores."}),i.jsx("p",{children:"Voc recebe uma licena limitada, no exclusiva e revogvel para usar o Servio conforme estes Termos."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"8. Proteo de Dados (LGPD)"}),i.jsxs("p",{className:"mb-4",children:["O tratamento de dados pessoais no Pavisoft est em conformidade com a Lei Geral de Proteo de Dados (LGPD - Lei n 13.709/2018). Para mais detalhes, consulte nossa ",i.jsx("a",{href:"/privacy",className:"text-blue-400 hover:text-blue-300",children:"Poltica de Privacidade"}),"."]}),i.jsxs("p",{className:"mb-4",children:[i.jsx("strong",{children:"Seus dados:"})," Voc mantm todos os direitos sobre os dados que insere no sistema. Ns apenas processamos esses dados para fornecer o Servio."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Nossos dados:"})," Coletamos dados necessrios para operao do sistema e melhorias do servio, sempre respeitando sua privacidade."]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"9. Segurana"}),i.jsx("p",{className:"mb-4",children:"Implementamos medidas de segurana tcnicas e organizacionais adequadas para proteger seus dados. No entanto, nenhum sistema  100% seguro, e no podemos garantir segurana absoluta."}),i.jsx("p",{children:"Realizamos backups regulares dos dados, mas recomendamos que voc mantenha seus prprios backups de informaes crticas."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"10. Disponibilidade do Servio"}),i.jsx("p",{className:"mb-4",children:"Nos esforamos para manter o Servio disponvel 24/7, mas no garantimos disponibilidade ininterrupta. Podemos realizar manutenes programadas mediante aviso prvio."}),i.jsx("p",{children:"No nos responsabilizamos por interrupes causadas por fatores fora de nosso controle, como falhas de internet, energia eltrica ou ataques cibernticos."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"11. Limitao de Responsabilidade"}),i.jsx("p",{className:"mb-4",children:'O Servio  fornecido "como est" e "conforme disponvel". No garantimos que o Servio ser livre de erros ou interrupes.'}),i.jsx("p",{className:"mb-4",children:"Em nenhuma circunstncia seremos responsveis por:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Perda de lucros, receitas ou dados"}),i.jsx("li",{children:"Danos indiretos, incidentais ou consequenciais"}),i.jsx("li",{children:"Problemas causados por uso inadequado do sistema"}),i.jsx("li",{children:"Decises de negcio tomadas com base nos dados do sistema"})]}),i.jsx("p",{className:"mt-4",children:"Nossa responsabilidade total est limitada ao valor pago por voc nos ltimos 12 meses."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"12. Conformidade Fiscal"}),i.jsx("p",{className:"mb-4",children:"O Pavisoft oferece recursos para emisso de notas fiscais eletrnicas. Voc  responsvel por:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Configurar corretamente suas credenciais fiscais"}),i.jsx("li",{children:"Garantir a preciso das informaes fiscais inseridas"}),i.jsx("li",{children:"Cumprir com todas as obrigaes tributrias aplicveis"}),i.jsx("li",{children:"Manter seus certificados digitais vlidos e atualizados"})]}),i.jsx("p",{className:"mt-4",children:"No prestamos consultoria tributria. Recomendamos consultar um contador para questes fiscais especficas."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"13. Modificaes do Servio"}),i.jsx("p",{className:"mb-4",children:"Reservamos o direito de modificar, suspender ou descontinuar qualquer parte do Servio a qualquer momento, mediante aviso prvio quando possvel."}),i.jsx("p",{children:"Podemos adicionar novas funcionalidades ou alterar recursos existentes. Funcionalidades principais nunca sero removidas sem aviso prvio de pelo menos 30 dias."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"14. Resciso"}),i.jsx("p",{className:"mb-4",children:"Podemos suspender ou encerrar sua conta se voc violar estes Termos de Uso. Voc pode encerrar sua conta a qualquer momento atravs do painel de administrao."}),i.jsx("p",{children:"Aps o encerramento, seus dados sero mantidos por 90 dias para permitir reativao. Aps esse perodo, os dados sero permanentemente excludos, exceto quando a reteno for exigida por lei."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"15. Alteraes nos Termos"}),i.jsx("p",{className:"mb-4",children:"Podemos atualizar estes Termos periodicamente. Notificaremos voc sobre alteraes significativas com pelo menos 30 dias de antecedncia via email ou notificao no sistema."}),i.jsx("p",{children:"O uso continuado do Servio aps a entrada em vigor das alteraes constitui aceitao dos novos termos."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"16. Lei Aplicvel e Foro"}),i.jsx("p",{className:"mb-4",children:"Estes Termos so regidos pelas leis da Repblica Federativa do Brasil."}),i.jsx("p",{children:"Fica eleito o foro da comarca de So Jos de Ribamar, Estado do Maranho, para dirimir quaisquer controvrsias decorrentes destes Termos."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"17. Contato"}),i.jsx("p",{className:"mb-4",children:"Para questes sobre estes Termos de Uso, entre em contato conosco:"}),i.jsxs("ul",{className:"list-none space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Email:"})," termos@pavisoft.com.br"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Suporte:"})," atendimento.pavisoft@gmail.com"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"WhatsApp:"})," (98) 98426-7488"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Telefone:"})," (98) 98426-7488"]})]})]}),i.jsxs("div",{className:"mt-12 p-6 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Aceitao dos Termos"}),i.jsx("p",{className:"text-gray-300",children:"Ao criar uma conta e utilizar o Pavisoft Sistemas, voc declara ter lido, compreendido e concordado com estes Termos de Uso e com nossa Poltica de Privacidade."})]})]})})]})})]})]})}),i.jsx("footer",{className:"bg-gray-900 text-gray-400 py-8 mt-20",children:i.jsxs("div",{className:"container mx-auto px-6 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[i.jsx(Ga,{className:"h-6 w-6 text-blue-400"}),i.jsx("span",{className:"text-white font-bold",children:"Pavisoft Sistemas"})]}),i.jsx("p",{className:"text-sm",children:" 2025 Pavisoft Sistemas. Todos os direitos reservados."}),i.jsxs("div",{className:"mt-4 flex justify-center gap-4 text-sm",children:[i.jsx("a",{href:"/privacy",className:"text-gray-400 hover:text-blue-400",children:"Privacidade"}),i.jsx("span",{children:""}),i.jsx("a",{href:"#termos",className:"text-gray-400 hover:text-blue-400",children:"Termos de Uso"})]})]})})]})}function ynt(){const{toast:e}=Qr(),[t,r]=N.useState(!1),[n,a]=N.useState(!1),[s,o]=N.useState({nome:"",email:"",assunto:"",mensagem:""}),l=async u=>{u.preventDefault(),a(!0);try{if((await fetch("/api/contato",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)e({title:"Mensagem enviada!",description:"Obrigado pelo contato. Responderemos em breve."}),o({nome:"",email:"",assunto:"",mensagem:""}),r(!1);else throw new Error("Erro ao enviar mensagem")}catch{const f=`mailto:atendimento.pavisoft@gmail.com?subject=${encodeURIComponent(s.assunto)}&body=${encodeURIComponent(`Nome: ${s.nome}
Email: ${s.email}

Mensagem:
${s.mensagem}`)}`;window.location.href=f,e({title:"Abrindo seu cliente de email",description:"Complete o envio pelo seu aplicativo de email."})}finally{a(!1)}},c=u=>{o({...s,[u.target.name]:u.target.value})};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-950",children:[i.jsx("nav",{className:"sticky top-0 z-50 bg-slate-900/50 backdrop-blur-xl border-b border-blue-500/20",children:i.jsx("div",{className:"container mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(_s,{href:"/",children:i.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",children:[i.jsx(Ga,{className:"h-8 w-8 text-blue-400"}),i.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Pavisoft Sistemas"})]})}),i.jsx(_s,{href:"/",children:i.jsx(ye,{variant:"outline",className:"border-blue-400/30 hover:border-blue-400 hover:bg-blue-500/10",children:"Voltar ao Site"})})]})})}),i.jsx("div",{className:"container mx-auto px-6 py-12",children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-4",children:i.jsx(eo,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent mb-4",children:"Poltica de Privacidade"}),i.jsx("p",{className:"text-gray-400 text-lg",children:"Seu dados seguros e protegidos conforme a LGPD"}),i.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"ltima atualizao: 13 de novembro de 2025"})]}),i.jsx(Ae,{className:"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-blue-500/30 mb-8",children:i.jsx(Pe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(_o,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nosso Compromisso com Sua Privacidade"}),i.jsx("p",{className:"text-gray-300",children:"A Pavisoft Sistemas est comprometida em proteger sua privacidade e seus dados pessoais. Esta Poltica de Privacidade explica como coletamos, usamos, armazenamos e protegemos suas informaes de acordo com a Lei Geral de Proteo de Dados (LGPD - Lei n 13.709/2018)."})]})]})})}),i.jsxs(Ae,{className:"bg-slate-900/50 border-blue-500/20",children:[i.jsxs(qe,{children:[i.jsx(Ue,{className:"text-3xl text-white",children:"Poltica de Privacidade do Pavisoft Sistemas"}),i.jsx(Ht,{className:"text-gray-400",children:"Como tratamos, protegemos e respeitamos seus dados pessoais"})]}),i.jsx(Pe,{className:"prose prose-invert max-w-none",children:i.jsxs("div",{className:"space-y-8 text-gray-300",children:[i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(ai,{className:"h-6 w-6 text-blue-400"}),"1. Identificao do Controlador de Dados"]}),i.jsxs("p",{className:"mb-4",children:[i.jsx("strong",{className:"text-white",children:"Razo Social:"})," Pavisoft Sistemas Ltda."]}),i.jsxs("p",{className:"mb-4",children:[i.jsx("strong",{className:"text-white",children:"Email de Contato:"})," atendimento.pavisoft@gmail.com"]})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(kT,{className:"h-6 w-6 text-blue-400"}),"2. Dados Pessoais Coletados"]}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"2.1 Dados Cadastrais"}),i.jsx("p",{className:"mb-4",children:"Ao criar sua conta no Pavisoft, coletamos:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsx("li",{children:"Nome completo"}),i.jsx("li",{children:"Email"}),i.jsx("li",{children:"Senha (armazenada de forma criptografada)"}),i.jsx("li",{children:"CPF ou CNPJ"}),i.jsx("li",{children:"Telefone"}),i.jsx("li",{children:"Endereo comercial"}),i.jsx("li",{children:"Dados da empresa (razo social, nome fantasia, etc.)"})]}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"2.2 Dados de Uso do Sistema"}),i.jsx("p",{className:"mb-4",children:"Durante o uso do Pavisoft, coletamos automaticamente:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsx("li",{children:"Logs de acesso e atividades no sistema"}),i.jsx("li",{children:"Endereo IP"}),i.jsx("li",{children:"Navegador e sistema operacional"}),i.jsx("li",{children:"Data e hora de acesso"}),i.jsx("li",{children:"Funcionalidades utilizadas"}),i.jsx("li",{children:"Mtricas de desempenho e uso"})]}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"2.3 Dados de Pagamento"}),i.jsx("p",{className:"mb-4",children:"Para processar pagamentos, coletamos:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsx("li",{children:"Informaes de carto de crdito (processadas via Mercado Pago - no armazenamos dados completos do carto)"}),i.jsx("li",{children:"Histrico de transaes"}),i.jsx("li",{children:"Dados de cobrana"})]}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"2.4 Dados Inseridos por Voc no Sistema"}),i.jsx("p",{className:"mb-4",children:"Voc insere e controla os seguintes dados em seu uso do sistema:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Dados de clientes e fornecedores"}),i.jsx("li",{children:"Informaes de produtos e estoque"}),i.jsx("li",{children:"Registros de vendas e compras"}),i.jsx("li",{children:"Dados fiscais e tributrios"}),i.jsx("li",{children:"Informaes financeiras da empresa"})]})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(rd,{className:"h-6 w-6 text-blue-400"}),"3. Finalidade do Tratamento de Dados"]}),i.jsx("p",{className:"mb-4",children:"Utilizamos seus dados pessoais para as seguintes finalidades:"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"3.1 Fornecimento do Servio"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsx("li",{children:"Criar e gerenciar sua conta"}),i.jsx("li",{children:"Processar suas transaes e vendas"}),i.jsx("li",{children:"Fornecer funcionalidades do sistema"}),i.jsx("li",{children:"Emitir notas fiscais eletrnicas"}),i.jsx("li",{children:"Processar pagamentos de assinaturas"})]}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"3.2 Comunicao"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsx("li",{children:"Enviar notificaes importantes sobre o servio"}),i.jsx("li",{children:"Responder suas solicitaes de suporte"}),i.jsx("li",{children:"Informar sobre atualizaes e novidades (com seu consentimento)"}),i.jsx("li",{children:"Enviar lembretes de pagamento e renovao"})]}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"3.3 Melhorias e Segurana"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsx("li",{children:"Melhorar nossos servios e funcionalidades"}),i.jsx("li",{children:"Detectar e prevenir fraudes"}),i.jsx("li",{children:"Garantir a segurana da plataforma"}),i.jsx("li",{children:"Realizar anlises estatsticas e de desempenho"})]}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"3.4 Cumprimento Legal"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Cumprir obrigaes legais e regulatrias"}),i.jsx("li",{children:"Atender solicitaes de autoridades competentes"}),i.jsx("li",{children:"Manter registros fiscais e contbeis"})]})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(Ehe,{className:"h-6 w-6 text-blue-400"}),"4. Base Legal para o Tratamento"]}),i.jsx("p",{className:"mb-4",children:"Tratamos seus dados pessoais com base nas seguintes hipteses legais previstas na LGPD:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Execuo de contrato:"})," Para fornecer os servios contratados"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Consentimento:"})," Para envio de comunicaes de marketing (quando aplicvel)"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Legtimo interesse:"})," Para melhorias do servio e segurana"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Cumprimento de obrigao legal:"})," Para atender requisitos fiscais e regulatrios"]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"5. Compartilhamento de Dados"}),i.jsx("p",{className:"mb-4",children:"Compartilhamos seus dados apenas nas seguintes situaes:"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"5.1 Prestadores de Servios"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Mercado Pago:"})," Processamento de pagamentos"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Focus NFe:"})," Emisso de notas fiscais eletrnicas"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Neon PostgreSQL:"})," Armazenamento de banco de dados"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Replit:"})," Hospedagem da aplicao"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Servios de email:"})," Envio de notificaes"]})]}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"5.2 Autoridades Competentes"}),i.jsx("p",{className:"mb-4",children:"Podemos compartilhar dados quando exigido por lei, ordem judicial ou solicitao de autoridades governamentais."}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"5.3 No Vendemos Seus Dados"}),i.jsxs("p",{children:[i.jsx("strong",{className:"text-white",children:"Importante:"})," No vendemos, alugamos ou comercializamos seus dados pessoais com terceiros para fins de marketing."]})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(_o,{className:"h-6 w-6 text-blue-400"}),"6. Segurana e Proteo de Dados"]}),i.jsx("p",{className:"mb-4",children:"Implementamos medidas tcnicas e organizacionais para proteger seus dados:"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"6.1 Medidas Tcnicas"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsx("li",{children:"Criptografia de dados sensveis (senhas, informaes de pagamento)"}),i.jsx("li",{children:"Conexes seguras via HTTPS/SSL"}),i.jsx("li",{children:"Backups regulares e automticos"}),i.jsx("li",{children:"Monitoramento de segurana 24/7"}),i.jsx("li",{children:"Controle de acesso baseado em permisses"}),i.jsx("li",{children:"Logs de auditoria de todas as atividades"})]}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"6.2 Medidas Organizacionais"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsx("li",{children:"Polticas internas de segurana da informao"}),i.jsx("li",{children:"Treinamento de equipe em proteo de dados"}),i.jsx("li",{children:"Contratos de confidencialidade"}),i.jsx("li",{children:"Processo de resposta a incidentes de segurana"})]}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"6.3 Notificao de Incidentes"}),i.jsx("p",{children:"Em caso de incidente de segurana que possa gerar risco ou dano relevante aos titulares de dados, notificaremos voc e a Autoridade Nacional de Proteo de Dados (ANPD) conforme exigido pela LGPD."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"7. Reteno e Armazenamento de Dados"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"7.1 Perodo de Armazenamento"}),i.jsx("p",{className:"mb-4",children:"Mantemos seus dados pessoais pelo seguinte perodo:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Dados cadastrais:"})," Enquanto sua conta estiver ativa"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Dados de uso:"})," 12 meses aps a coleta"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Dados fiscais:"})," 5 anos (conforme legislao tributria)"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Dados financeiros:"})," 5 anos (conforme legislao contbil)"]})]}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"7.2 Cancelamento de Conta"}),i.jsx("p",{className:"mb-4",children:"Aps o cancelamento de sua conta, seus dados sero mantidos por 90 dias para permitir reativao. Aps esse perodo, os dados sero permanentemente excludos, exceto:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Dados necessrios para cumprimento de obrigaes legais"}),i.jsx("li",{children:"Dados necessrios para exerccio de direitos em processos judiciais"}),i.jsx("li",{children:"Dados anonimizados para fins estatsticos"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"8. Seus Direitos como Titular de Dados"}),i.jsx("p",{className:"mb-4",children:"De acordo com a LGPD, voc tem os seguintes direitos:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Confirmao e acesso:"})," Confirmar se tratamos seus dados e acess-los"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Correo:"})," Solicitar correo de dados incompletos, inexatos ou desatualizados"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Anonimizao, bloqueio ou eliminao:"})," De dados desnecessrios, excessivos ou tratados em desconformidade"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Portabilidade:"})," Receber seus dados em formato estruturado e interopervel"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Eliminao:"})," Solicitar excluso de dados tratados com base em consentimento"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Informao:"})," Saber com quem compartilhamos seus dados"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Revogao de consentimento:"})," Retirar consentimento a qualquer momento"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Oposio:"})," Se opor ao tratamento realizado sem consentimento"]})]}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"8.1 Como Exercer Seus Direitos"}),i.jsx("p",{className:"mb-4",children:"Para exercer qualquer um desses direitos, voc pode:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Acessar as configuraes da sua conta no sistema"}),i.jsxs("li",{children:["Enviar email para: ",i.jsx("strong",{className:"text-white",children:"atendimento.pavisoft@gmail.com"})]}),i.jsxs("li",{children:["Entrar em contato pelo WhatsApp: ",i.jsx("strong",{className:"text-white",children:"(98) 98426-7488"})]})]}),i.jsx("p",{className:"mt-4",children:"Responderemos sua solicitao em at 15 dias teis, conforme previsto na LGPD."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"9. Cookies e Tecnologias Similares"}),i.jsx("p",{className:"mb-4",children:"Utilizamos cookies e tecnologias similares para:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsx("li",{children:"Manter voc conectado ao sistema"}),i.jsx("li",{children:"Lembrar suas preferncias"}),i.jsx("li",{children:"Analisar o uso da plataforma"}),i.jsx("li",{children:"Melhorar a experincia do usurio"})]}),i.jsx("p",{className:"mb-4",children:i.jsx("strong",{className:"text-white",children:"Tipos de cookies utilizados:"})}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Cookies essenciais:"})," Necessrios para o funcionamento do sistema"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Cookies de desempenho:"})," Coletam informaes sobre como voc usa o site"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Cookies de preferncia:"})," Lembram suas escolhas e preferncias"]})]}),i.jsx("p",{className:"mt-4",children:"Voc pode gerenciar cookies nas configuraes do seu navegador, mas isso pode afetar funcionalidades do sistema."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"10. Dados de Menores de Idade"}),i.jsx("p",{className:"mb-4",children:"O Pavisoft  destinado a pessoas jurdicas e maiores de 18 anos. No coletamos intencionalmente dados de menores de idade."}),i.jsx("p",{children:"Se tomarmos conhecimento de que coletamos dados de menores sem o devido consentimento dos responsveis, tomaremos medidas imediatas para excluir essas informaes."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"11. Transferncia Internacional de Dados"}),i.jsx("p",{className:"mb-4",children:"Alguns de nossos prestadores de servios podem estar localizados fora do Brasil. Nestes casos, garantimos que:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"A transferncia seja necessria para a prestao do servio"}),i.jsx("li",{children:"O pas de destino oferea nvel adequado de proteo de dados"}),i.jsx("li",{children:"Sejam adotadas garantias contratuais de proteo (clusulas-padro)"}),i.jsx("li",{children:"Voc seja informado sobre a transferncia"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"12. Alteraes nesta Poltica"}),i.jsx("p",{className:"mb-4",children:"Podemos atualizar esta Poltica de Privacidade periodicamente para refletir mudanas em nossas prticas ou na legislao aplicvel."}),i.jsx("p",{className:"mb-4",children:"Quando fizermos alteraes significativas, notificaremos voc por:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsx("li",{children:"Email cadastrado"}),i.jsx("li",{children:"Notificao no sistema"}),i.jsx("li",{children:"Aviso destacado em nosso site"})]}),i.jsx("p",{children:"Recomendamos que voc revise esta poltica periodicamente para se manter informado sobre como protegemos seus dados."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"13. Legislao e Foro"}),i.jsx("p",{className:"mb-4",children:"Esta Poltica de Privacidade  regida pela legislao brasileira, especialmente:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[i.jsx("li",{children:"Lei Geral de Proteo de Dados (LGPD - Lei n 13.709/2018)"}),i.jsx("li",{children:"Marco Civil da Internet (Lei n 12.965/2014)"}),i.jsx("li",{children:"Cdigo de Defesa do Consumidor (Lei n 8.078/1990)"})]}),i.jsx("p",{children:"Fica eleito o foro da comarca de So Jos de Ribamar, Estado do Maranho, para dirimir quaisquer controvrsias decorrentes desta Poltica."})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-2xl font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(sl,{className:"h-6 w-6 text-blue-400"}),"14. Entre em Contato"]}),i.jsx("p",{className:"mb-4",children:"Para questes relacionadas  privacidade, proteo de dados ou para exercer seus direitos:"}),i.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-6 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(sl,{className:"h-5 w-5 text-blue-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-400",children:"Suporte Geral"}),i.jsx("p",{className:"text-white font-medium",children:"atendimento.pavisoft@gmail.com"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(u_,{className:"h-5 w-5 text-blue-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-400",children:"WhatsApp"}),i.jsx("p",{className:"text-white font-medium",children:"(98) 98426-7488"})]})]})]})]}),i.jsxs("div",{className:"mt-12 p-6 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[i.jsx(eo,{className:"h-6 w-6 text-blue-400"}),"Consentimento e Aceitao"]}),i.jsx("p",{className:"text-gray-300 mb-4",children:"Ao criar uma conta e utilizar o Pavisoft Sistemas, voc declara ter lido, compreendido e concordado com esta Poltica de Privacidade."}),i.jsx("p",{className:"text-gray-300",children:"Voc reconhece que forneceu seu consentimento livre, informado e inequvoco para o tratamento de seus dados pessoais conforme descrito nesta poltica."})]})]})})]}),i.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(_s,{href:"/ajuda",children:i.jsx(ye,{variant:"outline",className:"border-blue-400/30 hover:border-blue-400 hover:bg-blue-500/10",children:"Ver Termos de Uso"})}),i.jsx(ye,{onClick:()=>r(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 w-full sm:w-auto",children:"Fale Conosco"})]}),i.jsx(kr,{open:t,onOpenChange:r,children:i.jsxs(Sr,{className:"sm:max-w-[500px]",children:[i.jsxs(yr,{children:[i.jsxs(br,{className:"text-2xl flex items-center gap-2",children:[i.jsx(sl,{className:"h-6 w-6 text-blue-500"}),"Entre em Contato"]}),i.jsx(tn,{children:"Preencha o formulrio abaixo e entraremos em contato o mais breve possvel"})]}),i.jsxs("form",{onSubmit:l,className:"space-y-4",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"nome",children:"Nome Completo *"}),i.jsx(Ze,{id:"nome",name:"nome",value:s.nome,onChange:c,required:!0,placeholder:"Seu nome"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"email",children:"Email *"}),i.jsx(Ze,{id:"email",name:"email",type:"email",value:s.email,onChange:c,required:!0,placeholder:"seu@email.com"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"assunto",children:"Assunto *"}),i.jsx(Ze,{id:"assunto",name:"assunto",value:s.assunto,onChange:c,required:!0,placeholder:"Sobre o que voc quer falar?"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(De,{htmlFor:"mensagem",children:"Mensagem *"}),i.jsx(Es,{id:"mensagem",name:"mensagem",value:s.mensagem,onChange:c,required:!0,placeholder:"Escreva sua mensagem aqui...",rows:6})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(ye,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:n,children:"Cancelar"}),i.jsx(ye,{type:"submit",disabled:n,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:n?"Enviando...":i.jsxs(i.Fragment,{children:[i.jsx(_he,{className:"mr-2 h-4 w-4"}),"Enviar Mensagem"]})})]})]})]})})]})}),i.jsx("footer",{className:"bg-gray-900 text-gray-400 py-8 mt-20",children:i.jsxs("div",{className:"container mx-auto px-6 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[i.jsx(Ga,{className:"h-6 w-6 text-blue-400"}),i.jsx("span",{className:"text-white font-bold",children:"Pavisoft Sistemas"})]}),i.jsx("p",{className:"text-sm",children:" 2025 Pavisoft Sistemas. Todos os direitos reservados."}),i.jsxs("div",{className:"mt-4 flex justify-center gap-4 text-sm",children:[i.jsx(_s,{href:"/privacy",className:"text-gray-400 hover:text-blue-400",children:"Privacidade"}),i.jsx("span",{children:""}),i.jsx(_s,{href:"/ajuda",className:"text-gray-400 hover:text-blue-400",children:"Termos de Uso"})]})]})})]})}function bnt(){return i.jsxs(Pde,{children:[i.jsx(An,{path:"/",component:iF}),i.jsx(An,{path:"/login",component:iF}),i.jsx(An,{path:"/register",component:Z0e}),i.jsx(An,{path:"/planos",component:aYe}),i.jsx(An,{path:"/dashboard",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"dashboard",children:i.jsx(WBe,{})})})}),i.jsx(An,{path:"/produtos",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"produtos",children:i.jsx(GBe,{})})})}),i.jsx(An,{path:"/produtos/adicionar",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"produtos",children:i.jsx(I7,{})})})}),i.jsx(An,{path:"/produtos/editar/:id",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"produtos",children:i.jsx(I7,{})})})}),i.jsx(An,{path:"/inventario",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"inventario",children:i.jsx(jVe,{})})})}),i.jsx(An,{path:"/devolucoes",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"devolucoes",children:i.jsx(Xrt,{})})})}),i.jsx(An,{path:"/orcamentos",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"orcamentos",children:i.jsx(Qrt,{})})})}),i.jsx(An,{path:"/fornecedores",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"fornecedores",children:i.jsx(bGe,{})})})}),i.jsx(An,{path:"/clientes",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"clientes",children:i.jsx(wGe,{})})})}),i.jsx(An,{path:"/pdv",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"pdv",children:i.jsx(TWe,{})})})}),i.jsx(An,{path:"/relatorios",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"relatorios",children:i.jsx(EVe,{})})})}),i.jsx(An,{path:"/configuracoes",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"configuracoes",children:i.jsx(XWe,{})})})}),i.jsx(An,{path:"/config-fiscal",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"config_fiscal",children:i.jsx(yGe,{})})})}),i.jsx(An,{path:"/financeiro/contas-pagar",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"contas_pagar",children:i.jsx(jGe,{})})})}),i.jsx(An,{path:"/financeiro/contas-receber",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"contas_receber",children:i.jsx(NGe,{})})})}),i.jsx(An,{path:"/financeiro/fluxo-pdv",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"financeiro",children:i.jsx(_Ge,{})})})}),i.jsx(An,{path:"/financeiro/dre",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"financeiro",children:i.jsx(SGe,{})})})}),i.jsx(An,{path:"/caixa",children:()=>i.jsx(Ja,{children:i.jsx(ki,{requiredPermission:"caixa",children:i.jsx(AGe,{})})})}),i.jsx(An,{path:"/admin",children:()=>i.jsx(Ja,{children:i.jsx(WI,{children:i.jsx(Bve,{})})})}),i.jsx(An,{path:"/assinaturasfuncionarios",children:()=>i.jsx(Ja,{children:i.jsx(WI,{children:i.jsx(OBe,{})})})}),i.jsx(An,{path:"/admin-publico",component:()=>i.jsx(KI,{children:i.jsx(xBe,{})})}),i.jsx(An,{path:"/test-suite",children:()=>i.jsx(KI,{children:i.jsx(Zrt,{})})}),i.jsx(An,{path:"/ajuda",children:()=>i.jsx(vnt,{})}),i.jsx(An,{path:"/privacy",component:ynt}),i.jsx(An,{component:Hpe})]})}function wnt(){return i.jsx(Yde,{client:Gs,children:i.jsx(qpe,{children:i.jsx(Lpe,{defaultTheme:"system",storageKey:"inventory-theme",children:i.jsxs(l1,{children:[i.jsx(ume,{}),i.jsx(bnt,{})]})})})})}function jnt(){"serviceWorker"in navigator?window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("[PWA] Service Worker registrado com sucesso:",t.scope),t.addEventListener("updatefound",()=>{const r=t.installing;r&&r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[PWA] Nova verso disponvel! Recarregue a pgina para atualizar."),confirm("Nova verso disponvel! Deseja atualizar agora?")&&(r.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(t=>{console.error("[PWA] Erro ao registrar Service Worker:",t)});let e=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{e||(e=!0,window.location.reload())})}):console.log("[PWA] Service Workers no so suportados neste navegador.")}uH(document.getElementById("root")).render(i.jsx(wnt,{}));jnt();export{kn as _,k2 as c,Nn as g};
